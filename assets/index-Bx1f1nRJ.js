const __vite__mapDeps=(i,m=__vite__mapDeps,d=(m.f||(m.f=["assets/dagre-6UL2VRFP-CO4OsoGx.js","assets/graph-CYFFb1rB.js","assets/_baseUniq-KsJFAFW5.js","assets/layout-Tjo4KPnF.js","assets/min-CpuLB0jE.js","assets/clone-sHBauyk0.js","assets/cose-bilkent-S5V4N54A-CTh5qgpu.js","assets/cytoscape.esm-5J0xJHOV.js","assets/c4Diagram-YG6GDRKO-BWVc0ZF-.js","assets/chunk-TZMSLE5B-C37jXlc9.js","assets/flowDiagram-NV44I4VS-NuUA7fI8.js","assets/chunk-FMBD7UC4-BZ-dJ-vq.js","assets/chunk-55IACEB6-Ca0UWvnH.js","assets/chunk-QN33PNHL-Cq-D4fFx.js","assets/channel-B3dYFCy-.js","assets/erDiagram-Q2GNP2WA-Di1qeEgc.js","assets/gitGraphDiagram-NY62KEGX-C-_jYd7c.js","assets/chunk-4BX2VUAB-l7nwQ1z9.js","assets/chunk-QZHKN3VN-DQse7H9Q.js","assets/treemap-KMMF4GRG-wBVXdiZM.js","assets/ganttDiagram-JELNMOA3-DJqizYlC.js","assets/linear-C9BwzKSK.js","assets/init-Gi6I4Gst.js","assets/defaultLocale-C4B-KCzX.js","assets/infoDiagram-WHAUD3N6-DBJIo-BX.js","assets/pieDiagram-ADFJNKIX-PTO96yzM.js","assets/arc-C17E9s-_.js","assets/ordinal-Cboi1Yqb.js","assets/quadrantDiagram-AYHSOK5B-DN1yr_Yw.js","assets/xychartDiagram-PRI3JC2R-C3OdLJOr.js","assets/requirementDiagram-UZGBJVZJ-BWVoZhv8.js","assets/sequenceDiagram-WL72ISMW-CECbHE5O.js","assets/classDiagram-2ON5EDUG-Do4wgL59.js","assets/chunk-B4BG7PRW-yfNIs_Rx.js","assets/classDiagram-v2-WZHVMYZB-Do4wgL59.js","assets/stateDiagram-FKZM4ZOC-UbSVjfX1.js","assets/chunk-DI55MBZ5-qKfRGFp5.js","assets/stateDiagram-v2-4FDKWEC3-DVJyEnNZ.js","assets/journeyDiagram-XKPGCS4Q-DqTu_FFB.js","assets/timeline-definition-IT6M3QCI-DEHErQrR.js","assets/mindmap-definition-VGOIOE7T-DehUYe5S.js","assets/kanban-definition-3W4ZIXB7-B9dHqMIj.js","assets/sankeyDiagram-TZEHDZUN-CSiI33X_.js","assets/diagram-S2PKOQOG-CtoCCmuM.js","assets/diagram-QEK2KX5R-C-H7VNB3.js","assets/blockDiagram-VD42YOAC-Dk4Xvmwo.js","assets/architectureDiagram-VXUJARFQ-DCJDFwYQ.js","assets/diagram-PSM6KHXK-CkLBsatV.js"])))=>i.map(i=>d[i]);
(function(){const t=document.createElement("link").relList;if(t&&t.supports&&t.supports("modulepreload"))return;for(const n of document.querySelectorAll('link[rel="modulepreload"]'))i(n);new MutationObserver(n=>{for(const l of n)if(l.type==="childList")for(const o of l.addedNodes)o.tagName==="LINK"&&o.rel==="modulepreload"&&i(o)}).observe(document,{childList:!0,subtree:!0});function r(n){const l={};return n.integrity&&(l.integrity=n.integrity),n.referrerPolicy&&(l.referrerPolicy=n.referrerPolicy),n.crossOrigin==="use-credentials"?l.credentials="include":n.crossOrigin==="anonymous"?l.credentials="omit":l.credentials="same-origin",l}function i(n){if(n.ep)return;n.ep=!0;const l=r(n);fetch(n.href,l)}})();function TL(e){return e&&e.__esModule&&Object.prototype.hasOwnProperty.call(e,"default")?e.default:e}var Ng={exports:{}},Go={};var z_;function EL(){if(z_)return Go;z_=1;var e=Symbol.for("react.transitional.element"),t=Symbol.for("react.fragment");function r(i,n,l){var o=null;if(l!==void 0&&(o=""+l),n.key!==void 0&&(o=""+n.key),"key"in n){l={};for(var u in n)u!=="key"&&(l[u]=n[u])}else l=n;return n=l.ref,{$$typeof:e,type:i,key:o,ref:n!==void 0?n:null,props:l}}return Go.Fragment=t,Go.jsx=r,Go.jsxs=r,Go}var F_;function AL(){return F_||(F_=1,Ng.exports=EL()),Ng.exports}var C=AL(),Dg={exports:{}},zt={};var P_;function OL(){if(P_)return zt;P_=1;var e=Symbol.for("react.transitional.element"),t=Symbol.for("react.portal"),r=Symbol.for("react.fragment"),i=Symbol.for("react.strict_mode"),n=Symbol.for("react.profiler"),l=Symbol.for("react.consumer"),o=Symbol.for("react.context"),u=Symbol.for("react.forward_ref"),h=Symbol.for("react.suspense"),d=Symbol.for("react.memo"),p=Symbol.for("react.lazy"),g=Symbol.for("react.activity"),y=Symbol.iterator;function x(M){return M===null||typeof M!="object"?null:(M=y&&M[y]||M["@@iterator"],typeof M=="function"?M:null)}var v={isMounted:function(){return!1},enqueueForceUpdate:function(){},enqueueReplaceState:function(){},enqueueSetState:function(){}},_=Object.assign,S={};function T(M,V,et){this.props=M,this.context=V,this.refs=S,this.updater=et||v}T.prototype.isReactComponent={},T.prototype.setState=function(M,V){if(typeof M!="object"&&typeof M!="function"&&M!=null)throw Error("takes an object of state variables to update or a function which returns an object of state variables.");this.updater.enqueueSetState(this,M,V,"setState")},T.prototype.forceUpdate=function(M){this.updater.enqueueForceUpdate(this,M,"forceUpdate")};function E(){}E.prototype=T.prototype;function O(M,V,et){this.props=M,this.context=V,this.refs=S,this.updater=et||v}var L=O.prototype=new E;L.constructor=O,_(L,T.prototype),L.isPureReactComponent=!0;var B=Array.isArray;function I(){}var j={H:null,A:null,T:null,S:null},Z=Object.prototype.hasOwnProperty;function rt(M,V,et){var ct=et.ref;return{$$typeof:e,type:M,key:V,ref:ct!==void 0?ct:null,props:et}}function at(M,V){return rt(M.type,V,M.props)}function J(M){return typeof M=="object"&&M!==null&&M.$$typeof===e}function q(M){var V={"=":"=0",":":"=2"};return"$"+M.replace(/[=:]/g,function(et){return V[et]})}var N=/\/+/g;function z(M,V){return typeof M=="object"&&M!==null&&M.key!=null?q(""+M.key):V.toString(36)}function P(M){switch(M.status){case"fulfilled":return M.value;case"rejected":throw M.reason;default:switch(typeof M.status=="string"?M.then(I,I):(M.status="pending",M.then(function(V){M.status==="pending"&&(M.status="fulfilled",M.value=V)},function(V){M.status==="pending"&&(M.status="rejected",M.reason=V)})),M.status){case"fulfilled":return M.value;case"rejected":throw M.reason}}throw M}function R(M,V,et,ct,dt){var Ct=typeof M;(Ct==="undefined"||Ct==="boolean")&&(M=null);var Lt=!1;if(M===null)Lt=!0;else switch(Ct){case"bigint":case"string":case"number":Lt=!0;break;case"object":switch(M.$$typeof){case e:case t:Lt=!0;break;case p:return Lt=M._init,R(Lt(M._payload),V,et,ct,dt)}}if(Lt)return dt=dt(M),Lt=ct===""?"."+z(M,0):ct,B(dt)?(et="",Lt!=null&&(et=Lt.replace(N,"$&/")+"/"),R(dt,V,et,"",function(oe){return oe})):dt!=null&&(J(dt)&&(dt=at(dt,et+(dt.key==null||M&&M.key===dt.key?"":(""+dt.key).replace(N,"$&/")+"/")+Lt)),V.push(dt)),1;Lt=0;var te=ct===""?".":ct+":";if(B(M))for(var Kt=0;Kt<M.length;Kt++)ct=M[Kt],Ct=te+z(ct,Kt),Lt+=R(ct,V,et,Ct,dt);else if(Kt=x(M),typeof Kt=="function")for(M=Kt.call(M),Kt=0;!(ct=M.next()).done;)ct=ct.value,Ct=te+z(ct,Kt++),Lt+=R(ct,V,et,Ct,dt);else if(Ct==="object"){if(typeof M.then=="function")return R(P(M),V,et,ct,dt);throw V=String(M),Error("Objects are not valid as a React child (found: "+(V==="[object Object]"?"object with keys {"+Object.keys(M).join(", ")+"}":V)+"). If you meant to render a collection of children, use an array instead.")}return Lt}function $(M,V,et){if(M==null)return M;var ct=[],dt=0;return R(M,ct,"","",function(Ct){return V.call(et,Ct,dt++)}),ct}function H(M){if(M._status===-1){var V=M._result;V=V(),V.then(function(et){(M._status===0||M._status===-1)&&(M._status=1,M._result=et)},function(et){(M._status===0||M._status===-1)&&(M._status=2,M._result=et)}),M._status===-1&&(M._status=0,M._result=V)}if(M._status===1)return M._result.default;throw M._result}var ot=typeof reportError=="function"?reportError:function(M){if(typeof window=="object"&&typeof window.ErrorEvent=="function"){var V=new window.ErrorEvent("error",{bubbles:!0,cancelable:!0,message:typeof M=="object"&&M!==null&&typeof M.message=="string"?String(M.message):String(M),error:M});if(!window.dispatchEvent(V))return}else if(typeof process=="object"&&typeof process.emit=="function"){process.emit("uncaughtException",M);return}console.error(M)},ht={map:$,forEach:function(M,V,et){$(M,function(){V.apply(this,arguments)},et)},count:function(M){var V=0;return $(M,function(){V++}),V},toArray:function(M){return $(M,function(V){return V})||[]},only:function(M){if(!J(M))throw Error("React.Children.only expected to receive a single React element child.");return M}};return zt.Activity=g,zt.Children=ht,zt.Component=T,zt.Fragment=r,zt.Profiler=n,zt.PureComponent=O,zt.StrictMode=i,zt.Suspense=h,zt.__CLIENT_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE=j,zt.__COMPILER_RUNTIME={__proto__:null,c:function(M){return j.H.useMemoCache(M)}},zt.cache=function(M){return function(){return M.apply(null,arguments)}},zt.cacheSignal=function(){return null},zt.cloneElement=function(M,V,et){if(M==null)throw Error("The argument must be a React element, but you passed "+M+".");var ct=_({},M.props),dt=M.key;if(V!=null)for(Ct in V.key!==void 0&&(dt=""+V.key),V)!Z.call(V,Ct)||Ct==="key"||Ct==="__self"||Ct==="__source"||Ct==="ref"&&V.ref===void 0||(ct[Ct]=V[Ct]);var Ct=arguments.length-2;if(Ct===1)ct.children=et;else if(1<Ct){for(var Lt=Array(Ct),te=0;te<Ct;te++)Lt[te]=arguments[te+2];ct.children=Lt}return rt(M.type,dt,ct)},zt.createContext=function(M){return M={$$typeof:o,_currentValue:M,_currentValue2:M,_threadCount:0,Provider:null,Consumer:null},M.Provider=M,M.Consumer={$$typeof:l,_context:M},M},zt.createElement=function(M,V,et){var ct,dt={},Ct=null;if(V!=null)for(ct in V.key!==void 0&&(Ct=""+V.key),V)Z.call(V,ct)&&ct!=="key"&&ct!=="__self"&&ct!=="__source"&&(dt[ct]=V[ct]);var Lt=arguments.length-2;if(Lt===1)dt.children=et;else if(1<Lt){for(var te=Array(Lt),Kt=0;Kt<Lt;Kt++)te[Kt]=arguments[Kt+2];dt.children=te}if(M&&M.defaultProps)for(ct in Lt=M.defaultProps,Lt)dt[ct]===void 0&&(dt[ct]=Lt[ct]);return rt(M,Ct,dt)},zt.createRef=function(){return{current:null}},zt.forwardRef=function(M){return{$$typeof:u,render:M}},zt.isValidElement=J,zt.lazy=function(M){return{$$typeof:p,_payload:{_status:-1,_result:M},_init:H}},zt.memo=function(M,V){return{$$typeof:d,type:M,compare:V===void 0?null:V}},zt.startTransition=function(M){var V=j.T,et={};j.T=et;try{var ct=M(),dt=j.S;dt!==null&&dt(et,ct),typeof ct=="object"&&ct!==null&&typeof ct.then=="function"&&ct.then(I,ot)}catch(Ct){ot(Ct)}finally{V!==null&&et.types!==null&&(V.types=et.types),j.T=V}},zt.unstable_useCacheRefresh=function(){return j.H.useCacheRefresh()},zt.use=function(M){return j.H.use(M)},zt.useActionState=function(M,V,et){return j.H.useActionState(M,V,et)},zt.useCallback=function(M,V){return j.H.useCallback(M,V)},zt.useContext=function(M){return j.H.useContext(M)},zt.useDebugValue=function(){},zt.useDeferredValue=function(M,V){return j.H.useDeferredValue(M,V)},zt.useEffect=function(M,V){return j.H.useEffect(M,V)},zt.useEffectEvent=function(M){return j.H.useEffectEvent(M)},zt.useId=function(){return j.H.useId()},zt.useImperativeHandle=function(M,V,et){return j.H.useImperativeHandle(M,V,et)},zt.useInsertionEffect=function(M,V){return j.H.useInsertionEffect(M,V)},zt.useLayoutEffect=function(M,V){return j.H.useLayoutEffect(M,V)},zt.useMemo=function(M,V){return j.H.useMemo(M,V)},zt.useOptimistic=function(M,V){return j.H.useOptimistic(M,V)},zt.useReducer=function(M,V,et){return j.H.useReducer(M,V,et)},zt.useRef=function(M){return j.H.useRef(M)},zt.useState=function(M){return j.H.useState(M)},zt.useSyncExternalStore=function(M,V,et){return j.H.useSyncExternalStore(M,V,et)},zt.useTransition=function(){return j.H.useTransition()},zt.version="19.2.3",zt}var U_;function $y(){return U_||(U_=1,Dg.exports=OL()),Dg.exports}var W=$y(),jg={exports:{}},Yo={},$g={exports:{}},zg={};var I_;function RL(){return I_||(I_=1,(function(e){function t(R,$){var H=R.length;R.push($);t:for(;0<H;){var ot=H-1>>>1,ht=R[ot];if(0<n(ht,$))R[ot]=$,R[H]=ht,H=ot;else break t}}function r(R){return R.length===0?null:R[0]}function i(R){if(R.length===0)return null;var $=R[0],H=R.pop();if(H!==$){R[0]=H;t:for(var ot=0,ht=R.length,M=ht>>>1;ot<M;){var V=2*(ot+1)-1,et=R[V],ct=V+1,dt=R[ct];if(0>n(et,H))ct<ht&&0>n(dt,et)?(R[ot]=dt,R[ct]=H,ot=ct):(R[ot]=et,R[V]=H,ot=V);else if(ct<ht&&0>n(dt,H))R[ot]=dt,R[ct]=H,ot=ct;else break t}}return $}function n(R,$){var H=R.sortIndex-$.sortIndex;return H!==0?H:R.id-$.id}if(e.unstable_now=void 0,typeof performance=="object"&&typeof performance.now=="function"){var l=performance;e.unstable_now=function(){return l.now()}}else{var o=Date,u=o.now();e.unstable_now=function(){return o.now()-u}}var h=[],d=[],p=1,g=null,y=3,x=!1,v=!1,_=!1,S=!1,T=typeof setTimeout=="function"?setTimeout:null,E=typeof clearTimeout=="function"?clearTimeout:null,O=typeof setImmediate<"u"?setImmediate:null;function L(R){for(var $=r(d);$!==null;){if($.callback===null)i(d);else if($.startTime<=R)i(d),$.sortIndex=$.expirationTime,t(h,$);else break;$=r(d)}}function B(R){if(_=!1,L(R),!v)if(r(h)!==null)v=!0,I||(I=!0,q());else{var $=r(d);$!==null&&P(B,$.startTime-R)}}var I=!1,j=-1,Z=5,rt=-1;function at(){return S?!0:!(e.unstable_now()-rt<Z)}function J(){if(S=!1,I){var R=e.unstable_now();rt=R;var $=!0;try{t:{v=!1,_&&(_=!1,E(j),j=-1),x=!0;var H=y;try{e:{for(L(R),g=r(h);g!==null&&!(g.expirationTime>R&&at());){var ot=g.callback;if(typeof ot=="function"){g.callback=null,y=g.priorityLevel;var ht=ot(g.expirationTime<=R);if(R=e.unstable_now(),typeof ht=="function"){g.callback=ht,L(R),$=!0;break e}g===r(h)&&i(h),L(R)}else i(h);g=r(h)}if(g!==null)$=!0;else{var M=r(d);M!==null&&P(B,M.startTime-R),$=!1}}break t}finally{g=null,y=H,x=!1}$=void 0}}finally{$?q():I=!1}}}var q;if(typeof O=="function")q=function(){O(J)};else if(typeof MessageChannel<"u"){var N=new MessageChannel,z=N.port2;N.port1.onmessage=J,q=function(){z.postMessage(null)}}else q=function(){T(J,0)};function P(R,$){j=T(function(){R(e.unstable_now())},$)}e.unstable_IdlePriority=5,e.unstable_ImmediatePriority=1,e.unstable_LowPriority=4,e.unstable_NormalPriority=3,e.unstable_Profiling=null,e.unstable_UserBlockingPriority=2,e.unstable_cancelCallback=function(R){R.callback=null},e.unstable_forceFrameRate=function(R){0>R||125<R?console.error("forceFrameRate takes a positive int between 0 and 125, forcing frame rates higher than 125 fps is not supported"):Z=0<R?Math.floor(1e3/R):5},e.unstable_getCurrentPriorityLevel=function(){return y},e.unstable_next=function(R){switch(y){case 1:case 2:case 3:var $=3;break;default:$=y}var H=y;y=$;try{return R()}finally{y=H}},e.unstable_requestPaint=function(){S=!0},e.unstable_runWithPriority=function(R,$){switch(R){case 1:case 2:case 3:case 4:case 5:break;default:R=3}var H=y;y=R;try{return $()}finally{y=H}},e.unstable_scheduleCallback=function(R,$,H){var ot=e.unstable_now();switch(typeof H=="object"&&H!==null?(H=H.delay,H=typeof H=="number"&&0<H?ot+H:ot):H=ot,R){case 1:var ht=-1;break;case 2:ht=250;break;case 5:ht=1073741823;break;case 4:ht=1e4;break;default:ht=5e3}return ht=H+ht,R={id:p++,callback:$,priorityLevel:R,startTime:H,expirationTime:ht,sortIndex:-1},H>ot?(R.sortIndex=H,t(d,R),r(h)===null&&R===r(d)&&(_?(E(j),j=-1):_=!0,P(B,H-ot))):(R.sortIndex=ht,t(h,R),v||x||(v=!0,I||(I=!0,q()))),R},e.unstable_shouldYield=at,e.unstable_wrapCallback=function(R){var $=y;return function(){var H=y;y=$;try{return R.apply(this,arguments)}finally{y=H}}}})(zg)),zg}var q_;function LL(){return q_||(q_=1,$g.exports=RL()),$g.exports}var Fg={exports:{}},sr={};var H_;function ML(){if(H_)return sr;H_=1;var e=$y();function t(h){var d="https://react.dev/errors/"+h;if(1<arguments.length){d+="?args[]="+encodeURIComponent(arguments[1]);for(var p=2;p<arguments.length;p++)d+="&args[]="+encodeURIComponent(arguments[p])}return"Minified React error #"+h+"; visit "+d+" for the full message or use the non-minified dev environment for full errors and additional helpful warnings."}function r(){}var i={d:{f:r,r:function(){throw Error(t(522))},D:r,C:r,L:r,m:r,X:r,S:r,M:r},p:0,findDOMNode:null},n=Symbol.for("react.portal");function l(h,d,p){var g=3<arguments.length&&arguments[3]!==void 0?arguments[3]:null;return{$$typeof:n,key:g==null?null:""+g,children:h,containerInfo:d,implementation:p}}var o=e.__CLIENT_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE;function u(h,d){if(h==="font")return"";if(typeof d=="string")return d==="use-credentials"?d:""}return sr.__DOM_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE=i,sr.createPortal=function(h,d){var p=2<arguments.length&&arguments[2]!==void 0?arguments[2]:null;if(!d||d.nodeType!==1&&d.nodeType!==9&&d.nodeType!==11)throw Error(t(299));return l(h,d,null,p)},sr.flushSync=function(h){var d=o.T,p=i.p;try{if(o.T=null,i.p=2,h)return h()}finally{o.T=d,i.p=p,i.d.f()}},sr.preconnect=function(h,d){typeof h=="string"&&(d?(d=d.crossOrigin,d=typeof d=="string"?d==="use-credentials"?d:"":void 0):d=null,i.d.C(h,d))},sr.prefetchDNS=function(h){typeof h=="string"&&i.d.D(h)},sr.preinit=function(h,d){if(typeof h=="string"&&d&&typeof d.as=="string"){var p=d.as,g=u(p,d.crossOrigin),y=typeof d.integrity=="string"?d.integrity:void 0,x=typeof d.fetchPriority=="string"?d.fetchPriority:void 0;p==="style"?i.d.S(h,typeof d.precedence=="string"?d.precedence:void 0,{crossOrigin:g,integrity:y,fetchPriority:x}):p==="script"&&i.d.X(h,{crossOrigin:g,integrity:y,fetchPriority:x,nonce:typeof d.nonce=="string"?d.nonce:void 0})}},sr.preinitModule=function(h,d){if(typeof h=="string")if(typeof d=="object"&&d!==null){if(d.as==null||d.as==="script"){var p=u(d.as,d.crossOrigin);i.d.M(h,{crossOrigin:p,integrity:typeof d.integrity=="string"?d.integrity:void 0,nonce:typeof d.nonce=="string"?d.nonce:void 0})}}else d==null&&i.d.M(h)},sr.preload=function(h,d){if(typeof h=="string"&&typeof d=="object"&&d!==null&&typeof d.as=="string"){var p=d.as,g=u(p,d.crossOrigin);i.d.L(h,p,{crossOrigin:g,integrity:typeof d.integrity=="string"?d.integrity:void 0,nonce:typeof d.nonce=="string"?d.nonce:void 0,type:typeof d.type=="string"?d.type:void 0,fetchPriority:typeof d.fetchPriority=="string"?d.fetchPriority:void 0,referrerPolicy:typeof d.referrerPolicy=="string"?d.referrerPolicy:void 0,imageSrcSet:typeof d.imageSrcSet=="string"?d.imageSrcSet:void 0,imageSizes:typeof d.imageSizes=="string"?d.imageSizes:void 0,media:typeof d.media=="string"?d.media:void 0})}},sr.preloadModule=function(h,d){if(typeof h=="string")if(d){var p=u(d.as,d.crossOrigin);i.d.m(h,{as:typeof d.as=="string"&&d.as!=="script"?d.as:void 0,crossOrigin:p,integrity:typeof d.integrity=="string"?d.integrity:void 0})}else i.d.m(h)},sr.requestFormReset=function(h){i.d.r(h)},sr.unstable_batchedUpdates=function(h,d){return h(d)},sr.useFormState=function(h,d,p){return o.H.useFormState(h,d,p)},sr.useFormStatus=function(){return o.H.useHostTransitionStatus()},sr.version="19.2.3",sr}var W_;function BL(){if(W_)return Fg.exports;W_=1;function e(){if(!(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__>"u"||typeof __REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE!="function"))try{__REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE(e)}catch(t){console.error(t)}}return e(),Fg.exports=ML(),Fg.exports}var G_;function NL(){if(G_)return Yo;G_=1;var e=LL(),t=$y(),r=BL();function i(a){var s="https://react.dev/errors/"+a;if(1<arguments.length){s+="?args[]="+encodeURIComponent(arguments[1]);for(var c=2;c<arguments.length;c++)s+="&args[]="+encodeURIComponent(arguments[c])}return"Minified React error #"+a+"; visit "+s+" for the full message or use the non-minified dev environment for full errors and additional helpful warnings."}function n(a){return!(!a||a.nodeType!==1&&a.nodeType!==9&&a.nodeType!==11)}function l(a){var s=a,c=a;if(a.alternate)for(;s.return;)s=s.return;else{a=s;do s=a,(s.flags&4098)!==0&&(c=s.return),a=s.return;while(a)}return s.tag===3?c:null}function o(a){if(a.tag===13){var s=a.memoizedState;if(s===null&&(a=a.alternate,a!==null&&(s=a.memoizedState)),s!==null)return s.dehydrated}return null}function u(a){if(a.tag===31){var s=a.memoizedState;if(s===null&&(a=a.alternate,a!==null&&(s=a.memoizedState)),s!==null)return s.dehydrated}return null}function h(a){if(l(a)!==a)throw Error(i(188))}function d(a){var s=a.alternate;if(!s){if(s=l(a),s===null)throw Error(i(188));return s!==a?null:a}for(var c=a,f=s;;){var m=c.return;if(m===null)break;var b=m.alternate;if(b===null){if(f=m.return,f!==null){c=f;continue}break}if(m.child===b.child){for(b=m.child;b;){if(b===c)return h(m),a;if(b===f)return h(m),s;b=b.sibling}throw Error(i(188))}if(c.return!==f.return)c=m,f=b;else{for(var k=!1,A=m.child;A;){if(A===c){k=!0,c=m,f=b;break}if(A===f){k=!0,f=m,c=b;break}A=A.sibling}if(!k){for(A=b.child;A;){if(A===c){k=!0,c=b,f=m;break}if(A===f){k=!0,f=b,c=m;break}A=A.sibling}if(!k)throw Error(i(189))}}if(c.alternate!==f)throw Error(i(190))}if(c.tag!==3)throw Error(i(188));return c.stateNode.current===c?a:s}function p(a){var s=a.tag;if(s===5||s===26||s===27||s===6)return a;for(a=a.child;a!==null;){if(s=p(a),s!==null)return s;a=a.sibling}return null}var g=Object.assign,y=Symbol.for("react.element"),x=Symbol.for("react.transitional.element"),v=Symbol.for("react.portal"),_=Symbol.for("react.fragment"),S=Symbol.for("react.strict_mode"),T=Symbol.for("react.profiler"),E=Symbol.for("react.consumer"),O=Symbol.for("react.context"),L=Symbol.for("react.forward_ref"),B=Symbol.for("react.suspense"),I=Symbol.for("react.suspense_list"),j=Symbol.for("react.memo"),Z=Symbol.for("react.lazy"),rt=Symbol.for("react.activity"),at=Symbol.for("react.memo_cache_sentinel"),J=Symbol.iterator;function q(a){return a===null||typeof a!="object"?null:(a=J&&a[J]||a["@@iterator"],typeof a=="function"?a:null)}var N=Symbol.for("react.client.reference");function z(a){if(a==null)return null;if(typeof a=="function")return a.$$typeof===N?null:a.displayName||a.name||null;if(typeof a=="string")return a;switch(a){case _:return"Fragment";case T:return"Profiler";case S:return"StrictMode";case B:return"Suspense";case I:return"SuspenseList";case rt:return"Activity"}if(typeof a=="object")switch(a.$$typeof){case v:return"Portal";case O:return a.displayName||"Context";case E:return(a._context.displayName||"Context")+".Consumer";case L:var s=a.render;return a=a.displayName,a||(a=s.displayName||s.name||"",a=a!==""?"ForwardRef("+a+")":"ForwardRef"),a;case j:return s=a.displayName||null,s!==null?s:z(a.type)||"Memo";case Z:s=a._payload,a=a._init;try{return z(a(s))}catch{}}return null}var P=Array.isArray,R=t.__CLIENT_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE,$=r.__DOM_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE,H={pending:!1,data:null,method:null,action:null},ot=[],ht=-1;function M(a){return{current:a}}function V(a){0>ht||(a.current=ot[ht],ot[ht]=null,ht--)}function et(a,s){ht++,ot[ht]=a.current,a.current=s}var ct=M(null),dt=M(null),Ct=M(null),Lt=M(null);function te(a,s){switch(et(Ct,s),et(dt,a),et(ct,null),s.nodeType){case 9:case 11:a=(a=s.documentElement)&&(a=a.namespaceURI)?l_(a):0;break;default:if(a=s.tagName,s=s.namespaceURI)s=l_(s),a=o_(s,a);else switch(a){case"svg":a=1;break;case"math":a=2;break;default:a=0}}V(ct),et(ct,a)}function Kt(){V(ct),V(dt),V(Ct)}function oe(a){a.memoizedState!==null&&et(Lt,a);var s=ct.current,c=o_(s,a.type);s!==c&&(et(dt,a),et(ct,c))}function nr(a){dt.current===a&&(V(ct),V(dt)),Lt.current===a&&(V(Lt),Io._currentValue=H)}var Kr,vr;function Qr(a){if(Kr===void 0)try{throw Error()}catch(c){var s=c.stack.trim().match(/\n( *(at )?)/);Kr=s&&s[1]||"",vr=-1<c.stack.indexOf(`
    at`)?" (<anonymous>)":-1<c.stack.indexOf("@")?"@unknown:0:0":""}return`
`+Kr+a+vr}var pi=!1;function vn(a,s){if(!a||pi)return"";pi=!0;var c=Error.prepareStackTrace;Error.prepareStackTrace=void 0;try{var f={DetermineComponentFrameRoot:function(){try{if(s){var st=function(){throw Error()};if(Object.defineProperty(st.prototype,"props",{set:function(){throw Error()}}),typeof Reflect=="object"&&Reflect.construct){try{Reflect.construct(st,[])}catch(tt){var Q=tt}Reflect.construct(a,[],st)}else{try{st.call()}catch(tt){Q=tt}a.call(st.prototype)}}else{try{throw Error()}catch(tt){Q=tt}(st=a())&&typeof st.catch=="function"&&st.catch(function(){})}}catch(tt){if(tt&&Q&&typeof tt.stack=="string")return[tt.stack,Q.stack]}return[null,null]}};f.DetermineComponentFrameRoot.displayName="DetermineComponentFrameRoot";var m=Object.getOwnPropertyDescriptor(f.DetermineComponentFrameRoot,"name");m&&m.configurable&&Object.defineProperty(f.DetermineComponentFrameRoot,"name",{value:"DetermineComponentFrameRoot"});var b=f.DetermineComponentFrameRoot(),k=b[0],A=b[1];if(k&&A){var D=k.split(`
`),K=A.split(`
`);for(m=f=0;f<D.length&&!D[f].includes("DetermineComponentFrameRoot");)f++;for(;m<K.length&&!K[m].includes("DetermineComponentFrameRoot");)m++;if(f===D.length||m===K.length)for(f=D.length-1,m=K.length-1;1<=f&&0<=m&&D[f]!==K[m];)m--;for(;1<=f&&0<=m;f--,m--)if(D[f]!==K[m]){if(f!==1||m!==1)do if(f--,m--,0>m||D[f]!==K[m]){var it=`
`+D[f].replace(" at new "," at ");return a.displayName&&it.includes("<anonymous>")&&(it=it.replace("<anonymous>",a.displayName)),it}while(1<=f&&0<=m);break}}}finally{pi=!1,Error.prepareStackTrace=c}return(c=a?a.displayName||a.name:"")?Qr(c):""}function Wl(a,s){switch(a.tag){case 26:case 27:case 5:return Qr(a.type);case 16:return Qr("Lazy");case 13:return a.child!==s&&s!==null?Qr("Suspense Fallback"):Qr("Suspense");case 19:return Qr("SuspenseList");case 0:case 15:return vn(a.type,!1);case 11:return vn(a.type.render,!1);case 1:return vn(a.type,!0);case 31:return Qr("Activity");default:return""}}function Yi(a){try{var s="",c=null;do s+=Wl(a,c),c=a,a=a.return;while(a);return s}catch(f){return`
Error generating stack: `+f.message+`
`+f.stack}}var Ma=Object.prototype.hasOwnProperty,Ba=e.unstable_scheduleCallback,ms=e.unstable_cancelCallback,nu=e.unstable_shouldYield,Cf=e.unstable_requestPaint,Xe=e.unstable_now,_n=e.unstable_getCurrentPriorityLevel,Vi=e.unstable_ImmediatePriority,Nr=e.unstable_UserBlockingPriority,Na=e.unstable_NormalPriority,su=e.unstable_LowPriority,Gl=e.unstable_IdlePriority,Yl=e.log,lu=e.unstable_setDisableYieldValue,Li=null,Ge=null;function Ye(a){if(typeof Yl=="function"&&lu(a),Ge&&typeof Ge.setStrictMode=="function")try{Ge.setStrictMode(Li,a)}catch{}}var Re=Math.clz32?Math.clz32:Tf,Vl=Math.log,Xl=Math.LN2;function Tf(a){return a>>>=0,a===0?32:31-(Vl(a)/Xl|0)|0}var Xi=256,Ki=262144,ys=4194304;function Dr(a){var s=a&42;if(s!==0)return s;switch(a&-a){case 1:return 1;case 2:return 2;case 4:return 4;case 8:return 8;case 16:return 16;case 32:return 32;case 64:return 64;case 128:return 128;case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:return a&261888;case 262144:case 524288:case 1048576:case 2097152:return a&3932160;case 4194304:case 8388608:case 16777216:case 33554432:return a&62914560;case 67108864:return 67108864;case 134217728:return 134217728;case 268435456:return 268435456;case 536870912:return 536870912;case 1073741824:return 0;default:return a}}function bs(a,s,c){var f=a.pendingLanes;if(f===0)return 0;var m=0,b=a.suspendedLanes,k=a.pingedLanes;a=a.warmLanes;var A=f&134217727;return A!==0?(f=A&~b,f!==0?m=Dr(f):(k&=A,k!==0?m=Dr(k):c||(c=A&~a,c!==0&&(m=Dr(c))))):(A=f&~b,A!==0?m=Dr(A):k!==0?m=Dr(k):c||(c=f&~a,c!==0&&(m=Dr(c)))),m===0?0:s!==0&&s!==m&&(s&b)===0&&(b=m&-m,c=s&-s,b>=c||b===32&&(c&4194048)!==0)?s:m}function wn(a,s){return(a.pendingLanes&~(a.suspendedLanes&~a.pingedLanes)&s)===0}function Te(a,s){switch(a){case 1:case 2:case 4:case 8:case 64:return s+250;case 16:case 32:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return s+5e3;case 4194304:case 8388608:case 16777216:case 33554432:return-1;case 67108864:case 134217728:case 268435456:case 536870912:case 1073741824:return-1;default:return-1}}function Qi(){var a=ys;return ys<<=1,(ys&62914560)===0&&(ys=4194304),a}function Kl(a){for(var s=[],c=0;31>c;c++)s.push(a);return s}function Da(a,s){a.pendingLanes|=s,s!==268435456&&(a.suspendedLanes=0,a.pingedLanes=0,a.warmLanes=0)}function Ql(a,s,c,f,m,b){var k=a.pendingLanes;a.pendingLanes=c,a.suspendedLanes=0,a.pingedLanes=0,a.warmLanes=0,a.expiredLanes&=c,a.entangledLanes&=c,a.errorRecoveryDisabledLanes&=c,a.shellSuspendCounter=0;var A=a.entanglements,D=a.expirationTimes,K=a.hiddenUpdates;for(c=k&~c;0<c;){var it=31-Re(c),st=1<<it;A[it]=0,D[it]=-1;var Q=K[it];if(Q!==null)for(K[it]=null,it=0;it<Q.length;it++){var tt=Q[it];tt!==null&&(tt.lane&=-536870913)}c&=~st}f!==0&&Zl(a,f,0),b!==0&&m===0&&a.tag!==0&&(a.suspendedLanes|=b&~(k&~s))}function Zl(a,s,c){a.pendingLanes|=s,a.suspendedLanes&=~s;var f=31-Re(s);a.entangledLanes|=s,a.entanglements[f]=a.entanglements[f]|1073741824|c&261930}function Jl(a,s){var c=a.entangledLanes|=s;for(a=a.entanglements;c;){var f=31-Re(c),m=1<<f;m&s|a[f]&s&&(a[f]|=s),c&=~m}}function ou(a,s){var c=s&-s;return c=(c&42)!==0?1:_r(c),(c&(a.suspendedLanes|s))!==0?0:c}function _r(a){switch(a){case 2:a=1;break;case 8:a=4;break;case 32:a=16;break;case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:case 4194304:case 8388608:case 16777216:case 33554432:a=128;break;case 268435456:a=134217728;break;default:a=0}return a}function gi(a){return a&=-a,2<a?8<a?(a&134217727)!==0?32:268435456:8:2}function to(){var a=$.p;return a!==0?a:(a=window.event,a===void 0?32:L_(a.type))}function eo(a,s){var c=$.p;try{return $.p=a,s()}finally{$.p=c}}var Zr=Math.random().toString(36).slice(2),Le="__reactFiber$"+Zr,ye="__reactProps$"+Zr,Zi="__reactContainer$"+Zr,xs="__reactEvents$"+Zr,cu="__reactListeners$"+Zr,uu="__reactHandles$"+Zr,hu="__reactResources$"+Zr,St="__reactMarker$"+Zr;function F(a){delete a[Le],delete a[ye],delete a[xs],delete a[cu],delete a[uu]}function ut(a){var s=a[Le];if(s)return s;for(var c=a.parentNode;c;){if(s=c[Zi]||c[Le]){if(c=s.alternate,s.child!==null||c!==null&&c.child!==null)for(a=g_(a);a!==null;){if(c=a[Le])return c;a=g_(a)}return s}a=c,c=a.parentNode}return null}function gt(a){if(a=a[Le]||a[Zi]){var s=a.tag;if(s===5||s===6||s===13||s===31||s===26||s===27||s===3)return a}return null}function re(a){var s=a.tag;if(s===5||s===26||s===27||s===6)return a.stateNode;throw Error(i(33))}function _e(a){var s=a[hu];return s||(s=a[hu]={hoistableStyles:new Map,hoistableScripts:new Map}),s}function Ut(a){a[St]=!0}var Ke=new Set,Jr={};function wr(a,s){Mi(a,s),Mi(a+"Capture",s)}function Mi(a,s){for(Jr[a]=s,a=0;a<s.length;a++)Ke.add(s[a])}var ze=RegExp("^[:A-Z_a-z\\u00C0-\\u00D6\\u00D8-\\u00F6\\u00F8-\\u02FF\\u0370-\\u037D\\u037F-\\u1FFF\\u200C-\\u200D\\u2070-\\u218F\\u2C00-\\u2FEF\\u3001-\\uD7FF\\uF900-\\uFDCF\\uFDF0-\\uFFFD][:A-Z_a-z\\u00C0-\\u00D6\\u00D8-\\u00F6\\u00F8-\\u02FF\\u0370-\\u037D\\u037F-\\u1FFF\\u200C-\\u200D\\u2070-\\u218F\\u2C00-\\u2FEF\\u3001-\\uD7FF\\uF900-\\uFDCF\\uFDF0-\\uFFFD\\-.0-9\\u00B7\\u0300-\\u036F\\u203F-\\u2040]*$"),ro={},io={};function bO(a){return Ma.call(io,a)?!0:Ma.call(ro,a)?!1:ze.test(a)?io[a]=!0:(ro[a]=!0,!1)}function du(a,s,c){if(bO(s))if(c===null)a.removeAttribute(s);else{switch(typeof c){case"undefined":case"function":case"symbol":a.removeAttribute(s);return;case"boolean":var f=s.toLowerCase().slice(0,5);if(f!=="data-"&&f!=="aria-"){a.removeAttribute(s);return}}a.setAttribute(s,""+c)}}function fu(a,s,c){if(c===null)a.removeAttribute(s);else{switch(typeof c){case"undefined":case"function":case"symbol":case"boolean":a.removeAttribute(s);return}a.setAttribute(s,""+c)}}function Ji(a,s,c,f){if(f===null)a.removeAttribute(c);else{switch(typeof f){case"undefined":case"function":case"symbol":case"boolean":a.removeAttribute(c);return}a.setAttributeNS(s,c,""+f)}}function ti(a){switch(typeof a){case"bigint":case"boolean":case"number":case"string":case"undefined":return a;case"object":return a;default:return""}}function J0(a){var s=a.type;return(a=a.nodeName)&&a.toLowerCase()==="input"&&(s==="checkbox"||s==="radio")}function xO(a,s,c){var f=Object.getOwnPropertyDescriptor(a.constructor.prototype,s);if(!a.hasOwnProperty(s)&&typeof f<"u"&&typeof f.get=="function"&&typeof f.set=="function"){var m=f.get,b=f.set;return Object.defineProperty(a,s,{configurable:!0,get:function(){return m.call(this)},set:function(k){c=""+k,b.call(this,k)}}),Object.defineProperty(a,s,{enumerable:f.enumerable}),{getValue:function(){return c},setValue:function(k){c=""+k},stopTracking:function(){a._valueTracker=null,delete a[s]}}}}function Ef(a){if(!a._valueTracker){var s=J0(a)?"checked":"value";a._valueTracker=xO(a,s,""+a[s])}}function tb(a){if(!a)return!1;var s=a._valueTracker;if(!s)return!0;var c=s.getValue(),f="";return a&&(f=J0(a)?a.checked?"true":"false":a.value),a=f,a!==c?(s.setValue(a),!0):!1}function pu(a){if(a=a||(typeof document<"u"?document:void 0),typeof a>"u")return null;try{return a.activeElement||a.body}catch{return a.body}}var vO=/[\n"\\]/g;function ei(a){return a.replace(vO,function(s){return"\\"+s.charCodeAt(0).toString(16)+" "})}function Af(a,s,c,f,m,b,k,A){a.name="",k!=null&&typeof k!="function"&&typeof k!="symbol"&&typeof k!="boolean"?a.type=k:a.removeAttribute("type"),s!=null?k==="number"?(s===0&&a.value===""||a.value!=s)&&(a.value=""+ti(s)):a.value!==""+ti(s)&&(a.value=""+ti(s)):k!=="submit"&&k!=="reset"||a.removeAttribute("value"),s!=null?Of(a,k,ti(s)):c!=null?Of(a,k,ti(c)):f!=null&&a.removeAttribute("value"),m==null&&b!=null&&(a.defaultChecked=!!b),m!=null&&(a.checked=m&&typeof m!="function"&&typeof m!="symbol"),A!=null&&typeof A!="function"&&typeof A!="symbol"&&typeof A!="boolean"?a.name=""+ti(A):a.removeAttribute("name")}function eb(a,s,c,f,m,b,k,A){if(b!=null&&typeof b!="function"&&typeof b!="symbol"&&typeof b!="boolean"&&(a.type=b),s!=null||c!=null){if(!(b!=="submit"&&b!=="reset"||s!=null)){Ef(a);return}c=c!=null?""+ti(c):"",s=s!=null?""+ti(s):c,A||s===a.value||(a.value=s),a.defaultValue=s}f=f??m,f=typeof f!="function"&&typeof f!="symbol"&&!!f,a.checked=A?a.checked:!!f,a.defaultChecked=!!f,k!=null&&typeof k!="function"&&typeof k!="symbol"&&typeof k!="boolean"&&(a.name=k),Ef(a)}function Of(a,s,c){s==="number"&&pu(a.ownerDocument)===a||a.defaultValue===""+c||(a.defaultValue=""+c)}function vs(a,s,c,f){if(a=a.options,s){s={};for(var m=0;m<c.length;m++)s["$"+c[m]]=!0;for(c=0;c<a.length;c++)m=s.hasOwnProperty("$"+a[c].value),a[c].selected!==m&&(a[c].selected=m),m&&f&&(a[c].defaultSelected=!0)}else{for(c=""+ti(c),s=null,m=0;m<a.length;m++){if(a[m].value===c){a[m].selected=!0,f&&(a[m].defaultSelected=!0);return}s!==null||a[m].disabled||(s=a[m])}s!==null&&(s.selected=!0)}}function rb(a,s,c){if(s!=null&&(s=""+ti(s),s!==a.value&&(a.value=s),c==null)){a.defaultValue!==s&&(a.defaultValue=s);return}a.defaultValue=c!=null?""+ti(c):""}function ib(a,s,c,f){if(s==null){if(f!=null){if(c!=null)throw Error(i(92));if(P(f)){if(1<f.length)throw Error(i(93));f=f[0]}c=f}c==null&&(c=""),s=c}c=ti(s),a.defaultValue=c,f=a.textContent,f===c&&f!==""&&f!==null&&(a.value=f),Ef(a)}function _s(a,s){if(s){var c=a.firstChild;if(c&&c===a.lastChild&&c.nodeType===3){c.nodeValue=s;return}}a.textContent=s}var _O=new Set("animationIterationCount aspectRatio borderImageOutset borderImageSlice borderImageWidth boxFlex boxFlexGroup boxOrdinalGroup columnCount columns flex flexGrow flexPositive flexShrink flexNegative flexOrder gridArea gridRow gridRowEnd gridRowSpan gridRowStart gridColumn gridColumnEnd gridColumnSpan gridColumnStart fontWeight lineClamp lineHeight opacity order orphans scale tabSize widows zIndex zoom fillOpacity floodOpacity stopOpacity strokeDasharray strokeDashoffset strokeMiterlimit strokeOpacity strokeWidth MozAnimationIterationCount MozBoxFlex MozBoxFlexGroup MozLineClamp msAnimationIterationCount msFlex msZoom msFlexGrow msFlexNegative msFlexOrder msFlexPositive msFlexShrink msGridColumn msGridColumnSpan msGridRow msGridRowSpan WebkitAnimationIterationCount WebkitBoxFlex WebKitBoxFlexGroup WebkitBoxOrdinalGroup WebkitColumnCount WebkitColumns WebkitFlex WebkitFlexGrow WebkitFlexPositive WebkitFlexShrink WebkitLineClamp".split(" "));function ab(a,s,c){var f=s.indexOf("--")===0;c==null||typeof c=="boolean"||c===""?f?a.setProperty(s,""):s==="float"?a.cssFloat="":a[s]="":f?a.setProperty(s,c):typeof c!="number"||c===0||_O.has(s)?s==="float"?a.cssFloat=c:a[s]=(""+c).trim():a[s]=c+"px"}function nb(a,s,c){if(s!=null&&typeof s!="object")throw Error(i(62));if(a=a.style,c!=null){for(var f in c)!c.hasOwnProperty(f)||s!=null&&s.hasOwnProperty(f)||(f.indexOf("--")===0?a.setProperty(f,""):f==="float"?a.cssFloat="":a[f]="");for(var m in s)f=s[m],s.hasOwnProperty(m)&&c[m]!==f&&ab(a,m,f)}else for(var b in s)s.hasOwnProperty(b)&&ab(a,b,s[b])}function Rf(a){if(a.indexOf("-")===-1)return!1;switch(a){case"annotation-xml":case"color-profile":case"font-face":case"font-face-src":case"font-face-uri":case"font-face-format":case"font-face-name":case"missing-glyph":return!1;default:return!0}}var wO=new Map([["acceptCharset","accept-charset"],["htmlFor","for"],["httpEquiv","http-equiv"],["crossOrigin","crossorigin"],["accentHeight","accent-height"],["alignmentBaseline","alignment-baseline"],["arabicForm","arabic-form"],["baselineShift","baseline-shift"],["capHeight","cap-height"],["clipPath","clip-path"],["clipRule","clip-rule"],["colorInterpolation","color-interpolation"],["colorInterpolationFilters","color-interpolation-filters"],["colorProfile","color-profile"],["colorRendering","color-rendering"],["dominantBaseline","dominant-baseline"],["enableBackground","enable-background"],["fillOpacity","fill-opacity"],["fillRule","fill-rule"],["floodColor","flood-color"],["floodOpacity","flood-opacity"],["fontFamily","font-family"],["fontSize","font-size"],["fontSizeAdjust","font-size-adjust"],["fontStretch","font-stretch"],["fontStyle","font-style"],["fontVariant","font-variant"],["fontWeight","font-weight"],["glyphName","glyph-name"],["glyphOrientationHorizontal","glyph-orientation-horizontal"],["glyphOrientationVertical","glyph-orientation-vertical"],["horizAdvX","horiz-adv-x"],["horizOriginX","horiz-origin-x"],["imageRendering","image-rendering"],["letterSpacing","letter-spacing"],["lightingColor","lighting-color"],["markerEnd","marker-end"],["markerMid","marker-mid"],["markerStart","marker-start"],["overlinePosition","overline-position"],["overlineThickness","overline-thickness"],["paintOrder","paint-order"],["panose-1","panose-1"],["pointerEvents","pointer-events"],["renderingIntent","rendering-intent"],["shapeRendering","shape-rendering"],["stopColor","stop-color"],["stopOpacity","stop-opacity"],["strikethroughPosition","strikethrough-position"],["strikethroughThickness","strikethrough-thickness"],["strokeDasharray","stroke-dasharray"],["strokeDashoffset","stroke-dashoffset"],["strokeLinecap","stroke-linecap"],["strokeLinejoin","stroke-linejoin"],["strokeMiterlimit","stroke-miterlimit"],["strokeOpacity","stroke-opacity"],["strokeWidth","stroke-width"],["textAnchor","text-anchor"],["textDecoration","text-decoration"],["textRendering","text-rendering"],["transformOrigin","transform-origin"],["underlinePosition","underline-position"],["underlineThickness","underline-thickness"],["unicodeBidi","unicode-bidi"],["unicodeRange","unicode-range"],["unitsPerEm","units-per-em"],["vAlphabetic","v-alphabetic"],["vHanging","v-hanging"],["vIdeographic","v-ideographic"],["vMathematical","v-mathematical"],["vectorEffect","vector-effect"],["vertAdvY","vert-adv-y"],["vertOriginX","vert-origin-x"],["vertOriginY","vert-origin-y"],["wordSpacing","word-spacing"],["writingMode","writing-mode"],["xmlnsXlink","xmlns:xlink"],["xHeight","x-height"]]),SO=/^[\u0000-\u001F ]*j[\r\n\t]*a[\r\n\t]*v[\r\n\t]*a[\r\n\t]*s[\r\n\t]*c[\r\n\t]*r[\r\n\t]*i[\r\n\t]*p[\r\n\t]*t[\r\n\t]*:/i;function gu(a){return SO.test(""+a)?"javascript:throw new Error('React has blocked a javascript: URL as a security precaution.')":a}function ta(){}var Lf=null;function Mf(a){return a=a.target||a.srcElement||window,a.correspondingUseElement&&(a=a.correspondingUseElement),a.nodeType===3?a.parentNode:a}var ws=null,Ss=null;function sb(a){var s=gt(a);if(s&&(a=s.stateNode)){var c=a[ye]||null;t:switch(a=s.stateNode,s.type){case"input":if(Af(a,c.value,c.defaultValue,c.defaultValue,c.checked,c.defaultChecked,c.type,c.name),s=c.name,c.type==="radio"&&s!=null){for(c=a;c.parentNode;)c=c.parentNode;for(c=c.querySelectorAll('input[name="'+ei(""+s)+'"][type="radio"]'),s=0;s<c.length;s++){var f=c[s];if(f!==a&&f.form===a.form){var m=f[ye]||null;if(!m)throw Error(i(90));Af(f,m.value,m.defaultValue,m.defaultValue,m.checked,m.defaultChecked,m.type,m.name)}}for(s=0;s<c.length;s++)f=c[s],f.form===a.form&&tb(f)}break t;case"textarea":rb(a,c.value,c.defaultValue);break t;case"select":s=c.value,s!=null&&vs(a,!!c.multiple,s,!1)}}}var Bf=!1;function lb(a,s,c){if(Bf)return a(s,c);Bf=!0;try{var f=a(s);return f}finally{if(Bf=!1,(ws!==null||Ss!==null)&&(rh(),ws&&(s=ws,a=Ss,Ss=ws=null,sb(s),a)))for(s=0;s<a.length;s++)sb(a[s])}}function ao(a,s){var c=a.stateNode;if(c===null)return null;var f=c[ye]||null;if(f===null)return null;c=f[s];t:switch(s){case"onClick":case"onClickCapture":case"onDoubleClick":case"onDoubleClickCapture":case"onMouseDown":case"onMouseDownCapture":case"onMouseMove":case"onMouseMoveCapture":case"onMouseUp":case"onMouseUpCapture":case"onMouseEnter":(f=!f.disabled)||(a=a.type,f=!(a==="button"||a==="input"||a==="select"||a==="textarea")),a=!f;break t;default:a=!1}if(a)return null;if(c&&typeof c!="function")throw Error(i(231,s,typeof c));return c}var ea=!(typeof window>"u"||typeof window.document>"u"||typeof window.document.createElement>"u"),Nf=!1;if(ea)try{var no={};Object.defineProperty(no,"passive",{get:function(){Nf=!0}}),window.addEventListener("test",no,no),window.removeEventListener("test",no,no)}catch{Nf=!1}var ja=null,Df=null,mu=null;function ob(){if(mu)return mu;var a,s=Df,c=s.length,f,m="value"in ja?ja.value:ja.textContent,b=m.length;for(a=0;a<c&&s[a]===m[a];a++);var k=c-a;for(f=1;f<=k&&s[c-f]===m[b-f];f++);return mu=m.slice(a,1<f?1-f:void 0)}function yu(a){var s=a.keyCode;return"charCode"in a?(a=a.charCode,a===0&&s===13&&(a=13)):a=s,a===10&&(a=13),32<=a||a===13?a:0}function bu(){return!0}function cb(){return!1}function Sr(a){function s(c,f,m,b,k){this._reactName=c,this._targetInst=m,this.type=f,this.nativeEvent=b,this.target=k,this.currentTarget=null;for(var A in a)a.hasOwnProperty(A)&&(c=a[A],this[A]=c?c(b):b[A]);return this.isDefaultPrevented=(b.defaultPrevented!=null?b.defaultPrevented:b.returnValue===!1)?bu:cb,this.isPropagationStopped=cb,this}return g(s.prototype,{preventDefault:function(){this.defaultPrevented=!0;var c=this.nativeEvent;c&&(c.preventDefault?c.preventDefault():typeof c.returnValue!="unknown"&&(c.returnValue=!1),this.isDefaultPrevented=bu)},stopPropagation:function(){var c=this.nativeEvent;c&&(c.stopPropagation?c.stopPropagation():typeof c.cancelBubble!="unknown"&&(c.cancelBubble=!0),this.isPropagationStopped=bu)},persist:function(){},isPersistent:bu}),s}var Sn={eventPhase:0,bubbles:0,cancelable:0,timeStamp:function(a){return a.timeStamp||Date.now()},defaultPrevented:0,isTrusted:0},xu=Sr(Sn),so=g({},Sn,{view:0,detail:0}),kO=Sr(so),jf,$f,lo,vu=g({},so,{screenX:0,screenY:0,clientX:0,clientY:0,pageX:0,pageY:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,getModifierState:Ff,button:0,buttons:0,relatedTarget:function(a){return a.relatedTarget===void 0?a.fromElement===a.srcElement?a.toElement:a.fromElement:a.relatedTarget},movementX:function(a){return"movementX"in a?a.movementX:(a!==lo&&(lo&&a.type==="mousemove"?(jf=a.screenX-lo.screenX,$f=a.screenY-lo.screenY):$f=jf=0,lo=a),jf)},movementY:function(a){return"movementY"in a?a.movementY:$f}}),ub=Sr(vu),CO=g({},vu,{dataTransfer:0}),TO=Sr(CO),EO=g({},so,{relatedTarget:0}),zf=Sr(EO),AO=g({},Sn,{animationName:0,elapsedTime:0,pseudoElement:0}),OO=Sr(AO),RO=g({},Sn,{clipboardData:function(a){return"clipboardData"in a?a.clipboardData:window.clipboardData}}),LO=Sr(RO),MO=g({},Sn,{data:0}),hb=Sr(MO),BO={Esc:"Escape",Spacebar:" ",Left:"ArrowLeft",Up:"ArrowUp",Right:"ArrowRight",Down:"ArrowDown",Del:"Delete",Win:"OS",Menu:"ContextMenu",Apps:"ContextMenu",Scroll:"ScrollLock",MozPrintableKey:"Unidentified"},NO={8:"Backspace",9:"Tab",12:"Clear",13:"Enter",16:"Shift",17:"Control",18:"Alt",19:"Pause",20:"CapsLock",27:"Escape",32:" ",33:"PageUp",34:"PageDown",35:"End",36:"Home",37:"ArrowLeft",38:"ArrowUp",39:"ArrowRight",40:"ArrowDown",45:"Insert",46:"Delete",112:"F1",113:"F2",114:"F3",115:"F4",116:"F5",117:"F6",118:"F7",119:"F8",120:"F9",121:"F10",122:"F11",123:"F12",144:"NumLock",145:"ScrollLock",224:"Meta"},DO={Alt:"altKey",Control:"ctrlKey",Meta:"metaKey",Shift:"shiftKey"};function jO(a){var s=this.nativeEvent;return s.getModifierState?s.getModifierState(a):(a=DO[a])?!!s[a]:!1}function Ff(){return jO}var $O=g({},so,{key:function(a){if(a.key){var s=BO[a.key]||a.key;if(s!=="Unidentified")return s}return a.type==="keypress"?(a=yu(a),a===13?"Enter":String.fromCharCode(a)):a.type==="keydown"||a.type==="keyup"?NO[a.keyCode]||"Unidentified":""},code:0,location:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,repeat:0,locale:0,getModifierState:Ff,charCode:function(a){return a.type==="keypress"?yu(a):0},keyCode:function(a){return a.type==="keydown"||a.type==="keyup"?a.keyCode:0},which:function(a){return a.type==="keypress"?yu(a):a.type==="keydown"||a.type==="keyup"?a.keyCode:0}}),zO=Sr($O),FO=g({},vu,{pointerId:0,width:0,height:0,pressure:0,tangentialPressure:0,tiltX:0,tiltY:0,twist:0,pointerType:0,isPrimary:0}),db=Sr(FO),PO=g({},so,{touches:0,targetTouches:0,changedTouches:0,altKey:0,metaKey:0,ctrlKey:0,shiftKey:0,getModifierState:Ff}),UO=Sr(PO),IO=g({},Sn,{propertyName:0,elapsedTime:0,pseudoElement:0}),qO=Sr(IO),HO=g({},vu,{deltaX:function(a){return"deltaX"in a?a.deltaX:"wheelDeltaX"in a?-a.wheelDeltaX:0},deltaY:function(a){return"deltaY"in a?a.deltaY:"wheelDeltaY"in a?-a.wheelDeltaY:"wheelDelta"in a?-a.wheelDelta:0},deltaZ:0,deltaMode:0}),WO=Sr(HO),GO=g({},Sn,{newState:0,oldState:0}),YO=Sr(GO),VO=[9,13,27,32],Pf=ea&&"CompositionEvent"in window,oo=null;ea&&"documentMode"in document&&(oo=document.documentMode);var XO=ea&&"TextEvent"in window&&!oo,fb=ea&&(!Pf||oo&&8<oo&&11>=oo),pb=" ",gb=!1;function mb(a,s){switch(a){case"keyup":return VO.indexOf(s.keyCode)!==-1;case"keydown":return s.keyCode!==229;case"keypress":case"mousedown":case"focusout":return!0;default:return!1}}function yb(a){return a=a.detail,typeof a=="object"&&"data"in a?a.data:null}var ks=!1;function KO(a,s){switch(a){case"compositionend":return yb(s);case"keypress":return s.which!==32?null:(gb=!0,pb);case"textInput":return a=s.data,a===pb&&gb?null:a;default:return null}}function QO(a,s){if(ks)return a==="compositionend"||!Pf&&mb(a,s)?(a=ob(),mu=Df=ja=null,ks=!1,a):null;switch(a){case"paste":return null;case"keypress":if(!(s.ctrlKey||s.altKey||s.metaKey)||s.ctrlKey&&s.altKey){if(s.char&&1<s.char.length)return s.char;if(s.which)return String.fromCharCode(s.which)}return null;case"compositionend":return fb&&s.locale!=="ko"?null:s.data;default:return null}}var ZO={color:!0,date:!0,datetime:!0,"datetime-local":!0,email:!0,month:!0,number:!0,password:!0,range:!0,search:!0,tel:!0,text:!0,time:!0,url:!0,week:!0};function bb(a){var s=a&&a.nodeName&&a.nodeName.toLowerCase();return s==="input"?!!ZO[a.type]:s==="textarea"}function xb(a,s,c,f){ws?Ss?Ss.push(f):Ss=[f]:ws=f,s=ch(s,"onChange"),0<s.length&&(c=new xu("onChange","change",null,c,f),a.push({event:c,listeners:s}))}var co=null,uo=null;function JO(a){e_(a,0)}function _u(a){var s=re(a);if(tb(s))return a}function vb(a,s){if(a==="change")return s}var _b=!1;if(ea){var Uf;if(ea){var If="oninput"in document;if(!If){var wb=document.createElement("div");wb.setAttribute("oninput","return;"),If=typeof wb.oninput=="function"}Uf=If}else Uf=!1;_b=Uf&&(!document.documentMode||9<document.documentMode)}function Sb(){co&&(co.detachEvent("onpropertychange",kb),uo=co=null)}function kb(a){if(a.propertyName==="value"&&_u(uo)){var s=[];xb(s,uo,a,Mf(a)),lb(JO,s)}}function tR(a,s,c){a==="focusin"?(Sb(),co=s,uo=c,co.attachEvent("onpropertychange",kb)):a==="focusout"&&Sb()}function eR(a){if(a==="selectionchange"||a==="keyup"||a==="keydown")return _u(uo)}function rR(a,s){if(a==="click")return _u(s)}function iR(a,s){if(a==="input"||a==="change")return _u(s)}function aR(a,s){return a===s&&(a!==0||1/a===1/s)||a!==a&&s!==s}var jr=typeof Object.is=="function"?Object.is:aR;function ho(a,s){if(jr(a,s))return!0;if(typeof a!="object"||a===null||typeof s!="object"||s===null)return!1;var c=Object.keys(a),f=Object.keys(s);if(c.length!==f.length)return!1;for(f=0;f<c.length;f++){var m=c[f];if(!Ma.call(s,m)||!jr(a[m],s[m]))return!1}return!0}function Cb(a){for(;a&&a.firstChild;)a=a.firstChild;return a}function Tb(a,s){var c=Cb(a);a=0;for(var f;c;){if(c.nodeType===3){if(f=a+c.textContent.length,a<=s&&f>=s)return{node:c,offset:s-a};a=f}t:{for(;c;){if(c.nextSibling){c=c.nextSibling;break t}c=c.parentNode}c=void 0}c=Cb(c)}}function Eb(a,s){return a&&s?a===s?!0:a&&a.nodeType===3?!1:s&&s.nodeType===3?Eb(a,s.parentNode):"contains"in a?a.contains(s):a.compareDocumentPosition?!!(a.compareDocumentPosition(s)&16):!1:!1}function Ab(a){a=a!=null&&a.ownerDocument!=null&&a.ownerDocument.defaultView!=null?a.ownerDocument.defaultView:window;for(var s=pu(a.document);s instanceof a.HTMLIFrameElement;){try{var c=typeof s.contentWindow.location.href=="string"}catch{c=!1}if(c)a=s.contentWindow;else break;s=pu(a.document)}return s}function qf(a){var s=a&&a.nodeName&&a.nodeName.toLowerCase();return s&&(s==="input"&&(a.type==="text"||a.type==="search"||a.type==="tel"||a.type==="url"||a.type==="password")||s==="textarea"||a.contentEditable==="true")}var nR=ea&&"documentMode"in document&&11>=document.documentMode,Cs=null,Hf=null,fo=null,Wf=!1;function Ob(a,s,c){var f=c.window===c?c.document:c.nodeType===9?c:c.ownerDocument;Wf||Cs==null||Cs!==pu(f)||(f=Cs,"selectionStart"in f&&qf(f)?f={start:f.selectionStart,end:f.selectionEnd}:(f=(f.ownerDocument&&f.ownerDocument.defaultView||window).getSelection(),f={anchorNode:f.anchorNode,anchorOffset:f.anchorOffset,focusNode:f.focusNode,focusOffset:f.focusOffset}),fo&&ho(fo,f)||(fo=f,f=ch(Hf,"onSelect"),0<f.length&&(s=new xu("onSelect","select",null,s,c),a.push({event:s,listeners:f}),s.target=Cs)))}function kn(a,s){var c={};return c[a.toLowerCase()]=s.toLowerCase(),c["Webkit"+a]="webkit"+s,c["Moz"+a]="moz"+s,c}var Ts={animationend:kn("Animation","AnimationEnd"),animationiteration:kn("Animation","AnimationIteration"),animationstart:kn("Animation","AnimationStart"),transitionrun:kn("Transition","TransitionRun"),transitionstart:kn("Transition","TransitionStart"),transitioncancel:kn("Transition","TransitionCancel"),transitionend:kn("Transition","TransitionEnd")},Gf={},Rb={};ea&&(Rb=document.createElement("div").style,"AnimationEvent"in window||(delete Ts.animationend.animation,delete Ts.animationiteration.animation,delete Ts.animationstart.animation),"TransitionEvent"in window||delete Ts.transitionend.transition);function Cn(a){if(Gf[a])return Gf[a];if(!Ts[a])return a;var s=Ts[a],c;for(c in s)if(s.hasOwnProperty(c)&&c in Rb)return Gf[a]=s[c];return a}var Lb=Cn("animationend"),Mb=Cn("animationiteration"),Bb=Cn("animationstart"),sR=Cn("transitionrun"),lR=Cn("transitionstart"),oR=Cn("transitioncancel"),Nb=Cn("transitionend"),Db=new Map,Yf="abort auxClick beforeToggle cancel canPlay canPlayThrough click close contextMenu copy cut drag dragEnd dragEnter dragExit dragLeave dragOver dragStart drop durationChange emptied encrypted ended error gotPointerCapture input invalid keyDown keyPress keyUp load loadedData loadedMetadata loadStart lostPointerCapture mouseDown mouseMove mouseOut mouseOver mouseUp paste pause play playing pointerCancel pointerDown pointerMove pointerOut pointerOver pointerUp progress rateChange reset resize seeked seeking stalled submit suspend timeUpdate touchCancel touchEnd touchStart volumeChange scroll toggle touchMove waiting wheel".split(" ");Yf.push("scrollEnd");function mi(a,s){Db.set(a,s),wr(s,[a])}var wu=typeof reportError=="function"?reportError:function(a){if(typeof window=="object"&&typeof window.ErrorEvent=="function"){var s=new window.ErrorEvent("error",{bubbles:!0,cancelable:!0,message:typeof a=="object"&&a!==null&&typeof a.message=="string"?String(a.message):String(a),error:a});if(!window.dispatchEvent(s))return}else if(typeof process=="object"&&typeof process.emit=="function"){process.emit("uncaughtException",a);return}console.error(a)},ri=[],Es=0,Vf=0;function Su(){for(var a=Es,s=Vf=Es=0;s<a;){var c=ri[s];ri[s++]=null;var f=ri[s];ri[s++]=null;var m=ri[s];ri[s++]=null;var b=ri[s];if(ri[s++]=null,f!==null&&m!==null){var k=f.pending;k===null?m.next=m:(m.next=k.next,k.next=m),f.pending=m}b!==0&&jb(c,m,b)}}function ku(a,s,c,f){ri[Es++]=a,ri[Es++]=s,ri[Es++]=c,ri[Es++]=f,Vf|=f,a.lanes|=f,a=a.alternate,a!==null&&(a.lanes|=f)}function Xf(a,s,c,f){return ku(a,s,c,f),Cu(a)}function Tn(a,s){return ku(a,null,null,s),Cu(a)}function jb(a,s,c){a.lanes|=c;var f=a.alternate;f!==null&&(f.lanes|=c);for(var m=!1,b=a.return;b!==null;)b.childLanes|=c,f=b.alternate,f!==null&&(f.childLanes|=c),b.tag===22&&(a=b.stateNode,a===null||a._visibility&1||(m=!0)),a=b,b=b.return;return a.tag===3?(b=a.stateNode,m&&s!==null&&(m=31-Re(c),a=b.hiddenUpdates,f=a[m],f===null?a[m]=[s]:f.push(s),s.lane=c|536870912),b):null}function Cu(a){if(50<Do)throw Do=0,ag=null,Error(i(185));for(var s=a.return;s!==null;)a=s,s=a.return;return a.tag===3?a.stateNode:null}var As={};function cR(a,s,c,f){this.tag=a,this.key=c,this.sibling=this.child=this.return=this.stateNode=this.type=this.elementType=null,this.index=0,this.refCleanup=this.ref=null,this.pendingProps=s,this.dependencies=this.memoizedState=this.updateQueue=this.memoizedProps=null,this.mode=f,this.subtreeFlags=this.flags=0,this.deletions=null,this.childLanes=this.lanes=0,this.alternate=null}function $r(a,s,c,f){return new cR(a,s,c,f)}function Kf(a){return a=a.prototype,!(!a||!a.isReactComponent)}function ra(a,s){var c=a.alternate;return c===null?(c=$r(a.tag,s,a.key,a.mode),c.elementType=a.elementType,c.type=a.type,c.stateNode=a.stateNode,c.alternate=a,a.alternate=c):(c.pendingProps=s,c.type=a.type,c.flags=0,c.subtreeFlags=0,c.deletions=null),c.flags=a.flags&65011712,c.childLanes=a.childLanes,c.lanes=a.lanes,c.child=a.child,c.memoizedProps=a.memoizedProps,c.memoizedState=a.memoizedState,c.updateQueue=a.updateQueue,s=a.dependencies,c.dependencies=s===null?null:{lanes:s.lanes,firstContext:s.firstContext},c.sibling=a.sibling,c.index=a.index,c.ref=a.ref,c.refCleanup=a.refCleanup,c}function $b(a,s){a.flags&=65011714;var c=a.alternate;return c===null?(a.childLanes=0,a.lanes=s,a.child=null,a.subtreeFlags=0,a.memoizedProps=null,a.memoizedState=null,a.updateQueue=null,a.dependencies=null,a.stateNode=null):(a.childLanes=c.childLanes,a.lanes=c.lanes,a.child=c.child,a.subtreeFlags=0,a.deletions=null,a.memoizedProps=c.memoizedProps,a.memoizedState=c.memoizedState,a.updateQueue=c.updateQueue,a.type=c.type,s=c.dependencies,a.dependencies=s===null?null:{lanes:s.lanes,firstContext:s.firstContext}),a}function Tu(a,s,c,f,m,b){var k=0;if(f=a,typeof a=="function")Kf(a)&&(k=1);else if(typeof a=="string")k=pL(a,c,ct.current)?26:a==="html"||a==="head"||a==="body"?27:5;else t:switch(a){case rt:return a=$r(31,c,s,m),a.elementType=rt,a.lanes=b,a;case _:return En(c.children,m,b,s);case S:k=8,m|=24;break;case T:return a=$r(12,c,s,m|2),a.elementType=T,a.lanes=b,a;case B:return a=$r(13,c,s,m),a.elementType=B,a.lanes=b,a;case I:return a=$r(19,c,s,m),a.elementType=I,a.lanes=b,a;default:if(typeof a=="object"&&a!==null)switch(a.$$typeof){case O:k=10;break t;case E:k=9;break t;case L:k=11;break t;case j:k=14;break t;case Z:k=16,f=null;break t}k=29,c=Error(i(130,a===null?"null":typeof a,"")),f=null}return s=$r(k,c,s,m),s.elementType=a,s.type=f,s.lanes=b,s}function En(a,s,c,f){return a=$r(7,a,f,s),a.lanes=c,a}function Qf(a,s,c){return a=$r(6,a,null,s),a.lanes=c,a}function zb(a){var s=$r(18,null,null,0);return s.stateNode=a,s}function Zf(a,s,c){return s=$r(4,a.children!==null?a.children:[],a.key,s),s.lanes=c,s.stateNode={containerInfo:a.containerInfo,pendingChildren:null,implementation:a.implementation},s}var Fb=new WeakMap;function ii(a,s){if(typeof a=="object"&&a!==null){var c=Fb.get(a);return c!==void 0?c:(s={value:a,source:s,stack:Yi(s)},Fb.set(a,s),s)}return{value:a,source:s,stack:Yi(s)}}var Os=[],Rs=0,Eu=null,po=0,ai=[],ni=0,$a=null,Bi=1,Ni="";function ia(a,s){Os[Rs++]=po,Os[Rs++]=Eu,Eu=a,po=s}function Pb(a,s,c){ai[ni++]=Bi,ai[ni++]=Ni,ai[ni++]=$a,$a=a;var f=Bi;a=Ni;var m=32-Re(f)-1;f&=~(1<<m),c+=1;var b=32-Re(s)+m;if(30<b){var k=m-m%5;b=(f&(1<<k)-1).toString(32),f>>=k,m-=k,Bi=1<<32-Re(s)+m|c<<m|f,Ni=b+a}else Bi=1<<b|c<<m|f,Ni=a}function Jf(a){a.return!==null&&(ia(a,1),Pb(a,1,0))}function tp(a){for(;a===Eu;)Eu=Os[--Rs],Os[Rs]=null,po=Os[--Rs],Os[Rs]=null;for(;a===$a;)$a=ai[--ni],ai[ni]=null,Ni=ai[--ni],ai[ni]=null,Bi=ai[--ni],ai[ni]=null}function Ub(a,s){ai[ni++]=Bi,ai[ni++]=Ni,ai[ni++]=$a,Bi=s.id,Ni=s.overflow,$a=a}var Qe=null,pe=null,Vt=!1,za=null,si=!1,ep=Error(i(519));function Fa(a){var s=Error(i(418,1<arguments.length&&arguments[1]!==void 0&&arguments[1]?"text":"HTML",""));throw go(ii(s,a)),ep}function Ib(a){var s=a.stateNode,c=a.type,f=a.memoizedProps;switch(s[Le]=a,s[ye]=f,c){case"dialog":Ht("cancel",s),Ht("close",s);break;case"iframe":case"object":case"embed":Ht("load",s);break;case"video":case"audio":for(c=0;c<$o.length;c++)Ht($o[c],s);break;case"source":Ht("error",s);break;case"img":case"image":case"link":Ht("error",s),Ht("load",s);break;case"details":Ht("toggle",s);break;case"input":Ht("invalid",s),eb(s,f.value,f.defaultValue,f.checked,f.defaultChecked,f.type,f.name,!0);break;case"select":Ht("invalid",s);break;case"textarea":Ht("invalid",s),ib(s,f.value,f.defaultValue,f.children)}c=f.children,typeof c!="string"&&typeof c!="number"&&typeof c!="bigint"||s.textContent===""+c||f.suppressHydrationWarning===!0||n_(s.textContent,c)?(f.popover!=null&&(Ht("beforetoggle",s),Ht("toggle",s)),f.onScroll!=null&&Ht("scroll",s),f.onScrollEnd!=null&&Ht("scrollend",s),f.onClick!=null&&(s.onclick=ta),s=!0):s=!1,s||Fa(a,!0)}function qb(a){for(Qe=a.return;Qe;)switch(Qe.tag){case 5:case 31:case 13:si=!1;return;case 27:case 3:si=!0;return;default:Qe=Qe.return}}function Ls(a){if(a!==Qe)return!1;if(!Vt)return qb(a),Vt=!0,!1;var s=a.tag,c;if((c=s!==3&&s!==27)&&((c=s===5)&&(c=a.type,c=!(c!=="form"&&c!=="button")||xg(a.type,a.memoizedProps)),c=!c),c&&pe&&Fa(a),qb(a),s===13){if(a=a.memoizedState,a=a!==null?a.dehydrated:null,!a)throw Error(i(317));pe=p_(a)}else if(s===31){if(a=a.memoizedState,a=a!==null?a.dehydrated:null,!a)throw Error(i(317));pe=p_(a)}else s===27?(s=pe,Ja(a.type)?(a=kg,kg=null,pe=a):pe=s):pe=Qe?oi(a.stateNode.nextSibling):null;return!0}function An(){pe=Qe=null,Vt=!1}function rp(){var a=za;return a!==null&&(Er===null?Er=a:Er.push.apply(Er,a),za=null),a}function go(a){za===null?za=[a]:za.push(a)}var ip=M(null),On=null,aa=null;function Pa(a,s,c){et(ip,s._currentValue),s._currentValue=c}function na(a){a._currentValue=ip.current,V(ip)}function ap(a,s,c){for(;a!==null;){var f=a.alternate;if((a.childLanes&s)!==s?(a.childLanes|=s,f!==null&&(f.childLanes|=s)):f!==null&&(f.childLanes&s)!==s&&(f.childLanes|=s),a===c)break;a=a.return}}function np(a,s,c,f){var m=a.child;for(m!==null&&(m.return=a);m!==null;){var b=m.dependencies;if(b!==null){var k=m.child;b=b.firstContext;t:for(;b!==null;){var A=b;b=m;for(var D=0;D<s.length;D++)if(A.context===s[D]){b.lanes|=c,A=b.alternate,A!==null&&(A.lanes|=c),ap(b.return,c,a),f||(k=null);break t}b=A.next}}else if(m.tag===18){if(k=m.return,k===null)throw Error(i(341));k.lanes|=c,b=k.alternate,b!==null&&(b.lanes|=c),ap(k,c,a),k=null}else k=m.child;if(k!==null)k.return=m;else for(k=m;k!==null;){if(k===a){k=null;break}if(m=k.sibling,m!==null){m.return=k.return,k=m;break}k=k.return}m=k}}function Ms(a,s,c,f){a=null;for(var m=s,b=!1;m!==null;){if(!b){if((m.flags&524288)!==0)b=!0;else if((m.flags&262144)!==0)break}if(m.tag===10){var k=m.alternate;if(k===null)throw Error(i(387));if(k=k.memoizedProps,k!==null){var A=m.type;jr(m.pendingProps.value,k.value)||(a!==null?a.push(A):a=[A])}}else if(m===Lt.current){if(k=m.alternate,k===null)throw Error(i(387));k.memoizedState.memoizedState!==m.memoizedState.memoizedState&&(a!==null?a.push(Io):a=[Io])}m=m.return}a!==null&&np(s,a,c,f),s.flags|=262144}function Au(a){for(a=a.firstContext;a!==null;){if(!jr(a.context._currentValue,a.memoizedValue))return!0;a=a.next}return!1}function Rn(a){On=a,aa=null,a=a.dependencies,a!==null&&(a.firstContext=null)}function Ze(a){return Hb(On,a)}function Ou(a,s){return On===null&&Rn(a),Hb(a,s)}function Hb(a,s){var c=s._currentValue;if(s={context:s,memoizedValue:c,next:null},aa===null){if(a===null)throw Error(i(308));aa=s,a.dependencies={lanes:0,firstContext:s},a.flags|=524288}else aa=aa.next=s;return c}var uR=typeof AbortController<"u"?AbortController:function(){var a=[],s=this.signal={aborted:!1,addEventListener:function(c,f){a.push(f)}};this.abort=function(){s.aborted=!0,a.forEach(function(c){return c()})}},hR=e.unstable_scheduleCallback,dR=e.unstable_NormalPriority,Me={$$typeof:O,Consumer:null,Provider:null,_currentValue:null,_currentValue2:null,_threadCount:0};function sp(){return{controller:new uR,data:new Map,refCount:0}}function mo(a){a.refCount--,a.refCount===0&&hR(dR,function(){a.controller.abort()})}var yo=null,lp=0,Bs=0,Ns=null;function fR(a,s){if(yo===null){var c=yo=[];lp=0,Bs=ug(),Ns={status:"pending",value:void 0,then:function(f){c.push(f)}}}return lp++,s.then(Wb,Wb),s}function Wb(){if(--lp===0&&yo!==null){Ns!==null&&(Ns.status="fulfilled");var a=yo;yo=null,Bs=0,Ns=null;for(var s=0;s<a.length;s++)(0,a[s])()}}function pR(a,s){var c=[],f={status:"pending",value:null,reason:null,then:function(m){c.push(m)}};return a.then(function(){f.status="fulfilled",f.value=s;for(var m=0;m<c.length;m++)(0,c[m])(s)},function(m){for(f.status="rejected",f.reason=m,m=0;m<c.length;m++)(0,c[m])(void 0)}),f}var Gb=R.S;R.S=function(a,s){Ov=Xe(),typeof s=="object"&&s!==null&&typeof s.then=="function"&&fR(a,s),Gb!==null&&Gb(a,s)};var Ln=M(null);function op(){var a=Ln.current;return a!==null?a:de.pooledCache}function Ru(a,s){s===null?et(Ln,Ln.current):et(Ln,s.pool)}function Yb(){var a=op();return a===null?null:{parent:Me._currentValue,pool:a}}var Ds=Error(i(460)),cp=Error(i(474)),Lu=Error(i(542)),Mu={then:function(){}};function Vb(a){return a=a.status,a==="fulfilled"||a==="rejected"}function Xb(a,s,c){switch(c=a[c],c===void 0?a.push(s):c!==s&&(s.then(ta,ta),s=c),s.status){case"fulfilled":return s.value;case"rejected":throw a=s.reason,Qb(a),a;default:if(typeof s.status=="string")s.then(ta,ta);else{if(a=de,a!==null&&100<a.shellSuspendCounter)throw Error(i(482));a=s,a.status="pending",a.then(function(f){if(s.status==="pending"){var m=s;m.status="fulfilled",m.value=f}},function(f){if(s.status==="pending"){var m=s;m.status="rejected",m.reason=f}})}switch(s.status){case"fulfilled":return s.value;case"rejected":throw a=s.reason,Qb(a),a}throw Bn=s,Ds}}function Mn(a){try{var s=a._init;return s(a._payload)}catch(c){throw c!==null&&typeof c=="object"&&typeof c.then=="function"?(Bn=c,Ds):c}}var Bn=null;function Kb(){if(Bn===null)throw Error(i(459));var a=Bn;return Bn=null,a}function Qb(a){if(a===Ds||a===Lu)throw Error(i(483))}var js=null,bo=0;function Bu(a){var s=bo;return bo+=1,js===null&&(js=[]),Xb(js,a,s)}function xo(a,s){s=s.props.ref,a.ref=s!==void 0?s:null}function Nu(a,s){throw s.$$typeof===y?Error(i(525)):(a=Object.prototype.toString.call(s),Error(i(31,a==="[object Object]"?"object with keys {"+Object.keys(s).join(", ")+"}":a)))}function Zb(a){function s(G,U){if(a){var X=G.deletions;X===null?(G.deletions=[U],G.flags|=16):X.push(U)}}function c(G,U){if(!a)return null;for(;U!==null;)s(G,U),U=U.sibling;return null}function f(G){for(var U=new Map;G!==null;)G.key!==null?U.set(G.key,G):U.set(G.index,G),G=G.sibling;return U}function m(G,U){return G=ra(G,U),G.index=0,G.sibling=null,G}function b(G,U,X){return G.index=X,a?(X=G.alternate,X!==null?(X=X.index,X<U?(G.flags|=67108866,U):X):(G.flags|=67108866,U)):(G.flags|=1048576,U)}function k(G){return a&&G.alternate===null&&(G.flags|=67108866),G}function A(G,U,X,nt){return U===null||U.tag!==6?(U=Qf(X,G.mode,nt),U.return=G,U):(U=m(U,X),U.return=G,U)}function D(G,U,X,nt){var At=X.type;return At===_?it(G,U,X.props.children,nt,X.key):U!==null&&(U.elementType===At||typeof At=="object"&&At!==null&&At.$$typeof===Z&&Mn(At)===U.type)?(U=m(U,X.props),xo(U,X),U.return=G,U):(U=Tu(X.type,X.key,X.props,null,G.mode,nt),xo(U,X),U.return=G,U)}function K(G,U,X,nt){return U===null||U.tag!==4||U.stateNode.containerInfo!==X.containerInfo||U.stateNode.implementation!==X.implementation?(U=Zf(X,G.mode,nt),U.return=G,U):(U=m(U,X.children||[]),U.return=G,U)}function it(G,U,X,nt,At){return U===null||U.tag!==7?(U=En(X,G.mode,nt,At),U.return=G,U):(U=m(U,X),U.return=G,U)}function st(G,U,X){if(typeof U=="string"&&U!==""||typeof U=="number"||typeof U=="bigint")return U=Qf(""+U,G.mode,X),U.return=G,U;if(typeof U=="object"&&U!==null){switch(U.$$typeof){case x:return X=Tu(U.type,U.key,U.props,null,G.mode,X),xo(X,U),X.return=G,X;case v:return U=Zf(U,G.mode,X),U.return=G,U;case Z:return U=Mn(U),st(G,U,X)}if(P(U)||q(U))return U=En(U,G.mode,X,null),U.return=G,U;if(typeof U.then=="function")return st(G,Bu(U),X);if(U.$$typeof===O)return st(G,Ou(G,U),X);Nu(G,U)}return null}function Q(G,U,X,nt){var At=U!==null?U.key:null;if(typeof X=="string"&&X!==""||typeof X=="number"||typeof X=="bigint")return At!==null?null:A(G,U,""+X,nt);if(typeof X=="object"&&X!==null){switch(X.$$typeof){case x:return X.key===At?D(G,U,X,nt):null;case v:return X.key===At?K(G,U,X,nt):null;case Z:return X=Mn(X),Q(G,U,X,nt)}if(P(X)||q(X))return At!==null?null:it(G,U,X,nt,null);if(typeof X.then=="function")return Q(G,U,Bu(X),nt);if(X.$$typeof===O)return Q(G,U,Ou(G,X),nt);Nu(G,X)}return null}function tt(G,U,X,nt,At){if(typeof nt=="string"&&nt!==""||typeof nt=="number"||typeof nt=="bigint")return G=G.get(X)||null,A(U,G,""+nt,At);if(typeof nt=="object"&&nt!==null){switch(nt.$$typeof){case x:return G=G.get(nt.key===null?X:nt.key)||null,D(U,G,nt,At);case v:return G=G.get(nt.key===null?X:nt.key)||null,K(U,G,nt,At);case Z:return nt=Mn(nt),tt(G,U,X,nt,At)}if(P(nt)||q(nt))return G=G.get(X)||null,it(U,G,nt,At,null);if(typeof nt.then=="function")return tt(G,U,X,Bu(nt),At);if(nt.$$typeof===O)return tt(G,U,X,Ou(U,nt),At);Nu(U,nt)}return null}function yt(G,U,X,nt){for(var At=null,Qt=null,kt=U,Pt=U=0,Yt=null;kt!==null&&Pt<X.length;Pt++){kt.index>Pt?(Yt=kt,kt=null):Yt=kt.sibling;var Zt=Q(G,kt,X[Pt],nt);if(Zt===null){kt===null&&(kt=Yt);break}a&&kt&&Zt.alternate===null&&s(G,kt),U=b(Zt,U,Pt),Qt===null?At=Zt:Qt.sibling=Zt,Qt=Zt,kt=Yt}if(Pt===X.length)return c(G,kt),Vt&&ia(G,Pt),At;if(kt===null){for(;Pt<X.length;Pt++)kt=st(G,X[Pt],nt),kt!==null&&(U=b(kt,U,Pt),Qt===null?At=kt:Qt.sibling=kt,Qt=kt);return Vt&&ia(G,Pt),At}for(kt=f(kt);Pt<X.length;Pt++)Yt=tt(kt,G,Pt,X[Pt],nt),Yt!==null&&(a&&Yt.alternate!==null&&kt.delete(Yt.key===null?Pt:Yt.key),U=b(Yt,U,Pt),Qt===null?At=Yt:Qt.sibling=Yt,Qt=Yt);return a&&kt.forEach(function(nn){return s(G,nn)}),Vt&&ia(G,Pt),At}function Mt(G,U,X,nt){if(X==null)throw Error(i(151));for(var At=null,Qt=null,kt=U,Pt=U=0,Yt=null,Zt=X.next();kt!==null&&!Zt.done;Pt++,Zt=X.next()){kt.index>Pt?(Yt=kt,kt=null):Yt=kt.sibling;var nn=Q(G,kt,Zt.value,nt);if(nn===null){kt===null&&(kt=Yt);break}a&&kt&&nn.alternate===null&&s(G,kt),U=b(nn,U,Pt),Qt===null?At=nn:Qt.sibling=nn,Qt=nn,kt=Yt}if(Zt.done)return c(G,kt),Vt&&ia(G,Pt),At;if(kt===null){for(;!Zt.done;Pt++,Zt=X.next())Zt=st(G,Zt.value,nt),Zt!==null&&(U=b(Zt,U,Pt),Qt===null?At=Zt:Qt.sibling=Zt,Qt=Zt);return Vt&&ia(G,Pt),At}for(kt=f(kt);!Zt.done;Pt++,Zt=X.next())Zt=tt(kt,G,Pt,Zt.value,nt),Zt!==null&&(a&&Zt.alternate!==null&&kt.delete(Zt.key===null?Pt:Zt.key),U=b(Zt,U,Pt),Qt===null?At=Zt:Qt.sibling=Zt,Qt=Zt);return a&&kt.forEach(function(CL){return s(G,CL)}),Vt&&ia(G,Pt),At}function he(G,U,X,nt){if(typeof X=="object"&&X!==null&&X.type===_&&X.key===null&&(X=X.props.children),typeof X=="object"&&X!==null){switch(X.$$typeof){case x:t:{for(var At=X.key;U!==null;){if(U.key===At){if(At=X.type,At===_){if(U.tag===7){c(G,U.sibling),nt=m(U,X.props.children),nt.return=G,G=nt;break t}}else if(U.elementType===At||typeof At=="object"&&At!==null&&At.$$typeof===Z&&Mn(At)===U.type){c(G,U.sibling),nt=m(U,X.props),xo(nt,X),nt.return=G,G=nt;break t}c(G,U);break}else s(G,U);U=U.sibling}X.type===_?(nt=En(X.props.children,G.mode,nt,X.key),nt.return=G,G=nt):(nt=Tu(X.type,X.key,X.props,null,G.mode,nt),xo(nt,X),nt.return=G,G=nt)}return k(G);case v:t:{for(At=X.key;U!==null;){if(U.key===At)if(U.tag===4&&U.stateNode.containerInfo===X.containerInfo&&U.stateNode.implementation===X.implementation){c(G,U.sibling),nt=m(U,X.children||[]),nt.return=G,G=nt;break t}else{c(G,U);break}else s(G,U);U=U.sibling}nt=Zf(X,G.mode,nt),nt.return=G,G=nt}return k(G);case Z:return X=Mn(X),he(G,U,X,nt)}if(P(X))return yt(G,U,X,nt);if(q(X)){if(At=q(X),typeof At!="function")throw Error(i(150));return X=At.call(X),Mt(G,U,X,nt)}if(typeof X.then=="function")return he(G,U,Bu(X),nt);if(X.$$typeof===O)return he(G,U,Ou(G,X),nt);Nu(G,X)}return typeof X=="string"&&X!==""||typeof X=="number"||typeof X=="bigint"?(X=""+X,U!==null&&U.tag===6?(c(G,U.sibling),nt=m(U,X),nt.return=G,G=nt):(c(G,U),nt=Qf(X,G.mode,nt),nt.return=G,G=nt),k(G)):c(G,U)}return function(G,U,X,nt){try{bo=0;var At=he(G,U,X,nt);return js=null,At}catch(kt){if(kt===Ds||kt===Lu)throw kt;var Qt=$r(29,kt,null,G.mode);return Qt.lanes=nt,Qt.return=G,Qt}}}var Nn=Zb(!0),Jb=Zb(!1),Ua=!1;function up(a){a.updateQueue={baseState:a.memoizedState,firstBaseUpdate:null,lastBaseUpdate:null,shared:{pending:null,lanes:0,hiddenCallbacks:null},callbacks:null}}function hp(a,s){a=a.updateQueue,s.updateQueue===a&&(s.updateQueue={baseState:a.baseState,firstBaseUpdate:a.firstBaseUpdate,lastBaseUpdate:a.lastBaseUpdate,shared:a.shared,callbacks:null})}function Ia(a){return{lane:a,tag:0,payload:null,callback:null,next:null}}function qa(a,s,c){var f=a.updateQueue;if(f===null)return null;if(f=f.shared,(ee&2)!==0){var m=f.pending;return m===null?s.next=s:(s.next=m.next,m.next=s),f.pending=s,s=Cu(a),jb(a,null,c),s}return ku(a,f,s,c),Cu(a)}function vo(a,s,c){if(s=s.updateQueue,s!==null&&(s=s.shared,(c&4194048)!==0)){var f=s.lanes;f&=a.pendingLanes,c|=f,s.lanes=c,Jl(a,c)}}function dp(a,s){var c=a.updateQueue,f=a.alternate;if(f!==null&&(f=f.updateQueue,c===f)){var m=null,b=null;if(c=c.firstBaseUpdate,c!==null){do{var k={lane:c.lane,tag:c.tag,payload:c.payload,callback:null,next:null};b===null?m=b=k:b=b.next=k,c=c.next}while(c!==null);b===null?m=b=s:b=b.next=s}else m=b=s;c={baseState:f.baseState,firstBaseUpdate:m,lastBaseUpdate:b,shared:f.shared,callbacks:f.callbacks},a.updateQueue=c;return}a=c.lastBaseUpdate,a===null?c.firstBaseUpdate=s:a.next=s,c.lastBaseUpdate=s}var fp=!1;function _o(){if(fp){var a=Ns;if(a!==null)throw a}}function wo(a,s,c,f){fp=!1;var m=a.updateQueue;Ua=!1;var b=m.firstBaseUpdate,k=m.lastBaseUpdate,A=m.shared.pending;if(A!==null){m.shared.pending=null;var D=A,K=D.next;D.next=null,k===null?b=K:k.next=K,k=D;var it=a.alternate;it!==null&&(it=it.updateQueue,A=it.lastBaseUpdate,A!==k&&(A===null?it.firstBaseUpdate=K:A.next=K,it.lastBaseUpdate=D))}if(b!==null){var st=m.baseState;k=0,it=K=D=null,A=b;do{var Q=A.lane&-536870913,tt=Q!==A.lane;if(tt?(Gt&Q)===Q:(f&Q)===Q){Q!==0&&Q===Bs&&(fp=!0),it!==null&&(it=it.next={lane:0,tag:A.tag,payload:A.payload,callback:null,next:null});t:{var yt=a,Mt=A;Q=s;var he=c;switch(Mt.tag){case 1:if(yt=Mt.payload,typeof yt=="function"){st=yt.call(he,st,Q);break t}st=yt;break t;case 3:yt.flags=yt.flags&-65537|128;case 0:if(yt=Mt.payload,Q=typeof yt=="function"?yt.call(he,st,Q):yt,Q==null)break t;st=g({},st,Q);break t;case 2:Ua=!0}}Q=A.callback,Q!==null&&(a.flags|=64,tt&&(a.flags|=8192),tt=m.callbacks,tt===null?m.callbacks=[Q]:tt.push(Q))}else tt={lane:Q,tag:A.tag,payload:A.payload,callback:A.callback,next:null},it===null?(K=it=tt,D=st):it=it.next=tt,k|=Q;if(A=A.next,A===null){if(A=m.shared.pending,A===null)break;tt=A,A=tt.next,tt.next=null,m.lastBaseUpdate=tt,m.shared.pending=null}}while(!0);it===null&&(D=st),m.baseState=D,m.firstBaseUpdate=K,m.lastBaseUpdate=it,b===null&&(m.shared.lanes=0),Va|=k,a.lanes=k,a.memoizedState=st}}function tx(a,s){if(typeof a!="function")throw Error(i(191,a));a.call(s)}function ex(a,s){var c=a.callbacks;if(c!==null)for(a.callbacks=null,a=0;a<c.length;a++)tx(c[a],s)}var $s=M(null),Du=M(0);function rx(a,s){a=pa,et(Du,a),et($s,s),pa=a|s.baseLanes}function pp(){et(Du,pa),et($s,$s.current)}function gp(){pa=Du.current,V($s),V(Du)}var zr=M(null),li=null;function Ha(a){var s=a.alternate;et(Ee,Ee.current&1),et(zr,a),li===null&&(s===null||$s.current!==null||s.memoizedState!==null)&&(li=a)}function mp(a){et(Ee,Ee.current),et(zr,a),li===null&&(li=a)}function ix(a){a.tag===22?(et(Ee,Ee.current),et(zr,a),li===null&&(li=a)):Wa()}function Wa(){et(Ee,Ee.current),et(zr,zr.current)}function Fr(a){V(zr),li===a&&(li=null),V(Ee)}var Ee=M(0);function ju(a){for(var s=a;s!==null;){if(s.tag===13){var c=s.memoizedState;if(c!==null&&(c=c.dehydrated,c===null||wg(c)||Sg(c)))return s}else if(s.tag===19&&(s.memoizedProps.revealOrder==="forwards"||s.memoizedProps.revealOrder==="backwards"||s.memoizedProps.revealOrder==="unstable_legacy-backwards"||s.memoizedProps.revealOrder==="together")){if((s.flags&128)!==0)return s}else if(s.child!==null){s.child.return=s,s=s.child;continue}if(s===a)break;for(;s.sibling===null;){if(s.return===null||s.return===a)return null;s=s.return}s.sibling.return=s.return,s=s.sibling}return null}var sa=0,Ft=null,ce=null,Be=null,$u=!1,zs=!1,Dn=!1,zu=0,So=0,Fs=null,gR=0;function Se(){throw Error(i(321))}function yp(a,s){if(s===null)return!1;for(var c=0;c<s.length&&c<a.length;c++)if(!jr(a[c],s[c]))return!1;return!0}function bp(a,s,c,f,m,b){return sa=b,Ft=s,s.memoizedState=null,s.updateQueue=null,s.lanes=0,R.H=a===null||a.memoizedState===null?Px:Bp,Dn=!1,b=c(f,m),Dn=!1,zs&&(b=nx(s,c,f,m)),ax(a),b}function ax(a){R.H=To;var s=ce!==null&&ce.next!==null;if(sa=0,Be=ce=Ft=null,$u=!1,So=0,Fs=null,s)throw Error(i(300));a===null||Ne||(a=a.dependencies,a!==null&&Au(a)&&(Ne=!0))}function nx(a,s,c,f){Ft=a;var m=0;do{if(zs&&(Fs=null),So=0,zs=!1,25<=m)throw Error(i(301));if(m+=1,Be=ce=null,a.updateQueue!=null){var b=a.updateQueue;b.lastEffect=null,b.events=null,b.stores=null,b.memoCache!=null&&(b.memoCache.index=0)}R.H=Ux,b=s(c,f)}while(zs);return b}function mR(){var a=R.H,s=a.useState()[0];return s=typeof s.then=="function"?ko(s):s,a=a.useState()[0],(ce!==null?ce.memoizedState:null)!==a&&(Ft.flags|=1024),s}function xp(){var a=zu!==0;return zu=0,a}function vp(a,s,c){s.updateQueue=a.updateQueue,s.flags&=-2053,a.lanes&=~c}function _p(a){if($u){for(a=a.memoizedState;a!==null;){var s=a.queue;s!==null&&(s.pending=null),a=a.next}$u=!1}sa=0,Be=ce=Ft=null,zs=!1,So=zu=0,Fs=null}function fr(){var a={memoizedState:null,baseState:null,baseQueue:null,queue:null,next:null};return Be===null?Ft.memoizedState=Be=a:Be=Be.next=a,Be}function Ae(){if(ce===null){var a=Ft.alternate;a=a!==null?a.memoizedState:null}else a=ce.next;var s=Be===null?Ft.memoizedState:Be.next;if(s!==null)Be=s,ce=a;else{if(a===null)throw Ft.alternate===null?Error(i(467)):Error(i(310));ce=a,a={memoizedState:ce.memoizedState,baseState:ce.baseState,baseQueue:ce.baseQueue,queue:ce.queue,next:null},Be===null?Ft.memoizedState=Be=a:Be=Be.next=a}return Be}function Fu(){return{lastEffect:null,events:null,stores:null,memoCache:null}}function ko(a){var s=So;return So+=1,Fs===null&&(Fs=[]),a=Xb(Fs,a,s),s=Ft,(Be===null?s.memoizedState:Be.next)===null&&(s=s.alternate,R.H=s===null||s.memoizedState===null?Px:Bp),a}function Pu(a){if(a!==null&&typeof a=="object"){if(typeof a.then=="function")return ko(a);if(a.$$typeof===O)return Ze(a)}throw Error(i(438,String(a)))}function wp(a){var s=null,c=Ft.updateQueue;if(c!==null&&(s=c.memoCache),s==null){var f=Ft.alternate;f!==null&&(f=f.updateQueue,f!==null&&(f=f.memoCache,f!=null&&(s={data:f.data.map(function(m){return m.slice()}),index:0})))}if(s==null&&(s={data:[],index:0}),c===null&&(c=Fu(),Ft.updateQueue=c),c.memoCache=s,c=s.data[s.index],c===void 0)for(c=s.data[s.index]=Array(a),f=0;f<a;f++)c[f]=at;return s.index++,c}function la(a,s){return typeof s=="function"?s(a):s}function Uu(a){var s=Ae();return Sp(s,ce,a)}function Sp(a,s,c){var f=a.queue;if(f===null)throw Error(i(311));f.lastRenderedReducer=c;var m=a.baseQueue,b=f.pending;if(b!==null){if(m!==null){var k=m.next;m.next=b.next,b.next=k}s.baseQueue=m=b,f.pending=null}if(b=a.baseState,m===null)a.memoizedState=b;else{s=m.next;var A=k=null,D=null,K=s,it=!1;do{var st=K.lane&-536870913;if(st!==K.lane?(Gt&st)===st:(sa&st)===st){var Q=K.revertLane;if(Q===0)D!==null&&(D=D.next={lane:0,revertLane:0,gesture:null,action:K.action,hasEagerState:K.hasEagerState,eagerState:K.eagerState,next:null}),st===Bs&&(it=!0);else if((sa&Q)===Q){K=K.next,Q===Bs&&(it=!0);continue}else st={lane:0,revertLane:K.revertLane,gesture:null,action:K.action,hasEagerState:K.hasEagerState,eagerState:K.eagerState,next:null},D===null?(A=D=st,k=b):D=D.next=st,Ft.lanes|=Q,Va|=Q;st=K.action,Dn&&c(b,st),b=K.hasEagerState?K.eagerState:c(b,st)}else Q={lane:st,revertLane:K.revertLane,gesture:K.gesture,action:K.action,hasEagerState:K.hasEagerState,eagerState:K.eagerState,next:null},D===null?(A=D=Q,k=b):D=D.next=Q,Ft.lanes|=st,Va|=st;K=K.next}while(K!==null&&K!==s);if(D===null?k=b:D.next=A,!jr(b,a.memoizedState)&&(Ne=!0,it&&(c=Ns,c!==null)))throw c;a.memoizedState=b,a.baseState=k,a.baseQueue=D,f.lastRenderedState=b}return m===null&&(f.lanes=0),[a.memoizedState,f.dispatch]}function kp(a){var s=Ae(),c=s.queue;if(c===null)throw Error(i(311));c.lastRenderedReducer=a;var f=c.dispatch,m=c.pending,b=s.memoizedState;if(m!==null){c.pending=null;var k=m=m.next;do b=a(b,k.action),k=k.next;while(k!==m);jr(b,s.memoizedState)||(Ne=!0),s.memoizedState=b,s.baseQueue===null&&(s.baseState=b),c.lastRenderedState=b}return[b,f]}function sx(a,s,c){var f=Ft,m=Ae(),b=Vt;if(b){if(c===void 0)throw Error(i(407));c=c()}else c=s();var k=!jr((ce||m).memoizedState,c);if(k&&(m.memoizedState=c,Ne=!0),m=m.queue,Ep(cx.bind(null,f,m,a),[a]),m.getSnapshot!==s||k||Be!==null&&Be.memoizedState.tag&1){if(f.flags|=2048,Ps(9,{destroy:void 0},ox.bind(null,f,m,c,s),null),de===null)throw Error(i(349));b||(sa&127)!==0||lx(f,s,c)}return c}function lx(a,s,c){a.flags|=16384,a={getSnapshot:s,value:c},s=Ft.updateQueue,s===null?(s=Fu(),Ft.updateQueue=s,s.stores=[a]):(c=s.stores,c===null?s.stores=[a]:c.push(a))}function ox(a,s,c,f){s.value=c,s.getSnapshot=f,ux(s)&&hx(a)}function cx(a,s,c){return c(function(){ux(s)&&hx(a)})}function ux(a){var s=a.getSnapshot;a=a.value;try{var c=s();return!jr(a,c)}catch{return!0}}function hx(a){var s=Tn(a,2);s!==null&&Ar(s,a,2)}function Cp(a){var s=fr();if(typeof a=="function"){var c=a;if(a=c(),Dn){Ye(!0);try{c()}finally{Ye(!1)}}}return s.memoizedState=s.baseState=a,s.queue={pending:null,lanes:0,dispatch:null,lastRenderedReducer:la,lastRenderedState:a},s}function dx(a,s,c,f){return a.baseState=c,Sp(a,ce,typeof f=="function"?f:la)}function yR(a,s,c,f,m){if(Hu(a))throw Error(i(485));if(a=s.action,a!==null){var b={payload:m,action:a,next:null,isTransition:!0,status:"pending",value:null,reason:null,listeners:[],then:function(k){b.listeners.push(k)}};R.T!==null?c(!0):b.isTransition=!1,f(b),c=s.pending,c===null?(b.next=s.pending=b,fx(s,b)):(b.next=c.next,s.pending=c.next=b)}}function fx(a,s){var c=s.action,f=s.payload,m=a.state;if(s.isTransition){var b=R.T,k={};R.T=k;try{var A=c(m,f),D=R.S;D!==null&&D(k,A),px(a,s,A)}catch(K){Tp(a,s,K)}finally{b!==null&&k.types!==null&&(b.types=k.types),R.T=b}}else try{b=c(m,f),px(a,s,b)}catch(K){Tp(a,s,K)}}function px(a,s,c){c!==null&&typeof c=="object"&&typeof c.then=="function"?c.then(function(f){gx(a,s,f)},function(f){return Tp(a,s,f)}):gx(a,s,c)}function gx(a,s,c){s.status="fulfilled",s.value=c,mx(s),a.state=c,s=a.pending,s!==null&&(c=s.next,c===s?a.pending=null:(c=c.next,s.next=c,fx(a,c)))}function Tp(a,s,c){var f=a.pending;if(a.pending=null,f!==null){f=f.next;do s.status="rejected",s.reason=c,mx(s),s=s.next;while(s!==f)}a.action=null}function mx(a){a=a.listeners;for(var s=0;s<a.length;s++)(0,a[s])()}function yx(a,s){return s}function bx(a,s){if(Vt){var c=de.formState;if(c!==null){t:{var f=Ft;if(Vt){if(pe){e:{for(var m=pe,b=si;m.nodeType!==8;){if(!b){m=null;break e}if(m=oi(m.nextSibling),m===null){m=null;break e}}b=m.data,m=b==="F!"||b==="F"?m:null}if(m){pe=oi(m.nextSibling),f=m.data==="F!";break t}}Fa(f)}f=!1}f&&(s=c[0])}}return c=fr(),c.memoizedState=c.baseState=s,f={pending:null,lanes:0,dispatch:null,lastRenderedReducer:yx,lastRenderedState:s},c.queue=f,c=$x.bind(null,Ft,f),f.dispatch=c,f=Cp(!1),b=Mp.bind(null,Ft,!1,f.queue),f=fr(),m={state:s,dispatch:null,action:a,pending:null},f.queue=m,c=yR.bind(null,Ft,m,b,c),m.dispatch=c,f.memoizedState=a,[s,c,!1]}function xx(a){var s=Ae();return vx(s,ce,a)}function vx(a,s,c){if(s=Sp(a,s,yx)[0],a=Uu(la)[0],typeof s=="object"&&s!==null&&typeof s.then=="function")try{var f=ko(s)}catch(k){throw k===Ds?Lu:k}else f=s;s=Ae();var m=s.queue,b=m.dispatch;return c!==s.memoizedState&&(Ft.flags|=2048,Ps(9,{destroy:void 0},bR.bind(null,m,c),null)),[f,b,a]}function bR(a,s){a.action=s}function _x(a){var s=Ae(),c=ce;if(c!==null)return vx(s,c,a);Ae(),s=s.memoizedState,c=Ae();var f=c.queue.dispatch;return c.memoizedState=a,[s,f,!1]}function Ps(a,s,c,f){return a={tag:a,create:c,deps:f,inst:s,next:null},s=Ft.updateQueue,s===null&&(s=Fu(),Ft.updateQueue=s),c=s.lastEffect,c===null?s.lastEffect=a.next=a:(f=c.next,c.next=a,a.next=f,s.lastEffect=a),a}function wx(){return Ae().memoizedState}function Iu(a,s,c,f){var m=fr();Ft.flags|=a,m.memoizedState=Ps(1|s,{destroy:void 0},c,f===void 0?null:f)}function qu(a,s,c,f){var m=Ae();f=f===void 0?null:f;var b=m.memoizedState.inst;ce!==null&&f!==null&&yp(f,ce.memoizedState.deps)?m.memoizedState=Ps(s,b,c,f):(Ft.flags|=a,m.memoizedState=Ps(1|s,b,c,f))}function Sx(a,s){Iu(8390656,8,a,s)}function Ep(a,s){qu(2048,8,a,s)}function xR(a){Ft.flags|=4;var s=Ft.updateQueue;if(s===null)s=Fu(),Ft.updateQueue=s,s.events=[a];else{var c=s.events;c===null?s.events=[a]:c.push(a)}}function kx(a){var s=Ae().memoizedState;return xR({ref:s,nextImpl:a}),function(){if((ee&2)!==0)throw Error(i(440));return s.impl.apply(void 0,arguments)}}function Cx(a,s){return qu(4,2,a,s)}function Tx(a,s){return qu(4,4,a,s)}function Ex(a,s){if(typeof s=="function"){a=a();var c=s(a);return function(){typeof c=="function"?c():s(null)}}if(s!=null)return a=a(),s.current=a,function(){s.current=null}}function Ax(a,s,c){c=c!=null?c.concat([a]):null,qu(4,4,Ex.bind(null,s,a),c)}function Ap(){}function Ox(a,s){var c=Ae();s=s===void 0?null:s;var f=c.memoizedState;return s!==null&&yp(s,f[1])?f[0]:(c.memoizedState=[a,s],a)}function Rx(a,s){var c=Ae();s=s===void 0?null:s;var f=c.memoizedState;if(s!==null&&yp(s,f[1]))return f[0];if(f=a(),Dn){Ye(!0);try{a()}finally{Ye(!1)}}return c.memoizedState=[f,s],f}function Op(a,s,c){return c===void 0||(sa&1073741824)!==0&&(Gt&261930)===0?a.memoizedState=s:(a.memoizedState=c,a=Lv(),Ft.lanes|=a,Va|=a,c)}function Lx(a,s,c,f){return jr(c,s)?c:$s.current!==null?(a=Op(a,c,f),jr(a,s)||(Ne=!0),a):(sa&42)===0||(sa&1073741824)!==0&&(Gt&261930)===0?(Ne=!0,a.memoizedState=c):(a=Lv(),Ft.lanes|=a,Va|=a,s)}function Mx(a,s,c,f,m){var b=$.p;$.p=b!==0&&8>b?b:8;var k=R.T,A={};R.T=A,Mp(a,!1,s,c);try{var D=m(),K=R.S;if(K!==null&&K(A,D),D!==null&&typeof D=="object"&&typeof D.then=="function"){var it=pR(D,f);Co(a,s,it,Ir(a))}else Co(a,s,f,Ir(a))}catch(st){Co(a,s,{then:function(){},status:"rejected",reason:st},Ir())}finally{$.p=b,k!==null&&A.types!==null&&(k.types=A.types),R.T=k}}function vR(){}function Rp(a,s,c,f){if(a.tag!==5)throw Error(i(476));var m=Bx(a).queue;Mx(a,m,s,H,c===null?vR:function(){return Nx(a),c(f)})}function Bx(a){var s=a.memoizedState;if(s!==null)return s;s={memoizedState:H,baseState:H,baseQueue:null,queue:{pending:null,lanes:0,dispatch:null,lastRenderedReducer:la,lastRenderedState:H},next:null};var c={};return s.next={memoizedState:c,baseState:c,baseQueue:null,queue:{pending:null,lanes:0,dispatch:null,lastRenderedReducer:la,lastRenderedState:c},next:null},a.memoizedState=s,a=a.alternate,a!==null&&(a.memoizedState=s),s}function Nx(a){var s=Bx(a);s.next===null&&(s=a.alternate.memoizedState),Co(a,s.next.queue,{},Ir())}function Lp(){return Ze(Io)}function Dx(){return Ae().memoizedState}function jx(){return Ae().memoizedState}function _R(a){for(var s=a.return;s!==null;){switch(s.tag){case 24:case 3:var c=Ir();a=Ia(c);var f=qa(s,a,c);f!==null&&(Ar(f,s,c),vo(f,s,c)),s={cache:sp()},a.payload=s;return}s=s.return}}function wR(a,s,c){var f=Ir();c={lane:f,revertLane:0,gesture:null,action:c,hasEagerState:!1,eagerState:null,next:null},Hu(a)?zx(s,c):(c=Xf(a,s,c,f),c!==null&&(Ar(c,a,f),Fx(c,s,f)))}function $x(a,s,c){var f=Ir();Co(a,s,c,f)}function Co(a,s,c,f){var m={lane:f,revertLane:0,gesture:null,action:c,hasEagerState:!1,eagerState:null,next:null};if(Hu(a))zx(s,m);else{var b=a.alternate;if(a.lanes===0&&(b===null||b.lanes===0)&&(b=s.lastRenderedReducer,b!==null))try{var k=s.lastRenderedState,A=b(k,c);if(m.hasEagerState=!0,m.eagerState=A,jr(A,k))return ku(a,s,m,0),de===null&&Su(),!1}catch{}if(c=Xf(a,s,m,f),c!==null)return Ar(c,a,f),Fx(c,s,f),!0}return!1}function Mp(a,s,c,f){if(f={lane:2,revertLane:ug(),gesture:null,action:f,hasEagerState:!1,eagerState:null,next:null},Hu(a)){if(s)throw Error(i(479))}else s=Xf(a,c,f,2),s!==null&&Ar(s,a,2)}function Hu(a){var s=a.alternate;return a===Ft||s!==null&&s===Ft}function zx(a,s){zs=$u=!0;var c=a.pending;c===null?s.next=s:(s.next=c.next,c.next=s),a.pending=s}function Fx(a,s,c){if((c&4194048)!==0){var f=s.lanes;f&=a.pendingLanes,c|=f,s.lanes=c,Jl(a,c)}}var To={readContext:Ze,use:Pu,useCallback:Se,useContext:Se,useEffect:Se,useImperativeHandle:Se,useLayoutEffect:Se,useInsertionEffect:Se,useMemo:Se,useReducer:Se,useRef:Se,useState:Se,useDebugValue:Se,useDeferredValue:Se,useTransition:Se,useSyncExternalStore:Se,useId:Se,useHostTransitionStatus:Se,useFormState:Se,useActionState:Se,useOptimistic:Se,useMemoCache:Se,useCacheRefresh:Se};To.useEffectEvent=Se;var Px={readContext:Ze,use:Pu,useCallback:function(a,s){return fr().memoizedState=[a,s===void 0?null:s],a},useContext:Ze,useEffect:Sx,useImperativeHandle:function(a,s,c){c=c!=null?c.concat([a]):null,Iu(4194308,4,Ex.bind(null,s,a),c)},useLayoutEffect:function(a,s){return Iu(4194308,4,a,s)},useInsertionEffect:function(a,s){Iu(4,2,a,s)},useMemo:function(a,s){var c=fr();s=s===void 0?null:s;var f=a();if(Dn){Ye(!0);try{a()}finally{Ye(!1)}}return c.memoizedState=[f,s],f},useReducer:function(a,s,c){var f=fr();if(c!==void 0){var m=c(s);if(Dn){Ye(!0);try{c(s)}finally{Ye(!1)}}}else m=s;return f.memoizedState=f.baseState=m,a={pending:null,lanes:0,dispatch:null,lastRenderedReducer:a,lastRenderedState:m},f.queue=a,a=a.dispatch=wR.bind(null,Ft,a),[f.memoizedState,a]},useRef:function(a){var s=fr();return a={current:a},s.memoizedState=a},useState:function(a){a=Cp(a);var s=a.queue,c=$x.bind(null,Ft,s);return s.dispatch=c,[a.memoizedState,c]},useDebugValue:Ap,useDeferredValue:function(a,s){var c=fr();return Op(c,a,s)},useTransition:function(){var a=Cp(!1);return a=Mx.bind(null,Ft,a.queue,!0,!1),fr().memoizedState=a,[!1,a]},useSyncExternalStore:function(a,s,c){var f=Ft,m=fr();if(Vt){if(c===void 0)throw Error(i(407));c=c()}else{if(c=s(),de===null)throw Error(i(349));(Gt&127)!==0||lx(f,s,c)}m.memoizedState=c;var b={value:c,getSnapshot:s};return m.queue=b,Sx(cx.bind(null,f,b,a),[a]),f.flags|=2048,Ps(9,{destroy:void 0},ox.bind(null,f,b,c,s),null),c},useId:function(){var a=fr(),s=de.identifierPrefix;if(Vt){var c=Ni,f=Bi;c=(f&~(1<<32-Re(f)-1)).toString(32)+c,s="_"+s+"R_"+c,c=zu++,0<c&&(s+="H"+c.toString(32)),s+="_"}else c=gR++,s="_"+s+"r_"+c.toString(32)+"_";return a.memoizedState=s},useHostTransitionStatus:Lp,useFormState:bx,useActionState:bx,useOptimistic:function(a){var s=fr();s.memoizedState=s.baseState=a;var c={pending:null,lanes:0,dispatch:null,lastRenderedReducer:null,lastRenderedState:null};return s.queue=c,s=Mp.bind(null,Ft,!0,c),c.dispatch=s,[a,s]},useMemoCache:wp,useCacheRefresh:function(){return fr().memoizedState=_R.bind(null,Ft)},useEffectEvent:function(a){var s=fr(),c={impl:a};return s.memoizedState=c,function(){if((ee&2)!==0)throw Error(i(440));return c.impl.apply(void 0,arguments)}}},Bp={readContext:Ze,use:Pu,useCallback:Ox,useContext:Ze,useEffect:Ep,useImperativeHandle:Ax,useInsertionEffect:Cx,useLayoutEffect:Tx,useMemo:Rx,useReducer:Uu,useRef:wx,useState:function(){return Uu(la)},useDebugValue:Ap,useDeferredValue:function(a,s){var c=Ae();return Lx(c,ce.memoizedState,a,s)},useTransition:function(){var a=Uu(la)[0],s=Ae().memoizedState;return[typeof a=="boolean"?a:ko(a),s]},useSyncExternalStore:sx,useId:Dx,useHostTransitionStatus:Lp,useFormState:xx,useActionState:xx,useOptimistic:function(a,s){var c=Ae();return dx(c,ce,a,s)},useMemoCache:wp,useCacheRefresh:jx};Bp.useEffectEvent=kx;var Ux={readContext:Ze,use:Pu,useCallback:Ox,useContext:Ze,useEffect:Ep,useImperativeHandle:Ax,useInsertionEffect:Cx,useLayoutEffect:Tx,useMemo:Rx,useReducer:kp,useRef:wx,useState:function(){return kp(la)},useDebugValue:Ap,useDeferredValue:function(a,s){var c=Ae();return ce===null?Op(c,a,s):Lx(c,ce.memoizedState,a,s)},useTransition:function(){var a=kp(la)[0],s=Ae().memoizedState;return[typeof a=="boolean"?a:ko(a),s]},useSyncExternalStore:sx,useId:Dx,useHostTransitionStatus:Lp,useFormState:_x,useActionState:_x,useOptimistic:function(a,s){var c=Ae();return ce!==null?dx(c,ce,a,s):(c.baseState=a,[a,c.queue.dispatch])},useMemoCache:wp,useCacheRefresh:jx};Ux.useEffectEvent=kx;function Np(a,s,c,f){s=a.memoizedState,c=c(f,s),c=c==null?s:g({},s,c),a.memoizedState=c,a.lanes===0&&(a.updateQueue.baseState=c)}var Dp={enqueueSetState:function(a,s,c){a=a._reactInternals;var f=Ir(),m=Ia(f);m.payload=s,c!=null&&(m.callback=c),s=qa(a,m,f),s!==null&&(Ar(s,a,f),vo(s,a,f))},enqueueReplaceState:function(a,s,c){a=a._reactInternals;var f=Ir(),m=Ia(f);m.tag=1,m.payload=s,c!=null&&(m.callback=c),s=qa(a,m,f),s!==null&&(Ar(s,a,f),vo(s,a,f))},enqueueForceUpdate:function(a,s){a=a._reactInternals;var c=Ir(),f=Ia(c);f.tag=2,s!=null&&(f.callback=s),s=qa(a,f,c),s!==null&&(Ar(s,a,c),vo(s,a,c))}};function Ix(a,s,c,f,m,b,k){return a=a.stateNode,typeof a.shouldComponentUpdate=="function"?a.shouldComponentUpdate(f,b,k):s.prototype&&s.prototype.isPureReactComponent?!ho(c,f)||!ho(m,b):!0}function qx(a,s,c,f){a=s.state,typeof s.componentWillReceiveProps=="function"&&s.componentWillReceiveProps(c,f),typeof s.UNSAFE_componentWillReceiveProps=="function"&&s.UNSAFE_componentWillReceiveProps(c,f),s.state!==a&&Dp.enqueueReplaceState(s,s.state,null)}function jn(a,s){var c=s;if("ref"in s){c={};for(var f in s)f!=="ref"&&(c[f]=s[f])}if(a=a.defaultProps){c===s&&(c=g({},c));for(var m in a)c[m]===void 0&&(c[m]=a[m])}return c}function Hx(a){wu(a)}function Wx(a){console.error(a)}function Gx(a){wu(a)}function Wu(a,s){try{var c=a.onUncaughtError;c(s.value,{componentStack:s.stack})}catch(f){setTimeout(function(){throw f})}}function Yx(a,s,c){try{var f=a.onCaughtError;f(c.value,{componentStack:c.stack,errorBoundary:s.tag===1?s.stateNode:null})}catch(m){setTimeout(function(){throw m})}}function jp(a,s,c){return c=Ia(c),c.tag=3,c.payload={element:null},c.callback=function(){Wu(a,s)},c}function Vx(a){return a=Ia(a),a.tag=3,a}function Xx(a,s,c,f){var m=c.type.getDerivedStateFromError;if(typeof m=="function"){var b=f.value;a.payload=function(){return m(b)},a.callback=function(){Yx(s,c,f)}}var k=c.stateNode;k!==null&&typeof k.componentDidCatch=="function"&&(a.callback=function(){Yx(s,c,f),typeof m!="function"&&(Xa===null?Xa=new Set([this]):Xa.add(this));var A=f.stack;this.componentDidCatch(f.value,{componentStack:A!==null?A:""})})}function SR(a,s,c,f,m){if(c.flags|=32768,f!==null&&typeof f=="object"&&typeof f.then=="function"){if(s=c.alternate,s!==null&&Ms(s,c,m,!0),c=zr.current,c!==null){switch(c.tag){case 31:case 13:return li===null?ih():c.alternate===null&&ke===0&&(ke=3),c.flags&=-257,c.flags|=65536,c.lanes=m,f===Mu?c.flags|=16384:(s=c.updateQueue,s===null?c.updateQueue=new Set([f]):s.add(f),lg(a,f,m)),!1;case 22:return c.flags|=65536,f===Mu?c.flags|=16384:(s=c.updateQueue,s===null?(s={transitions:null,markerInstances:null,retryQueue:new Set([f])},c.updateQueue=s):(c=s.retryQueue,c===null?s.retryQueue=new Set([f]):c.add(f)),lg(a,f,m)),!1}throw Error(i(435,c.tag))}return lg(a,f,m),ih(),!1}if(Vt)return s=zr.current,s!==null?((s.flags&65536)===0&&(s.flags|=256),s.flags|=65536,s.lanes=m,f!==ep&&(a=Error(i(422),{cause:f}),go(ii(a,c)))):(f!==ep&&(s=Error(i(423),{cause:f}),go(ii(s,c))),a=a.current.alternate,a.flags|=65536,m&=-m,a.lanes|=m,f=ii(f,c),m=jp(a.stateNode,f,m),dp(a,m),ke!==4&&(ke=2)),!1;var b=Error(i(520),{cause:f});if(b=ii(b,c),No===null?No=[b]:No.push(b),ke!==4&&(ke=2),s===null)return!0;f=ii(f,c),c=s;do{switch(c.tag){case 3:return c.flags|=65536,a=m&-m,c.lanes|=a,a=jp(c.stateNode,f,a),dp(c,a),!1;case 1:if(s=c.type,b=c.stateNode,(c.flags&128)===0&&(typeof s.getDerivedStateFromError=="function"||b!==null&&typeof b.componentDidCatch=="function"&&(Xa===null||!Xa.has(b))))return c.flags|=65536,m&=-m,c.lanes|=m,m=Vx(m),Xx(m,a,c,f),dp(c,m),!1}c=c.return}while(c!==null);return!1}var $p=Error(i(461)),Ne=!1;function Je(a,s,c,f){s.child=a===null?Jb(s,null,c,f):Nn(s,a.child,c,f)}function Kx(a,s,c,f,m){c=c.render;var b=s.ref;if("ref"in f){var k={};for(var A in f)A!=="ref"&&(k[A]=f[A])}else k=f;return Rn(s),f=bp(a,s,c,k,b,m),A=xp(),a!==null&&!Ne?(vp(a,s,m),oa(a,s,m)):(Vt&&A&&Jf(s),s.flags|=1,Je(a,s,f,m),s.child)}function Qx(a,s,c,f,m){if(a===null){var b=c.type;return typeof b=="function"&&!Kf(b)&&b.defaultProps===void 0&&c.compare===null?(s.tag=15,s.type=b,Zx(a,s,b,f,m)):(a=Tu(c.type,null,f,s,s.mode,m),a.ref=s.ref,a.return=s,s.child=a)}if(b=a.child,!Wp(a,m)){var k=b.memoizedProps;if(c=c.compare,c=c!==null?c:ho,c(k,f)&&a.ref===s.ref)return oa(a,s,m)}return s.flags|=1,a=ra(b,f),a.ref=s.ref,a.return=s,s.child=a}function Zx(a,s,c,f,m){if(a!==null){var b=a.memoizedProps;if(ho(b,f)&&a.ref===s.ref)if(Ne=!1,s.pendingProps=f=b,Wp(a,m))(a.flags&131072)!==0&&(Ne=!0);else return s.lanes=a.lanes,oa(a,s,m)}return zp(a,s,c,f,m)}function Jx(a,s,c,f){var m=f.children,b=a!==null?a.memoizedState:null;if(a===null&&s.stateNode===null&&(s.stateNode={_visibility:1,_pendingMarkers:null,_retryCache:null,_transitions:null}),f.mode==="hidden"){if((s.flags&128)!==0){if(b=b!==null?b.baseLanes|c:c,a!==null){for(f=s.child=a.child,m=0;f!==null;)m=m|f.lanes|f.childLanes,f=f.sibling;f=m&~b}else f=0,s.child=null;return tv(a,s,b,c,f)}if((c&536870912)!==0)s.memoizedState={baseLanes:0,cachePool:null},a!==null&&Ru(s,b!==null?b.cachePool:null),b!==null?rx(s,b):pp(),ix(s);else return f=s.lanes=536870912,tv(a,s,b!==null?b.baseLanes|c:c,c,f)}else b!==null?(Ru(s,b.cachePool),rx(s,b),Wa(),s.memoizedState=null):(a!==null&&Ru(s,null),pp(),Wa());return Je(a,s,m,c),s.child}function Eo(a,s){return a!==null&&a.tag===22||s.stateNode!==null||(s.stateNode={_visibility:1,_pendingMarkers:null,_retryCache:null,_transitions:null}),s.sibling}function tv(a,s,c,f,m){var b=op();return b=b===null?null:{parent:Me._currentValue,pool:b},s.memoizedState={baseLanes:c,cachePool:b},a!==null&&Ru(s,null),pp(),ix(s),a!==null&&Ms(a,s,f,!0),s.childLanes=m,null}function Gu(a,s){return s=Vu({mode:s.mode,children:s.children},a.mode),s.ref=a.ref,a.child=s,s.return=a,s}function ev(a,s,c){return Nn(s,a.child,null,c),a=Gu(s,s.pendingProps),a.flags|=2,Fr(s),s.memoizedState=null,a}function kR(a,s,c){var f=s.pendingProps,m=(s.flags&128)!==0;if(s.flags&=-129,a===null){if(Vt){if(f.mode==="hidden")return a=Gu(s,f),s.lanes=536870912,Eo(null,a);if(mp(s),(a=pe)?(a=f_(a,si),a=a!==null&&a.data==="&"?a:null,a!==null&&(s.memoizedState={dehydrated:a,treeContext:$a!==null?{id:Bi,overflow:Ni}:null,retryLane:536870912,hydrationErrors:null},c=zb(a),c.return=s,s.child=c,Qe=s,pe=null)):a=null,a===null)throw Fa(s);return s.lanes=536870912,null}return Gu(s,f)}var b=a.memoizedState;if(b!==null){var k=b.dehydrated;if(mp(s),m)if(s.flags&256)s.flags&=-257,s=ev(a,s,c);else if(s.memoizedState!==null)s.child=a.child,s.flags|=128,s=null;else throw Error(i(558));else if(Ne||Ms(a,s,c,!1),m=(c&a.childLanes)!==0,Ne||m){if(f=de,f!==null&&(k=ou(f,c),k!==0&&k!==b.retryLane))throw b.retryLane=k,Tn(a,k),Ar(f,a,k),$p;ih(),s=ev(a,s,c)}else a=b.treeContext,pe=oi(k.nextSibling),Qe=s,Vt=!0,za=null,si=!1,a!==null&&Ub(s,a),s=Gu(s,f),s.flags|=4096;return s}return a=ra(a.child,{mode:f.mode,children:f.children}),a.ref=s.ref,s.child=a,a.return=s,a}function Yu(a,s){var c=s.ref;if(c===null)a!==null&&a.ref!==null&&(s.flags|=4194816);else{if(typeof c!="function"&&typeof c!="object")throw Error(i(284));(a===null||a.ref!==c)&&(s.flags|=4194816)}}function zp(a,s,c,f,m){return Rn(s),c=bp(a,s,c,f,void 0,m),f=xp(),a!==null&&!Ne?(vp(a,s,m),oa(a,s,m)):(Vt&&f&&Jf(s),s.flags|=1,Je(a,s,c,m),s.child)}function rv(a,s,c,f,m,b){return Rn(s),s.updateQueue=null,c=nx(s,f,c,m),ax(a),f=xp(),a!==null&&!Ne?(vp(a,s,b),oa(a,s,b)):(Vt&&f&&Jf(s),s.flags|=1,Je(a,s,c,b),s.child)}function iv(a,s,c,f,m){if(Rn(s),s.stateNode===null){var b=As,k=c.contextType;typeof k=="object"&&k!==null&&(b=Ze(k)),b=new c(f,b),s.memoizedState=b.state!==null&&b.state!==void 0?b.state:null,b.updater=Dp,s.stateNode=b,b._reactInternals=s,b=s.stateNode,b.props=f,b.state=s.memoizedState,b.refs={},up(s),k=c.contextType,b.context=typeof k=="object"&&k!==null?Ze(k):As,b.state=s.memoizedState,k=c.getDerivedStateFromProps,typeof k=="function"&&(Np(s,c,k,f),b.state=s.memoizedState),typeof c.getDerivedStateFromProps=="function"||typeof b.getSnapshotBeforeUpdate=="function"||typeof b.UNSAFE_componentWillMount!="function"&&typeof b.componentWillMount!="function"||(k=b.state,typeof b.componentWillMount=="function"&&b.componentWillMount(),typeof b.UNSAFE_componentWillMount=="function"&&b.UNSAFE_componentWillMount(),k!==b.state&&Dp.enqueueReplaceState(b,b.state,null),wo(s,f,b,m),_o(),b.state=s.memoizedState),typeof b.componentDidMount=="function"&&(s.flags|=4194308),f=!0}else if(a===null){b=s.stateNode;var A=s.memoizedProps,D=jn(c,A);b.props=D;var K=b.context,it=c.contextType;k=As,typeof it=="object"&&it!==null&&(k=Ze(it));var st=c.getDerivedStateFromProps;it=typeof st=="function"||typeof b.getSnapshotBeforeUpdate=="function",A=s.pendingProps!==A,it||typeof b.UNSAFE_componentWillReceiveProps!="function"&&typeof b.componentWillReceiveProps!="function"||(A||K!==k)&&qx(s,b,f,k),Ua=!1;var Q=s.memoizedState;b.state=Q,wo(s,f,b,m),_o(),K=s.memoizedState,A||Q!==K||Ua?(typeof st=="function"&&(Np(s,c,st,f),K=s.memoizedState),(D=Ua||Ix(s,c,D,f,Q,K,k))?(it||typeof b.UNSAFE_componentWillMount!="function"&&typeof b.componentWillMount!="function"||(typeof b.componentWillMount=="function"&&b.componentWillMount(),typeof b.UNSAFE_componentWillMount=="function"&&b.UNSAFE_componentWillMount()),typeof b.componentDidMount=="function"&&(s.flags|=4194308)):(typeof b.componentDidMount=="function"&&(s.flags|=4194308),s.memoizedProps=f,s.memoizedState=K),b.props=f,b.state=K,b.context=k,f=D):(typeof b.componentDidMount=="function"&&(s.flags|=4194308),f=!1)}else{b=s.stateNode,hp(a,s),k=s.memoizedProps,it=jn(c,k),b.props=it,st=s.pendingProps,Q=b.context,K=c.contextType,D=As,typeof K=="object"&&K!==null&&(D=Ze(K)),A=c.getDerivedStateFromProps,(K=typeof A=="function"||typeof b.getSnapshotBeforeUpdate=="function")||typeof b.UNSAFE_componentWillReceiveProps!="function"&&typeof b.componentWillReceiveProps!="function"||(k!==st||Q!==D)&&qx(s,b,f,D),Ua=!1,Q=s.memoizedState,b.state=Q,wo(s,f,b,m),_o();var tt=s.memoizedState;k!==st||Q!==tt||Ua||a!==null&&a.dependencies!==null&&Au(a.dependencies)?(typeof A=="function"&&(Np(s,c,A,f),tt=s.memoizedState),(it=Ua||Ix(s,c,it,f,Q,tt,D)||a!==null&&a.dependencies!==null&&Au(a.dependencies))?(K||typeof b.UNSAFE_componentWillUpdate!="function"&&typeof b.componentWillUpdate!="function"||(typeof b.componentWillUpdate=="function"&&b.componentWillUpdate(f,tt,D),typeof b.UNSAFE_componentWillUpdate=="function"&&b.UNSAFE_componentWillUpdate(f,tt,D)),typeof b.componentDidUpdate=="function"&&(s.flags|=4),typeof b.getSnapshotBeforeUpdate=="function"&&(s.flags|=1024)):(typeof b.componentDidUpdate!="function"||k===a.memoizedProps&&Q===a.memoizedState||(s.flags|=4),typeof b.getSnapshotBeforeUpdate!="function"||k===a.memoizedProps&&Q===a.memoizedState||(s.flags|=1024),s.memoizedProps=f,s.memoizedState=tt),b.props=f,b.state=tt,b.context=D,f=it):(typeof b.componentDidUpdate!="function"||k===a.memoizedProps&&Q===a.memoizedState||(s.flags|=4),typeof b.getSnapshotBeforeUpdate!="function"||k===a.memoizedProps&&Q===a.memoizedState||(s.flags|=1024),f=!1)}return b=f,Yu(a,s),f=(s.flags&128)!==0,b||f?(b=s.stateNode,c=f&&typeof c.getDerivedStateFromError!="function"?null:b.render(),s.flags|=1,a!==null&&f?(s.child=Nn(s,a.child,null,m),s.child=Nn(s,null,c,m)):Je(a,s,c,m),s.memoizedState=b.state,a=s.child):a=oa(a,s,m),a}function av(a,s,c,f){return An(),s.flags|=256,Je(a,s,c,f),s.child}var Fp={dehydrated:null,treeContext:null,retryLane:0,hydrationErrors:null};function Pp(a){return{baseLanes:a,cachePool:Yb()}}function Up(a,s,c){return a=a!==null?a.childLanes&~c:0,s&&(a|=Ur),a}function nv(a,s,c){var f=s.pendingProps,m=!1,b=(s.flags&128)!==0,k;if((k=b)||(k=a!==null&&a.memoizedState===null?!1:(Ee.current&2)!==0),k&&(m=!0,s.flags&=-129),k=(s.flags&32)!==0,s.flags&=-33,a===null){if(Vt){if(m?Ha(s):Wa(),(a=pe)?(a=f_(a,si),a=a!==null&&a.data!=="&"?a:null,a!==null&&(s.memoizedState={dehydrated:a,treeContext:$a!==null?{id:Bi,overflow:Ni}:null,retryLane:536870912,hydrationErrors:null},c=zb(a),c.return=s,s.child=c,Qe=s,pe=null)):a=null,a===null)throw Fa(s);return Sg(a)?s.lanes=32:s.lanes=536870912,null}var A=f.children;return f=f.fallback,m?(Wa(),m=s.mode,A=Vu({mode:"hidden",children:A},m),f=En(f,m,c,null),A.return=s,f.return=s,A.sibling=f,s.child=A,f=s.child,f.memoizedState=Pp(c),f.childLanes=Up(a,k,c),s.memoizedState=Fp,Eo(null,f)):(Ha(s),Ip(s,A))}var D=a.memoizedState;if(D!==null&&(A=D.dehydrated,A!==null)){if(b)s.flags&256?(Ha(s),s.flags&=-257,s=qp(a,s,c)):s.memoizedState!==null?(Wa(),s.child=a.child,s.flags|=128,s=null):(Wa(),A=f.fallback,m=s.mode,f=Vu({mode:"visible",children:f.children},m),A=En(A,m,c,null),A.flags|=2,f.return=s,A.return=s,f.sibling=A,s.child=f,Nn(s,a.child,null,c),f=s.child,f.memoizedState=Pp(c),f.childLanes=Up(a,k,c),s.memoizedState=Fp,s=Eo(null,f));else if(Ha(s),Sg(A)){if(k=A.nextSibling&&A.nextSibling.dataset,k)var K=k.dgst;k=K,f=Error(i(419)),f.stack="",f.digest=k,go({value:f,source:null,stack:null}),s=qp(a,s,c)}else if(Ne||Ms(a,s,c,!1),k=(c&a.childLanes)!==0,Ne||k){if(k=de,k!==null&&(f=ou(k,c),f!==0&&f!==D.retryLane))throw D.retryLane=f,Tn(a,f),Ar(k,a,f),$p;wg(A)||ih(),s=qp(a,s,c)}else wg(A)?(s.flags|=192,s.child=a.child,s=null):(a=D.treeContext,pe=oi(A.nextSibling),Qe=s,Vt=!0,za=null,si=!1,a!==null&&Ub(s,a),s=Ip(s,f.children),s.flags|=4096);return s}return m?(Wa(),A=f.fallback,m=s.mode,D=a.child,K=D.sibling,f=ra(D,{mode:"hidden",children:f.children}),f.subtreeFlags=D.subtreeFlags&65011712,K!==null?A=ra(K,A):(A=En(A,m,c,null),A.flags|=2),A.return=s,f.return=s,f.sibling=A,s.child=f,Eo(null,f),f=s.child,A=a.child.memoizedState,A===null?A=Pp(c):(m=A.cachePool,m!==null?(D=Me._currentValue,m=m.parent!==D?{parent:D,pool:D}:m):m=Yb(),A={baseLanes:A.baseLanes|c,cachePool:m}),f.memoizedState=A,f.childLanes=Up(a,k,c),s.memoizedState=Fp,Eo(a.child,f)):(Ha(s),c=a.child,a=c.sibling,c=ra(c,{mode:"visible",children:f.children}),c.return=s,c.sibling=null,a!==null&&(k=s.deletions,k===null?(s.deletions=[a],s.flags|=16):k.push(a)),s.child=c,s.memoizedState=null,c)}function Ip(a,s){return s=Vu({mode:"visible",children:s},a.mode),s.return=a,a.child=s}function Vu(a,s){return a=$r(22,a,null,s),a.lanes=0,a}function qp(a,s,c){return Nn(s,a.child,null,c),a=Ip(s,s.pendingProps.children),a.flags|=2,s.memoizedState=null,a}function sv(a,s,c){a.lanes|=s;var f=a.alternate;f!==null&&(f.lanes|=s),ap(a.return,s,c)}function Hp(a,s,c,f,m,b){var k=a.memoizedState;k===null?a.memoizedState={isBackwards:s,rendering:null,renderingStartTime:0,last:f,tail:c,tailMode:m,treeForkCount:b}:(k.isBackwards=s,k.rendering=null,k.renderingStartTime=0,k.last=f,k.tail=c,k.tailMode=m,k.treeForkCount=b)}function lv(a,s,c){var f=s.pendingProps,m=f.revealOrder,b=f.tail;f=f.children;var k=Ee.current,A=(k&2)!==0;if(A?(k=k&1|2,s.flags|=128):k&=1,et(Ee,k),Je(a,s,f,c),f=Vt?po:0,!A&&a!==null&&(a.flags&128)!==0)t:for(a=s.child;a!==null;){if(a.tag===13)a.memoizedState!==null&&sv(a,c,s);else if(a.tag===19)sv(a,c,s);else if(a.child!==null){a.child.return=a,a=a.child;continue}if(a===s)break t;for(;a.sibling===null;){if(a.return===null||a.return===s)break t;a=a.return}a.sibling.return=a.return,a=a.sibling}switch(m){case"forwards":for(c=s.child,m=null;c!==null;)a=c.alternate,a!==null&&ju(a)===null&&(m=c),c=c.sibling;c=m,c===null?(m=s.child,s.child=null):(m=c.sibling,c.sibling=null),Hp(s,!1,m,c,b,f);break;case"backwards":case"unstable_legacy-backwards":for(c=null,m=s.child,s.child=null;m!==null;){if(a=m.alternate,a!==null&&ju(a)===null){s.child=m;break}a=m.sibling,m.sibling=c,c=m,m=a}Hp(s,!0,c,null,b,f);break;case"together":Hp(s,!1,null,null,void 0,f);break;default:s.memoizedState=null}return s.child}function oa(a,s,c){if(a!==null&&(s.dependencies=a.dependencies),Va|=s.lanes,(c&s.childLanes)===0)if(a!==null){if(Ms(a,s,c,!1),(c&s.childLanes)===0)return null}else return null;if(a!==null&&s.child!==a.child)throw Error(i(153));if(s.child!==null){for(a=s.child,c=ra(a,a.pendingProps),s.child=c,c.return=s;a.sibling!==null;)a=a.sibling,c=c.sibling=ra(a,a.pendingProps),c.return=s;c.sibling=null}return s.child}function Wp(a,s){return(a.lanes&s)!==0?!0:(a=a.dependencies,!!(a!==null&&Au(a)))}function CR(a,s,c){switch(s.tag){case 3:te(s,s.stateNode.containerInfo),Pa(s,Me,a.memoizedState.cache),An();break;case 27:case 5:oe(s);break;case 4:te(s,s.stateNode.containerInfo);break;case 10:Pa(s,s.type,s.memoizedProps.value);break;case 31:if(s.memoizedState!==null)return s.flags|=128,mp(s),null;break;case 13:var f=s.memoizedState;if(f!==null)return f.dehydrated!==null?(Ha(s),s.flags|=128,null):(c&s.child.childLanes)!==0?nv(a,s,c):(Ha(s),a=oa(a,s,c),a!==null?a.sibling:null);Ha(s);break;case 19:var m=(a.flags&128)!==0;if(f=(c&s.childLanes)!==0,f||(Ms(a,s,c,!1),f=(c&s.childLanes)!==0),m){if(f)return lv(a,s,c);s.flags|=128}if(m=s.memoizedState,m!==null&&(m.rendering=null,m.tail=null,m.lastEffect=null),et(Ee,Ee.current),f)break;return null;case 22:return s.lanes=0,Jx(a,s,c,s.pendingProps);case 24:Pa(s,Me,a.memoizedState.cache)}return oa(a,s,c)}function ov(a,s,c){if(a!==null)if(a.memoizedProps!==s.pendingProps)Ne=!0;else{if(!Wp(a,c)&&(s.flags&128)===0)return Ne=!1,CR(a,s,c);Ne=(a.flags&131072)!==0}else Ne=!1,Vt&&(s.flags&1048576)!==0&&Pb(s,po,s.index);switch(s.lanes=0,s.tag){case 16:t:{var f=s.pendingProps;if(a=Mn(s.elementType),s.type=a,typeof a=="function")Kf(a)?(f=jn(a,f),s.tag=1,s=iv(null,s,a,f,c)):(s.tag=0,s=zp(null,s,a,f,c));else{if(a!=null){var m=a.$$typeof;if(m===L){s.tag=11,s=Kx(null,s,a,f,c);break t}else if(m===j){s.tag=14,s=Qx(null,s,a,f,c);break t}}throw s=z(a)||a,Error(i(306,s,""))}}return s;case 0:return zp(a,s,s.type,s.pendingProps,c);case 1:return f=s.type,m=jn(f,s.pendingProps),iv(a,s,f,m,c);case 3:t:{if(te(s,s.stateNode.containerInfo),a===null)throw Error(i(387));f=s.pendingProps;var b=s.memoizedState;m=b.element,hp(a,s),wo(s,f,null,c);var k=s.memoizedState;if(f=k.cache,Pa(s,Me,f),f!==b.cache&&np(s,[Me],c,!0),_o(),f=k.element,b.isDehydrated)if(b={element:f,isDehydrated:!1,cache:k.cache},s.updateQueue.baseState=b,s.memoizedState=b,s.flags&256){s=av(a,s,f,c);break t}else if(f!==m){m=ii(Error(i(424)),s),go(m),s=av(a,s,f,c);break t}else for(a=s.stateNode.containerInfo,a.nodeType===9?a=a.body:a=a.nodeName==="HTML"?a.ownerDocument.body:a,pe=oi(a.firstChild),Qe=s,Vt=!0,za=null,si=!0,c=Jb(s,null,f,c),s.child=c;c;)c.flags=c.flags&-3|4096,c=c.sibling;else{if(An(),f===m){s=oa(a,s,c);break t}Je(a,s,f,c)}s=s.child}return s;case 26:return Yu(a,s),a===null?(c=x_(s.type,null,s.pendingProps,null))?s.memoizedState=c:Vt||(c=s.type,a=s.pendingProps,f=uh(Ct.current).createElement(c),f[Le]=s,f[ye]=a,tr(f,c,a),Ut(f),s.stateNode=f):s.memoizedState=x_(s.type,a.memoizedProps,s.pendingProps,a.memoizedState),null;case 27:return oe(s),a===null&&Vt&&(f=s.stateNode=m_(s.type,s.pendingProps,Ct.current),Qe=s,si=!0,m=pe,Ja(s.type)?(kg=m,pe=oi(f.firstChild)):pe=m),Je(a,s,s.pendingProps.children,c),Yu(a,s),a===null&&(s.flags|=4194304),s.child;case 5:return a===null&&Vt&&((m=f=pe)&&(f=eL(f,s.type,s.pendingProps,si),f!==null?(s.stateNode=f,Qe=s,pe=oi(f.firstChild),si=!1,m=!0):m=!1),m||Fa(s)),oe(s),m=s.type,b=s.pendingProps,k=a!==null?a.memoizedProps:null,f=b.children,xg(m,b)?f=null:k!==null&&xg(m,k)&&(s.flags|=32),s.memoizedState!==null&&(m=bp(a,s,mR,null,null,c),Io._currentValue=m),Yu(a,s),Je(a,s,f,c),s.child;case 6:return a===null&&Vt&&((a=c=pe)&&(c=rL(c,s.pendingProps,si),c!==null?(s.stateNode=c,Qe=s,pe=null,a=!0):a=!1),a||Fa(s)),null;case 13:return nv(a,s,c);case 4:return te(s,s.stateNode.containerInfo),f=s.pendingProps,a===null?s.child=Nn(s,null,f,c):Je(a,s,f,c),s.child;case 11:return Kx(a,s,s.type,s.pendingProps,c);case 7:return Je(a,s,s.pendingProps,c),s.child;case 8:return Je(a,s,s.pendingProps.children,c),s.child;case 12:return Je(a,s,s.pendingProps.children,c),s.child;case 10:return f=s.pendingProps,Pa(s,s.type,f.value),Je(a,s,f.children,c),s.child;case 9:return m=s.type._context,f=s.pendingProps.children,Rn(s),m=Ze(m),f=f(m),s.flags|=1,Je(a,s,f,c),s.child;case 14:return Qx(a,s,s.type,s.pendingProps,c);case 15:return Zx(a,s,s.type,s.pendingProps,c);case 19:return lv(a,s,c);case 31:return kR(a,s,c);case 22:return Jx(a,s,c,s.pendingProps);case 24:return Rn(s),f=Ze(Me),a===null?(m=op(),m===null&&(m=de,b=sp(),m.pooledCache=b,b.refCount++,b!==null&&(m.pooledCacheLanes|=c),m=b),s.memoizedState={parent:f,cache:m},up(s),Pa(s,Me,m)):((a.lanes&c)!==0&&(hp(a,s),wo(s,null,null,c),_o()),m=a.memoizedState,b=s.memoizedState,m.parent!==f?(m={parent:f,cache:f},s.memoizedState=m,s.lanes===0&&(s.memoizedState=s.updateQueue.baseState=m),Pa(s,Me,f)):(f=b.cache,Pa(s,Me,f),f!==m.cache&&np(s,[Me],c,!0))),Je(a,s,s.pendingProps.children,c),s.child;case 29:throw s.pendingProps}throw Error(i(156,s.tag))}function ca(a){a.flags|=4}function Gp(a,s,c,f,m){if((s=(a.mode&32)!==0)&&(s=!1),s){if(a.flags|=16777216,(m&335544128)===m)if(a.stateNode.complete)a.flags|=8192;else if(Dv())a.flags|=8192;else throw Bn=Mu,cp}else a.flags&=-16777217}function cv(a,s){if(s.type!=="stylesheet"||(s.state.loading&4)!==0)a.flags&=-16777217;else if(a.flags|=16777216,!k_(s))if(Dv())a.flags|=8192;else throw Bn=Mu,cp}function Xu(a,s){s!==null&&(a.flags|=4),a.flags&16384&&(s=a.tag!==22?Qi():536870912,a.lanes|=s,Hs|=s)}function Ao(a,s){if(!Vt)switch(a.tailMode){case"hidden":s=a.tail;for(var c=null;s!==null;)s.alternate!==null&&(c=s),s=s.sibling;c===null?a.tail=null:c.sibling=null;break;case"collapsed":c=a.tail;for(var f=null;c!==null;)c.alternate!==null&&(f=c),c=c.sibling;f===null?s||a.tail===null?a.tail=null:a.tail.sibling=null:f.sibling=null}}function ge(a){var s=a.alternate!==null&&a.alternate.child===a.child,c=0,f=0;if(s)for(var m=a.child;m!==null;)c|=m.lanes|m.childLanes,f|=m.subtreeFlags&65011712,f|=m.flags&65011712,m.return=a,m=m.sibling;else for(m=a.child;m!==null;)c|=m.lanes|m.childLanes,f|=m.subtreeFlags,f|=m.flags,m.return=a,m=m.sibling;return a.subtreeFlags|=f,a.childLanes=c,s}function TR(a,s,c){var f=s.pendingProps;switch(tp(s),s.tag){case 16:case 15:case 0:case 11:case 7:case 8:case 12:case 9:case 14:return ge(s),null;case 1:return ge(s),null;case 3:return c=s.stateNode,f=null,a!==null&&(f=a.memoizedState.cache),s.memoizedState.cache!==f&&(s.flags|=2048),na(Me),Kt(),c.pendingContext&&(c.context=c.pendingContext,c.pendingContext=null),(a===null||a.child===null)&&(Ls(s)?ca(s):a===null||a.memoizedState.isDehydrated&&(s.flags&256)===0||(s.flags|=1024,rp())),ge(s),null;case 26:var m=s.type,b=s.memoizedState;return a===null?(ca(s),b!==null?(ge(s),cv(s,b)):(ge(s),Gp(s,m,null,f,c))):b?b!==a.memoizedState?(ca(s),ge(s),cv(s,b)):(ge(s),s.flags&=-16777217):(a=a.memoizedProps,a!==f&&ca(s),ge(s),Gp(s,m,a,f,c)),null;case 27:if(nr(s),c=Ct.current,m=s.type,a!==null&&s.stateNode!=null)a.memoizedProps!==f&&ca(s);else{if(!f){if(s.stateNode===null)throw Error(i(166));return ge(s),null}a=ct.current,Ls(s)?Ib(s):(a=m_(m,f,c),s.stateNode=a,ca(s))}return ge(s),null;case 5:if(nr(s),m=s.type,a!==null&&s.stateNode!=null)a.memoizedProps!==f&&ca(s);else{if(!f){if(s.stateNode===null)throw Error(i(166));return ge(s),null}if(b=ct.current,Ls(s))Ib(s);else{var k=uh(Ct.current);switch(b){case 1:b=k.createElementNS("http://www.w3.org/2000/svg",m);break;case 2:b=k.createElementNS("http://www.w3.org/1998/Math/MathML",m);break;default:switch(m){case"svg":b=k.createElementNS("http://www.w3.org/2000/svg",m);break;case"math":b=k.createElementNS("http://www.w3.org/1998/Math/MathML",m);break;case"script":b=k.createElement("div"),b.innerHTML="<script><\/script>",b=b.removeChild(b.firstChild);break;case"select":b=typeof f.is=="string"?k.createElement("select",{is:f.is}):k.createElement("select"),f.multiple?b.multiple=!0:f.size&&(b.size=f.size);break;default:b=typeof f.is=="string"?k.createElement(m,{is:f.is}):k.createElement(m)}}b[Le]=s,b[ye]=f;t:for(k=s.child;k!==null;){if(k.tag===5||k.tag===6)b.appendChild(k.stateNode);else if(k.tag!==4&&k.tag!==27&&k.child!==null){k.child.return=k,k=k.child;continue}if(k===s)break t;for(;k.sibling===null;){if(k.return===null||k.return===s)break t;k=k.return}k.sibling.return=k.return,k=k.sibling}s.stateNode=b;t:switch(tr(b,m,f),m){case"button":case"input":case"select":case"textarea":f=!!f.autoFocus;break t;case"img":f=!0;break t;default:f=!1}f&&ca(s)}}return ge(s),Gp(s,s.type,a===null?null:a.memoizedProps,s.pendingProps,c),null;case 6:if(a&&s.stateNode!=null)a.memoizedProps!==f&&ca(s);else{if(typeof f!="string"&&s.stateNode===null)throw Error(i(166));if(a=Ct.current,Ls(s)){if(a=s.stateNode,c=s.memoizedProps,f=null,m=Qe,m!==null)switch(m.tag){case 27:case 5:f=m.memoizedProps}a[Le]=s,a=!!(a.nodeValue===c||f!==null&&f.suppressHydrationWarning===!0||n_(a.nodeValue,c)),a||Fa(s,!0)}else a=uh(a).createTextNode(f),a[Le]=s,s.stateNode=a}return ge(s),null;case 31:if(c=s.memoizedState,a===null||a.memoizedState!==null){if(f=Ls(s),c!==null){if(a===null){if(!f)throw Error(i(318));if(a=s.memoizedState,a=a!==null?a.dehydrated:null,!a)throw Error(i(557));a[Le]=s}else An(),(s.flags&128)===0&&(s.memoizedState=null),s.flags|=4;ge(s),a=!1}else c=rp(),a!==null&&a.memoizedState!==null&&(a.memoizedState.hydrationErrors=c),a=!0;if(!a)return s.flags&256?(Fr(s),s):(Fr(s),null);if((s.flags&128)!==0)throw Error(i(558))}return ge(s),null;case 13:if(f=s.memoizedState,a===null||a.memoizedState!==null&&a.memoizedState.dehydrated!==null){if(m=Ls(s),f!==null&&f.dehydrated!==null){if(a===null){if(!m)throw Error(i(318));if(m=s.memoizedState,m=m!==null?m.dehydrated:null,!m)throw Error(i(317));m[Le]=s}else An(),(s.flags&128)===0&&(s.memoizedState=null),s.flags|=4;ge(s),m=!1}else m=rp(),a!==null&&a.memoizedState!==null&&(a.memoizedState.hydrationErrors=m),m=!0;if(!m)return s.flags&256?(Fr(s),s):(Fr(s),null)}return Fr(s),(s.flags&128)!==0?(s.lanes=c,s):(c=f!==null,a=a!==null&&a.memoizedState!==null,c&&(f=s.child,m=null,f.alternate!==null&&f.alternate.memoizedState!==null&&f.alternate.memoizedState.cachePool!==null&&(m=f.alternate.memoizedState.cachePool.pool),b=null,f.memoizedState!==null&&f.memoizedState.cachePool!==null&&(b=f.memoizedState.cachePool.pool),b!==m&&(f.flags|=2048)),c!==a&&c&&(s.child.flags|=8192),Xu(s,s.updateQueue),ge(s),null);case 4:return Kt(),a===null&&pg(s.stateNode.containerInfo),ge(s),null;case 10:return na(s.type),ge(s),null;case 19:if(V(Ee),f=s.memoizedState,f===null)return ge(s),null;if(m=(s.flags&128)!==0,b=f.rendering,b===null)if(m)Ao(f,!1);else{if(ke!==0||a!==null&&(a.flags&128)!==0)for(a=s.child;a!==null;){if(b=ju(a),b!==null){for(s.flags|=128,Ao(f,!1),a=b.updateQueue,s.updateQueue=a,Xu(s,a),s.subtreeFlags=0,a=c,c=s.child;c!==null;)$b(c,a),c=c.sibling;return et(Ee,Ee.current&1|2),Vt&&ia(s,f.treeForkCount),s.child}a=a.sibling}f.tail!==null&&Xe()>th&&(s.flags|=128,m=!0,Ao(f,!1),s.lanes=4194304)}else{if(!m)if(a=ju(b),a!==null){if(s.flags|=128,m=!0,a=a.updateQueue,s.updateQueue=a,Xu(s,a),Ao(f,!0),f.tail===null&&f.tailMode==="hidden"&&!b.alternate&&!Vt)return ge(s),null}else 2*Xe()-f.renderingStartTime>th&&c!==536870912&&(s.flags|=128,m=!0,Ao(f,!1),s.lanes=4194304);f.isBackwards?(b.sibling=s.child,s.child=b):(a=f.last,a!==null?a.sibling=b:s.child=b,f.last=b)}return f.tail!==null?(a=f.tail,f.rendering=a,f.tail=a.sibling,f.renderingStartTime=Xe(),a.sibling=null,c=Ee.current,et(Ee,m?c&1|2:c&1),Vt&&ia(s,f.treeForkCount),a):(ge(s),null);case 22:case 23:return Fr(s),gp(),f=s.memoizedState!==null,a!==null?a.memoizedState!==null!==f&&(s.flags|=8192):f&&(s.flags|=8192),f?(c&536870912)!==0&&(s.flags&128)===0&&(ge(s),s.subtreeFlags&6&&(s.flags|=8192)):ge(s),c=s.updateQueue,c!==null&&Xu(s,c.retryQueue),c=null,a!==null&&a.memoizedState!==null&&a.memoizedState.cachePool!==null&&(c=a.memoizedState.cachePool.pool),f=null,s.memoizedState!==null&&s.memoizedState.cachePool!==null&&(f=s.memoizedState.cachePool.pool),f!==c&&(s.flags|=2048),a!==null&&V(Ln),null;case 24:return c=null,a!==null&&(c=a.memoizedState.cache),s.memoizedState.cache!==c&&(s.flags|=2048),na(Me),ge(s),null;case 25:return null;case 30:return null}throw Error(i(156,s.tag))}function ER(a,s){switch(tp(s),s.tag){case 1:return a=s.flags,a&65536?(s.flags=a&-65537|128,s):null;case 3:return na(Me),Kt(),a=s.flags,(a&65536)!==0&&(a&128)===0?(s.flags=a&-65537|128,s):null;case 26:case 27:case 5:return nr(s),null;case 31:if(s.memoizedState!==null){if(Fr(s),s.alternate===null)throw Error(i(340));An()}return a=s.flags,a&65536?(s.flags=a&-65537|128,s):null;case 13:if(Fr(s),a=s.memoizedState,a!==null&&a.dehydrated!==null){if(s.alternate===null)throw Error(i(340));An()}return a=s.flags,a&65536?(s.flags=a&-65537|128,s):null;case 19:return V(Ee),null;case 4:return Kt(),null;case 10:return na(s.type),null;case 22:case 23:return Fr(s),gp(),a!==null&&V(Ln),a=s.flags,a&65536?(s.flags=a&-65537|128,s):null;case 24:return na(Me),null;case 25:return null;default:return null}}function uv(a,s){switch(tp(s),s.tag){case 3:na(Me),Kt();break;case 26:case 27:case 5:nr(s);break;case 4:Kt();break;case 31:s.memoizedState!==null&&Fr(s);break;case 13:Fr(s);break;case 19:V(Ee);break;case 10:na(s.type);break;case 22:case 23:Fr(s),gp(),a!==null&&V(Ln);break;case 24:na(Me)}}function Oo(a,s){try{var c=s.updateQueue,f=c!==null?c.lastEffect:null;if(f!==null){var m=f.next;c=m;do{if((c.tag&a)===a){f=void 0;var b=c.create,k=c.inst;f=b(),k.destroy=f}c=c.next}while(c!==m)}}catch(A){le(s,s.return,A)}}function Ga(a,s,c){try{var f=s.updateQueue,m=f!==null?f.lastEffect:null;if(m!==null){var b=m.next;f=b;do{if((f.tag&a)===a){var k=f.inst,A=k.destroy;if(A!==void 0){k.destroy=void 0,m=s;var D=c,K=A;try{K()}catch(it){le(m,D,it)}}}f=f.next}while(f!==b)}}catch(it){le(s,s.return,it)}}function hv(a){var s=a.updateQueue;if(s!==null){var c=a.stateNode;try{ex(s,c)}catch(f){le(a,a.return,f)}}}function dv(a,s,c){c.props=jn(a.type,a.memoizedProps),c.state=a.memoizedState;try{c.componentWillUnmount()}catch(f){le(a,s,f)}}function Ro(a,s){try{var c=a.ref;if(c!==null){switch(a.tag){case 26:case 27:case 5:var f=a.stateNode;break;case 30:f=a.stateNode;break;default:f=a.stateNode}typeof c=="function"?a.refCleanup=c(f):c.current=f}}catch(m){le(a,s,m)}}function Di(a,s){var c=a.ref,f=a.refCleanup;if(c!==null)if(typeof f=="function")try{f()}catch(m){le(a,s,m)}finally{a.refCleanup=null,a=a.alternate,a!=null&&(a.refCleanup=null)}else if(typeof c=="function")try{c(null)}catch(m){le(a,s,m)}else c.current=null}function fv(a){var s=a.type,c=a.memoizedProps,f=a.stateNode;try{t:switch(s){case"button":case"input":case"select":case"textarea":c.autoFocus&&f.focus();break t;case"img":c.src?f.src=c.src:c.srcSet&&(f.srcset=c.srcSet)}}catch(m){le(a,a.return,m)}}function Yp(a,s,c){try{var f=a.stateNode;XR(f,a.type,c,s),f[ye]=s}catch(m){le(a,a.return,m)}}function pv(a){return a.tag===5||a.tag===3||a.tag===26||a.tag===27&&Ja(a.type)||a.tag===4}function Vp(a){t:for(;;){for(;a.sibling===null;){if(a.return===null||pv(a.return))return null;a=a.return}for(a.sibling.return=a.return,a=a.sibling;a.tag!==5&&a.tag!==6&&a.tag!==18;){if(a.tag===27&&Ja(a.type)||a.flags&2||a.child===null||a.tag===4)continue t;a.child.return=a,a=a.child}if(!(a.flags&2))return a.stateNode}}function Xp(a,s,c){var f=a.tag;if(f===5||f===6)a=a.stateNode,s?(c.nodeType===9?c.body:c.nodeName==="HTML"?c.ownerDocument.body:c).insertBefore(a,s):(s=c.nodeType===9?c.body:c.nodeName==="HTML"?c.ownerDocument.body:c,s.appendChild(a),c=c._reactRootContainer,c!=null||s.onclick!==null||(s.onclick=ta));else if(f!==4&&(f===27&&Ja(a.type)&&(c=a.stateNode,s=null),a=a.child,a!==null))for(Xp(a,s,c),a=a.sibling;a!==null;)Xp(a,s,c),a=a.sibling}function Ku(a,s,c){var f=a.tag;if(f===5||f===6)a=a.stateNode,s?c.insertBefore(a,s):c.appendChild(a);else if(f!==4&&(f===27&&Ja(a.type)&&(c=a.stateNode),a=a.child,a!==null))for(Ku(a,s,c),a=a.sibling;a!==null;)Ku(a,s,c),a=a.sibling}function gv(a){var s=a.stateNode,c=a.memoizedProps;try{for(var f=a.type,m=s.attributes;m.length;)s.removeAttributeNode(m[0]);tr(s,f,c),s[Le]=a,s[ye]=c}catch(b){le(a,a.return,b)}}var ua=!1,De=!1,Kp=!1,mv=typeof WeakSet=="function"?WeakSet:Set,Ve=null;function AR(a,s){if(a=a.containerInfo,yg=yh,a=Ab(a),qf(a)){if("selectionStart"in a)var c={start:a.selectionStart,end:a.selectionEnd};else t:{c=(c=a.ownerDocument)&&c.defaultView||window;var f=c.getSelection&&c.getSelection();if(f&&f.rangeCount!==0){c=f.anchorNode;var m=f.anchorOffset,b=f.focusNode;f=f.focusOffset;try{c.nodeType,b.nodeType}catch{c=null;break t}var k=0,A=-1,D=-1,K=0,it=0,st=a,Q=null;e:for(;;){for(var tt;st!==c||m!==0&&st.nodeType!==3||(A=k+m),st!==b||f!==0&&st.nodeType!==3||(D=k+f),st.nodeType===3&&(k+=st.nodeValue.length),(tt=st.firstChild)!==null;)Q=st,st=tt;for(;;){if(st===a)break e;if(Q===c&&++K===m&&(A=k),Q===b&&++it===f&&(D=k),(tt=st.nextSibling)!==null)break;st=Q,Q=st.parentNode}st=tt}c=A===-1||D===-1?null:{start:A,end:D}}else c=null}c=c||{start:0,end:0}}else c=null;for(bg={focusedElem:a,selectionRange:c},yh=!1,Ve=s;Ve!==null;)if(s=Ve,a=s.child,(s.subtreeFlags&1028)!==0&&a!==null)a.return=s,Ve=a;else for(;Ve!==null;){switch(s=Ve,b=s.alternate,a=s.flags,s.tag){case 0:if((a&4)!==0&&(a=s.updateQueue,a=a!==null?a.events:null,a!==null))for(c=0;c<a.length;c++)m=a[c],m.ref.impl=m.nextImpl;break;case 11:case 15:break;case 1:if((a&1024)!==0&&b!==null){a=void 0,c=s,m=b.memoizedProps,b=b.memoizedState,f=c.stateNode;try{var yt=jn(c.type,m);a=f.getSnapshotBeforeUpdate(yt,b),f.__reactInternalSnapshotBeforeUpdate=a}catch(Mt){le(c,c.return,Mt)}}break;case 3:if((a&1024)!==0){if(a=s.stateNode.containerInfo,c=a.nodeType,c===9)_g(a);else if(c===1)switch(a.nodeName){case"HEAD":case"HTML":case"BODY":_g(a);break;default:a.textContent=""}}break;case 5:case 26:case 27:case 6:case 4:case 17:break;default:if((a&1024)!==0)throw Error(i(163))}if(a=s.sibling,a!==null){a.return=s.return,Ve=a;break}Ve=s.return}}function yv(a,s,c){var f=c.flags;switch(c.tag){case 0:case 11:case 15:da(a,c),f&4&&Oo(5,c);break;case 1:if(da(a,c),f&4)if(a=c.stateNode,s===null)try{a.componentDidMount()}catch(k){le(c,c.return,k)}else{var m=jn(c.type,s.memoizedProps);s=s.memoizedState;try{a.componentDidUpdate(m,s,a.__reactInternalSnapshotBeforeUpdate)}catch(k){le(c,c.return,k)}}f&64&&hv(c),f&512&&Ro(c,c.return);break;case 3:if(da(a,c),f&64&&(a=c.updateQueue,a!==null)){if(s=null,c.child!==null)switch(c.child.tag){case 27:case 5:s=c.child.stateNode;break;case 1:s=c.child.stateNode}try{ex(a,s)}catch(k){le(c,c.return,k)}}break;case 27:s===null&&f&4&&gv(c);case 26:case 5:da(a,c),s===null&&f&4&&fv(c),f&512&&Ro(c,c.return);break;case 12:da(a,c);break;case 31:da(a,c),f&4&&vv(a,c);break;case 13:da(a,c),f&4&&_v(a,c),f&64&&(a=c.memoizedState,a!==null&&(a=a.dehydrated,a!==null&&(c=$R.bind(null,c),iL(a,c))));break;case 22:if(f=c.memoizedState!==null||ua,!f){s=s!==null&&s.memoizedState!==null||De,m=ua;var b=De;ua=f,(De=s)&&!b?fa(a,c,(c.subtreeFlags&8772)!==0):da(a,c),ua=m,De=b}break;case 30:break;default:da(a,c)}}function bv(a){var s=a.alternate;s!==null&&(a.alternate=null,bv(s)),a.child=null,a.deletions=null,a.sibling=null,a.tag===5&&(s=a.stateNode,s!==null&&F(s)),a.stateNode=null,a.return=null,a.dependencies=null,a.memoizedProps=null,a.memoizedState=null,a.pendingProps=null,a.stateNode=null,a.updateQueue=null}var be=null,kr=!1;function ha(a,s,c){for(c=c.child;c!==null;)xv(a,s,c),c=c.sibling}function xv(a,s,c){if(Ge&&typeof Ge.onCommitFiberUnmount=="function")try{Ge.onCommitFiberUnmount(Li,c)}catch{}switch(c.tag){case 26:De||Di(c,s),ha(a,s,c),c.memoizedState?c.memoizedState.count--:c.stateNode&&(c=c.stateNode,c.parentNode.removeChild(c));break;case 27:De||Di(c,s);var f=be,m=kr;Ja(c.type)&&(be=c.stateNode,kr=!1),ha(a,s,c),Fo(c.stateNode),be=f,kr=m;break;case 5:De||Di(c,s);case 6:if(f=be,m=kr,be=null,ha(a,s,c),be=f,kr=m,be!==null)if(kr)try{(be.nodeType===9?be.body:be.nodeName==="HTML"?be.ownerDocument.body:be).removeChild(c.stateNode)}catch(b){le(c,s,b)}else try{be.removeChild(c.stateNode)}catch(b){le(c,s,b)}break;case 18:be!==null&&(kr?(a=be,h_(a.nodeType===9?a.body:a.nodeName==="HTML"?a.ownerDocument.body:a,c.stateNode),Zs(a)):h_(be,c.stateNode));break;case 4:f=be,m=kr,be=c.stateNode.containerInfo,kr=!0,ha(a,s,c),be=f,kr=m;break;case 0:case 11:case 14:case 15:Ga(2,c,s),De||Ga(4,c,s),ha(a,s,c);break;case 1:De||(Di(c,s),f=c.stateNode,typeof f.componentWillUnmount=="function"&&dv(c,s,f)),ha(a,s,c);break;case 21:ha(a,s,c);break;case 22:De=(f=De)||c.memoizedState!==null,ha(a,s,c),De=f;break;default:ha(a,s,c)}}function vv(a,s){if(s.memoizedState===null&&(a=s.alternate,a!==null&&(a=a.memoizedState,a!==null))){a=a.dehydrated;try{Zs(a)}catch(c){le(s,s.return,c)}}}function _v(a,s){if(s.memoizedState===null&&(a=s.alternate,a!==null&&(a=a.memoizedState,a!==null&&(a=a.dehydrated,a!==null))))try{Zs(a)}catch(c){le(s,s.return,c)}}function OR(a){switch(a.tag){case 31:case 13:case 19:var s=a.stateNode;return s===null&&(s=a.stateNode=new mv),s;case 22:return a=a.stateNode,s=a._retryCache,s===null&&(s=a._retryCache=new mv),s;default:throw Error(i(435,a.tag))}}function Qu(a,s){var c=OR(a);s.forEach(function(f){if(!c.has(f)){c.add(f);var m=zR.bind(null,a,f);f.then(m,m)}})}function Cr(a,s){var c=s.deletions;if(c!==null)for(var f=0;f<c.length;f++){var m=c[f],b=a,k=s,A=k;t:for(;A!==null;){switch(A.tag){case 27:if(Ja(A.type)){be=A.stateNode,kr=!1;break t}break;case 5:be=A.stateNode,kr=!1;break t;case 3:case 4:be=A.stateNode.containerInfo,kr=!0;break t}A=A.return}if(be===null)throw Error(i(160));xv(b,k,m),be=null,kr=!1,b=m.alternate,b!==null&&(b.return=null),m.return=null}if(s.subtreeFlags&13886)for(s=s.child;s!==null;)wv(s,a),s=s.sibling}var yi=null;function wv(a,s){var c=a.alternate,f=a.flags;switch(a.tag){case 0:case 11:case 14:case 15:Cr(s,a),Tr(a),f&4&&(Ga(3,a,a.return),Oo(3,a),Ga(5,a,a.return));break;case 1:Cr(s,a),Tr(a),f&512&&(De||c===null||Di(c,c.return)),f&64&&ua&&(a=a.updateQueue,a!==null&&(f=a.callbacks,f!==null&&(c=a.shared.hiddenCallbacks,a.shared.hiddenCallbacks=c===null?f:c.concat(f))));break;case 26:var m=yi;if(Cr(s,a),Tr(a),f&512&&(De||c===null||Di(c,c.return)),f&4){var b=c!==null?c.memoizedState:null;if(f=a.memoizedState,c===null)if(f===null)if(a.stateNode===null){t:{f=a.type,c=a.memoizedProps,m=m.ownerDocument||m;e:switch(f){case"title":b=m.getElementsByTagName("title")[0],(!b||b[St]||b[Le]||b.namespaceURI==="http://www.w3.org/2000/svg"||b.hasAttribute("itemprop"))&&(b=m.createElement(f),m.head.insertBefore(b,m.querySelector("head > title"))),tr(b,f,c),b[Le]=a,Ut(b),f=b;break t;case"link":var k=w_("link","href",m).get(f+(c.href||""));if(k){for(var A=0;A<k.length;A++)if(b=k[A],b.getAttribute("href")===(c.href==null||c.href===""?null:c.href)&&b.getAttribute("rel")===(c.rel==null?null:c.rel)&&b.getAttribute("title")===(c.title==null?null:c.title)&&b.getAttribute("crossorigin")===(c.crossOrigin==null?null:c.crossOrigin)){k.splice(A,1);break e}}b=m.createElement(f),tr(b,f,c),m.head.appendChild(b);break;case"meta":if(k=w_("meta","content",m).get(f+(c.content||""))){for(A=0;A<k.length;A++)if(b=k[A],b.getAttribute("content")===(c.content==null?null:""+c.content)&&b.getAttribute("name")===(c.name==null?null:c.name)&&b.getAttribute("property")===(c.property==null?null:c.property)&&b.getAttribute("http-equiv")===(c.httpEquiv==null?null:c.httpEquiv)&&b.getAttribute("charset")===(c.charSet==null?null:c.charSet)){k.splice(A,1);break e}}b=m.createElement(f),tr(b,f,c),m.head.appendChild(b);break;default:throw Error(i(468,f))}b[Le]=a,Ut(b),f=b}a.stateNode=f}else S_(m,a.type,a.stateNode);else a.stateNode=__(m,f,a.memoizedProps);else b!==f?(b===null?c.stateNode!==null&&(c=c.stateNode,c.parentNode.removeChild(c)):b.count--,f===null?S_(m,a.type,a.stateNode):__(m,f,a.memoizedProps)):f===null&&a.stateNode!==null&&Yp(a,a.memoizedProps,c.memoizedProps)}break;case 27:Cr(s,a),Tr(a),f&512&&(De||c===null||Di(c,c.return)),c!==null&&f&4&&Yp(a,a.memoizedProps,c.memoizedProps);break;case 5:if(Cr(s,a),Tr(a),f&512&&(De||c===null||Di(c,c.return)),a.flags&32){m=a.stateNode;try{_s(m,"")}catch(yt){le(a,a.return,yt)}}f&4&&a.stateNode!=null&&(m=a.memoizedProps,Yp(a,m,c!==null?c.memoizedProps:m)),f&1024&&(Kp=!0);break;case 6:if(Cr(s,a),Tr(a),f&4){if(a.stateNode===null)throw Error(i(162));f=a.memoizedProps,c=a.stateNode;try{c.nodeValue=f}catch(yt){le(a,a.return,yt)}}break;case 3:if(fh=null,m=yi,yi=hh(s.containerInfo),Cr(s,a),yi=m,Tr(a),f&4&&c!==null&&c.memoizedState.isDehydrated)try{Zs(s.containerInfo)}catch(yt){le(a,a.return,yt)}Kp&&(Kp=!1,Sv(a));break;case 4:f=yi,yi=hh(a.stateNode.containerInfo),Cr(s,a),Tr(a),yi=f;break;case 12:Cr(s,a),Tr(a);break;case 31:Cr(s,a),Tr(a),f&4&&(f=a.updateQueue,f!==null&&(a.updateQueue=null,Qu(a,f)));break;case 13:Cr(s,a),Tr(a),a.child.flags&8192&&a.memoizedState!==null!=(c!==null&&c.memoizedState!==null)&&(Ju=Xe()),f&4&&(f=a.updateQueue,f!==null&&(a.updateQueue=null,Qu(a,f)));break;case 22:m=a.memoizedState!==null;var D=c!==null&&c.memoizedState!==null,K=ua,it=De;if(ua=K||m,De=it||D,Cr(s,a),De=it,ua=K,Tr(a),f&8192)t:for(s=a.stateNode,s._visibility=m?s._visibility&-2:s._visibility|1,m&&(c===null||D||ua||De||$n(a)),c=null,s=a;;){if(s.tag===5||s.tag===26){if(c===null){D=c=s;try{if(b=D.stateNode,m)k=b.style,typeof k.setProperty=="function"?k.setProperty("display","none","important"):k.display="none";else{A=D.stateNode;var st=D.memoizedProps.style,Q=st!=null&&st.hasOwnProperty("display")?st.display:null;A.style.display=Q==null||typeof Q=="boolean"?"":(""+Q).trim()}}catch(yt){le(D,D.return,yt)}}}else if(s.tag===6){if(c===null){D=s;try{D.stateNode.nodeValue=m?"":D.memoizedProps}catch(yt){le(D,D.return,yt)}}}else if(s.tag===18){if(c===null){D=s;try{var tt=D.stateNode;m?d_(tt,!0):d_(D.stateNode,!1)}catch(yt){le(D,D.return,yt)}}}else if((s.tag!==22&&s.tag!==23||s.memoizedState===null||s===a)&&s.child!==null){s.child.return=s,s=s.child;continue}if(s===a)break t;for(;s.sibling===null;){if(s.return===null||s.return===a)break t;c===s&&(c=null),s=s.return}c===s&&(c=null),s.sibling.return=s.return,s=s.sibling}f&4&&(f=a.updateQueue,f!==null&&(c=f.retryQueue,c!==null&&(f.retryQueue=null,Qu(a,c))));break;case 19:Cr(s,a),Tr(a),f&4&&(f=a.updateQueue,f!==null&&(a.updateQueue=null,Qu(a,f)));break;case 30:break;case 21:break;default:Cr(s,a),Tr(a)}}function Tr(a){var s=a.flags;if(s&2){try{for(var c,f=a.return;f!==null;){if(pv(f)){c=f;break}f=f.return}if(c==null)throw Error(i(160));switch(c.tag){case 27:var m=c.stateNode,b=Vp(a);Ku(a,b,m);break;case 5:var k=c.stateNode;c.flags&32&&(_s(k,""),c.flags&=-33);var A=Vp(a);Ku(a,A,k);break;case 3:case 4:var D=c.stateNode.containerInfo,K=Vp(a);Xp(a,K,D);break;default:throw Error(i(161))}}catch(it){le(a,a.return,it)}a.flags&=-3}s&4096&&(a.flags&=-4097)}function Sv(a){if(a.subtreeFlags&1024)for(a=a.child;a!==null;){var s=a;Sv(s),s.tag===5&&s.flags&1024&&s.stateNode.reset(),a=a.sibling}}function da(a,s){if(s.subtreeFlags&8772)for(s=s.child;s!==null;)yv(a,s.alternate,s),s=s.sibling}function $n(a){for(a=a.child;a!==null;){var s=a;switch(s.tag){case 0:case 11:case 14:case 15:Ga(4,s,s.return),$n(s);break;case 1:Di(s,s.return);var c=s.stateNode;typeof c.componentWillUnmount=="function"&&dv(s,s.return,c),$n(s);break;case 27:Fo(s.stateNode);case 26:case 5:Di(s,s.return),$n(s);break;case 22:s.memoizedState===null&&$n(s);break;case 30:$n(s);break;default:$n(s)}a=a.sibling}}function fa(a,s,c){for(c=c&&(s.subtreeFlags&8772)!==0,s=s.child;s!==null;){var f=s.alternate,m=a,b=s,k=b.flags;switch(b.tag){case 0:case 11:case 15:fa(m,b,c),Oo(4,b);break;case 1:if(fa(m,b,c),f=b,m=f.stateNode,typeof m.componentDidMount=="function")try{m.componentDidMount()}catch(K){le(f,f.return,K)}if(f=b,m=f.updateQueue,m!==null){var A=f.stateNode;try{var D=m.shared.hiddenCallbacks;if(D!==null)for(m.shared.hiddenCallbacks=null,m=0;m<D.length;m++)tx(D[m],A)}catch(K){le(f,f.return,K)}}c&&k&64&&hv(b),Ro(b,b.return);break;case 27:gv(b);case 26:case 5:fa(m,b,c),c&&f===null&&k&4&&fv(b),Ro(b,b.return);break;case 12:fa(m,b,c);break;case 31:fa(m,b,c),c&&k&4&&vv(m,b);break;case 13:fa(m,b,c),c&&k&4&&_v(m,b);break;case 22:b.memoizedState===null&&fa(m,b,c),Ro(b,b.return);break;case 30:break;default:fa(m,b,c)}s=s.sibling}}function Qp(a,s){var c=null;a!==null&&a.memoizedState!==null&&a.memoizedState.cachePool!==null&&(c=a.memoizedState.cachePool.pool),a=null,s.memoizedState!==null&&s.memoizedState.cachePool!==null&&(a=s.memoizedState.cachePool.pool),a!==c&&(a!=null&&a.refCount++,c!=null&&mo(c))}function Zp(a,s){a=null,s.alternate!==null&&(a=s.alternate.memoizedState.cache),s=s.memoizedState.cache,s!==a&&(s.refCount++,a!=null&&mo(a))}function bi(a,s,c,f){if(s.subtreeFlags&10256)for(s=s.child;s!==null;)kv(a,s,c,f),s=s.sibling}function kv(a,s,c,f){var m=s.flags;switch(s.tag){case 0:case 11:case 15:bi(a,s,c,f),m&2048&&Oo(9,s);break;case 1:bi(a,s,c,f);break;case 3:bi(a,s,c,f),m&2048&&(a=null,s.alternate!==null&&(a=s.alternate.memoizedState.cache),s=s.memoizedState.cache,s!==a&&(s.refCount++,a!=null&&mo(a)));break;case 12:if(m&2048){bi(a,s,c,f),a=s.stateNode;try{var b=s.memoizedProps,k=b.id,A=b.onPostCommit;typeof A=="function"&&A(k,s.alternate===null?"mount":"update",a.passiveEffectDuration,-0)}catch(D){le(s,s.return,D)}}else bi(a,s,c,f);break;case 31:bi(a,s,c,f);break;case 13:bi(a,s,c,f);break;case 23:break;case 22:b=s.stateNode,k=s.alternate,s.memoizedState!==null?b._visibility&2?bi(a,s,c,f):Lo(a,s):b._visibility&2?bi(a,s,c,f):(b._visibility|=2,Us(a,s,c,f,(s.subtreeFlags&10256)!==0||!1)),m&2048&&Qp(k,s);break;case 24:bi(a,s,c,f),m&2048&&Zp(s.alternate,s);break;default:bi(a,s,c,f)}}function Us(a,s,c,f,m){for(m=m&&((s.subtreeFlags&10256)!==0||!1),s=s.child;s!==null;){var b=a,k=s,A=c,D=f,K=k.flags;switch(k.tag){case 0:case 11:case 15:Us(b,k,A,D,m),Oo(8,k);break;case 23:break;case 22:var it=k.stateNode;k.memoizedState!==null?it._visibility&2?Us(b,k,A,D,m):Lo(b,k):(it._visibility|=2,Us(b,k,A,D,m)),m&&K&2048&&Qp(k.alternate,k);break;case 24:Us(b,k,A,D,m),m&&K&2048&&Zp(k.alternate,k);break;default:Us(b,k,A,D,m)}s=s.sibling}}function Lo(a,s){if(s.subtreeFlags&10256)for(s=s.child;s!==null;){var c=a,f=s,m=f.flags;switch(f.tag){case 22:Lo(c,f),m&2048&&Qp(f.alternate,f);break;case 24:Lo(c,f),m&2048&&Zp(f.alternate,f);break;default:Lo(c,f)}s=s.sibling}}var Mo=8192;function Is(a,s,c){if(a.subtreeFlags&Mo)for(a=a.child;a!==null;)Cv(a,s,c),a=a.sibling}function Cv(a,s,c){switch(a.tag){case 26:Is(a,s,c),a.flags&Mo&&a.memoizedState!==null&&gL(c,yi,a.memoizedState,a.memoizedProps);break;case 5:Is(a,s,c);break;case 3:case 4:var f=yi;yi=hh(a.stateNode.containerInfo),Is(a,s,c),yi=f;break;case 22:a.memoizedState===null&&(f=a.alternate,f!==null&&f.memoizedState!==null?(f=Mo,Mo=16777216,Is(a,s,c),Mo=f):Is(a,s,c));break;default:Is(a,s,c)}}function Tv(a){var s=a.alternate;if(s!==null&&(a=s.child,a!==null)){s.child=null;do s=a.sibling,a.sibling=null,a=s;while(a!==null)}}function Bo(a){var s=a.deletions;if((a.flags&16)!==0){if(s!==null)for(var c=0;c<s.length;c++){var f=s[c];Ve=f,Av(f,a)}Tv(a)}if(a.subtreeFlags&10256)for(a=a.child;a!==null;)Ev(a),a=a.sibling}function Ev(a){switch(a.tag){case 0:case 11:case 15:Bo(a),a.flags&2048&&Ga(9,a,a.return);break;case 3:Bo(a);break;case 12:Bo(a);break;case 22:var s=a.stateNode;a.memoizedState!==null&&s._visibility&2&&(a.return===null||a.return.tag!==13)?(s._visibility&=-3,Zu(a)):Bo(a);break;default:Bo(a)}}function Zu(a){var s=a.deletions;if((a.flags&16)!==0){if(s!==null)for(var c=0;c<s.length;c++){var f=s[c];Ve=f,Av(f,a)}Tv(a)}for(a=a.child;a!==null;){switch(s=a,s.tag){case 0:case 11:case 15:Ga(8,s,s.return),Zu(s);break;case 22:c=s.stateNode,c._visibility&2&&(c._visibility&=-3,Zu(s));break;default:Zu(s)}a=a.sibling}}function Av(a,s){for(;Ve!==null;){var c=Ve;switch(c.tag){case 0:case 11:case 15:Ga(8,c,s);break;case 23:case 22:if(c.memoizedState!==null&&c.memoizedState.cachePool!==null){var f=c.memoizedState.cachePool.pool;f!=null&&f.refCount++}break;case 24:mo(c.memoizedState.cache)}if(f=c.child,f!==null)f.return=c,Ve=f;else t:for(c=a;Ve!==null;){f=Ve;var m=f.sibling,b=f.return;if(bv(f),f===c){Ve=null;break t}if(m!==null){m.return=b,Ve=m;break t}Ve=b}}}var RR={getCacheForType:function(a){var s=Ze(Me),c=s.data.get(a);return c===void 0&&(c=a(),s.data.set(a,c)),c},cacheSignal:function(){return Ze(Me).controller.signal}},LR=typeof WeakMap=="function"?WeakMap:Map,ee=0,de=null,qt=null,Gt=0,se=0,Pr=null,Ya=!1,qs=!1,Jp=!1,pa=0,ke=0,Va=0,zn=0,tg=0,Ur=0,Hs=0,No=null,Er=null,eg=!1,Ju=0,Ov=0,th=1/0,eh=null,Xa=null,Fe=0,Ka=null,Ws=null,ga=0,rg=0,ig=null,Rv=null,Do=0,ag=null;function Ir(){return(ee&2)!==0&&Gt!==0?Gt&-Gt:R.T!==null?ug():to()}function Lv(){if(Ur===0)if((Gt&536870912)===0||Vt){var a=Ki;Ki<<=1,(Ki&3932160)===0&&(Ki=262144),Ur=a}else Ur=536870912;return a=zr.current,a!==null&&(a.flags|=32),Ur}function Ar(a,s,c){(a===de&&(se===2||se===9)||a.cancelPendingCommit!==null)&&(Gs(a,0),Qa(a,Gt,Ur,!1)),Da(a,c),((ee&2)===0||a!==de)&&(a===de&&((ee&2)===0&&(zn|=c),ke===4&&Qa(a,Gt,Ur,!1)),ji(a))}function Mv(a,s,c){if((ee&6)!==0)throw Error(i(327));var f=!c&&(s&127)===0&&(s&a.expiredLanes)===0||wn(a,s),m=f?NR(a,s):sg(a,s,!0),b=f;do{if(m===0){qs&&!f&&Qa(a,s,0,!1);break}else{if(c=a.current.alternate,b&&!MR(c)){m=sg(a,s,!1),b=!1;continue}if(m===2){if(b=s,a.errorRecoveryDisabledLanes&b)var k=0;else k=a.pendingLanes&-536870913,k=k!==0?k:k&536870912?536870912:0;if(k!==0){s=k;t:{var A=a;m=No;var D=A.current.memoizedState.isDehydrated;if(D&&(Gs(A,k).flags|=256),k=sg(A,k,!1),k!==2){if(Jp&&!D){A.errorRecoveryDisabledLanes|=b,zn|=b,m=4;break t}b=Er,Er=m,b!==null&&(Er===null?Er=b:Er.push.apply(Er,b))}m=k}if(b=!1,m!==2)continue}}if(m===1){Gs(a,0),Qa(a,s,0,!0);break}t:{switch(f=a,b=m,b){case 0:case 1:throw Error(i(345));case 4:if((s&4194048)!==s)break;case 6:Qa(f,s,Ur,!Ya);break t;case 2:Er=null;break;case 3:case 5:break;default:throw Error(i(329))}if((s&62914560)===s&&(m=Ju+300-Xe(),10<m)){if(Qa(f,s,Ur,!Ya),bs(f,0,!0)!==0)break t;ga=s,f.timeoutHandle=c_(Bv.bind(null,f,c,Er,eh,eg,s,Ur,zn,Hs,Ya,b,"Throttled",-0,0),m);break t}Bv(f,c,Er,eh,eg,s,Ur,zn,Hs,Ya,b,null,-0,0)}}break}while(!0);ji(a)}function Bv(a,s,c,f,m,b,k,A,D,K,it,st,Q,tt){if(a.timeoutHandle=-1,st=s.subtreeFlags,st&8192||(st&16785408)===16785408){st={stylesheets:null,count:0,imgCount:0,imgBytes:0,suspenseyImages:[],waitingForImages:!0,waitingForViewTransition:!1,unsuspend:ta},Cv(s,b,st);var yt=(b&62914560)===b?Ju-Xe():(b&4194048)===b?Ov-Xe():0;if(yt=mL(st,yt),yt!==null){ga=b,a.cancelPendingCommit=yt(Uv.bind(null,a,s,b,c,f,m,k,A,D,it,st,null,Q,tt)),Qa(a,b,k,!K);return}}Uv(a,s,b,c,f,m,k,A,D)}function MR(a){for(var s=a;;){var c=s.tag;if((c===0||c===11||c===15)&&s.flags&16384&&(c=s.updateQueue,c!==null&&(c=c.stores,c!==null)))for(var f=0;f<c.length;f++){var m=c[f],b=m.getSnapshot;m=m.value;try{if(!jr(b(),m))return!1}catch{return!1}}if(c=s.child,s.subtreeFlags&16384&&c!==null)c.return=s,s=c;else{if(s===a)break;for(;s.sibling===null;){if(s.return===null||s.return===a)return!0;s=s.return}s.sibling.return=s.return,s=s.sibling}}return!0}function Qa(a,s,c,f){s&=~tg,s&=~zn,a.suspendedLanes|=s,a.pingedLanes&=~s,f&&(a.warmLanes|=s),f=a.expirationTimes;for(var m=s;0<m;){var b=31-Re(m),k=1<<b;f[b]=-1,m&=~k}c!==0&&Zl(a,c,s)}function rh(){return(ee&6)===0?(jo(0),!1):!0}function ng(){if(qt!==null){if(se===0)var a=qt.return;else a=qt,aa=On=null,_p(a),js=null,bo=0,a=qt;for(;a!==null;)uv(a.alternate,a),a=a.return;qt=null}}function Gs(a,s){var c=a.timeoutHandle;c!==-1&&(a.timeoutHandle=-1,ZR(c)),c=a.cancelPendingCommit,c!==null&&(a.cancelPendingCommit=null,c()),ga=0,ng(),de=a,qt=c=ra(a.current,null),Gt=s,se=0,Pr=null,Ya=!1,qs=wn(a,s),Jp=!1,Hs=Ur=tg=zn=Va=ke=0,Er=No=null,eg=!1,(s&8)!==0&&(s|=s&32);var f=a.entangledLanes;if(f!==0)for(a=a.entanglements,f&=s;0<f;){var m=31-Re(f),b=1<<m;s|=a[m],f&=~b}return pa=s,Su(),c}function Nv(a,s){Ft=null,R.H=To,s===Ds||s===Lu?(s=Kb(),se=3):s===cp?(s=Kb(),se=4):se=s===$p?8:s!==null&&typeof s=="object"&&typeof s.then=="function"?6:1,Pr=s,qt===null&&(ke=1,Wu(a,ii(s,a.current)))}function Dv(){var a=zr.current;return a===null?!0:(Gt&4194048)===Gt?li===null:(Gt&62914560)===Gt||(Gt&536870912)!==0?a===li:!1}function jv(){var a=R.H;return R.H=To,a===null?To:a}function $v(){var a=R.A;return R.A=RR,a}function ih(){ke=4,Ya||(Gt&4194048)!==Gt&&zr.current!==null||(qs=!0),(Va&134217727)===0&&(zn&134217727)===0||de===null||Qa(de,Gt,Ur,!1)}function sg(a,s,c){var f=ee;ee|=2;var m=jv(),b=$v();(de!==a||Gt!==s)&&(eh=null,Gs(a,s)),s=!1;var k=ke;t:do try{if(se!==0&&qt!==null){var A=qt,D=Pr;switch(se){case 8:ng(),k=6;break t;case 3:case 2:case 9:case 6:zr.current===null&&(s=!0);var K=se;if(se=0,Pr=null,Ys(a,A,D,K),c&&qs){k=0;break t}break;default:K=se,se=0,Pr=null,Ys(a,A,D,K)}}BR(),k=ke;break}catch(it){Nv(a,it)}while(!0);return s&&a.shellSuspendCounter++,aa=On=null,ee=f,R.H=m,R.A=b,qt===null&&(de=null,Gt=0,Su()),k}function BR(){for(;qt!==null;)zv(qt)}function NR(a,s){var c=ee;ee|=2;var f=jv(),m=$v();de!==a||Gt!==s?(eh=null,th=Xe()+500,Gs(a,s)):qs=wn(a,s);t:do try{if(se!==0&&qt!==null){s=qt;var b=Pr;e:switch(se){case 1:se=0,Pr=null,Ys(a,s,b,1);break;case 2:case 9:if(Vb(b)){se=0,Pr=null,Fv(s);break}s=function(){se!==2&&se!==9||de!==a||(se=7),ji(a)},b.then(s,s);break t;case 3:se=7;break t;case 4:se=5;break t;case 7:Vb(b)?(se=0,Pr=null,Fv(s)):(se=0,Pr=null,Ys(a,s,b,7));break;case 5:var k=null;switch(qt.tag){case 26:k=qt.memoizedState;case 5:case 27:var A=qt;if(k?k_(k):A.stateNode.complete){se=0,Pr=null;var D=A.sibling;if(D!==null)qt=D;else{var K=A.return;K!==null?(qt=K,ah(K)):qt=null}break e}}se=0,Pr=null,Ys(a,s,b,5);break;case 6:se=0,Pr=null,Ys(a,s,b,6);break;case 8:ng(),ke=6;break t;default:throw Error(i(462))}}DR();break}catch(it){Nv(a,it)}while(!0);return aa=On=null,R.H=f,R.A=m,ee=c,qt!==null?0:(de=null,Gt=0,Su(),ke)}function DR(){for(;qt!==null&&!nu();)zv(qt)}function zv(a){var s=ov(a.alternate,a,pa);a.memoizedProps=a.pendingProps,s===null?ah(a):qt=s}function Fv(a){var s=a,c=s.alternate;switch(s.tag){case 15:case 0:s=rv(c,s,s.pendingProps,s.type,void 0,Gt);break;case 11:s=rv(c,s,s.pendingProps,s.type.render,s.ref,Gt);break;case 5:_p(s);default:uv(c,s),s=qt=$b(s,pa),s=ov(c,s,pa)}a.memoizedProps=a.pendingProps,s===null?ah(a):qt=s}function Ys(a,s,c,f){aa=On=null,_p(s),js=null,bo=0;var m=s.return;try{if(SR(a,m,s,c,Gt)){ke=1,Wu(a,ii(c,a.current)),qt=null;return}}catch(b){if(m!==null)throw qt=m,b;ke=1,Wu(a,ii(c,a.current)),qt=null;return}s.flags&32768?(Vt||f===1?a=!0:qs||(Gt&536870912)!==0?a=!1:(Ya=a=!0,(f===2||f===9||f===3||f===6)&&(f=zr.current,f!==null&&f.tag===13&&(f.flags|=16384))),Pv(s,a)):ah(s)}function ah(a){var s=a;do{if((s.flags&32768)!==0){Pv(s,Ya);return}a=s.return;var c=TR(s.alternate,s,pa);if(c!==null){qt=c;return}if(s=s.sibling,s!==null){qt=s;return}qt=s=a}while(s!==null);ke===0&&(ke=5)}function Pv(a,s){do{var c=ER(a.alternate,a);if(c!==null){c.flags&=32767,qt=c;return}if(c=a.return,c!==null&&(c.flags|=32768,c.subtreeFlags=0,c.deletions=null),!s&&(a=a.sibling,a!==null)){qt=a;return}qt=a=c}while(a!==null);ke=6,qt=null}function Uv(a,s,c,f,m,b,k,A,D){a.cancelPendingCommit=null;do nh();while(Fe!==0);if((ee&6)!==0)throw Error(i(327));if(s!==null){if(s===a.current)throw Error(i(177));if(b=s.lanes|s.childLanes,b|=Vf,Ql(a,c,b,k,A,D),a===de&&(qt=de=null,Gt=0),Ws=s,Ka=a,ga=c,rg=b,ig=m,Rv=f,(s.subtreeFlags&10256)!==0||(s.flags&10256)!==0?(a.callbackNode=null,a.callbackPriority=0,FR(Na,function(){return Gv(),null})):(a.callbackNode=null,a.callbackPriority=0),f=(s.flags&13878)!==0,(s.subtreeFlags&13878)!==0||f){f=R.T,R.T=null,m=$.p,$.p=2,k=ee,ee|=4;try{AR(a,s,c)}finally{ee=k,$.p=m,R.T=f}}Fe=1,Iv(),qv(),Hv()}}function Iv(){if(Fe===1){Fe=0;var a=Ka,s=Ws,c=(s.flags&13878)!==0;if((s.subtreeFlags&13878)!==0||c){c=R.T,R.T=null;var f=$.p;$.p=2;var m=ee;ee|=4;try{wv(s,a);var b=bg,k=Ab(a.containerInfo),A=b.focusedElem,D=b.selectionRange;if(k!==A&&A&&A.ownerDocument&&Eb(A.ownerDocument.documentElement,A)){if(D!==null&&qf(A)){var K=D.start,it=D.end;if(it===void 0&&(it=K),"selectionStart"in A)A.selectionStart=K,A.selectionEnd=Math.min(it,A.value.length);else{var st=A.ownerDocument||document,Q=st&&st.defaultView||window;if(Q.getSelection){var tt=Q.getSelection(),yt=A.textContent.length,Mt=Math.min(D.start,yt),he=D.end===void 0?Mt:Math.min(D.end,yt);!tt.extend&&Mt>he&&(k=he,he=Mt,Mt=k);var G=Tb(A,Mt),U=Tb(A,he);if(G&&U&&(tt.rangeCount!==1||tt.anchorNode!==G.node||tt.anchorOffset!==G.offset||tt.focusNode!==U.node||tt.focusOffset!==U.offset)){var X=st.createRange();X.setStart(G.node,G.offset),tt.removeAllRanges(),Mt>he?(tt.addRange(X),tt.extend(U.node,U.offset)):(X.setEnd(U.node,U.offset),tt.addRange(X))}}}}for(st=[],tt=A;tt=tt.parentNode;)tt.nodeType===1&&st.push({element:tt,left:tt.scrollLeft,top:tt.scrollTop});for(typeof A.focus=="function"&&A.focus(),A=0;A<st.length;A++){var nt=st[A];nt.element.scrollLeft=nt.left,nt.element.scrollTop=nt.top}}yh=!!yg,bg=yg=null}finally{ee=m,$.p=f,R.T=c}}a.current=s,Fe=2}}function qv(){if(Fe===2){Fe=0;var a=Ka,s=Ws,c=(s.flags&8772)!==0;if((s.subtreeFlags&8772)!==0||c){c=R.T,R.T=null;var f=$.p;$.p=2;var m=ee;ee|=4;try{yv(a,s.alternate,s)}finally{ee=m,$.p=f,R.T=c}}Fe=3}}function Hv(){if(Fe===4||Fe===3){Fe=0,Cf();var a=Ka,s=Ws,c=ga,f=Rv;(s.subtreeFlags&10256)!==0||(s.flags&10256)!==0?Fe=5:(Fe=0,Ws=Ka=null,Wv(a,a.pendingLanes));var m=a.pendingLanes;if(m===0&&(Xa=null),gi(c),s=s.stateNode,Ge&&typeof Ge.onCommitFiberRoot=="function")try{Ge.onCommitFiberRoot(Li,s,void 0,(s.current.flags&128)===128)}catch{}if(f!==null){s=R.T,m=$.p,$.p=2,R.T=null;try{for(var b=a.onRecoverableError,k=0;k<f.length;k++){var A=f[k];b(A.value,{componentStack:A.stack})}}finally{R.T=s,$.p=m}}(ga&3)!==0&&nh(),ji(a),m=a.pendingLanes,(c&261930)!==0&&(m&42)!==0?a===ag?Do++:(Do=0,ag=a):Do=0,jo(0)}}function Wv(a,s){(a.pooledCacheLanes&=s)===0&&(s=a.pooledCache,s!=null&&(a.pooledCache=null,mo(s)))}function nh(){return Iv(),qv(),Hv(),Gv()}function Gv(){if(Fe!==5)return!1;var a=Ka,s=rg;rg=0;var c=gi(ga),f=R.T,m=$.p;try{$.p=32>c?32:c,R.T=null,c=ig,ig=null;var b=Ka,k=ga;if(Fe=0,Ws=Ka=null,ga=0,(ee&6)!==0)throw Error(i(331));var A=ee;if(ee|=4,Ev(b.current),kv(b,b.current,k,c),ee=A,jo(0,!1),Ge&&typeof Ge.onPostCommitFiberRoot=="function")try{Ge.onPostCommitFiberRoot(Li,b)}catch{}return!0}finally{$.p=m,R.T=f,Wv(a,s)}}function Yv(a,s,c){s=ii(c,s),s=jp(a.stateNode,s,2),a=qa(a,s,2),a!==null&&(Da(a,2),ji(a))}function le(a,s,c){if(a.tag===3)Yv(a,a,c);else for(;s!==null;){if(s.tag===3){Yv(s,a,c);break}else if(s.tag===1){var f=s.stateNode;if(typeof s.type.getDerivedStateFromError=="function"||typeof f.componentDidCatch=="function"&&(Xa===null||!Xa.has(f))){a=ii(c,a),c=Vx(2),f=qa(s,c,2),f!==null&&(Xx(c,f,s,a),Da(f,2),ji(f));break}}s=s.return}}function lg(a,s,c){var f=a.pingCache;if(f===null){f=a.pingCache=new LR;var m=new Set;f.set(s,m)}else m=f.get(s),m===void 0&&(m=new Set,f.set(s,m));m.has(c)||(Jp=!0,m.add(c),a=jR.bind(null,a,s,c),s.then(a,a))}function jR(a,s,c){var f=a.pingCache;f!==null&&f.delete(s),a.pingedLanes|=a.suspendedLanes&c,a.warmLanes&=~c,de===a&&(Gt&c)===c&&(ke===4||ke===3&&(Gt&62914560)===Gt&&300>Xe()-Ju?(ee&2)===0&&Gs(a,0):tg|=c,Hs===Gt&&(Hs=0)),ji(a)}function Vv(a,s){s===0&&(s=Qi()),a=Tn(a,s),a!==null&&(Da(a,s),ji(a))}function $R(a){var s=a.memoizedState,c=0;s!==null&&(c=s.retryLane),Vv(a,c)}function zR(a,s){var c=0;switch(a.tag){case 31:case 13:var f=a.stateNode,m=a.memoizedState;m!==null&&(c=m.retryLane);break;case 19:f=a.stateNode;break;case 22:f=a.stateNode._retryCache;break;default:throw Error(i(314))}f!==null&&f.delete(s),Vv(a,c)}function FR(a,s){return Ba(a,s)}var sh=null,Vs=null,og=!1,lh=!1,cg=!1,Za=0;function ji(a){a!==Vs&&a.next===null&&(Vs===null?sh=Vs=a:Vs=Vs.next=a),lh=!0,og||(og=!0,UR())}function jo(a,s){if(!cg&&lh){cg=!0;do for(var c=!1,f=sh;f!==null;){if(a!==0){var m=f.pendingLanes;if(m===0)var b=0;else{var k=f.suspendedLanes,A=f.pingedLanes;b=(1<<31-Re(42|a)+1)-1,b&=m&~(k&~A),b=b&201326741?b&201326741|1:b?b|2:0}b!==0&&(c=!0,Zv(f,b))}else b=Gt,b=bs(f,f===de?b:0,f.cancelPendingCommit!==null||f.timeoutHandle!==-1),(b&3)===0||wn(f,b)||(c=!0,Zv(f,b));f=f.next}while(c);cg=!1}}function PR(){Xv()}function Xv(){lh=og=!1;var a=0;Za!==0&&QR()&&(a=Za);for(var s=Xe(),c=null,f=sh;f!==null;){var m=f.next,b=Kv(f,s);b===0?(f.next=null,c===null?sh=m:c.next=m,m===null&&(Vs=c)):(c=f,(a!==0||(b&3)!==0)&&(lh=!0)),f=m}Fe!==0&&Fe!==5||jo(a),Za!==0&&(Za=0)}function Kv(a,s){for(var c=a.suspendedLanes,f=a.pingedLanes,m=a.expirationTimes,b=a.pendingLanes&-62914561;0<b;){var k=31-Re(b),A=1<<k,D=m[k];D===-1?((A&c)===0||(A&f)!==0)&&(m[k]=Te(A,s)):D<=s&&(a.expiredLanes|=A),b&=~A}if(s=de,c=Gt,c=bs(a,a===s?c:0,a.cancelPendingCommit!==null||a.timeoutHandle!==-1),f=a.callbackNode,c===0||a===s&&(se===2||se===9)||a.cancelPendingCommit!==null)return f!==null&&f!==null&&ms(f),a.callbackNode=null,a.callbackPriority=0;if((c&3)===0||wn(a,c)){if(s=c&-c,s===a.callbackPriority)return s;switch(f!==null&&ms(f),gi(c)){case 2:case 8:c=Nr;break;case 32:c=Na;break;case 268435456:c=Gl;break;default:c=Na}return f=Qv.bind(null,a),c=Ba(c,f),a.callbackPriority=s,a.callbackNode=c,s}return f!==null&&f!==null&&ms(f),a.callbackPriority=2,a.callbackNode=null,2}function Qv(a,s){if(Fe!==0&&Fe!==5)return a.callbackNode=null,a.callbackPriority=0,null;var c=a.callbackNode;if(nh()&&a.callbackNode!==c)return null;var f=Gt;return f=bs(a,a===de?f:0,a.cancelPendingCommit!==null||a.timeoutHandle!==-1),f===0?null:(Mv(a,f,s),Kv(a,Xe()),a.callbackNode!=null&&a.callbackNode===c?Qv.bind(null,a):null)}function Zv(a,s){if(nh())return null;Mv(a,s,!0)}function UR(){JR(function(){(ee&6)!==0?Ba(Vi,PR):Xv()})}function ug(){if(Za===0){var a=Bs;a===0&&(a=Xi,Xi<<=1,(Xi&261888)===0&&(Xi=256)),Za=a}return Za}function Jv(a){return a==null||typeof a=="symbol"||typeof a=="boolean"?null:typeof a=="function"?a:gu(""+a)}function t_(a,s){var c=s.ownerDocument.createElement("input");return c.name=s.name,c.value=s.value,a.id&&c.setAttribute("form",a.id),s.parentNode.insertBefore(c,s),a=new FormData(a),c.parentNode.removeChild(c),a}function IR(a,s,c,f,m){if(s==="submit"&&c&&c.stateNode===m){var b=Jv((m[ye]||null).action),k=f.submitter;k&&(s=(s=k[ye]||null)?Jv(s.formAction):k.getAttribute("formAction"),s!==null&&(b=s,k=null));var A=new xu("action","action",null,f,m);a.push({event:A,listeners:[{instance:null,listener:function(){if(f.defaultPrevented){if(Za!==0){var D=k?t_(m,k):new FormData(m);Rp(c,{pending:!0,data:D,method:m.method,action:b},null,D)}}else typeof b=="function"&&(A.preventDefault(),D=k?t_(m,k):new FormData(m),Rp(c,{pending:!0,data:D,method:m.method,action:b},b,D))},currentTarget:m}]})}}for(var hg=0;hg<Yf.length;hg++){var dg=Yf[hg],qR=dg.toLowerCase(),HR=dg[0].toUpperCase()+dg.slice(1);mi(qR,"on"+HR)}mi(Lb,"onAnimationEnd"),mi(Mb,"onAnimationIteration"),mi(Bb,"onAnimationStart"),mi("dblclick","onDoubleClick"),mi("focusin","onFocus"),mi("focusout","onBlur"),mi(sR,"onTransitionRun"),mi(lR,"onTransitionStart"),mi(oR,"onTransitionCancel"),mi(Nb,"onTransitionEnd"),Mi("onMouseEnter",["mouseout","mouseover"]),Mi("onMouseLeave",["mouseout","mouseover"]),Mi("onPointerEnter",["pointerout","pointerover"]),Mi("onPointerLeave",["pointerout","pointerover"]),wr("onChange","change click focusin focusout input keydown keyup selectionchange".split(" ")),wr("onSelect","focusout contextmenu dragend focusin keydown keyup mousedown mouseup selectionchange".split(" ")),wr("onBeforeInput",["compositionend","keypress","textInput","paste"]),wr("onCompositionEnd","compositionend focusout keydown keypress keyup mousedown".split(" ")),wr("onCompositionStart","compositionstart focusout keydown keypress keyup mousedown".split(" ")),wr("onCompositionUpdate","compositionupdate focusout keydown keypress keyup mousedown".split(" "));var $o="abort canplay canplaythrough durationchange emptied encrypted ended error loadeddata loadedmetadata loadstart pause play playing progress ratechange resize seeked seeking stalled suspend timeupdate volumechange waiting".split(" "),WR=new Set("beforetoggle cancel close invalid load scroll scrollend toggle".split(" ").concat($o));function e_(a,s){s=(s&4)!==0;for(var c=0;c<a.length;c++){var f=a[c],m=f.event;f=f.listeners;t:{var b=void 0;if(s)for(var k=f.length-1;0<=k;k--){var A=f[k],D=A.instance,K=A.currentTarget;if(A=A.listener,D!==b&&m.isPropagationStopped())break t;b=A,m.currentTarget=K;try{b(m)}catch(it){wu(it)}m.currentTarget=null,b=D}else for(k=0;k<f.length;k++){if(A=f[k],D=A.instance,K=A.currentTarget,A=A.listener,D!==b&&m.isPropagationStopped())break t;b=A,m.currentTarget=K;try{b(m)}catch(it){wu(it)}m.currentTarget=null,b=D}}}}function Ht(a,s){var c=s[xs];c===void 0&&(c=s[xs]=new Set);var f=a+"__bubble";c.has(f)||(r_(s,a,2,!1),c.add(f))}function fg(a,s,c){var f=0;s&&(f|=4),r_(c,a,f,s)}var oh="_reactListening"+Math.random().toString(36).slice(2);function pg(a){if(!a[oh]){a[oh]=!0,Ke.forEach(function(c){c!=="selectionchange"&&(WR.has(c)||fg(c,!1,a),fg(c,!0,a))});var s=a.nodeType===9?a:a.ownerDocument;s===null||s[oh]||(s[oh]=!0,fg("selectionchange",!1,s))}}function r_(a,s,c,f){switch(L_(s)){case 2:var m=xL;break;case 8:m=vL;break;default:m=Og}c=m.bind(null,s,c,a),m=void 0,!Nf||s!=="touchstart"&&s!=="touchmove"&&s!=="wheel"||(m=!0),f?m!==void 0?a.addEventListener(s,c,{capture:!0,passive:m}):a.addEventListener(s,c,!0):m!==void 0?a.addEventListener(s,c,{passive:m}):a.addEventListener(s,c,!1)}function gg(a,s,c,f,m){var b=f;if((s&1)===0&&(s&2)===0&&f!==null)t:for(;;){if(f===null)return;var k=f.tag;if(k===3||k===4){var A=f.stateNode.containerInfo;if(A===m)break;if(k===4)for(k=f.return;k!==null;){var D=k.tag;if((D===3||D===4)&&k.stateNode.containerInfo===m)return;k=k.return}for(;A!==null;){if(k=ut(A),k===null)return;if(D=k.tag,D===5||D===6||D===26||D===27){f=b=k;continue t}A=A.parentNode}}f=f.return}lb(function(){var K=b,it=Mf(c),st=[];t:{var Q=Db.get(a);if(Q!==void 0){var tt=xu,yt=a;switch(a){case"keypress":if(yu(c)===0)break t;case"keydown":case"keyup":tt=zO;break;case"focusin":yt="focus",tt=zf;break;case"focusout":yt="blur",tt=zf;break;case"beforeblur":case"afterblur":tt=zf;break;case"click":if(c.button===2)break t;case"auxclick":case"dblclick":case"mousedown":case"mousemove":case"mouseup":case"mouseout":case"mouseover":case"contextmenu":tt=ub;break;case"drag":case"dragend":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"dragstart":case"drop":tt=TO;break;case"touchcancel":case"touchend":case"touchmove":case"touchstart":tt=UO;break;case Lb:case Mb:case Bb:tt=OO;break;case Nb:tt=qO;break;case"scroll":case"scrollend":tt=kO;break;case"wheel":tt=WO;break;case"copy":case"cut":case"paste":tt=LO;break;case"gotpointercapture":case"lostpointercapture":case"pointercancel":case"pointerdown":case"pointermove":case"pointerout":case"pointerover":case"pointerup":tt=db;break;case"toggle":case"beforetoggle":tt=YO}var Mt=(s&4)!==0,he=!Mt&&(a==="scroll"||a==="scrollend"),G=Mt?Q!==null?Q+"Capture":null:Q;Mt=[];for(var U=K,X;U!==null;){var nt=U;if(X=nt.stateNode,nt=nt.tag,nt!==5&&nt!==26&&nt!==27||X===null||G===null||(nt=ao(U,G),nt!=null&&Mt.push(zo(U,nt,X))),he)break;U=U.return}0<Mt.length&&(Q=new tt(Q,yt,null,c,it),st.push({event:Q,listeners:Mt}))}}if((s&7)===0){t:{if(Q=a==="mouseover"||a==="pointerover",tt=a==="mouseout"||a==="pointerout",Q&&c!==Lf&&(yt=c.relatedTarget||c.fromElement)&&(ut(yt)||yt[Zi]))break t;if((tt||Q)&&(Q=it.window===it?it:(Q=it.ownerDocument)?Q.defaultView||Q.parentWindow:window,tt?(yt=c.relatedTarget||c.toElement,tt=K,yt=yt?ut(yt):null,yt!==null&&(he=l(yt),Mt=yt.tag,yt!==he||Mt!==5&&Mt!==27&&Mt!==6)&&(yt=null)):(tt=null,yt=K),tt!==yt)){if(Mt=ub,nt="onMouseLeave",G="onMouseEnter",U="mouse",(a==="pointerout"||a==="pointerover")&&(Mt=db,nt="onPointerLeave",G="onPointerEnter",U="pointer"),he=tt==null?Q:re(tt),X=yt==null?Q:re(yt),Q=new Mt(nt,U+"leave",tt,c,it),Q.target=he,Q.relatedTarget=X,nt=null,ut(it)===K&&(Mt=new Mt(G,U+"enter",yt,c,it),Mt.target=X,Mt.relatedTarget=he,nt=Mt),he=nt,tt&&yt)e:{for(Mt=GR,G=tt,U=yt,X=0,nt=G;nt;nt=Mt(nt))X++;nt=0;for(var At=U;At;At=Mt(At))nt++;for(;0<X-nt;)G=Mt(G),X--;for(;0<nt-X;)U=Mt(U),nt--;for(;X--;){if(G===U||U!==null&&G===U.alternate){Mt=G;break e}G=Mt(G),U=Mt(U)}Mt=null}else Mt=null;tt!==null&&i_(st,Q,tt,Mt,!1),yt!==null&&he!==null&&i_(st,he,yt,Mt,!0)}}t:{if(Q=K?re(K):window,tt=Q.nodeName&&Q.nodeName.toLowerCase(),tt==="select"||tt==="input"&&Q.type==="file")var Qt=vb;else if(bb(Q))if(_b)Qt=iR;else{Qt=eR;var kt=tR}else tt=Q.nodeName,!tt||tt.toLowerCase()!=="input"||Q.type!=="checkbox"&&Q.type!=="radio"?K&&Rf(K.elementType)&&(Qt=vb):Qt=rR;if(Qt&&(Qt=Qt(a,K))){xb(st,Qt,c,it);break t}kt&&kt(a,Q,K),a==="focusout"&&K&&Q.type==="number"&&K.memoizedProps.value!=null&&Of(Q,"number",Q.value)}switch(kt=K?re(K):window,a){case"focusin":(bb(kt)||kt.contentEditable==="true")&&(Cs=kt,Hf=K,fo=null);break;case"focusout":fo=Hf=Cs=null;break;case"mousedown":Wf=!0;break;case"contextmenu":case"mouseup":case"dragend":Wf=!1,Ob(st,c,it);break;case"selectionchange":if(nR)break;case"keydown":case"keyup":Ob(st,c,it)}var Pt;if(Pf)t:{switch(a){case"compositionstart":var Yt="onCompositionStart";break t;case"compositionend":Yt="onCompositionEnd";break t;case"compositionupdate":Yt="onCompositionUpdate";break t}Yt=void 0}else ks?mb(a,c)&&(Yt="onCompositionEnd"):a==="keydown"&&c.keyCode===229&&(Yt="onCompositionStart");Yt&&(fb&&c.locale!=="ko"&&(ks||Yt!=="onCompositionStart"?Yt==="onCompositionEnd"&&ks&&(Pt=ob()):(ja=it,Df="value"in ja?ja.value:ja.textContent,ks=!0)),kt=ch(K,Yt),0<kt.length&&(Yt=new hb(Yt,a,null,c,it),st.push({event:Yt,listeners:kt}),Pt?Yt.data=Pt:(Pt=yb(c),Pt!==null&&(Yt.data=Pt)))),(Pt=XO?KO(a,c):QO(a,c))&&(Yt=ch(K,"onBeforeInput"),0<Yt.length&&(kt=new hb("onBeforeInput","beforeinput",null,c,it),st.push({event:kt,listeners:Yt}),kt.data=Pt)),IR(st,a,K,c,it)}e_(st,s)})}function zo(a,s,c){return{instance:a,listener:s,currentTarget:c}}function ch(a,s){for(var c=s+"Capture",f=[];a!==null;){var m=a,b=m.stateNode;if(m=m.tag,m!==5&&m!==26&&m!==27||b===null||(m=ao(a,c),m!=null&&f.unshift(zo(a,m,b)),m=ao(a,s),m!=null&&f.push(zo(a,m,b))),a.tag===3)return f;a=a.return}return[]}function GR(a){if(a===null)return null;do a=a.return;while(a&&a.tag!==5&&a.tag!==27);return a||null}function i_(a,s,c,f,m){for(var b=s._reactName,k=[];c!==null&&c!==f;){var A=c,D=A.alternate,K=A.stateNode;if(A=A.tag,D!==null&&D===f)break;A!==5&&A!==26&&A!==27||K===null||(D=K,m?(K=ao(c,b),K!=null&&k.unshift(zo(c,K,D))):m||(K=ao(c,b),K!=null&&k.push(zo(c,K,D)))),c=c.return}k.length!==0&&a.push({event:s,listeners:k})}var YR=/\r\n?/g,VR=/\u0000|\uFFFD/g;function a_(a){return(typeof a=="string"?a:""+a).replace(YR,`
`).replace(VR,"")}function n_(a,s){return s=a_(s),a_(a)===s}function ue(a,s,c,f,m,b){switch(c){case"children":typeof f=="string"?s==="body"||s==="textarea"&&f===""||_s(a,f):(typeof f=="number"||typeof f=="bigint")&&s!=="body"&&_s(a,""+f);break;case"className":fu(a,"class",f);break;case"tabIndex":fu(a,"tabindex",f);break;case"dir":case"role":case"viewBox":case"width":case"height":fu(a,c,f);break;case"style":nb(a,f,b);break;case"data":if(s!=="object"){fu(a,"data",f);break}case"src":case"href":if(f===""&&(s!=="a"||c!=="href")){a.removeAttribute(c);break}if(f==null||typeof f=="function"||typeof f=="symbol"||typeof f=="boolean"){a.removeAttribute(c);break}f=gu(""+f),a.setAttribute(c,f);break;case"action":case"formAction":if(typeof f=="function"){a.setAttribute(c,"javascript:throw new Error('A React form was unexpectedly submitted. If you called form.submit() manually, consider using form.requestSubmit() instead. If you\\'re trying to use event.stopPropagation() in a submit event handler, consider also calling event.preventDefault().')");break}else typeof b=="function"&&(c==="formAction"?(s!=="input"&&ue(a,s,"name",m.name,m,null),ue(a,s,"formEncType",m.formEncType,m,null),ue(a,s,"formMethod",m.formMethod,m,null),ue(a,s,"formTarget",m.formTarget,m,null)):(ue(a,s,"encType",m.encType,m,null),ue(a,s,"method",m.method,m,null),ue(a,s,"target",m.target,m,null)));if(f==null||typeof f=="symbol"||typeof f=="boolean"){a.removeAttribute(c);break}f=gu(""+f),a.setAttribute(c,f);break;case"onClick":f!=null&&(a.onclick=ta);break;case"onScroll":f!=null&&Ht("scroll",a);break;case"onScrollEnd":f!=null&&Ht("scrollend",a);break;case"dangerouslySetInnerHTML":if(f!=null){if(typeof f!="object"||!("__html"in f))throw Error(i(61));if(c=f.__html,c!=null){if(m.children!=null)throw Error(i(60));a.innerHTML=c}}break;case"multiple":a.multiple=f&&typeof f!="function"&&typeof f!="symbol";break;case"muted":a.muted=f&&typeof f!="function"&&typeof f!="symbol";break;case"suppressContentEditableWarning":case"suppressHydrationWarning":case"defaultValue":case"defaultChecked":case"innerHTML":case"ref":break;case"autoFocus":break;case"xlinkHref":if(f==null||typeof f=="function"||typeof f=="boolean"||typeof f=="symbol"){a.removeAttribute("xlink:href");break}c=gu(""+f),a.setAttributeNS("http://www.w3.org/1999/xlink","xlink:href",c);break;case"contentEditable":case"spellCheck":case"draggable":case"value":case"autoReverse":case"externalResourcesRequired":case"focusable":case"preserveAlpha":f!=null&&typeof f!="function"&&typeof f!="symbol"?a.setAttribute(c,""+f):a.removeAttribute(c);break;case"inert":case"allowFullScreen":case"async":case"autoPlay":case"controls":case"default":case"defer":case"disabled":case"disablePictureInPicture":case"disableRemotePlayback":case"formNoValidate":case"hidden":case"loop":case"noModule":case"noValidate":case"open":case"playsInline":case"readOnly":case"required":case"reversed":case"scoped":case"seamless":case"itemScope":f&&typeof f!="function"&&typeof f!="symbol"?a.setAttribute(c,""):a.removeAttribute(c);break;case"capture":case"download":f===!0?a.setAttribute(c,""):f!==!1&&f!=null&&typeof f!="function"&&typeof f!="symbol"?a.setAttribute(c,f):a.removeAttribute(c);break;case"cols":case"rows":case"size":case"span":f!=null&&typeof f!="function"&&typeof f!="symbol"&&!isNaN(f)&&1<=f?a.setAttribute(c,f):a.removeAttribute(c);break;case"rowSpan":case"start":f==null||typeof f=="function"||typeof f=="symbol"||isNaN(f)?a.removeAttribute(c):a.setAttribute(c,f);break;case"popover":Ht("beforetoggle",a),Ht("toggle",a),du(a,"popover",f);break;case"xlinkActuate":Ji(a,"http://www.w3.org/1999/xlink","xlink:actuate",f);break;case"xlinkArcrole":Ji(a,"http://www.w3.org/1999/xlink","xlink:arcrole",f);break;case"xlinkRole":Ji(a,"http://www.w3.org/1999/xlink","xlink:role",f);break;case"xlinkShow":Ji(a,"http://www.w3.org/1999/xlink","xlink:show",f);break;case"xlinkTitle":Ji(a,"http://www.w3.org/1999/xlink","xlink:title",f);break;case"xlinkType":Ji(a,"http://www.w3.org/1999/xlink","xlink:type",f);break;case"xmlBase":Ji(a,"http://www.w3.org/XML/1998/namespace","xml:base",f);break;case"xmlLang":Ji(a,"http://www.w3.org/XML/1998/namespace","xml:lang",f);break;case"xmlSpace":Ji(a,"http://www.w3.org/XML/1998/namespace","xml:space",f);break;case"is":du(a,"is",f);break;case"innerText":case"textContent":break;default:(!(2<c.length)||c[0]!=="o"&&c[0]!=="O"||c[1]!=="n"&&c[1]!=="N")&&(c=wO.get(c)||c,du(a,c,f))}}function mg(a,s,c,f,m,b){switch(c){case"style":nb(a,f,b);break;case"dangerouslySetInnerHTML":if(f!=null){if(typeof f!="object"||!("__html"in f))throw Error(i(61));if(c=f.__html,c!=null){if(m.children!=null)throw Error(i(60));a.innerHTML=c}}break;case"children":typeof f=="string"?_s(a,f):(typeof f=="number"||typeof f=="bigint")&&_s(a,""+f);break;case"onScroll":f!=null&&Ht("scroll",a);break;case"onScrollEnd":f!=null&&Ht("scrollend",a);break;case"onClick":f!=null&&(a.onclick=ta);break;case"suppressContentEditableWarning":case"suppressHydrationWarning":case"innerHTML":case"ref":break;case"innerText":case"textContent":break;default:if(!Jr.hasOwnProperty(c))t:{if(c[0]==="o"&&c[1]==="n"&&(m=c.endsWith("Capture"),s=c.slice(2,m?c.length-7:void 0),b=a[ye]||null,b=b!=null?b[c]:null,typeof b=="function"&&a.removeEventListener(s,b,m),typeof f=="function")){typeof b!="function"&&b!==null&&(c in a?a[c]=null:a.hasAttribute(c)&&a.removeAttribute(c)),a.addEventListener(s,f,m);break t}c in a?a[c]=f:f===!0?a.setAttribute(c,""):du(a,c,f)}}}function tr(a,s,c){switch(s){case"div":case"span":case"svg":case"path":case"a":case"g":case"p":case"li":break;case"img":Ht("error",a),Ht("load",a);var f=!1,m=!1,b;for(b in c)if(c.hasOwnProperty(b)){var k=c[b];if(k!=null)switch(b){case"src":f=!0;break;case"srcSet":m=!0;break;case"children":case"dangerouslySetInnerHTML":throw Error(i(137,s));default:ue(a,s,b,k,c,null)}}m&&ue(a,s,"srcSet",c.srcSet,c,null),f&&ue(a,s,"src",c.src,c,null);return;case"input":Ht("invalid",a);var A=b=k=m=null,D=null,K=null;for(f in c)if(c.hasOwnProperty(f)){var it=c[f];if(it!=null)switch(f){case"name":m=it;break;case"type":k=it;break;case"checked":D=it;break;case"defaultChecked":K=it;break;case"value":b=it;break;case"defaultValue":A=it;break;case"children":case"dangerouslySetInnerHTML":if(it!=null)throw Error(i(137,s));break;default:ue(a,s,f,it,c,null)}}eb(a,b,A,D,K,k,m,!1);return;case"select":Ht("invalid",a),f=k=b=null;for(m in c)if(c.hasOwnProperty(m)&&(A=c[m],A!=null))switch(m){case"value":b=A;break;case"defaultValue":k=A;break;case"multiple":f=A;default:ue(a,s,m,A,c,null)}s=b,c=k,a.multiple=!!f,s!=null?vs(a,!!f,s,!1):c!=null&&vs(a,!!f,c,!0);return;case"textarea":Ht("invalid",a),b=m=f=null;for(k in c)if(c.hasOwnProperty(k)&&(A=c[k],A!=null))switch(k){case"value":f=A;break;case"defaultValue":m=A;break;case"children":b=A;break;case"dangerouslySetInnerHTML":if(A!=null)throw Error(i(91));break;default:ue(a,s,k,A,c,null)}ib(a,f,m,b);return;case"option":for(D in c)c.hasOwnProperty(D)&&(f=c[D],f!=null)&&(D==="selected"?a.selected=f&&typeof f!="function"&&typeof f!="symbol":ue(a,s,D,f,c,null));return;case"dialog":Ht("beforetoggle",a),Ht("toggle",a),Ht("cancel",a),Ht("close",a);break;case"iframe":case"object":Ht("load",a);break;case"video":case"audio":for(f=0;f<$o.length;f++)Ht($o[f],a);break;case"image":Ht("error",a),Ht("load",a);break;case"details":Ht("toggle",a);break;case"embed":case"source":case"link":Ht("error",a),Ht("load",a);case"area":case"base":case"br":case"col":case"hr":case"keygen":case"meta":case"param":case"track":case"wbr":case"menuitem":for(K in c)if(c.hasOwnProperty(K)&&(f=c[K],f!=null))switch(K){case"children":case"dangerouslySetInnerHTML":throw Error(i(137,s));default:ue(a,s,K,f,c,null)}return;default:if(Rf(s)){for(it in c)c.hasOwnProperty(it)&&(f=c[it],f!==void 0&&mg(a,s,it,f,c,void 0));return}}for(A in c)c.hasOwnProperty(A)&&(f=c[A],f!=null&&ue(a,s,A,f,c,null))}function XR(a,s,c,f){switch(s){case"div":case"span":case"svg":case"path":case"a":case"g":case"p":case"li":break;case"input":var m=null,b=null,k=null,A=null,D=null,K=null,it=null;for(tt in c){var st=c[tt];if(c.hasOwnProperty(tt)&&st!=null)switch(tt){case"checked":break;case"value":break;case"defaultValue":D=st;default:f.hasOwnProperty(tt)||ue(a,s,tt,null,f,st)}}for(var Q in f){var tt=f[Q];if(st=c[Q],f.hasOwnProperty(Q)&&(tt!=null||st!=null))switch(Q){case"type":b=tt;break;case"name":m=tt;break;case"checked":K=tt;break;case"defaultChecked":it=tt;break;case"value":k=tt;break;case"defaultValue":A=tt;break;case"children":case"dangerouslySetInnerHTML":if(tt!=null)throw Error(i(137,s));break;default:tt!==st&&ue(a,s,Q,tt,f,st)}}Af(a,k,A,D,K,it,b,m);return;case"select":tt=k=A=Q=null;for(b in c)if(D=c[b],c.hasOwnProperty(b)&&D!=null)switch(b){case"value":break;case"multiple":tt=D;default:f.hasOwnProperty(b)||ue(a,s,b,null,f,D)}for(m in f)if(b=f[m],D=c[m],f.hasOwnProperty(m)&&(b!=null||D!=null))switch(m){case"value":Q=b;break;case"defaultValue":A=b;break;case"multiple":k=b;default:b!==D&&ue(a,s,m,b,f,D)}s=A,c=k,f=tt,Q!=null?vs(a,!!c,Q,!1):!!f!=!!c&&(s!=null?vs(a,!!c,s,!0):vs(a,!!c,c?[]:"",!1));return;case"textarea":tt=Q=null;for(A in c)if(m=c[A],c.hasOwnProperty(A)&&m!=null&&!f.hasOwnProperty(A))switch(A){case"value":break;case"children":break;default:ue(a,s,A,null,f,m)}for(k in f)if(m=f[k],b=c[k],f.hasOwnProperty(k)&&(m!=null||b!=null))switch(k){case"value":Q=m;break;case"defaultValue":tt=m;break;case"children":break;case"dangerouslySetInnerHTML":if(m!=null)throw Error(i(91));break;default:m!==b&&ue(a,s,k,m,f,b)}rb(a,Q,tt);return;case"option":for(var yt in c)Q=c[yt],c.hasOwnProperty(yt)&&Q!=null&&!f.hasOwnProperty(yt)&&(yt==="selected"?a.selected=!1:ue(a,s,yt,null,f,Q));for(D in f)Q=f[D],tt=c[D],f.hasOwnProperty(D)&&Q!==tt&&(Q!=null||tt!=null)&&(D==="selected"?a.selected=Q&&typeof Q!="function"&&typeof Q!="symbol":ue(a,s,D,Q,f,tt));return;case"img":case"link":case"area":case"base":case"br":case"col":case"embed":case"hr":case"keygen":case"meta":case"param":case"source":case"track":case"wbr":case"menuitem":for(var Mt in c)Q=c[Mt],c.hasOwnProperty(Mt)&&Q!=null&&!f.hasOwnProperty(Mt)&&ue(a,s,Mt,null,f,Q);for(K in f)if(Q=f[K],tt=c[K],f.hasOwnProperty(K)&&Q!==tt&&(Q!=null||tt!=null))switch(K){case"children":case"dangerouslySetInnerHTML":if(Q!=null)throw Error(i(137,s));break;default:ue(a,s,K,Q,f,tt)}return;default:if(Rf(s)){for(var he in c)Q=c[he],c.hasOwnProperty(he)&&Q!==void 0&&!f.hasOwnProperty(he)&&mg(a,s,he,void 0,f,Q);for(it in f)Q=f[it],tt=c[it],!f.hasOwnProperty(it)||Q===tt||Q===void 0&&tt===void 0||mg(a,s,it,Q,f,tt);return}}for(var G in c)Q=c[G],c.hasOwnProperty(G)&&Q!=null&&!f.hasOwnProperty(G)&&ue(a,s,G,null,f,Q);for(st in f)Q=f[st],tt=c[st],!f.hasOwnProperty(st)||Q===tt||Q==null&&tt==null||ue(a,s,st,Q,f,tt)}function s_(a){switch(a){case"css":case"script":case"font":case"img":case"image":case"input":case"link":return!0;default:return!1}}function KR(){if(typeof performance.getEntriesByType=="function"){for(var a=0,s=0,c=performance.getEntriesByType("resource"),f=0;f<c.length;f++){var m=c[f],b=m.transferSize,k=m.initiatorType,A=m.duration;if(b&&A&&s_(k)){for(k=0,A=m.responseEnd,f+=1;f<c.length;f++){var D=c[f],K=D.startTime;if(K>A)break;var it=D.transferSize,st=D.initiatorType;it&&s_(st)&&(D=D.responseEnd,k+=it*(D<A?1:(A-K)/(D-K)))}if(--f,s+=8*(b+k)/(m.duration/1e3),a++,10<a)break}}if(0<a)return s/a/1e6}return navigator.connection&&(a=navigator.connection.downlink,typeof a=="number")?a:5}var yg=null,bg=null;function uh(a){return a.nodeType===9?a:a.ownerDocument}function l_(a){switch(a){case"http://www.w3.org/2000/svg":return 1;case"http://www.w3.org/1998/Math/MathML":return 2;default:return 0}}function o_(a,s){if(a===0)switch(s){case"svg":return 1;case"math":return 2;default:return 0}return a===1&&s==="foreignObject"?0:a}function xg(a,s){return a==="textarea"||a==="noscript"||typeof s.children=="string"||typeof s.children=="number"||typeof s.children=="bigint"||typeof s.dangerouslySetInnerHTML=="object"&&s.dangerouslySetInnerHTML!==null&&s.dangerouslySetInnerHTML.__html!=null}var vg=null;function QR(){var a=window.event;return a&&a.type==="popstate"?a===vg?!1:(vg=a,!0):(vg=null,!1)}var c_=typeof setTimeout=="function"?setTimeout:void 0,ZR=typeof clearTimeout=="function"?clearTimeout:void 0,u_=typeof Promise=="function"?Promise:void 0,JR=typeof queueMicrotask=="function"?queueMicrotask:typeof u_<"u"?function(a){return u_.resolve(null).then(a).catch(tL)}:c_;function tL(a){setTimeout(function(){throw a})}function Ja(a){return a==="head"}function h_(a,s){var c=s,f=0;do{var m=c.nextSibling;if(a.removeChild(c),m&&m.nodeType===8)if(c=m.data,c==="/$"||c==="/&"){if(f===0){a.removeChild(m),Zs(s);return}f--}else if(c==="$"||c==="$?"||c==="$~"||c==="$!"||c==="&")f++;else if(c==="html")Fo(a.ownerDocument.documentElement);else if(c==="head"){c=a.ownerDocument.head,Fo(c);for(var b=c.firstChild;b;){var k=b.nextSibling,A=b.nodeName;b[St]||A==="SCRIPT"||A==="STYLE"||A==="LINK"&&b.rel.toLowerCase()==="stylesheet"||c.removeChild(b),b=k}}else c==="body"&&Fo(a.ownerDocument.body);c=m}while(c);Zs(s)}function d_(a,s){var c=a;a=0;do{var f=c.nextSibling;if(c.nodeType===1?s?(c._stashedDisplay=c.style.display,c.style.display="none"):(c.style.display=c._stashedDisplay||"",c.getAttribute("style")===""&&c.removeAttribute("style")):c.nodeType===3&&(s?(c._stashedText=c.nodeValue,c.nodeValue=""):c.nodeValue=c._stashedText||""),f&&f.nodeType===8)if(c=f.data,c==="/$"){if(a===0)break;a--}else c!=="$"&&c!=="$?"&&c!=="$~"&&c!=="$!"||a++;c=f}while(c)}function _g(a){var s=a.firstChild;for(s&&s.nodeType===10&&(s=s.nextSibling);s;){var c=s;switch(s=s.nextSibling,c.nodeName){case"HTML":case"HEAD":case"BODY":_g(c),F(c);continue;case"SCRIPT":case"STYLE":continue;case"LINK":if(c.rel.toLowerCase()==="stylesheet")continue}a.removeChild(c)}}function eL(a,s,c,f){for(;a.nodeType===1;){var m=c;if(a.nodeName.toLowerCase()!==s.toLowerCase()){if(!f&&(a.nodeName!=="INPUT"||a.type!=="hidden"))break}else if(f){if(!a[St])switch(s){case"meta":if(!a.hasAttribute("itemprop"))break;return a;case"link":if(b=a.getAttribute("rel"),b==="stylesheet"&&a.hasAttribute("data-precedence"))break;if(b!==m.rel||a.getAttribute("href")!==(m.href==null||m.href===""?null:m.href)||a.getAttribute("crossorigin")!==(m.crossOrigin==null?null:m.crossOrigin)||a.getAttribute("title")!==(m.title==null?null:m.title))break;return a;case"style":if(a.hasAttribute("data-precedence"))break;return a;case"script":if(b=a.getAttribute("src"),(b!==(m.src==null?null:m.src)||a.getAttribute("type")!==(m.type==null?null:m.type)||a.getAttribute("crossorigin")!==(m.crossOrigin==null?null:m.crossOrigin))&&b&&a.hasAttribute("async")&&!a.hasAttribute("itemprop"))break;return a;default:return a}}else if(s==="input"&&a.type==="hidden"){var b=m.name==null?null:""+m.name;if(m.type==="hidden"&&a.getAttribute("name")===b)return a}else return a;if(a=oi(a.nextSibling),a===null)break}return null}function rL(a,s,c){if(s==="")return null;for(;a.nodeType!==3;)if((a.nodeType!==1||a.nodeName!=="INPUT"||a.type!=="hidden")&&!c||(a=oi(a.nextSibling),a===null))return null;return a}function f_(a,s){for(;a.nodeType!==8;)if((a.nodeType!==1||a.nodeName!=="INPUT"||a.type!=="hidden")&&!s||(a=oi(a.nextSibling),a===null))return null;return a}function wg(a){return a.data==="$?"||a.data==="$~"}function Sg(a){return a.data==="$!"||a.data==="$?"&&a.ownerDocument.readyState!=="loading"}function iL(a,s){var c=a.ownerDocument;if(a.data==="$~")a._reactRetry=s;else if(a.data!=="$?"||c.readyState!=="loading")s();else{var f=function(){s(),c.removeEventListener("DOMContentLoaded",f)};c.addEventListener("DOMContentLoaded",f),a._reactRetry=f}}function oi(a){for(;a!=null;a=a.nextSibling){var s=a.nodeType;if(s===1||s===3)break;if(s===8){if(s=a.data,s==="$"||s==="$!"||s==="$?"||s==="$~"||s==="&"||s==="F!"||s==="F")break;if(s==="/$"||s==="/&")return null}}return a}var kg=null;function p_(a){a=a.nextSibling;for(var s=0;a;){if(a.nodeType===8){var c=a.data;if(c==="/$"||c==="/&"){if(s===0)return oi(a.nextSibling);s--}else c!=="$"&&c!=="$!"&&c!=="$?"&&c!=="$~"&&c!=="&"||s++}a=a.nextSibling}return null}function g_(a){a=a.previousSibling;for(var s=0;a;){if(a.nodeType===8){var c=a.data;if(c==="$"||c==="$!"||c==="$?"||c==="$~"||c==="&"){if(s===0)return a;s--}else c!=="/$"&&c!=="/&"||s++}a=a.previousSibling}return null}function m_(a,s,c){switch(s=uh(c),a){case"html":if(a=s.documentElement,!a)throw Error(i(452));return a;case"head":if(a=s.head,!a)throw Error(i(453));return a;case"body":if(a=s.body,!a)throw Error(i(454));return a;default:throw Error(i(451))}}function Fo(a){for(var s=a.attributes;s.length;)a.removeAttributeNode(s[0]);F(a)}var ci=new Map,y_=new Set;function hh(a){return typeof a.getRootNode=="function"?a.getRootNode():a.nodeType===9?a:a.ownerDocument}var ma=$.d;$.d={f:aL,r:nL,D:sL,C:lL,L:oL,m:cL,X:hL,S:uL,M:dL};function aL(){var a=ma.f(),s=rh();return a||s}function nL(a){var s=gt(a);s!==null&&s.tag===5&&s.type==="form"?Nx(s):ma.r(a)}var Xs=typeof document>"u"?null:document;function b_(a,s,c){var f=Xs;if(f&&typeof s=="string"&&s){var m=ei(s);m='link[rel="'+a+'"][href="'+m+'"]',typeof c=="string"&&(m+='[crossorigin="'+c+'"]'),y_.has(m)||(y_.add(m),a={rel:a,crossOrigin:c,href:s},f.querySelector(m)===null&&(s=f.createElement("link"),tr(s,"link",a),Ut(s),f.head.appendChild(s)))}}function sL(a){ma.D(a),b_("dns-prefetch",a,null)}function lL(a,s){ma.C(a,s),b_("preconnect",a,s)}function oL(a,s,c){ma.L(a,s,c);var f=Xs;if(f&&a&&s){var m='link[rel="preload"][as="'+ei(s)+'"]';s==="image"&&c&&c.imageSrcSet?(m+='[imagesrcset="'+ei(c.imageSrcSet)+'"]',typeof c.imageSizes=="string"&&(m+='[imagesizes="'+ei(c.imageSizes)+'"]')):m+='[href="'+ei(a)+'"]';var b=m;switch(s){case"style":b=Ks(a);break;case"script":b=Qs(a)}ci.has(b)||(a=g({rel:"preload",href:s==="image"&&c&&c.imageSrcSet?void 0:a,as:s},c),ci.set(b,a),f.querySelector(m)!==null||s==="style"&&f.querySelector(Po(b))||s==="script"&&f.querySelector(Uo(b))||(s=f.createElement("link"),tr(s,"link",a),Ut(s),f.head.appendChild(s)))}}function cL(a,s){ma.m(a,s);var c=Xs;if(c&&a){var f=s&&typeof s.as=="string"?s.as:"script",m='link[rel="modulepreload"][as="'+ei(f)+'"][href="'+ei(a)+'"]',b=m;switch(f){case"audioworklet":case"paintworklet":case"serviceworker":case"sharedworker":case"worker":case"script":b=Qs(a)}if(!ci.has(b)&&(a=g({rel:"modulepreload",href:a},s),ci.set(b,a),c.querySelector(m)===null)){switch(f){case"audioworklet":case"paintworklet":case"serviceworker":case"sharedworker":case"worker":case"script":if(c.querySelector(Uo(b)))return}f=c.createElement("link"),tr(f,"link",a),Ut(f),c.head.appendChild(f)}}}function uL(a,s,c){ma.S(a,s,c);var f=Xs;if(f&&a){var m=_e(f).hoistableStyles,b=Ks(a);s=s||"default";var k=m.get(b);if(!k){var A={loading:0,preload:null};if(k=f.querySelector(Po(b)))A.loading=5;else{a=g({rel:"stylesheet",href:a,"data-precedence":s},c),(c=ci.get(b))&&Cg(a,c);var D=k=f.createElement("link");Ut(D),tr(D,"link",a),D._p=new Promise(function(K,it){D.onload=K,D.onerror=it}),D.addEventListener("load",function(){A.loading|=1}),D.addEventListener("error",function(){A.loading|=2}),A.loading|=4,dh(k,s,f)}k={type:"stylesheet",instance:k,count:1,state:A},m.set(b,k)}}}function hL(a,s){ma.X(a,s);var c=Xs;if(c&&a){var f=_e(c).hoistableScripts,m=Qs(a),b=f.get(m);b||(b=c.querySelector(Uo(m)),b||(a=g({src:a,async:!0},s),(s=ci.get(m))&&Tg(a,s),b=c.createElement("script"),Ut(b),tr(b,"link",a),c.head.appendChild(b)),b={type:"script",instance:b,count:1,state:null},f.set(m,b))}}function dL(a,s){ma.M(a,s);var c=Xs;if(c&&a){var f=_e(c).hoistableScripts,m=Qs(a),b=f.get(m);b||(b=c.querySelector(Uo(m)),b||(a=g({src:a,async:!0,type:"module"},s),(s=ci.get(m))&&Tg(a,s),b=c.createElement("script"),Ut(b),tr(b,"link",a),c.head.appendChild(b)),b={type:"script",instance:b,count:1,state:null},f.set(m,b))}}function x_(a,s,c,f){var m=(m=Ct.current)?hh(m):null;if(!m)throw Error(i(446));switch(a){case"meta":case"title":return null;case"style":return typeof c.precedence=="string"&&typeof c.href=="string"?(s=Ks(c.href),c=_e(m).hoistableStyles,f=c.get(s),f||(f={type:"style",instance:null,count:0,state:null},c.set(s,f)),f):{type:"void",instance:null,count:0,state:null};case"link":if(c.rel==="stylesheet"&&typeof c.href=="string"&&typeof c.precedence=="string"){a=Ks(c.href);var b=_e(m).hoistableStyles,k=b.get(a);if(k||(m=m.ownerDocument||m,k={type:"stylesheet",instance:null,count:0,state:{loading:0,preload:null}},b.set(a,k),(b=m.querySelector(Po(a)))&&!b._p&&(k.instance=b,k.state.loading=5),ci.has(a)||(c={rel:"preload",as:"style",href:c.href,crossOrigin:c.crossOrigin,integrity:c.integrity,media:c.media,hrefLang:c.hrefLang,referrerPolicy:c.referrerPolicy},ci.set(a,c),b||fL(m,a,c,k.state))),s&&f===null)throw Error(i(528,""));return k}if(s&&f!==null)throw Error(i(529,""));return null;case"script":return s=c.async,c=c.src,typeof c=="string"&&s&&typeof s!="function"&&typeof s!="symbol"?(s=Qs(c),c=_e(m).hoistableScripts,f=c.get(s),f||(f={type:"script",instance:null,count:0,state:null},c.set(s,f)),f):{type:"void",instance:null,count:0,state:null};default:throw Error(i(444,a))}}function Ks(a){return'href="'+ei(a)+'"'}function Po(a){return'link[rel="stylesheet"]['+a+"]"}function v_(a){return g({},a,{"data-precedence":a.precedence,precedence:null})}function fL(a,s,c,f){a.querySelector('link[rel="preload"][as="style"]['+s+"]")?f.loading=1:(s=a.createElement("link"),f.preload=s,s.addEventListener("load",function(){return f.loading|=1}),s.addEventListener("error",function(){return f.loading|=2}),tr(s,"link",c),Ut(s),a.head.appendChild(s))}function Qs(a){return'[src="'+ei(a)+'"]'}function Uo(a){return"script[async]"+a}function __(a,s,c){if(s.count++,s.instance===null)switch(s.type){case"style":var f=a.querySelector('style[data-href~="'+ei(c.href)+'"]');if(f)return s.instance=f,Ut(f),f;var m=g({},c,{"data-href":c.href,"data-precedence":c.precedence,href:null,precedence:null});return f=(a.ownerDocument||a).createElement("style"),Ut(f),tr(f,"style",m),dh(f,c.precedence,a),s.instance=f;case"stylesheet":m=Ks(c.href);var b=a.querySelector(Po(m));if(b)return s.state.loading|=4,s.instance=b,Ut(b),b;f=v_(c),(m=ci.get(m))&&Cg(f,m),b=(a.ownerDocument||a).createElement("link"),Ut(b);var k=b;return k._p=new Promise(function(A,D){k.onload=A,k.onerror=D}),tr(b,"link",f),s.state.loading|=4,dh(b,c.precedence,a),s.instance=b;case"script":return b=Qs(c.src),(m=a.querySelector(Uo(b)))?(s.instance=m,Ut(m),m):(f=c,(m=ci.get(b))&&(f=g({},c),Tg(f,m)),a=a.ownerDocument||a,m=a.createElement("script"),Ut(m),tr(m,"link",f),a.head.appendChild(m),s.instance=m);case"void":return null;default:throw Error(i(443,s.type))}else s.type==="stylesheet"&&(s.state.loading&4)===0&&(f=s.instance,s.state.loading|=4,dh(f,c.precedence,a));return s.instance}function dh(a,s,c){for(var f=c.querySelectorAll('link[rel="stylesheet"][data-precedence],style[data-precedence]'),m=f.length?f[f.length-1]:null,b=m,k=0;k<f.length;k++){var A=f[k];if(A.dataset.precedence===s)b=A;else if(b!==m)break}b?b.parentNode.insertBefore(a,b.nextSibling):(s=c.nodeType===9?c.head:c,s.insertBefore(a,s.firstChild))}function Cg(a,s){a.crossOrigin==null&&(a.crossOrigin=s.crossOrigin),a.referrerPolicy==null&&(a.referrerPolicy=s.referrerPolicy),a.title==null&&(a.title=s.title)}function Tg(a,s){a.crossOrigin==null&&(a.crossOrigin=s.crossOrigin),a.referrerPolicy==null&&(a.referrerPolicy=s.referrerPolicy),a.integrity==null&&(a.integrity=s.integrity)}var fh=null;function w_(a,s,c){if(fh===null){var f=new Map,m=fh=new Map;m.set(c,f)}else m=fh,f=m.get(c),f||(f=new Map,m.set(c,f));if(f.has(a))return f;for(f.set(a,null),c=c.getElementsByTagName(a),m=0;m<c.length;m++){var b=c[m];if(!(b[St]||b[Le]||a==="link"&&b.getAttribute("rel")==="stylesheet")&&b.namespaceURI!=="http://www.w3.org/2000/svg"){var k=b.getAttribute(s)||"";k=a+k;var A=f.get(k);A?A.push(b):f.set(k,[b])}}return f}function S_(a,s,c){a=a.ownerDocument||a,a.head.insertBefore(c,s==="title"?a.querySelector("head > title"):null)}function pL(a,s,c){if(c===1||s.itemProp!=null)return!1;switch(a){case"meta":case"title":return!0;case"style":if(typeof s.precedence!="string"||typeof s.href!="string"||s.href==="")break;return!0;case"link":if(typeof s.rel!="string"||typeof s.href!="string"||s.href===""||s.onLoad||s.onError)break;return s.rel==="stylesheet"?(a=s.disabled,typeof s.precedence=="string"&&a==null):!0;case"script":if(s.async&&typeof s.async!="function"&&typeof s.async!="symbol"&&!s.onLoad&&!s.onError&&s.src&&typeof s.src=="string")return!0}return!1}function k_(a){return!(a.type==="stylesheet"&&(a.state.loading&3)===0)}function gL(a,s,c,f){if(c.type==="stylesheet"&&(typeof f.media!="string"||matchMedia(f.media).matches!==!1)&&(c.state.loading&4)===0){if(c.instance===null){var m=Ks(f.href),b=s.querySelector(Po(m));if(b){s=b._p,s!==null&&typeof s=="object"&&typeof s.then=="function"&&(a.count++,a=ph.bind(a),s.then(a,a)),c.state.loading|=4,c.instance=b,Ut(b);return}b=s.ownerDocument||s,f=v_(f),(m=ci.get(m))&&Cg(f,m),b=b.createElement("link"),Ut(b);var k=b;k._p=new Promise(function(A,D){k.onload=A,k.onerror=D}),tr(b,"link",f),c.instance=b}a.stylesheets===null&&(a.stylesheets=new Map),a.stylesheets.set(c,s),(s=c.state.preload)&&(c.state.loading&3)===0&&(a.count++,c=ph.bind(a),s.addEventListener("load",c),s.addEventListener("error",c))}}var Eg=0;function mL(a,s){return a.stylesheets&&a.count===0&&mh(a,a.stylesheets),0<a.count||0<a.imgCount?function(c){var f=setTimeout(function(){if(a.stylesheets&&mh(a,a.stylesheets),a.unsuspend){var b=a.unsuspend;a.unsuspend=null,b()}},6e4+s);0<a.imgBytes&&Eg===0&&(Eg=62500*KR());var m=setTimeout(function(){if(a.waitingForImages=!1,a.count===0&&(a.stylesheets&&mh(a,a.stylesheets),a.unsuspend)){var b=a.unsuspend;a.unsuspend=null,b()}},(a.imgBytes>Eg?50:800)+s);return a.unsuspend=c,function(){a.unsuspend=null,clearTimeout(f),clearTimeout(m)}}:null}function ph(){if(this.count--,this.count===0&&(this.imgCount===0||!this.waitingForImages)){if(this.stylesheets)mh(this,this.stylesheets);else if(this.unsuspend){var a=this.unsuspend;this.unsuspend=null,a()}}}var gh=null;function mh(a,s){a.stylesheets=null,a.unsuspend!==null&&(a.count++,gh=new Map,s.forEach(yL,a),gh=null,ph.call(a))}function yL(a,s){if(!(s.state.loading&4)){var c=gh.get(a);if(c)var f=c.get(null);else{c=new Map,gh.set(a,c);for(var m=a.querySelectorAll("link[data-precedence],style[data-precedence]"),b=0;b<m.length;b++){var k=m[b];(k.nodeName==="LINK"||k.getAttribute("media")!=="not all")&&(c.set(k.dataset.precedence,k),f=k)}f&&c.set(null,f)}m=s.instance,k=m.getAttribute("data-precedence"),b=c.get(k)||f,b===f&&c.set(null,m),c.set(k,m),this.count++,f=ph.bind(this),m.addEventListener("load",f),m.addEventListener("error",f),b?b.parentNode.insertBefore(m,b.nextSibling):(a=a.nodeType===9?a.head:a,a.insertBefore(m,a.firstChild)),s.state.loading|=4}}var Io={$$typeof:O,Provider:null,Consumer:null,_currentValue:H,_currentValue2:H,_threadCount:0};function bL(a,s,c,f,m,b,k,A,D){this.tag=1,this.containerInfo=a,this.pingCache=this.current=this.pendingChildren=null,this.timeoutHandle=-1,this.callbackNode=this.next=this.pendingContext=this.context=this.cancelPendingCommit=null,this.callbackPriority=0,this.expirationTimes=Kl(-1),this.entangledLanes=this.shellSuspendCounter=this.errorRecoveryDisabledLanes=this.expiredLanes=this.warmLanes=this.pingedLanes=this.suspendedLanes=this.pendingLanes=0,this.entanglements=Kl(0),this.hiddenUpdates=Kl(null),this.identifierPrefix=f,this.onUncaughtError=m,this.onCaughtError=b,this.onRecoverableError=k,this.pooledCache=null,this.pooledCacheLanes=0,this.formState=D,this.incompleteTransitions=new Map}function C_(a,s,c,f,m,b,k,A,D,K,it,st){return a=new bL(a,s,c,k,D,K,it,st,A),s=1,b===!0&&(s|=24),b=$r(3,null,null,s),a.current=b,b.stateNode=a,s=sp(),s.refCount++,a.pooledCache=s,s.refCount++,b.memoizedState={element:f,isDehydrated:c,cache:s},up(b),a}function T_(a){return a?(a=As,a):As}function E_(a,s,c,f,m,b){m=T_(m),f.context===null?f.context=m:f.pendingContext=m,f=Ia(s),f.payload={element:c},b=b===void 0?null:b,b!==null&&(f.callback=b),c=qa(a,f,s),c!==null&&(Ar(c,a,s),vo(c,a,s))}function A_(a,s){if(a=a.memoizedState,a!==null&&a.dehydrated!==null){var c=a.retryLane;a.retryLane=c!==0&&c<s?c:s}}function Ag(a,s){A_(a,s),(a=a.alternate)&&A_(a,s)}function O_(a){if(a.tag===13||a.tag===31){var s=Tn(a,67108864);s!==null&&Ar(s,a,67108864),Ag(a,67108864)}}function R_(a){if(a.tag===13||a.tag===31){var s=Ir();s=_r(s);var c=Tn(a,s);c!==null&&Ar(c,a,s),Ag(a,s)}}var yh=!0;function xL(a,s,c,f){var m=R.T;R.T=null;var b=$.p;try{$.p=2,Og(a,s,c,f)}finally{$.p=b,R.T=m}}function vL(a,s,c,f){var m=R.T;R.T=null;var b=$.p;try{$.p=8,Og(a,s,c,f)}finally{$.p=b,R.T=m}}function Og(a,s,c,f){if(yh){var m=Rg(f);if(m===null)gg(a,s,f,bh,c),M_(a,f);else if(wL(m,a,s,c,f))f.stopPropagation();else if(M_(a,f),s&4&&-1<_L.indexOf(a)){for(;m!==null;){var b=gt(m);if(b!==null)switch(b.tag){case 3:if(b=b.stateNode,b.current.memoizedState.isDehydrated){var k=Dr(b.pendingLanes);if(k!==0){var A=b;for(A.pendingLanes|=2,A.entangledLanes|=2;k;){var D=1<<31-Re(k);A.entanglements[1]|=D,k&=~D}ji(b),(ee&6)===0&&(th=Xe()+500,jo(0))}}break;case 31:case 13:A=Tn(b,2),A!==null&&Ar(A,b,2),rh(),Ag(b,2)}if(b=Rg(f),b===null&&gg(a,s,f,bh,c),b===m)break;m=b}m!==null&&f.stopPropagation()}else gg(a,s,f,null,c)}}function Rg(a){return a=Mf(a),Lg(a)}var bh=null;function Lg(a){if(bh=null,a=ut(a),a!==null){var s=l(a);if(s===null)a=null;else{var c=s.tag;if(c===13){if(a=o(s),a!==null)return a;a=null}else if(c===31){if(a=u(s),a!==null)return a;a=null}else if(c===3){if(s.stateNode.current.memoizedState.isDehydrated)return s.tag===3?s.stateNode.containerInfo:null;a=null}else s!==a&&(a=null)}}return bh=a,null}function L_(a){switch(a){case"beforetoggle":case"cancel":case"click":case"close":case"contextmenu":case"copy":case"cut":case"auxclick":case"dblclick":case"dragend":case"dragstart":case"drop":case"focusin":case"focusout":case"input":case"invalid":case"keydown":case"keypress":case"keyup":case"mousedown":case"mouseup":case"paste":case"pause":case"play":case"pointercancel":case"pointerdown":case"pointerup":case"ratechange":case"reset":case"resize":case"seeked":case"submit":case"toggle":case"touchcancel":case"touchend":case"touchstart":case"volumechange":case"change":case"selectionchange":case"textInput":case"compositionstart":case"compositionend":case"compositionupdate":case"beforeblur":case"afterblur":case"beforeinput":case"blur":case"fullscreenchange":case"focus":case"hashchange":case"popstate":case"select":case"selectstart":return 2;case"drag":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"mousemove":case"mouseout":case"mouseover":case"pointermove":case"pointerout":case"pointerover":case"scroll":case"touchmove":case"wheel":case"mouseenter":case"mouseleave":case"pointerenter":case"pointerleave":return 8;case"message":switch(_n()){case Vi:return 2;case Nr:return 8;case Na:case su:return 32;case Gl:return 268435456;default:return 32}default:return 32}}var Mg=!1,tn=null,en=null,rn=null,qo=new Map,Ho=new Map,an=[],_L="mousedown mouseup touchcancel touchend touchstart auxclick dblclick pointercancel pointerdown pointerup dragend dragstart drop compositionend compositionstart keydown keypress keyup input textInput copy cut paste click change contextmenu reset".split(" ");function M_(a,s){switch(a){case"focusin":case"focusout":tn=null;break;case"dragenter":case"dragleave":en=null;break;case"mouseover":case"mouseout":rn=null;break;case"pointerover":case"pointerout":qo.delete(s.pointerId);break;case"gotpointercapture":case"lostpointercapture":Ho.delete(s.pointerId)}}function Wo(a,s,c,f,m,b){return a===null||a.nativeEvent!==b?(a={blockedOn:s,domEventName:c,eventSystemFlags:f,nativeEvent:b,targetContainers:[m]},s!==null&&(s=gt(s),s!==null&&O_(s)),a):(a.eventSystemFlags|=f,s=a.targetContainers,m!==null&&s.indexOf(m)===-1&&s.push(m),a)}function wL(a,s,c,f,m){switch(s){case"focusin":return tn=Wo(tn,a,s,c,f,m),!0;case"dragenter":return en=Wo(en,a,s,c,f,m),!0;case"mouseover":return rn=Wo(rn,a,s,c,f,m),!0;case"pointerover":var b=m.pointerId;return qo.set(b,Wo(qo.get(b)||null,a,s,c,f,m)),!0;case"gotpointercapture":return b=m.pointerId,Ho.set(b,Wo(Ho.get(b)||null,a,s,c,f,m)),!0}return!1}function B_(a){var s=ut(a.target);if(s!==null){var c=l(s);if(c!==null){if(s=c.tag,s===13){if(s=o(c),s!==null){a.blockedOn=s,eo(a.priority,function(){R_(c)});return}}else if(s===31){if(s=u(c),s!==null){a.blockedOn=s,eo(a.priority,function(){R_(c)});return}}else if(s===3&&c.stateNode.current.memoizedState.isDehydrated){a.blockedOn=c.tag===3?c.stateNode.containerInfo:null;return}}}a.blockedOn=null}function xh(a){if(a.blockedOn!==null)return!1;for(var s=a.targetContainers;0<s.length;){var c=Rg(a.nativeEvent);if(c===null){c=a.nativeEvent;var f=new c.constructor(c.type,c);Lf=f,c.target.dispatchEvent(f),Lf=null}else return s=gt(c),s!==null&&O_(s),a.blockedOn=c,!1;s.shift()}return!0}function N_(a,s,c){xh(a)&&c.delete(s)}function SL(){Mg=!1,tn!==null&&xh(tn)&&(tn=null),en!==null&&xh(en)&&(en=null),rn!==null&&xh(rn)&&(rn=null),qo.forEach(N_),Ho.forEach(N_)}function vh(a,s){a.blockedOn===s&&(a.blockedOn=null,Mg||(Mg=!0,e.unstable_scheduleCallback(e.unstable_NormalPriority,SL)))}var _h=null;function D_(a){_h!==a&&(_h=a,e.unstable_scheduleCallback(e.unstable_NormalPriority,function(){_h===a&&(_h=null);for(var s=0;s<a.length;s+=3){var c=a[s],f=a[s+1],m=a[s+2];if(typeof f!="function"){if(Lg(f||c)===null)continue;break}var b=gt(c);b!==null&&(a.splice(s,3),s-=3,Rp(b,{pending:!0,data:m,method:c.method,action:f},f,m))}}))}function Zs(a){function s(D){return vh(D,a)}tn!==null&&vh(tn,a),en!==null&&vh(en,a),rn!==null&&vh(rn,a),qo.forEach(s),Ho.forEach(s);for(var c=0;c<an.length;c++){var f=an[c];f.blockedOn===a&&(f.blockedOn=null)}for(;0<an.length&&(c=an[0],c.blockedOn===null);)B_(c),c.blockedOn===null&&an.shift();if(c=(a.ownerDocument||a).$$reactFormReplay,c!=null)for(f=0;f<c.length;f+=3){var m=c[f],b=c[f+1],k=m[ye]||null;if(typeof b=="function")k||D_(c);else if(k){var A=null;if(b&&b.hasAttribute("formAction")){if(m=b,k=b[ye]||null)A=k.formAction;else if(Lg(m)!==null)continue}else A=k.action;typeof A=="function"?c[f+1]=A:(c.splice(f,3),f-=3),D_(c)}}}function j_(){function a(b){b.canIntercept&&b.info==="react-transition"&&b.intercept({handler:function(){return new Promise(function(k){return m=k})},focusReset:"manual",scroll:"manual"})}function s(){m!==null&&(m(),m=null),f||setTimeout(c,20)}function c(){if(!f&&!navigation.transition){var b=navigation.currentEntry;b&&b.url!=null&&navigation.navigate(b.url,{state:b.getState(),info:"react-transition",history:"replace"})}}if(typeof navigation=="object"){var f=!1,m=null;return navigation.addEventListener("navigate",a),navigation.addEventListener("navigatesuccess",s),navigation.addEventListener("navigateerror",s),setTimeout(c,100),function(){f=!0,navigation.removeEventListener("navigate",a),navigation.removeEventListener("navigatesuccess",s),navigation.removeEventListener("navigateerror",s),m!==null&&(m(),m=null)}}}function Bg(a){this._internalRoot=a}wh.prototype.render=Bg.prototype.render=function(a){var s=this._internalRoot;if(s===null)throw Error(i(409));var c=s.current,f=Ir();E_(c,f,a,s,null,null)},wh.prototype.unmount=Bg.prototype.unmount=function(){var a=this._internalRoot;if(a!==null){this._internalRoot=null;var s=a.containerInfo;E_(a.current,2,null,a,null,null),rh(),s[Zi]=null}};function wh(a){this._internalRoot=a}wh.prototype.unstable_scheduleHydration=function(a){if(a){var s=to();a={blockedOn:null,target:a,priority:s};for(var c=0;c<an.length&&s!==0&&s<an[c].priority;c++);an.splice(c,0,a),c===0&&B_(a)}};var $_=t.version;if($_!=="19.2.3")throw Error(i(527,$_,"19.2.3"));$.findDOMNode=function(a){var s=a._reactInternals;if(s===void 0)throw typeof a.render=="function"?Error(i(188)):(a=Object.keys(a).join(","),Error(i(268,a)));return a=d(s),a=a!==null?p(a):null,a=a===null?null:a.stateNode,a};var kL={bundleType:0,version:"19.2.3",rendererPackageName:"react-dom",currentDispatcherRef:R,reconcilerVersion:"19.2.3"};if(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__<"u"){var Sh=__REACT_DEVTOOLS_GLOBAL_HOOK__;if(!Sh.isDisabled&&Sh.supportsFiber)try{Li=Sh.inject(kL),Ge=Sh}catch{}}return Yo.createRoot=function(a,s){if(!n(a))throw Error(i(299));var c=!1,f="",m=Hx,b=Wx,k=Gx;return s!=null&&(s.unstable_strictMode===!0&&(c=!0),s.identifierPrefix!==void 0&&(f=s.identifierPrefix),s.onUncaughtError!==void 0&&(m=s.onUncaughtError),s.onCaughtError!==void 0&&(b=s.onCaughtError),s.onRecoverableError!==void 0&&(k=s.onRecoverableError)),s=C_(a,1,!1,null,null,c,f,null,m,b,k,j_),a[Zi]=s.current,pg(a),new Bg(s)},Yo.hydrateRoot=function(a,s,c){if(!n(a))throw Error(i(299));var f=!1,m="",b=Hx,k=Wx,A=Gx,D=null;return c!=null&&(c.unstable_strictMode===!0&&(f=!0),c.identifierPrefix!==void 0&&(m=c.identifierPrefix),c.onUncaughtError!==void 0&&(b=c.onUncaughtError),c.onCaughtError!==void 0&&(k=c.onCaughtError),c.onRecoverableError!==void 0&&(A=c.onRecoverableError),c.formState!==void 0&&(D=c.formState)),s=C_(a,1,!0,s,c??null,f,m,D,b,k,A,j_),s.context=T_(null),c=s.current,f=Ir(),f=_r(f),m=Ia(f),m.callback=null,qa(c,m,f),c=f,s.current.lanes=c,Da(s,c),ji(s),a[Zi]=s.current,pg(a),new wh(s)},Yo.version="19.2.3",Yo}var Y_;function DL(){if(Y_)return jg.exports;Y_=1;function e(){if(!(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__>"u"||typeof __REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE!="function"))try{__REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE(e)}catch(t){console.error(t)}}return e(),jg.exports=NL(),jg.exports}var jL=DL();var V_="popstate";function $L(e={}){function t(i,n){let{pathname:l,search:o,hash:u}=i.location;return km("",{pathname:l,search:o,hash:u},n.state&&n.state.usr||null,n.state&&n.state.key||"default")}function r(i,n){return typeof n=="string"?n:Tc(n)}return FL(t,r,null,e)}function ve(e,t){if(e===!1||e===null||typeof e>"u")throw new Error(t)}function Yr(e,t){if(!e){typeof console<"u"&&console.warn(t);try{throw new Error(t)}catch{}}}function zL(){return Math.random().toString(36).substring(2,10)}function X_(e,t){return{usr:e.state,key:e.key,idx:t}}function km(e,t,r=null,i){return{pathname:typeof e=="string"?e:e.pathname,search:"",hash:"",...typeof t=="string"?Dl(t):t,state:r,key:t&&t.key||i||zL()}}function Tc({pathname:e="/",search:t="",hash:r=""}){return t&&t!=="?"&&(e+=t.charAt(0)==="?"?t:"?"+t),r&&r!=="#"&&(e+=r.charAt(0)==="#"?r:"#"+r),e}function Dl(e){let t={};if(e){let r=e.indexOf("#");r>=0&&(t.hash=e.substring(r),e=e.substring(0,r));let i=e.indexOf("?");i>=0&&(t.search=e.substring(i),e=e.substring(0,i)),e&&(t.pathname=e)}return t}function FL(e,t,r,i={}){let{window:n=document.defaultView,v5Compat:l=!1}=i,o=n.history,u="POP",h=null,d=p();d==null&&(d=0,o.replaceState({...o.state,idx:d},""));function p(){return(o.state||{idx:null}).idx}function g(){u="POP";let S=p(),T=S==null?null:S-d;d=S,h&&h({action:u,location:_.location,delta:T})}function y(S,T){u="PUSH";let E=km(_.location,S,T);d=p()+1;let O=X_(E,d),L=_.createHref(E);try{o.pushState(O,"",L)}catch(B){if(B instanceof DOMException&&B.name==="DataCloneError")throw B;n.location.assign(L)}l&&h&&h({action:u,location:_.location,delta:1})}function x(S,T){u="REPLACE";let E=km(_.location,S,T);d=p();let O=X_(E,d),L=_.createHref(E);o.replaceState(O,"",L),l&&h&&h({action:u,location:_.location,delta:0})}function v(S){return PL(S)}let _={get action(){return u},get location(){return e(n,o)},listen(S){if(h)throw new Error("A history only accepts one active listener");return n.addEventListener(V_,g),h=S,()=>{n.removeEventListener(V_,g),h=null}},createHref(S){return t(n,S)},createURL:v,encodeLocation(S){let T=v(S);return{pathname:T.pathname,search:T.search,hash:T.hash}},push:y,replace:x,go(S){return o.go(S)}};return _}function PL(e,t=!1){let r="http://localhost";typeof window<"u"&&(r=window.location.origin!=="null"?window.location.origin:window.location.href),ve(r,"No window.location.(origin|href) available to create URL");let i=typeof e=="string"?e:Tc(e);return i=i.replace(/ $/,"%20"),!t&&i.startsWith("//")&&(i=r+i),new URL(i,r)}function pS(e,t,r="/"){return UL(e,t,r,!1)}function UL(e,t,r,i){let n=typeof t=="string"?Dl(t):t,l=Ca(n.pathname||"/",r);if(l==null)return null;let o=gS(e);IL(o);let u=null;for(let h=0;u==null&&h<o.length;++h){let d=JL(l);u=QL(o[h],d,i)}return u}function gS(e,t=[],r=[],i="",n=!1){let l=(o,u,h=n,d)=>{let p={relativePath:d===void 0?o.path||"":d,caseSensitive:o.caseSensitive===!0,childrenIndex:u,route:o};if(p.relativePath.startsWith("/")){if(!p.relativePath.startsWith(i)&&h)return;ve(p.relativePath.startsWith(i),`Absolute route path "${p.relativePath}" nested under path "${i}" is not valid. An absolute child route path must start with the combined path of all its parent routes.`),p.relativePath=p.relativePath.slice(i.length)}let g=wa([i,p.relativePath]),y=r.concat(p);o.children&&o.children.length>0&&(ve(o.index!==!0,`Index routes must not have child routes. Please remove all child routes from route path "${g}".`),gS(o.children,t,y,g,h)),!(o.path==null&&!o.index)&&t.push({path:g,score:XL(g,o.index),routesMeta:y})};return e.forEach((o,u)=>{if(o.path===""||!o.path?.includes("?"))l(o,u);else for(let h of mS(o.path))l(o,u,!0,h)}),t}function mS(e){let t=e.split("/");if(t.length===0)return[];let[r,...i]=t,n=r.endsWith("?"),l=r.replace(/\?$/,"");if(i.length===0)return n?[l,""]:[l];let o=mS(i.join("/")),u=[];return u.push(...o.map(h=>h===""?l:[l,h].join("/"))),n&&u.push(...o),u.map(h=>e.startsWith("/")&&h===""?"/":h)}function IL(e){e.sort((t,r)=>t.score!==r.score?r.score-t.score:KL(t.routesMeta.map(i=>i.childrenIndex),r.routesMeta.map(i=>i.childrenIndex)))}var qL=/^:[\w-]+$/,HL=3,WL=2,GL=1,YL=10,VL=-2,K_=e=>e==="*";function XL(e,t){let r=e.split("/"),i=r.length;return r.some(K_)&&(i+=VL),t&&(i+=WL),r.filter(n=>!K_(n)).reduce((n,l)=>n+(qL.test(l)?HL:l===""?GL:YL),i)}function KL(e,t){return e.length===t.length&&e.slice(0,-1).every((i,n)=>i===t[n])?e[e.length-1]-t[t.length-1]:0}function QL(e,t,r=!1){let{routesMeta:i}=e,n={},l="/",o=[];for(let u=0;u<i.length;++u){let h=i[u],d=u===i.length-1,p=l==="/"?t:t.slice(l.length)||"/",g=nd({path:h.relativePath,caseSensitive:h.caseSensitive,end:d},p),y=h.route;if(!g&&d&&r&&!i[i.length-1].route.index&&(g=nd({path:h.relativePath,caseSensitive:h.caseSensitive,end:!1},p)),!g)return null;Object.assign(n,g.params),o.push({params:n,pathname:wa([l,g.pathname]),pathnameBase:iM(wa([l,g.pathnameBase])),route:y}),g.pathnameBase!=="/"&&(l=wa([l,g.pathnameBase]))}return o}function nd(e,t){typeof e=="string"&&(e={path:e,caseSensitive:!1,end:!0});let[r,i]=ZL(e.path,e.caseSensitive,e.end),n=t.match(r);if(!n)return null;let l=n[0],o=l.replace(/(.)\/+$/,"$1"),u=n.slice(1);return{params:i.reduce((d,{paramName:p,isOptional:g},y)=>{if(p==="*"){let v=u[y]||"";o=l.slice(0,l.length-v.length).replace(/(.)\/+$/,"$1")}const x=u[y];return g&&!x?d[p]=void 0:d[p]=(x||"").replace(/%2F/g,"/"),d},{}),pathname:l,pathnameBase:o,pattern:e}}function ZL(e,t=!1,r=!0){Yr(e==="*"||!e.endsWith("*")||e.endsWith("/*"),`Route path "${e}" will be treated as if it were "${e.replace(/\*$/,"/*")}" because the \`*\` character must always follow a \`/\` in the pattern. To get rid of this warning, please change the route path to "${e.replace(/\*$/,"/*")}".`);let i=[],n="^"+e.replace(/\/*\*?$/,"").replace(/^\/*/,"/").replace(/[\\.*+^${}|()[\]]/g,"\\$&").replace(/\/:([\w-]+)(\?)?/g,(o,u,h)=>(i.push({paramName:u,isOptional:h!=null}),h?"/?([^\\/]+)?":"/([^\\/]+)")).replace(/\/([\w-]+)\?(\/|$)/g,"(/$1)?$2");return e.endsWith("*")?(i.push({paramName:"*"}),n+=e==="*"||e==="/*"?"(.*)$":"(?:\\/(.+)|\\/*)$"):r?n+="\\/*$":e!==""&&e!=="/"&&(n+="(?:(?=\\/|$))"),[new RegExp(n,t?void 0:"i"),i]}function JL(e){try{return e.split("/").map(t=>decodeURIComponent(t).replace(/\//g,"%2F")).join("/")}catch(t){return Yr(!1,`The URL path "${e}" could not be decoded because it is a malformed URL segment. This is probably due to a bad percent encoding (${t}).`),e}}function Ca(e,t){if(t==="/")return e;if(!e.toLowerCase().startsWith(t.toLowerCase()))return null;let r=t.endsWith("/")?t.length-1:t.length,i=e.charAt(r);return i&&i!=="/"?null:e.slice(r)||"/"}var yS=/^(?:[a-z][a-z0-9+.-]*:|\/\/)/i,tM=e=>yS.test(e);function eM(e,t="/"){let{pathname:r,search:i="",hash:n=""}=typeof e=="string"?Dl(e):e,l;if(r)if(tM(r))l=r;else{if(r.includes("//")){let o=r;r=r.replace(/\/\/+/g,"/"),Yr(!1,`Pathnames cannot have embedded double slashes - normalizing ${o} -> ${r}`)}r.startsWith("/")?l=Q_(r.substring(1),"/"):l=Q_(r,t)}else l=t;return{pathname:l,search:aM(i),hash:nM(n)}}function Q_(e,t){let r=t.replace(/\/+$/,"").split("/");return e.split("/").forEach(n=>{n===".."?r.length>1&&r.pop():n!=="."&&r.push(n)}),r.length>1?r.join("/"):"/"}function Pg(e,t,r,i){return`Cannot include a '${e}' character in a manually specified \`to.${t}\` field [${JSON.stringify(i)}].  Please separate it out to the \`to.${r}\` field. Alternatively you may provide the full path as a string in <Link to="..."> and the router will parse it for you.`}function rM(e){return e.filter((t,r)=>r===0||t.route.path&&t.route.path.length>0)}function zy(e){let t=rM(e);return t.map((r,i)=>i===t.length-1?r.pathname:r.pathnameBase)}function Fy(e,t,r,i=!1){let n;typeof e=="string"?n=Dl(e):(n={...e},ve(!n.pathname||!n.pathname.includes("?"),Pg("?","pathname","search",n)),ve(!n.pathname||!n.pathname.includes("#"),Pg("#","pathname","hash",n)),ve(!n.search||!n.search.includes("#"),Pg("#","search","hash",n)));let l=e===""||n.pathname==="",o=l?"/":n.pathname,u;if(o==null)u=r;else{let g=t.length-1;if(!i&&o.startsWith("..")){let y=o.split("/");for(;y[0]==="..";)y.shift(),g-=1;n.pathname=y.join("/")}u=g>=0?t[g]:"/"}let h=eM(n,u),d=o&&o!=="/"&&o.endsWith("/"),p=(l||o===".")&&r.endsWith("/");return!h.pathname.endsWith("/")&&(d||p)&&(h.pathname+="/"),h}var wa=e=>e.join("/").replace(/\/\/+/g,"/"),iM=e=>e.replace(/\/+$/,"").replace(/^\/*/,"/"),aM=e=>!e||e==="?"?"":e.startsWith("?")?e:"?"+e,nM=e=>!e||e==="#"?"":e.startsWith("#")?e:"#"+e,sM=class{constructor(e,t,r,i=!1){this.status=e,this.statusText=t||"",this.internal=i,r instanceof Error?(this.data=r.toString(),this.error=r):this.data=r}};function lM(e){return e!=null&&typeof e.status=="number"&&typeof e.statusText=="string"&&typeof e.internal=="boolean"&&"data"in e}function oM(e){return e.map(t=>t.route.path).filter(Boolean).join("/").replace(/\/\/*/g,"/")||"/"}var bS=typeof window<"u"&&typeof window.document<"u"&&typeof window.document.createElement<"u";function xS(e,t){let r=e;if(typeof r!="string"||!yS.test(r))return{absoluteURL:void 0,isExternal:!1,to:r};let i=r,n=!1;if(bS)try{let l=new URL(window.location.href),o=r.startsWith("//")?new URL(l.protocol+r):new URL(r),u=Ca(o.pathname,t);o.origin===l.origin&&u!=null?r=u+o.search+o.hash:n=!0}catch{Yr(!1,`<Link to="${r}"> contains an invalid URL which will probably break when clicked - please update to a valid URL path.`)}return{absoluteURL:i,isExternal:n,to:r}}Object.getOwnPropertyNames(Object.prototype).sort().join("\0");var vS=["POST","PUT","PATCH","DELETE"];new Set(vS);var cM=["GET",...vS];new Set(cM);var jl=W.createContext(null);jl.displayName="DataRouter";var Gd=W.createContext(null);Gd.displayName="DataRouterState";var uM=W.createContext(!1),_S=W.createContext({isTransitioning:!1});_S.displayName="ViewTransition";var hM=W.createContext(new Map);hM.displayName="Fetchers";var dM=W.createContext(null);dM.displayName="Await";var Xr=W.createContext(null);Xr.displayName="Navigation";var Gc=W.createContext(null);Gc.displayName="Location";var Oi=W.createContext({outlet:null,matches:[],isDataRoute:!1});Oi.displayName="Route";var Py=W.createContext(null);Py.displayName="RouteError";var wS="REACT_ROUTER_ERROR",fM="REDIRECT",pM="ROUTE_ERROR_RESPONSE";function gM(e){if(e.startsWith(`${wS}:${fM}:{`))try{let t=JSON.parse(e.slice(28));if(typeof t=="object"&&t&&typeof t.status=="number"&&typeof t.statusText=="string"&&typeof t.location=="string"&&typeof t.reloadDocument=="boolean"&&typeof t.replace=="boolean")return t}catch{}}function mM(e){if(e.startsWith(`${wS}:${pM}:{`))try{let t=JSON.parse(e.slice(40));if(typeof t=="object"&&t&&typeof t.status=="number"&&typeof t.statusText=="string")return new sM(t.status,t.statusText,t.data)}catch{}}function yM(e,{relative:t}={}){ve($l(),"useHref() may be used only in the context of a <Router> component.");let{basename:r,navigator:i}=W.useContext(Xr),{hash:n,pathname:l,search:o}=Yc(e,{relative:t}),u=l;return r!=="/"&&(u=l==="/"?r:wa([r,l])),i.createHref({pathname:u,search:o,hash:n})}function $l(){return W.useContext(Gc)!=null}function Oa(){return ve($l(),"useLocation() may be used only in the context of a <Router> component."),W.useContext(Gc).location}var SS="You should call navigate() in a React.useEffect(), not when your component is first rendered.";function kS(e){W.useContext(Xr).static||W.useLayoutEffect(e)}function zl(){let{isDataRoute:e}=W.useContext(Oi);return e?RM():bM()}function bM(){ve($l(),"useNavigate() may be used only in the context of a <Router> component.");let e=W.useContext(jl),{basename:t,navigator:r}=W.useContext(Xr),{matches:i}=W.useContext(Oi),{pathname:n}=Oa(),l=JSON.stringify(zy(i)),o=W.useRef(!1);return kS(()=>{o.current=!0}),W.useCallback((h,d={})=>{if(Yr(o.current,SS),!o.current)return;if(typeof h=="number"){r.go(h);return}let p=Fy(h,JSON.parse(l),n,d.relative==="path");e==null&&t!=="/"&&(p.pathname=p.pathname==="/"?t:wa([t,p.pathname])),(d.replace?r.replace:r.push)(p,d.state,d)},[t,r,l,n,e])}W.createContext(null);function CS(){let{matches:e}=W.useContext(Oi),t=e[e.length-1];return t?t.params:{}}function Yc(e,{relative:t}={}){let{matches:r}=W.useContext(Oi),{pathname:i}=Oa(),n=JSON.stringify(zy(r));return W.useMemo(()=>Fy(e,JSON.parse(n),i,t==="path"),[e,n,i,t])}function xM(e,t){return TS(e,t)}function TS(e,t,r,i,n){ve($l(),"useRoutes() may be used only in the context of a <Router> component.");let{navigator:l}=W.useContext(Xr),{matches:o}=W.useContext(Oi),u=o[o.length-1],h=u?u.params:{},d=u?u.pathname:"/",p=u?u.pathnameBase:"/",g=u&&u.route;{let E=g&&g.path||"";AS(d,!g||E.endsWith("*")||E.endsWith("*?"),`You rendered descendant <Routes> (or called \`useRoutes()\`) at "${d}" (under <Route path="${E}">) but the parent route path has no trailing "*". This means if you navigate deeper, the parent won't match anymore and therefore the child routes will never render.

Please change the parent <Route path="${E}"> to <Route path="${E==="/"?"*":`${E}/*`}">.`)}let y=Oa(),x;if(t){let E=typeof t=="string"?Dl(t):t;ve(p==="/"||E.pathname?.startsWith(p),`When overriding the location using \`<Routes location>\` or \`useRoutes(routes, location)\`, the location pathname must begin with the portion of the URL pathname that was matched by all parent routes. The current pathname base is "${p}" but pathname "${E.pathname}" was given in the \`location\` prop.`),x=E}else x=y;let v=x.pathname||"/",_=v;if(p!=="/"){let E=p.replace(/^\//,"").split("/");_="/"+v.replace(/^\//,"").split("/").slice(E.length).join("/")}let S=pS(e,{pathname:_});Yr(g||S!=null,`No routes matched location "${x.pathname}${x.search}${x.hash}" `),Yr(S==null||S[S.length-1].route.element!==void 0||S[S.length-1].route.Component!==void 0||S[S.length-1].route.lazy!==void 0,`Matched leaf route at location "${x.pathname}${x.search}${x.hash}" does not have an element or Component. This means it will render an <Outlet /> with a null value by default resulting in an "empty" page.`);let T=kM(S&&S.map(E=>Object.assign({},E,{params:Object.assign({},h,E.params),pathname:wa([p,l.encodeLocation?l.encodeLocation(E.pathname.replace(/\?/g,"%3F").replace(/#/g,"%23")).pathname:E.pathname]),pathnameBase:E.pathnameBase==="/"?p:wa([p,l.encodeLocation?l.encodeLocation(E.pathnameBase.replace(/\?/g,"%3F").replace(/#/g,"%23")).pathname:E.pathnameBase])})),o,r,i,n);return t&&T?W.createElement(Gc.Provider,{value:{location:{pathname:"/",search:"",hash:"",state:null,key:"default",...x},navigationType:"POP"}},T):T}function vM(){let e=OM(),t=lM(e)?`${e.status} ${e.statusText}`:e instanceof Error?e.message:JSON.stringify(e),r=e instanceof Error?e.stack:null,i="rgba(200,200,200, 0.5)",n={padding:"0.5rem",backgroundColor:i},l={padding:"2px 4px",backgroundColor:i},o=null;return console.error("Error handled by React Router default ErrorBoundary:",e),o=W.createElement(W.Fragment,null,W.createElement("p",null," Hey developer "),W.createElement("p",null,"You can provide a way better UX than this when your app throws errors by providing your own ",W.createElement("code",{style:l},"ErrorBoundary")," or"," ",W.createElement("code",{style:l},"errorElement")," prop on your route.")),W.createElement(W.Fragment,null,W.createElement("h2",null,"Unexpected Application Error!"),W.createElement("h3",{style:{fontStyle:"italic"}},t),r?W.createElement("pre",{style:n},r):null,o)}var _M=W.createElement(vM,null),ES=class extends W.Component{constructor(e){super(e),this.state={location:e.location,revalidation:e.revalidation,error:e.error}}static getDerivedStateFromError(e){return{error:e}}static getDerivedStateFromProps(e,t){return t.location!==e.location||t.revalidation!=="idle"&&e.revalidation==="idle"?{error:e.error,location:e.location,revalidation:e.revalidation}:{error:e.error!==void 0?e.error:t.error,location:t.location,revalidation:e.revalidation||t.revalidation}}componentDidCatch(e,t){this.props.onError?this.props.onError(e,t):console.error("React Router caught the following error during render",e)}render(){let e=this.state.error;if(this.context&&typeof e=="object"&&e&&"digest"in e&&typeof e.digest=="string"){const r=mM(e.digest);r&&(e=r)}let t=e!==void 0?W.createElement(Oi.Provider,{value:this.props.routeContext},W.createElement(Py.Provider,{value:e,children:this.props.component})):this.props.children;return this.context?W.createElement(wM,{error:e},t):t}};ES.contextType=uM;var Ug=new WeakMap;function wM({children:e,error:t}){let{basename:r}=W.useContext(Xr);if(typeof t=="object"&&t&&"digest"in t&&typeof t.digest=="string"){let i=gM(t.digest);if(i){let n=Ug.get(t);if(n)throw n;let l=xS(i.location,r);if(bS&&!Ug.get(t))if(l.isExternal||i.reloadDocument)window.location.href=l.absoluteURL||l.to;else{const o=Promise.resolve().then(()=>window.__reactRouterDataRouter.navigate(l.to,{replace:i.replace}));throw Ug.set(t,o),o}return W.createElement("meta",{httpEquiv:"refresh",content:`0;url=${l.absoluteURL||l.to}`})}}return e}function SM({routeContext:e,match:t,children:r}){let i=W.useContext(jl);return i&&i.static&&i.staticContext&&(t.route.errorElement||t.route.ErrorBoundary)&&(i.staticContext._deepestRenderedBoundaryId=t.route.id),W.createElement(Oi.Provider,{value:e},r)}function kM(e,t=[],r=null,i=null,n=null){if(e==null){if(!r)return null;if(r.errors)e=r.matches;else if(t.length===0&&!r.initialized&&r.matches.length>0)e=r.matches;else return null}let l=e,o=r?.errors;if(o!=null){let p=l.findIndex(g=>g.route.id&&o?.[g.route.id]!==void 0);ve(p>=0,`Could not find a matching route for errors on route IDs: ${Object.keys(o).join(",")}`),l=l.slice(0,Math.min(l.length,p+1))}let u=!1,h=-1;if(r)for(let p=0;p<l.length;p++){let g=l[p];if((g.route.HydrateFallback||g.route.hydrateFallbackElement)&&(h=p),g.route.id){let{loaderData:y,errors:x}=r,v=g.route.loader&&!y.hasOwnProperty(g.route.id)&&(!x||x[g.route.id]===void 0);if(g.route.lazy||v){u=!0,h>=0?l=l.slice(0,h+1):l=[l[0]];break}}}let d=r&&i?(p,g)=>{i(p,{location:r.location,params:r.matches?.[0]?.params??{},unstable_pattern:oM(r.matches),errorInfo:g})}:void 0;return l.reduceRight((p,g,y)=>{let x,v=!1,_=null,S=null;r&&(x=o&&g.route.id?o[g.route.id]:void 0,_=g.route.errorElement||_M,u&&(h<0&&y===0?(AS("route-fallback",!1,"No `HydrateFallback` element provided to render during initial hydration"),v=!0,S=null):h===y&&(v=!0,S=g.route.hydrateFallbackElement||null)));let T=t.concat(l.slice(0,y+1)),E=()=>{let O;return x?O=_:v?O=S:g.route.Component?O=W.createElement(g.route.Component,null):g.route.element?O=g.route.element:O=p,W.createElement(SM,{match:g,routeContext:{outlet:p,matches:T,isDataRoute:r!=null},children:O})};return r&&(g.route.ErrorBoundary||g.route.errorElement||y===0)?W.createElement(ES,{location:r.location,revalidation:r.revalidation,component:_,error:x,children:E(),routeContext:{outlet:null,matches:T,isDataRoute:!0},onError:d}):E()},null)}function Uy(e){return`${e} must be used within a data router.  See https://reactrouter.com/en/main/routers/picking-a-router.`}function CM(e){let t=W.useContext(jl);return ve(t,Uy(e)),t}function TM(e){let t=W.useContext(Gd);return ve(t,Uy(e)),t}function EM(e){let t=W.useContext(Oi);return ve(t,Uy(e)),t}function Iy(e){let t=EM(e),r=t.matches[t.matches.length-1];return ve(r.route.id,`${e} can only be used on routes that contain a unique "id"`),r.route.id}function AM(){return Iy("useRouteId")}function OM(){let e=W.useContext(Py),t=TM("useRouteError"),r=Iy("useRouteError");return e!==void 0?e:t.errors?.[r]}function RM(){let{router:e}=CM("useNavigate"),t=Iy("useNavigate"),r=W.useRef(!1);return kS(()=>{r.current=!0}),W.useCallback(async(n,l={})=>{Yr(r.current,SS),r.current&&(typeof n=="number"?await e.navigate(n):await e.navigate(n,{fromRouteId:t,...l}))},[e,t])}var Z_={};function AS(e,t,r){!t&&!Z_[e]&&(Z_[e]=!0,Yr(!1,r))}W.memo(LM);function LM({routes:e,future:t,state:r,onError:i}){return TS(e,void 0,r,i,t)}function MM({to:e,replace:t,state:r,relative:i}){ve($l(),"<Navigate> may be used only in the context of a <Router> component.");let{static:n}=W.useContext(Xr);Yr(!n,"<Navigate> must not be used on the initial render in a <StaticRouter>. This is a no-op, but you should modify your code so the <Navigate> is only ever rendered in response to some user interaction or state change.");let{matches:l}=W.useContext(Oi),{pathname:o}=Oa(),u=zl(),h=Fy(e,zy(l),o,i==="path"),d=JSON.stringify(h);return W.useEffect(()=>{u(JSON.parse(d),{replace:t,state:r,relative:i})},[u,d,i,t,r]),null}function In(e){ve(!1,"A <Route> is only ever to be used as the child of <Routes> element, never rendered directly. Please wrap your <Route> in a <Routes>.")}function BM({basename:e="/",children:t=null,location:r,navigationType:i="POP",navigator:n,static:l=!1,unstable_useTransitions:o}){ve(!$l(),"You cannot render a <Router> inside another <Router>. You should never have more than one in your app.");let u=e.replace(/^\/*/,"/"),h=W.useMemo(()=>({basename:u,navigator:n,static:l,unstable_useTransitions:o,future:{}}),[u,n,l,o]);typeof r=="string"&&(r=Dl(r));let{pathname:d="/",search:p="",hash:g="",state:y=null,key:x="default"}=r,v=W.useMemo(()=>{let _=Ca(d,u);return _==null?null:{location:{pathname:_,search:p,hash:g,state:y,key:x},navigationType:i}},[u,d,p,g,y,x,i]);return Yr(v!=null,`<Router basename="${u}"> is not able to match the URL "${d}${p}${g}" because it does not start with the basename, so the <Router> won't render anything.`),v==null?null:W.createElement(Xr.Provider,{value:h},W.createElement(Gc.Provider,{children:t,value:v}))}function NM({children:e,location:t}){return xM(Cm(e),t)}function Cm(e,t=[]){let r=[];return W.Children.forEach(e,(i,n)=>{if(!W.isValidElement(i))return;let l=[...t,n];if(i.type===W.Fragment){r.push.apply(r,Cm(i.props.children,l));return}ve(i.type===In,`[${typeof i.type=="string"?i.type:i.type.name}] is not a <Route> component. All component children of <Routes> must be a <Route> or <React.Fragment>`),ve(!i.props.index||!i.props.children,"An index route cannot have child routes.");let o={id:i.props.id||l.join("-"),caseSensitive:i.props.caseSensitive,element:i.props.element,Component:i.props.Component,index:i.props.index,path:i.props.path,middleware:i.props.middleware,loader:i.props.loader,action:i.props.action,hydrateFallbackElement:i.props.hydrateFallbackElement,HydrateFallback:i.props.HydrateFallback,errorElement:i.props.errorElement,ErrorBoundary:i.props.ErrorBoundary,hasErrorBoundary:i.props.hasErrorBoundary===!0||i.props.ErrorBoundary!=null||i.props.errorElement!=null,shouldRevalidate:i.props.shouldRevalidate,handle:i.props.handle,lazy:i.props.lazy};i.props.children&&(o.children=Cm(i.props.children,l)),r.push(o)}),r}var Uh="get",Ih="application/x-www-form-urlencoded";function Yd(e){return typeof HTMLElement<"u"&&e instanceof HTMLElement}function DM(e){return Yd(e)&&e.tagName.toLowerCase()==="button"}function jM(e){return Yd(e)&&e.tagName.toLowerCase()==="form"}function $M(e){return Yd(e)&&e.tagName.toLowerCase()==="input"}function zM(e){return!!(e.metaKey||e.altKey||e.ctrlKey||e.shiftKey)}function FM(e,t){return e.button===0&&(!t||t==="_self")&&!zM(e)}function Tm(e=""){return new URLSearchParams(typeof e=="string"||Array.isArray(e)||e instanceof URLSearchParams?e:Object.keys(e).reduce((t,r)=>{let i=e[r];return t.concat(Array.isArray(i)?i.map(n=>[r,n]):[[r,i]])},[]))}function PM(e,t){let r=Tm(e);return t&&t.forEach((i,n)=>{r.has(n)||t.getAll(n).forEach(l=>{r.append(n,l)})}),r}var kh=null;function UM(){if(kh===null)try{new FormData(document.createElement("form"),0),kh=!1}catch{kh=!0}return kh}var IM=new Set(["application/x-www-form-urlencoded","multipart/form-data","text/plain"]);function Ig(e){return e!=null&&!IM.has(e)?(Yr(!1,`"${e}" is not a valid \`encType\` for \`<Form>\`/\`<fetcher.Form>\` and will default to "${Ih}"`),null):e}function qM(e,t){let r,i,n,l,o;if(jM(e)){let u=e.getAttribute("action");i=u?Ca(u,t):null,r=e.getAttribute("method")||Uh,n=Ig(e.getAttribute("enctype"))||Ih,l=new FormData(e)}else if(DM(e)||$M(e)&&(e.type==="submit"||e.type==="image")){let u=e.form;if(u==null)throw new Error('Cannot submit a <button> or <input type="submit"> without a <form>');let h=e.getAttribute("formaction")||u.getAttribute("action");if(i=h?Ca(h,t):null,r=e.getAttribute("formmethod")||u.getAttribute("method")||Uh,n=Ig(e.getAttribute("formenctype"))||Ig(u.getAttribute("enctype"))||Ih,l=new FormData(u,e),!UM()){let{name:d,type:p,value:g}=e;if(p==="image"){let y=d?`${d}.`:"";l.append(`${y}x`,"0"),l.append(`${y}y`,"0")}else d&&l.append(d,g)}}else{if(Yd(e))throw new Error('Cannot submit element that is not <form>, <button>, or <input type="submit|image">');r=Uh,i=null,n=Ih,o=e}return l&&n==="text/plain"&&(o=l,l=void 0),{action:i,method:r.toLowerCase(),encType:n,formData:l,body:o}}Object.getOwnPropertyNames(Object.prototype).sort().join("\0");function qy(e,t){if(e===!1||e===null||typeof e>"u")throw new Error(t)}function HM(e,t,r){let i=typeof e=="string"?new URL(e,typeof window>"u"?"server://singlefetch/":window.location.origin):e;return i.pathname==="/"?i.pathname=`_root.${r}`:t&&Ca(i.pathname,t)==="/"?i.pathname=`${t.replace(/\/$/,"")}/_root.${r}`:i.pathname=`${i.pathname.replace(/\/$/,"")}.${r}`,i}async function WM(e,t){if(e.id in t)return t[e.id];try{let r=await import(e.module);return t[e.id]=r,r}catch(r){return console.error(`Error loading route module \`${e.module}\`, reloading page...`),console.error(r),window.__reactRouterContext&&window.__reactRouterContext.isSpaMode,window.location.reload(),new Promise(()=>{})}}function GM(e){return e==null?!1:e.href==null?e.rel==="preload"&&typeof e.imageSrcSet=="string"&&typeof e.imageSizes=="string":typeof e.rel=="string"&&typeof e.href=="string"}async function YM(e,t,r){let i=await Promise.all(e.map(async n=>{let l=t.routes[n.route.id];if(l){let o=await WM(l,r);return o.links?o.links():[]}return[]}));return QM(i.flat(1).filter(GM).filter(n=>n.rel==="stylesheet"||n.rel==="preload").map(n=>n.rel==="stylesheet"?{...n,rel:"prefetch",as:"style"}:{...n,rel:"prefetch"}))}function J_(e,t,r,i,n,l){let o=(h,d)=>r[d]?h.route.id!==r[d].route.id:!0,u=(h,d)=>r[d].pathname!==h.pathname||r[d].route.path?.endsWith("*")&&r[d].params["*"]!==h.params["*"];return l==="assets"?t.filter((h,d)=>o(h,d)||u(h,d)):l==="data"?t.filter((h,d)=>{let p=i.routes[h.route.id];if(!p||!p.hasLoader)return!1;if(o(h,d)||u(h,d))return!0;if(h.route.shouldRevalidate){let g=h.route.shouldRevalidate({currentUrl:new URL(n.pathname+n.search+n.hash,window.origin),currentParams:r[0]?.params||{},nextUrl:new URL(e,window.origin),nextParams:h.params,defaultShouldRevalidate:!0});if(typeof g=="boolean")return g}return!0}):[]}function VM(e,t,{includeHydrateFallback:r}={}){return XM(e.map(i=>{let n=t.routes[i.route.id];if(!n)return[];let l=[n.module];return n.clientActionModule&&(l=l.concat(n.clientActionModule)),n.clientLoaderModule&&(l=l.concat(n.clientLoaderModule)),r&&n.hydrateFallbackModule&&(l=l.concat(n.hydrateFallbackModule)),n.imports&&(l=l.concat(n.imports)),l}).flat(1))}function XM(e){return[...new Set(e)]}function KM(e){let t={},r=Object.keys(e).sort();for(let i of r)t[i]=e[i];return t}function QM(e,t){let r=new Set;return new Set(t),e.reduce((i,n)=>{let l=JSON.stringify(KM(n));return r.has(l)||(r.add(l),i.push({key:l,link:n})),i},[])}function OS(){let e=W.useContext(jl);return qy(e,"You must render this element inside a <DataRouterContext.Provider> element"),e}function ZM(){let e=W.useContext(Gd);return qy(e,"You must render this element inside a <DataRouterStateContext.Provider> element"),e}var Hy=W.createContext(void 0);Hy.displayName="FrameworkContext";function RS(){let e=W.useContext(Hy);return qy(e,"You must render this element inside a <HydratedRouter> element"),e}function JM(e,t){let r=W.useContext(Hy),[i,n]=W.useState(!1),[l,o]=W.useState(!1),{onFocus:u,onBlur:h,onMouseEnter:d,onMouseLeave:p,onTouchStart:g}=t,y=W.useRef(null);W.useEffect(()=>{if(e==="render"&&o(!0),e==="viewport"){let _=T=>{T.forEach(E=>{o(E.isIntersecting)})},S=new IntersectionObserver(_,{threshold:.5});return y.current&&S.observe(y.current),()=>{S.disconnect()}}},[e]),W.useEffect(()=>{if(i){let _=setTimeout(()=>{o(!0)},100);return()=>{clearTimeout(_)}}},[i]);let x=()=>{n(!0)},v=()=>{n(!1),o(!1)};return r?e!=="intent"?[l,y,{}]:[l,y,{onFocus:Vo(u,x),onBlur:Vo(h,v),onMouseEnter:Vo(d,x),onMouseLeave:Vo(p,v),onTouchStart:Vo(g,x)}]:[!1,y,{}]}function Vo(e,t){return r=>{e&&e(r),r.defaultPrevented||t(r)}}function tB({page:e,...t}){let{router:r}=OS(),i=W.useMemo(()=>pS(r.routes,e,r.basename),[r.routes,e,r.basename]);return i?W.createElement(rB,{page:e,matches:i,...t}):null}function eB(e){let{manifest:t,routeModules:r}=RS(),[i,n]=W.useState([]);return W.useEffect(()=>{let l=!1;return YM(e,t,r).then(o=>{l||n(o)}),()=>{l=!0}},[e,t,r]),i}function rB({page:e,matches:t,...r}){let i=Oa(),{manifest:n,routeModules:l}=RS(),{basename:o}=OS(),{loaderData:u,matches:h}=ZM(),d=W.useMemo(()=>J_(e,t,h,n,i,"data"),[e,t,h,n,i]),p=W.useMemo(()=>J_(e,t,h,n,i,"assets"),[e,t,h,n,i]),g=W.useMemo(()=>{if(e===i.pathname+i.search+i.hash)return[];let v=new Set,_=!1;if(t.forEach(T=>{let E=n.routes[T.route.id];!E||!E.hasLoader||(!d.some(O=>O.route.id===T.route.id)&&T.route.id in u&&l[T.route.id]?.shouldRevalidate||E.hasClientLoader?_=!0:v.add(T.route.id))}),v.size===0)return[];let S=HM(e,o,"data");return _&&v.size>0&&S.searchParams.set("_routes",t.filter(T=>v.has(T.route.id)).map(T=>T.route.id).join(",")),[S.pathname+S.search]},[o,u,i,n,d,t,e,l]),y=W.useMemo(()=>VM(p,n),[p,n]),x=eB(p);return W.createElement(W.Fragment,null,g.map(v=>W.createElement("link",{key:v,rel:"prefetch",as:"fetch",href:v,...r})),y.map(v=>W.createElement("link",{key:v,rel:"modulepreload",href:v,...r})),x.map(({key:v,link:_})=>W.createElement("link",{key:v,nonce:r.nonce,..._})))}function iB(...e){return t=>{e.forEach(r=>{typeof r=="function"?r(t):r!=null&&(r.current=t)})}}var aB=typeof window<"u"&&typeof window.document<"u"&&typeof window.document.createElement<"u";try{aB&&(window.__reactRouterVersion="7.11.0")}catch{}function nB({basename:e,children:t,unstable_useTransitions:r,window:i}){let n=W.useRef();n.current==null&&(n.current=$L({window:i,v5Compat:!0}));let l=n.current,[o,u]=W.useState({action:l.action,location:l.location}),h=W.useCallback(d=>{r===!1?u(d):W.startTransition(()=>u(d))},[r]);return W.useLayoutEffect(()=>l.listen(h),[l,h]),W.createElement(BM,{basename:e,children:t,location:o.location,navigationType:o.action,navigator:l,unstable_useTransitions:r})}var LS=/^(?:[a-z][a-z0-9+.-]*:|\/\/)/i,Br=W.forwardRef(function({onClick:t,discover:r="render",prefetch:i="none",relative:n,reloadDocument:l,replace:o,state:u,target:h,to:d,preventScrollReset:p,viewTransition:g,unstable_defaultShouldRevalidate:y,...x},v){let{basename:_,unstable_useTransitions:S}=W.useContext(Xr),T=typeof d=="string"&&LS.test(d),E=xS(d,_);d=E.to;let O=yM(d,{relative:n}),[L,B,I]=JM(i,x),j=cB(d,{replace:o,state:u,target:h,preventScrollReset:p,relative:n,viewTransition:g,unstable_defaultShouldRevalidate:y,unstable_useTransitions:S});function Z(at){t&&t(at),at.defaultPrevented||j(at)}let rt=W.createElement("a",{...x,...I,href:E.absoluteURL||O,onClick:E.isExternal||l?t:Z,ref:iB(v,B),target:h,"data-discover":!T&&r==="render"?"true":void 0});return L&&!T?W.createElement(W.Fragment,null,rt,W.createElement(tB,{page:O})):rt});Br.displayName="Link";var sB=W.forwardRef(function({"aria-current":t="page",caseSensitive:r=!1,className:i="",end:n=!1,style:l,to:o,viewTransition:u,children:h,...d},p){let g=Yc(o,{relative:d.relative}),y=Oa(),x=W.useContext(Gd),{navigator:v,basename:_}=W.useContext(Xr),S=x!=null&&gB(g)&&u===!0,T=v.encodeLocation?v.encodeLocation(g).pathname:g.pathname,E=y.pathname,O=x&&x.navigation&&x.navigation.location?x.navigation.location.pathname:null;r||(E=E.toLowerCase(),O=O?O.toLowerCase():null,T=T.toLowerCase()),O&&_&&(O=Ca(O,_)||O);const L=T!=="/"&&T.endsWith("/")?T.length-1:T.length;let B=E===T||!n&&E.startsWith(T)&&E.charAt(L)==="/",I=O!=null&&(O===T||!n&&O.startsWith(T)&&O.charAt(T.length)==="/"),j={isActive:B,isPending:I,isTransitioning:S},Z=B?t:void 0,rt;typeof i=="function"?rt=i(j):rt=[i,B?"active":null,I?"pending":null,S?"transitioning":null].filter(Boolean).join(" ");let at=typeof l=="function"?l(j):l;return W.createElement(Br,{...d,"aria-current":Z,className:rt,ref:p,style:at,to:o,viewTransition:u},typeof h=="function"?h(j):h)});sB.displayName="NavLink";var lB=W.forwardRef(({discover:e="render",fetcherKey:t,navigate:r,reloadDocument:i,replace:n,state:l,method:o=Uh,action:u,onSubmit:h,relative:d,preventScrollReset:p,viewTransition:g,unstable_defaultShouldRevalidate:y,...x},v)=>{let{unstable_useTransitions:_}=W.useContext(Xr),S=fB(),T=pB(u,{relative:d}),E=o.toLowerCase()==="get"?"get":"post",O=typeof u=="string"&&LS.test(u),L=B=>{if(h&&h(B),B.defaultPrevented)return;B.preventDefault();let I=B.nativeEvent.submitter,j=I?.getAttribute("formmethod")||o,Z=()=>S(I||B.currentTarget,{fetcherKey:t,method:j,navigate:r,replace:n,state:l,relative:d,preventScrollReset:p,viewTransition:g,unstable_defaultShouldRevalidate:y});_&&r!==!1?W.startTransition(()=>Z()):Z()};return W.createElement("form",{ref:v,method:E,action:T,onSubmit:i?h:L,...x,"data-discover":!O&&e==="render"?"true":void 0})});lB.displayName="Form";function oB(e){return`${e} must be used within a data router.  See https://reactrouter.com/en/main/routers/picking-a-router.`}function MS(e){let t=W.useContext(jl);return ve(t,oB(e)),t}function cB(e,{target:t,replace:r,state:i,preventScrollReset:n,relative:l,viewTransition:o,unstable_defaultShouldRevalidate:u,unstable_useTransitions:h}={}){let d=zl(),p=Oa(),g=Yc(e,{relative:l});return W.useCallback(y=>{if(FM(y,t)){y.preventDefault();let x=r!==void 0?r:Tc(p)===Tc(g),v=()=>d(e,{replace:x,state:i,preventScrollReset:n,relative:l,viewTransition:o,unstable_defaultShouldRevalidate:u});h?W.startTransition(()=>v()):v()}},[p,d,g,r,i,t,e,n,l,o,u,h])}function uB(e){Yr(typeof URLSearchParams<"u","You cannot use the `useSearchParams` hook in a browser that does not support the URLSearchParams API. If you need to support Internet Explorer 11, we recommend you load a polyfill such as https://github.com/ungap/url-search-params.");let t=W.useRef(Tm(e)),r=W.useRef(!1),i=Oa(),n=W.useMemo(()=>PM(i.search,r.current?null:t.current),[i.search]),l=zl(),o=W.useCallback((u,h)=>{const d=Tm(typeof u=="function"?u(new URLSearchParams(n)):u);r.current=!0,l("?"+d,h)},[l,n]);return[n,o]}var hB=0,dB=()=>`__${String(++hB)}__`;function fB(){let{router:e}=MS("useSubmit"),{basename:t}=W.useContext(Xr),r=AM(),i=e.fetch,n=e.navigate;return W.useCallback(async(l,o={})=>{let{action:u,method:h,encType:d,formData:p,body:g}=qM(l,t);if(o.navigate===!1){let y=o.fetcherKey||dB();await i(y,r,o.action||u,{unstable_defaultShouldRevalidate:o.unstable_defaultShouldRevalidate,preventScrollReset:o.preventScrollReset,formData:p,body:g,formMethod:o.method||h,formEncType:o.encType||d,flushSync:o.flushSync})}else await n(o.action||u,{unstable_defaultShouldRevalidate:o.unstable_defaultShouldRevalidate,preventScrollReset:o.preventScrollReset,formData:p,body:g,formMethod:o.method||h,formEncType:o.encType||d,replace:o.replace,state:o.state,fromRouteId:r,flushSync:o.flushSync,viewTransition:o.viewTransition})},[i,n,t,r])}function pB(e,{relative:t}={}){let{basename:r}=W.useContext(Xr),i=W.useContext(Oi);ve(i,"useFormAction must be used inside a RouteContext");let[n]=i.matches.slice(-1),l={...Yc(e||".",{relative:t})},o=Oa();if(e==null){l.search=o.search;let u=new URLSearchParams(l.search),h=u.getAll("index");if(h.some(p=>p==="")){u.delete("index"),h.filter(g=>g).forEach(g=>u.append("index",g));let p=u.toString();l.search=p?`?${p}`:""}}return(!e||e===".")&&n.route.index&&(l.search=l.search?l.search.replace(/^\?/,"?index&"):"?index"),r!=="/"&&(l.pathname=l.pathname==="/"?r:wa([r,l.pathname])),Tc(l)}function gB(e,{relative:t}={}){let r=W.useContext(_S);ve(r!=null,"`useViewTransitionState` must be used within `react-router-dom`'s `RouterProvider`.  Did you accidentally import `RouterProvider` from `react-router`?");let{basename:i}=MS("useViewTransitionState"),n=Yc(e,{relative:t});if(!r.isTransitioning)return!1;let l=Ca(r.currentLocation.pathname,i)||r.currentLocation.pathname,o=Ca(r.nextLocation.pathname,i)||r.nextLocation.pathname;return nd(n.pathname,o)!=null||nd(n.pathname,l)!=null}const BS=W.createContext(null);function mB({children:e}){const[t,r]=W.useState(()=>{if(typeof window<"u"){const n=localStorage.getItem("theme");return n||(window.matchMedia("(prefers-color-scheme: dark)").matches?"dark":"light")}return"light"});W.useEffect(()=>{const n=document.documentElement;t==="dark"?n.classList.add("dark"):n.classList.remove("dark"),localStorage.setItem("theme",t)},[t]);const i=()=>{r(n=>n==="dark"?"light":"dark")};return C.jsx(BS.Provider,{value:{theme:t,toggleTheme:i},children:e})}const NS=W.createContext(null);function Vd(e,t){var r={};for(var i in e)Object.prototype.hasOwnProperty.call(e,i)&&t.indexOf(i)<0&&(r[i]=e[i]);if(e!=null&&typeof Object.getOwnPropertySymbols=="function")for(var n=0,i=Object.getOwnPropertySymbols(e);n<i.length;n++)t.indexOf(i[n])<0&&Object.prototype.propertyIsEnumerable.call(e,i[n])&&(r[i[n]]=e[i[n]]);return r}function yB(e,t,r,i){function n(l){return l instanceof r?l:new r(function(o){o(l)})}return new(r||(r=Promise))(function(l,o){function u(p){try{d(i.next(p))}catch(g){o(g)}}function h(p){try{d(i.throw(p))}catch(g){o(g)}}function d(p){p.done?l(p.value):n(p.value).then(u,h)}d((i=i.apply(e,t||[])).next())})}const bB=e=>e?(...t)=>e(...t):(...t)=>fetch(...t);class Wy extends Error{constructor(t,r="FunctionsError",i){super(t),this.name=r,this.context=i}}class xB extends Wy{constructor(t){super("Failed to send a request to the Edge Function","FunctionsFetchError",t)}}class tw extends Wy{constructor(t){super("Relay Error invoking the Edge Function","FunctionsRelayError",t)}}class ew extends Wy{constructor(t){super("Edge Function returned a non-2xx status code","FunctionsHttpError",t)}}var Em;(function(e){e.Any="any",e.ApNortheast1="ap-northeast-1",e.ApNortheast2="ap-northeast-2",e.ApSouth1="ap-south-1",e.ApSoutheast1="ap-southeast-1",e.ApSoutheast2="ap-southeast-2",e.CaCentral1="ca-central-1",e.EuCentral1="eu-central-1",e.EuWest1="eu-west-1",e.EuWest2="eu-west-2",e.EuWest3="eu-west-3",e.SaEast1="sa-east-1",e.UsEast1="us-east-1",e.UsWest1="us-west-1",e.UsWest2="us-west-2"})(Em||(Em={}));class vB{constructor(t,{headers:r={},customFetch:i,region:n=Em.Any}={}){this.url=t,this.headers=r,this.region=n,this.fetch=bB(i)}setAuth(t){this.headers.Authorization=`Bearer ${t}`}invoke(t){return yB(this,arguments,void 0,function*(r,i={}){var n;let l,o;try{const{headers:u,method:h,body:d,signal:p,timeout:g}=i;let y={},{region:x}=i;x||(x=this.region);const v=new URL(`${this.url}/${r}`);x&&x!=="any"&&(y["x-region"]=x,v.searchParams.set("forceFunctionRegion",x));let _;d&&(u&&!Object.prototype.hasOwnProperty.call(u,"Content-Type")||!u)?typeof Blob<"u"&&d instanceof Blob||d instanceof ArrayBuffer?(y["Content-Type"]="application/octet-stream",_=d):typeof d=="string"?(y["Content-Type"]="text/plain",_=d):typeof FormData<"u"&&d instanceof FormData?_=d:(y["Content-Type"]="application/json",_=JSON.stringify(d)):_=d;let S=p;g&&(o=new AbortController,l=setTimeout(()=>o.abort(),g),p?(S=o.signal,p.addEventListener("abort",()=>o.abort())):S=o.signal);const T=yield this.fetch(v.toString(),{method:h||"POST",headers:Object.assign(Object.assign(Object.assign({},y),this.headers),u),body:_,signal:S}).catch(B=>{throw new xB(B)}),E=T.headers.get("x-relay-error");if(E&&E==="true")throw new tw(T);if(!T.ok)throw new ew(T);let O=((n=T.headers.get("Content-Type"))!==null&&n!==void 0?n:"text/plain").split(";")[0].trim(),L;return O==="application/json"?L=yield T.json():O==="application/octet-stream"||O==="application/pdf"?L=yield T.blob():O==="text/event-stream"?L=T:O==="multipart/form-data"?L=yield T.formData():L=yield T.text(),{data:L,error:null,response:T}}catch(u){return{data:null,error:u,response:u instanceof ew||u instanceof tw?u.context:void 0}}finally{l&&clearTimeout(l)}})}}var _B=class extends Error{constructor(e){super(e.message),this.name="PostgrestError",this.details=e.details,this.hint=e.hint,this.code=e.code}},wB=class{constructor(e){var t,r;this.shouldThrowOnError=!1,this.method=e.method,this.url=e.url,this.headers=new Headers(e.headers),this.schema=e.schema,this.body=e.body,this.shouldThrowOnError=(t=e.shouldThrowOnError)!==null&&t!==void 0?t:!1,this.signal=e.signal,this.isMaybeSingle=(r=e.isMaybeSingle)!==null&&r!==void 0?r:!1,e.fetch?this.fetch=e.fetch:this.fetch=fetch}throwOnError(){return this.shouldThrowOnError=!0,this}setHeader(e,t){return this.headers=new Headers(this.headers),this.headers.set(e,t),this}then(e,t){var r=this;this.schema===void 0||(["GET","HEAD"].includes(this.method)?this.headers.set("Accept-Profile",this.schema):this.headers.set("Content-Profile",this.schema)),this.method!=="GET"&&this.method!=="HEAD"&&this.headers.set("Content-Type","application/json");const i=this.fetch;let n=i(this.url.toString(),{method:this.method,headers:this.headers,body:JSON.stringify(this.body),signal:this.signal}).then(async l=>{let o=null,u=null,h=null,d=l.status,p=l.statusText;if(l.ok){var g,y;if(r.method!=="HEAD"){var x;const T=await l.text();T===""||(r.headers.get("Accept")==="text/csv"||r.headers.get("Accept")&&(!((x=r.headers.get("Accept"))===null||x===void 0)&&x.includes("application/vnd.pgrst.plan+text"))?u=T:u=JSON.parse(T))}const _=(g=r.headers.get("Prefer"))===null||g===void 0?void 0:g.match(/count=(exact|planned|estimated)/),S=(y=l.headers.get("content-range"))===null||y===void 0?void 0:y.split("/");_&&S&&S.length>1&&(h=parseInt(S[1])),r.isMaybeSingle&&r.method==="GET"&&Array.isArray(u)&&(u.length>1?(o={code:"PGRST116",details:`Results contain ${u.length} rows, application/vnd.pgrst.object+json requires 1 row`,hint:null,message:"JSON object requested, multiple (or no) rows returned"},u=null,h=null,d=406,p="Not Acceptable"):u.length===1?u=u[0]:u=null)}else{var v;const _=await l.text();try{o=JSON.parse(_),Array.isArray(o)&&l.status===404&&(u=[],o=null,d=200,p="OK")}catch{l.status===404&&_===""?(d=204,p="No Content"):o={message:_}}if(o&&r.isMaybeSingle&&(!(o==null||(v=o.details)===null||v===void 0)&&v.includes("0 rows"))&&(o=null,d=200,p="OK"),o&&r.shouldThrowOnError)throw new _B(o)}return{error:o,data:u,count:h,status:d,statusText:p}});return this.shouldThrowOnError||(n=n.catch(l=>{var o;let u="";const h=l?.cause;if(h){var d,p,g,y;const v=(d=h?.message)!==null&&d!==void 0?d:"",_=(p=h?.code)!==null&&p!==void 0?p:"";u=`${(g=l?.name)!==null&&g!==void 0?g:"FetchError"}: ${l?.message}`,u+=`

Caused by: ${(y=h?.name)!==null&&y!==void 0?y:"Error"}: ${v}`,_&&(u+=` (${_})`),h?.stack&&(u+=`
${h.stack}`)}else{var x;u=(x=l?.stack)!==null&&x!==void 0?x:""}return{error:{message:`${(o=l?.name)!==null&&o!==void 0?o:"FetchError"}: ${l?.message}`,details:u,hint:"",code:""},data:null,count:null,status:0,statusText:""}})),n.then(e,t)}returns(){return this}overrideTypes(){return this}},SB=class extends wB{select(e){let t=!1;const r=(e??"*").split("").map(i=>/\s/.test(i)&&!t?"":(i==='"'&&(t=!t),i)).join("");return this.url.searchParams.set("select",r),this.headers.append("Prefer","return=representation"),this}order(e,{ascending:t=!0,nullsFirst:r,foreignTable:i,referencedTable:n=i}={}){const l=n?`${n}.order`:"order",o=this.url.searchParams.get(l);return this.url.searchParams.set(l,`${o?`${o},`:""}${e}.${t?"asc":"desc"}${r===void 0?"":r?".nullsfirst":".nullslast"}`),this}limit(e,{foreignTable:t,referencedTable:r=t}={}){const i=typeof r>"u"?"limit":`${r}.limit`;return this.url.searchParams.set(i,`${e}`),this}range(e,t,{foreignTable:r,referencedTable:i=r}={}){const n=typeof i>"u"?"offset":`${i}.offset`,l=typeof i>"u"?"limit":`${i}.limit`;return this.url.searchParams.set(n,`${e}`),this.url.searchParams.set(l,`${t-e+1}`),this}abortSignal(e){return this.signal=e,this}single(){return this.headers.set("Accept","application/vnd.pgrst.object+json"),this}maybeSingle(){return this.method==="GET"?this.headers.set("Accept","application/json"):this.headers.set("Accept","application/vnd.pgrst.object+json"),this.isMaybeSingle=!0,this}csv(){return this.headers.set("Accept","text/csv"),this}geojson(){return this.headers.set("Accept","application/geo+json"),this}explain({analyze:e=!1,verbose:t=!1,settings:r=!1,buffers:i=!1,wal:n=!1,format:l="text"}={}){var o;const u=[e?"analyze":null,t?"verbose":null,r?"settings":null,i?"buffers":null,n?"wal":null].filter(Boolean).join("|"),h=(o=this.headers.get("Accept"))!==null&&o!==void 0?o:"application/json";return this.headers.set("Accept",`application/vnd.pgrst.plan+${l}; for="${h}"; options=${u};`),l==="json"?this:this}rollback(){return this.headers.append("Prefer","tx=rollback"),this}returns(){return this}maxAffected(e){return this.headers.append("Prefer","handling=strict"),this.headers.append("Prefer",`max-affected=${e}`),this}};const rw=new RegExp("[,()]");var ll=class extends SB{eq(e,t){return this.url.searchParams.append(e,`eq.${t}`),this}neq(e,t){return this.url.searchParams.append(e,`neq.${t}`),this}gt(e,t){return this.url.searchParams.append(e,`gt.${t}`),this}gte(e,t){return this.url.searchParams.append(e,`gte.${t}`),this}lt(e,t){return this.url.searchParams.append(e,`lt.${t}`),this}lte(e,t){return this.url.searchParams.append(e,`lte.${t}`),this}like(e,t){return this.url.searchParams.append(e,`like.${t}`),this}likeAllOf(e,t){return this.url.searchParams.append(e,`like(all).{${t.join(",")}}`),this}likeAnyOf(e,t){return this.url.searchParams.append(e,`like(any).{${t.join(",")}}`),this}ilike(e,t){return this.url.searchParams.append(e,`ilike.${t}`),this}ilikeAllOf(e,t){return this.url.searchParams.append(e,`ilike(all).{${t.join(",")}}`),this}ilikeAnyOf(e,t){return this.url.searchParams.append(e,`ilike(any).{${t.join(",")}}`),this}regexMatch(e,t){return this.url.searchParams.append(e,`match.${t}`),this}regexIMatch(e,t){return this.url.searchParams.append(e,`imatch.${t}`),this}is(e,t){return this.url.searchParams.append(e,`is.${t}`),this}isDistinct(e,t){return this.url.searchParams.append(e,`isdistinct.${t}`),this}in(e,t){const r=Array.from(new Set(t)).map(i=>typeof i=="string"&&rw.test(i)?`"${i}"`:`${i}`).join(",");return this.url.searchParams.append(e,`in.(${r})`),this}notIn(e,t){const r=Array.from(new Set(t)).map(i=>typeof i=="string"&&rw.test(i)?`"${i}"`:`${i}`).join(",");return this.url.searchParams.append(e,`not.in.(${r})`),this}contains(e,t){return typeof t=="string"?this.url.searchParams.append(e,`cs.${t}`):Array.isArray(t)?this.url.searchParams.append(e,`cs.{${t.join(",")}}`):this.url.searchParams.append(e,`cs.${JSON.stringify(t)}`),this}containedBy(e,t){return typeof t=="string"?this.url.searchParams.append(e,`cd.${t}`):Array.isArray(t)?this.url.searchParams.append(e,`cd.{${t.join(",")}}`):this.url.searchParams.append(e,`cd.${JSON.stringify(t)}`),this}rangeGt(e,t){return this.url.searchParams.append(e,`sr.${t}`),this}rangeGte(e,t){return this.url.searchParams.append(e,`nxl.${t}`),this}rangeLt(e,t){return this.url.searchParams.append(e,`sl.${t}`),this}rangeLte(e,t){return this.url.searchParams.append(e,`nxr.${t}`),this}rangeAdjacent(e,t){return this.url.searchParams.append(e,`adj.${t}`),this}overlaps(e,t){return typeof t=="string"?this.url.searchParams.append(e,`ov.${t}`):this.url.searchParams.append(e,`ov.{${t.join(",")}}`),this}textSearch(e,t,{config:r,type:i}={}){let n="";i==="plain"?n="pl":i==="phrase"?n="ph":i==="websearch"&&(n="w");const l=r===void 0?"":`(${r})`;return this.url.searchParams.append(e,`${n}fts${l}.${t}`),this}match(e){return Object.entries(e).forEach(([t,r])=>{this.url.searchParams.append(t,`eq.${r}`)}),this}not(e,t,r){return this.url.searchParams.append(e,`not.${t}.${r}`),this}or(e,{foreignTable:t,referencedTable:r=t}={}){const i=r?`${r}.or`:"or";return this.url.searchParams.append(i,`(${e})`),this}filter(e,t,r){return this.url.searchParams.append(e,`${t}.${r}`),this}},kB=class{constructor(e,{headers:t={},schema:r,fetch:i}){this.url=e,this.headers=new Headers(t),this.schema=r,this.fetch=i}select(e,t){const{head:r=!1,count:i}=t??{},n=r?"HEAD":"GET";let l=!1;const o=(e??"*").split("").map(u=>/\s/.test(u)&&!l?"":(u==='"'&&(l=!l),u)).join("");return this.url.searchParams.set("select",o),i&&this.headers.append("Prefer",`count=${i}`),new ll({method:n,url:this.url,headers:this.headers,schema:this.schema,fetch:this.fetch})}insert(e,{count:t,defaultToNull:r=!0}={}){var i;const n="POST";if(t&&this.headers.append("Prefer",`count=${t}`),r||this.headers.append("Prefer","missing=default"),Array.isArray(e)){const l=e.reduce((o,u)=>o.concat(Object.keys(u)),[]);if(l.length>0){const o=[...new Set(l)].map(u=>`"${u}"`);this.url.searchParams.set("columns",o.join(","))}}return new ll({method:n,url:this.url,headers:this.headers,schema:this.schema,body:e,fetch:(i=this.fetch)!==null&&i!==void 0?i:fetch})}upsert(e,{onConflict:t,ignoreDuplicates:r=!1,count:i,defaultToNull:n=!0}={}){var l;const o="POST";if(this.headers.append("Prefer",`resolution=${r?"ignore":"merge"}-duplicates`),t!==void 0&&this.url.searchParams.set("on_conflict",t),i&&this.headers.append("Prefer",`count=${i}`),n||this.headers.append("Prefer","missing=default"),Array.isArray(e)){const u=e.reduce((h,d)=>h.concat(Object.keys(d)),[]);if(u.length>0){const h=[...new Set(u)].map(d=>`"${d}"`);this.url.searchParams.set("columns",h.join(","))}}return new ll({method:o,url:this.url,headers:this.headers,schema:this.schema,body:e,fetch:(l=this.fetch)!==null&&l!==void 0?l:fetch})}update(e,{count:t}={}){var r;const i="PATCH";return t&&this.headers.append("Prefer",`count=${t}`),new ll({method:i,url:this.url,headers:this.headers,schema:this.schema,body:e,fetch:(r=this.fetch)!==null&&r!==void 0?r:fetch})}delete({count:e}={}){var t;const r="DELETE";return e&&this.headers.append("Prefer",`count=${e}`),new ll({method:r,url:this.url,headers:this.headers,schema:this.schema,fetch:(t=this.fetch)!==null&&t!==void 0?t:fetch})}},CB=class DS{constructor(t,{headers:r={},schema:i,fetch:n}={}){this.url=t,this.headers=new Headers(r),this.schemaName=i,this.fetch=n}from(t){if(!t||typeof t!="string"||t.trim()==="")throw new Error("Invalid relation name: relation must be a non-empty string.");return new kB(new URL(`${this.url}/${t}`),{headers:new Headers(this.headers),schema:this.schemaName,fetch:this.fetch})}schema(t){return new DS(this.url,{headers:this.headers,schema:t,fetch:this.fetch})}rpc(t,r={},{head:i=!1,get:n=!1,count:l}={}){var o;let u;const h=new URL(`${this.url}/rpc/${t}`);let d;i||n?(u=i?"HEAD":"GET",Object.entries(r).filter(([g,y])=>y!==void 0).map(([g,y])=>[g,Array.isArray(y)?`{${y.join(",")}}`:`${y}`]).forEach(([g,y])=>{h.searchParams.append(g,y)})):(u="POST",d=r);const p=new Headers(this.headers);return l&&p.set("Prefer",`count=${l}`),new ll({method:u,url:h,headers:p,schema:this.schemaName,body:d,fetch:(o=this.fetch)!==null&&o!==void 0?o:fetch})}};class TB{constructor(){}static detectEnvironment(){var t;if(typeof WebSocket<"u")return{type:"native",constructor:WebSocket};if(typeof globalThis<"u"&&typeof globalThis.WebSocket<"u")return{type:"native",constructor:globalThis.WebSocket};if(typeof global<"u"&&typeof global.WebSocket<"u")return{type:"native",constructor:global.WebSocket};if(typeof globalThis<"u"&&typeof globalThis.WebSocketPair<"u"&&typeof globalThis.WebSocket>"u")return{type:"cloudflare",error:"Cloudflare Workers detected. WebSocket clients are not supported in Cloudflare Workers.",workaround:"Use Cloudflare Workers WebSocket API for server-side WebSocket handling, or deploy to a different runtime."};if(typeof globalThis<"u"&&globalThis.EdgeRuntime||typeof navigator<"u"&&(!((t=navigator.userAgent)===null||t===void 0)&&t.includes("Vercel-Edge")))return{type:"unsupported",error:"Edge runtime detected (Vercel Edge/Netlify Edge). WebSockets are not supported in edge functions.",workaround:"Use serverless functions or a different deployment target for WebSocket functionality."};if(typeof process<"u"){const r=process.versions;if(r&&r.node){const i=r.node,n=parseInt(i.replace(/^v/,"").split(".")[0]);return n>=22?typeof globalThis.WebSocket<"u"?{type:"native",constructor:globalThis.WebSocket}:{type:"unsupported",error:`Node.js ${n} detected but native WebSocket not found.`,workaround:"Provide a WebSocket implementation via the transport option."}:{type:"unsupported",error:`Node.js ${n} detected without native WebSocket support.`,workaround:`For Node.js < 22, install "ws" package and provide it via the transport option:
import ws from "ws"
new RealtimeClient(url, { transport: ws })`}}}return{type:"unsupported",error:"Unknown JavaScript runtime without WebSocket support.",workaround:"Ensure you're running in a supported environment (browser, Node.js, Deno) or provide a custom WebSocket implementation."}}static getWebSocketConstructor(){const t=this.detectEnvironment();if(t.constructor)return t.constructor;let r=t.error||"WebSocket not supported in this environment.";throw t.workaround&&(r+=`

Suggested solution: ${t.workaround}`),new Error(r)}static createWebSocket(t,r){const i=this.getWebSocketConstructor();return new i(t,r)}static isWebSocketSupported(){try{const t=this.detectEnvironment();return t.type==="native"||t.type==="ws"}catch{return!1}}}const EB="2.89.0",AB=`realtime-js/${EB}`,jS="1.0.0",OB="2.0.0",iw=jS,Am=1e4,RB=1e3,LB=100;var ln;(function(e){e[e.connecting=0]="connecting",e[e.open=1]="open",e[e.closing=2]="closing",e[e.closed=3]="closed"})(ln||(ln={}));var Ue;(function(e){e.closed="closed",e.errored="errored",e.joined="joined",e.joining="joining",e.leaving="leaving"})(Ue||(Ue={}));var wi;(function(e){e.close="phx_close",e.error="phx_error",e.join="phx_join",e.reply="phx_reply",e.leave="phx_leave",e.access_token="access_token"})(wi||(wi={}));var Om;(function(e){e.websocket="websocket"})(Om||(Om={}));var Yn;(function(e){e.Connecting="connecting",e.Open="open",e.Closing="closing",e.Closed="closed"})(Yn||(Yn={}));class MB{constructor(t){this.HEADER_LENGTH=1,this.USER_BROADCAST_PUSH_META_LENGTH=6,this.KINDS={userBroadcastPush:3,userBroadcast:4},this.BINARY_ENCODING=0,this.JSON_ENCODING=1,this.BROADCAST_EVENT="broadcast",this.allowedMetadataKeys=[],this.allowedMetadataKeys=t??[]}encode(t,r){if(t.event===this.BROADCAST_EVENT&&!(t.payload instanceof ArrayBuffer)&&typeof t.payload.event=="string")return r(this._binaryEncodeUserBroadcastPush(t));let i=[t.join_ref,t.ref,t.topic,t.event,t.payload];return r(JSON.stringify(i))}_binaryEncodeUserBroadcastPush(t){var r;return this._isArrayBuffer((r=t.payload)===null||r===void 0?void 0:r.payload)?this._encodeBinaryUserBroadcastPush(t):this._encodeJsonUserBroadcastPush(t)}_encodeBinaryUserBroadcastPush(t){var r,i;const n=(i=(r=t.payload)===null||r===void 0?void 0:r.payload)!==null&&i!==void 0?i:new ArrayBuffer(0);return this._encodeUserBroadcastPush(t,this.BINARY_ENCODING,n)}_encodeJsonUserBroadcastPush(t){var r,i;const n=(i=(r=t.payload)===null||r===void 0?void 0:r.payload)!==null&&i!==void 0?i:{},o=new TextEncoder().encode(JSON.stringify(n)).buffer;return this._encodeUserBroadcastPush(t,this.JSON_ENCODING,o)}_encodeUserBroadcastPush(t,r,i){var n,l;const o=t.topic,u=(n=t.ref)!==null&&n!==void 0?n:"",h=(l=t.join_ref)!==null&&l!==void 0?l:"",d=t.payload.event,p=this.allowedMetadataKeys?this._pick(t.payload,this.allowedMetadataKeys):{},g=Object.keys(p).length===0?"":JSON.stringify(p);if(h.length>255)throw new Error(`joinRef length ${h.length} exceeds maximum of 255`);if(u.length>255)throw new Error(`ref length ${u.length} exceeds maximum of 255`);if(o.length>255)throw new Error(`topic length ${o.length} exceeds maximum of 255`);if(d.length>255)throw new Error(`userEvent length ${d.length} exceeds maximum of 255`);if(g.length>255)throw new Error(`metadata length ${g.length} exceeds maximum of 255`);const y=this.USER_BROADCAST_PUSH_META_LENGTH+h.length+u.length+o.length+d.length+g.length,x=new ArrayBuffer(this.HEADER_LENGTH+y);let v=new DataView(x),_=0;v.setUint8(_++,this.KINDS.userBroadcastPush),v.setUint8(_++,h.length),v.setUint8(_++,u.length),v.setUint8(_++,o.length),v.setUint8(_++,d.length),v.setUint8(_++,g.length),v.setUint8(_++,r),Array.from(h,T=>v.setUint8(_++,T.charCodeAt(0))),Array.from(u,T=>v.setUint8(_++,T.charCodeAt(0))),Array.from(o,T=>v.setUint8(_++,T.charCodeAt(0))),Array.from(d,T=>v.setUint8(_++,T.charCodeAt(0))),Array.from(g,T=>v.setUint8(_++,T.charCodeAt(0)));var S=new Uint8Array(x.byteLength+i.byteLength);return S.set(new Uint8Array(x),0),S.set(new Uint8Array(i),x.byteLength),S.buffer}decode(t,r){if(this._isArrayBuffer(t)){let i=this._binaryDecode(t);return r(i)}if(typeof t=="string"){const i=JSON.parse(t),[n,l,o,u,h]=i;return r({join_ref:n,ref:l,topic:o,event:u,payload:h})}return r({})}_binaryDecode(t){const r=new DataView(t),i=r.getUint8(0),n=new TextDecoder;if(i===this.KINDS.userBroadcast)return this._decodeUserBroadcast(t,r,n)}_decodeUserBroadcast(t,r,i){const n=r.getUint8(1),l=r.getUint8(2),o=r.getUint8(3),u=r.getUint8(4);let h=this.HEADER_LENGTH+4;const d=i.decode(t.slice(h,h+n));h=h+n;const p=i.decode(t.slice(h,h+l));h=h+l;const g=i.decode(t.slice(h,h+o));h=h+o;const y=t.slice(h,t.byteLength),x=u===this.JSON_ENCODING?JSON.parse(i.decode(y)):y,v={type:this.BROADCAST_EVENT,event:p,payload:x};return o>0&&(v.meta=JSON.parse(g)),{join_ref:null,ref:null,topic:d,event:this.BROADCAST_EVENT,payload:v}}_isArrayBuffer(t){var r;return t instanceof ArrayBuffer||((r=t?.constructor)===null||r===void 0?void 0:r.name)==="ArrayBuffer"}_pick(t,r){return!t||typeof t!="object"?{}:Object.fromEntries(Object.entries(t).filter(([i])=>r.includes(i)))}}let $S=class{constructor(t,r){this.callback=t,this.timerCalc=r,this.timer=void 0,this.tries=0,this.callback=t,this.timerCalc=r}reset(){this.tries=0,clearTimeout(this.timer),this.timer=void 0}scheduleTimeout(){clearTimeout(this.timer),this.timer=setTimeout(()=>{this.tries=this.tries+1,this.callback()},this.timerCalc(this.tries+1))}};var fe;(function(e){e.abstime="abstime",e.bool="bool",e.date="date",e.daterange="daterange",e.float4="float4",e.float8="float8",e.int2="int2",e.int4="int4",e.int4range="int4range",e.int8="int8",e.int8range="int8range",e.json="json",e.jsonb="jsonb",e.money="money",e.numeric="numeric",e.oid="oid",e.reltime="reltime",e.text="text",e.time="time",e.timestamp="timestamp",e.timestamptz="timestamptz",e.timetz="timetz",e.tsrange="tsrange",e.tstzrange="tstzrange"})(fe||(fe={}));const aw=(e,t,r={})=>{var i;const n=(i=r.skipTypes)!==null&&i!==void 0?i:[];return t?Object.keys(t).reduce((l,o)=>(l[o]=BB(o,e,t,n),l),{}):{}},BB=(e,t,r,i)=>{const n=t.find(u=>u.name===e),l=n?.type,o=r[e];return l&&!i.includes(l)?zS(l,o):Rm(o)},zS=(e,t)=>{if(e.charAt(0)==="_"){const r=e.slice(1,e.length);return $B(t,r)}switch(e){case fe.bool:return NB(t);case fe.float4:case fe.float8:case fe.int2:case fe.int4:case fe.int8:case fe.numeric:case fe.oid:return DB(t);case fe.json:case fe.jsonb:return jB(t);case fe.timestamp:return zB(t);case fe.abstime:case fe.date:case fe.daterange:case fe.int4range:case fe.int8range:case fe.money:case fe.reltime:case fe.text:case fe.time:case fe.timestamptz:case fe.timetz:case fe.tsrange:case fe.tstzrange:return Rm(t);default:return Rm(t)}},Rm=e=>e,NB=e=>{switch(e){case"t":return!0;case"f":return!1;default:return e}},DB=e=>{if(typeof e=="string"){const t=parseFloat(e);if(!Number.isNaN(t))return t}return e},jB=e=>{if(typeof e=="string")try{return JSON.parse(e)}catch{return e}return e},$B=(e,t)=>{if(typeof e!="string")return e;const r=e.length-1,i=e[r];if(e[0]==="{"&&i==="}"){let l;const o=e.slice(1,r);try{l=JSON.parse("["+o+"]")}catch{l=o?o.split(","):[]}return l.map(u=>zS(t,u))}return e},zB=e=>typeof e=="string"?e.replace(" ","T"):e,FS=e=>{const t=new URL(e);return t.protocol=t.protocol.replace(/^ws/i,"http"),t.pathname=t.pathname.replace(/\/+$/,"").replace(/\/socket\/websocket$/i,"").replace(/\/socket$/i,"").replace(/\/websocket$/i,""),t.pathname===""||t.pathname==="/"?t.pathname="/api/broadcast":t.pathname=t.pathname+"/api/broadcast",t.href};class qg{constructor(t,r,i={},n=Am){this.channel=t,this.event=r,this.payload=i,this.timeout=n,this.sent=!1,this.timeoutTimer=void 0,this.ref="",this.receivedResp=null,this.recHooks=[],this.refEvent=null}resend(t){this.timeout=t,this._cancelRefEvent(),this.ref="",this.refEvent=null,this.receivedResp=null,this.sent=!1,this.send()}send(){this._hasReceived("timeout")||(this.startTimeout(),this.sent=!0,this.channel.socket.push({topic:this.channel.topic,event:this.event,payload:this.payload,ref:this.ref,join_ref:this.channel._joinRef()}))}updatePayload(t){this.payload=Object.assign(Object.assign({},this.payload),t)}receive(t,r){var i;return this._hasReceived(t)&&r((i=this.receivedResp)===null||i===void 0?void 0:i.response),this.recHooks.push({status:t,callback:r}),this}startTimeout(){if(this.timeoutTimer)return;this.ref=this.channel.socket._makeRef(),this.refEvent=this.channel._replyEventName(this.ref);const t=r=>{this._cancelRefEvent(),this._cancelTimeout(),this.receivedResp=r,this._matchReceive(r)};this.channel._on(this.refEvent,{},t),this.timeoutTimer=setTimeout(()=>{this.trigger("timeout",{})},this.timeout)}trigger(t,r){this.refEvent&&this.channel._trigger(this.refEvent,{status:t,response:r})}destroy(){this._cancelRefEvent(),this._cancelTimeout()}_cancelRefEvent(){this.refEvent&&this.channel._off(this.refEvent,{})}_cancelTimeout(){clearTimeout(this.timeoutTimer),this.timeoutTimer=void 0}_matchReceive({status:t,response:r}){this.recHooks.filter(i=>i.status===t).forEach(i=>i.callback(r))}_hasReceived(t){return this.receivedResp&&this.receivedResp.status===t}}var nw;(function(e){e.SYNC="sync",e.JOIN="join",e.LEAVE="leave"})(nw||(nw={}));class bc{constructor(t,r){this.channel=t,this.state={},this.pendingDiffs=[],this.joinRef=null,this.enabled=!1,this.caller={onJoin:()=>{},onLeave:()=>{},onSync:()=>{}};const i=r?.events||{state:"presence_state",diff:"presence_diff"};this.channel._on(i.state,{},n=>{const{onJoin:l,onLeave:o,onSync:u}=this.caller;this.joinRef=this.channel._joinRef(),this.state=bc.syncState(this.state,n,l,o),this.pendingDiffs.forEach(h=>{this.state=bc.syncDiff(this.state,h,l,o)}),this.pendingDiffs=[],u()}),this.channel._on(i.diff,{},n=>{const{onJoin:l,onLeave:o,onSync:u}=this.caller;this.inPendingSyncState()?this.pendingDiffs.push(n):(this.state=bc.syncDiff(this.state,n,l,o),u())}),this.onJoin((n,l,o)=>{this.channel._trigger("presence",{event:"join",key:n,currentPresences:l,newPresences:o})}),this.onLeave((n,l,o)=>{this.channel._trigger("presence",{event:"leave",key:n,currentPresences:l,leftPresences:o})}),this.onSync(()=>{this.channel._trigger("presence",{event:"sync"})})}static syncState(t,r,i,n){const l=this.cloneDeep(t),o=this.transformState(r),u={},h={};return this.map(l,(d,p)=>{o[d]||(h[d]=p)}),this.map(o,(d,p)=>{const g=l[d];if(g){const y=p.map(S=>S.presence_ref),x=g.map(S=>S.presence_ref),v=p.filter(S=>x.indexOf(S.presence_ref)<0),_=g.filter(S=>y.indexOf(S.presence_ref)<0);v.length>0&&(u[d]=v),_.length>0&&(h[d]=_)}else u[d]=p}),this.syncDiff(l,{joins:u,leaves:h},i,n)}static syncDiff(t,r,i,n){const{joins:l,leaves:o}={joins:this.transformState(r.joins),leaves:this.transformState(r.leaves)};return i||(i=()=>{}),n||(n=()=>{}),this.map(l,(u,h)=>{var d;const p=(d=t[u])!==null&&d!==void 0?d:[];if(t[u]=this.cloneDeep(h),p.length>0){const g=t[u].map(x=>x.presence_ref),y=p.filter(x=>g.indexOf(x.presence_ref)<0);t[u].unshift(...y)}i(u,p,h)}),this.map(o,(u,h)=>{let d=t[u];if(!d)return;const p=h.map(g=>g.presence_ref);d=d.filter(g=>p.indexOf(g.presence_ref)<0),t[u]=d,n(u,d,h),d.length===0&&delete t[u]}),t}static map(t,r){return Object.getOwnPropertyNames(t).map(i=>r(i,t[i]))}static transformState(t){return t=this.cloneDeep(t),Object.getOwnPropertyNames(t).reduce((r,i)=>{const n=t[i];return"metas"in n?r[i]=n.metas.map(l=>(l.presence_ref=l.phx_ref,delete l.phx_ref,delete l.phx_ref_prev,l)):r[i]=n,r},{})}static cloneDeep(t){return JSON.parse(JSON.stringify(t))}onJoin(t){this.caller.onJoin=t}onLeave(t){this.caller.onLeave=t}onSync(t){this.caller.onSync=t}inPendingSyncState(){return!this.joinRef||this.joinRef!==this.channel._joinRef()}}var sw;(function(e){e.ALL="*",e.INSERT="INSERT",e.UPDATE="UPDATE",e.DELETE="DELETE"})(sw||(sw={}));var xc;(function(e){e.BROADCAST="broadcast",e.PRESENCE="presence",e.POSTGRES_CHANGES="postgres_changes",e.SYSTEM="system"})(xc||(xc={}));var _a;(function(e){e.SUBSCRIBED="SUBSCRIBED",e.TIMED_OUT="TIMED_OUT",e.CLOSED="CLOSED",e.CHANNEL_ERROR="CHANNEL_ERROR"})(_a||(_a={}));class dl{constructor(t,r={config:{}},i){var n,l;if(this.topic=t,this.params=r,this.socket=i,this.bindings={},this.state=Ue.closed,this.joinedOnce=!1,this.pushBuffer=[],this.subTopic=t.replace(/^realtime:/i,""),this.params.config=Object.assign({broadcast:{ack:!1,self:!1},presence:{key:"",enabled:!1},private:!1},r.config),this.timeout=this.socket.timeout,this.joinPush=new qg(this,wi.join,this.params,this.timeout),this.rejoinTimer=new $S(()=>this._rejoinUntilConnected(),this.socket.reconnectAfterMs),this.joinPush.receive("ok",()=>{this.state=Ue.joined,this.rejoinTimer.reset(),this.pushBuffer.forEach(o=>o.send()),this.pushBuffer=[]}),this._onClose(()=>{this.rejoinTimer.reset(),this.socket.log("channel",`close ${this.topic} ${this._joinRef()}`),this.state=Ue.closed,this.socket._remove(this)}),this._onError(o=>{this._isLeaving()||this._isClosed()||(this.socket.log("channel",`error ${this.topic}`,o),this.state=Ue.errored,this.rejoinTimer.scheduleTimeout())}),this.joinPush.receive("timeout",()=>{this._isJoining()&&(this.socket.log("channel",`timeout ${this.topic}`,this.joinPush.timeout),this.state=Ue.errored,this.rejoinTimer.scheduleTimeout())}),this.joinPush.receive("error",o=>{this._isLeaving()||this._isClosed()||(this.socket.log("channel",`error ${this.topic}`,o),this.state=Ue.errored,this.rejoinTimer.scheduleTimeout())}),this._on(wi.reply,{},(o,u)=>{this._trigger(this._replyEventName(u),o)}),this.presence=new bc(this),this.broadcastEndpointURL=FS(this.socket.endPoint),this.private=this.params.config.private||!1,!this.private&&(!((l=(n=this.params.config)===null||n===void 0?void 0:n.broadcast)===null||l===void 0)&&l.replay))throw`tried to use replay on public channel '${this.topic}'. It must be a private channel.`}subscribe(t,r=this.timeout){var i,n,l;if(this.socket.isConnected()||this.socket.connect(),this.state==Ue.closed){const{config:{broadcast:o,presence:u,private:h}}=this.params,d=(n=(i=this.bindings.postgres_changes)===null||i===void 0?void 0:i.map(x=>x.filter))!==null&&n!==void 0?n:[],p=!!this.bindings[xc.PRESENCE]&&this.bindings[xc.PRESENCE].length>0||((l=this.params.config.presence)===null||l===void 0?void 0:l.enabled)===!0,g={},y={broadcast:o,presence:Object.assign(Object.assign({},u),{enabled:p}),postgres_changes:d,private:h};this.socket.accessTokenValue&&(g.access_token=this.socket.accessTokenValue),this._onError(x=>t?.(_a.CHANNEL_ERROR,x)),this._onClose(()=>t?.(_a.CLOSED)),this.updateJoinPayload(Object.assign({config:y},g)),this.joinedOnce=!0,this._rejoin(r),this.joinPush.receive("ok",async({postgres_changes:x})=>{var v;if(this.socket._isManualToken()||this.socket.setAuth(),x===void 0){t?.(_a.SUBSCRIBED);return}else{const _=this.bindings.postgres_changes,S=(v=_?.length)!==null&&v!==void 0?v:0,T=[];for(let E=0;E<S;E++){const O=_[E],{filter:{event:L,schema:B,table:I,filter:j}}=O,Z=x&&x[E];if(Z&&Z.event===L&&dl.isFilterValueEqual(Z.schema,B)&&dl.isFilterValueEqual(Z.table,I)&&dl.isFilterValueEqual(Z.filter,j))T.push(Object.assign(Object.assign({},O),{id:Z.id}));else{this.unsubscribe(),this.state=Ue.errored,t?.(_a.CHANNEL_ERROR,new Error("mismatch between server and client bindings for postgres changes"));return}}this.bindings.postgres_changes=T,t&&t(_a.SUBSCRIBED);return}}).receive("error",x=>{this.state=Ue.errored,t?.(_a.CHANNEL_ERROR,new Error(JSON.stringify(Object.values(x).join(", ")||"error")))}).receive("timeout",()=>{t?.(_a.TIMED_OUT)})}return this}presenceState(){return this.presence.state}async track(t,r={}){return await this.send({type:"presence",event:"track",payload:t},r.timeout||this.timeout)}async untrack(t={}){return await this.send({type:"presence",event:"untrack"},t)}on(t,r,i){return this.state===Ue.joined&&t===xc.PRESENCE&&(this.socket.log("channel",`resubscribe to ${this.topic} due to change in presence callbacks on joined channel`),this.unsubscribe().then(async()=>await this.subscribe())),this._on(t,r,i)}async httpSend(t,r,i={}){var n;if(r==null)return Promise.reject("Payload is required for httpSend()");const l={apikey:this.socket.apiKey?this.socket.apiKey:"","Content-Type":"application/json"};this.socket.accessTokenValue&&(l.Authorization=`Bearer ${this.socket.accessTokenValue}`);const o={method:"POST",headers:l,body:JSON.stringify({messages:[{topic:this.subTopic,event:t,payload:r,private:this.private}]})},u=await this._fetchWithTimeout(this.broadcastEndpointURL,o,(n=i.timeout)!==null&&n!==void 0?n:this.timeout);if(u.status===202)return{success:!0};let h=u.statusText;try{const d=await u.json();h=d.error||d.message||h}catch{}return Promise.reject(new Error(h))}async send(t,r={}){var i,n;if(!this._canPush()&&t.type==="broadcast"){console.warn("Realtime send() is automatically falling back to REST API. This behavior will be deprecated in the future. Please use httpSend() explicitly for REST delivery.");const{event:l,payload:o}=t,u={apikey:this.socket.apiKey?this.socket.apiKey:"","Content-Type":"application/json"};this.socket.accessTokenValue&&(u.Authorization=`Bearer ${this.socket.accessTokenValue}`);const h={method:"POST",headers:u,body:JSON.stringify({messages:[{topic:this.subTopic,event:l,payload:o,private:this.private}]})};try{const d=await this._fetchWithTimeout(this.broadcastEndpointURL,h,(i=r.timeout)!==null&&i!==void 0?i:this.timeout);return await((n=d.body)===null||n===void 0?void 0:n.cancel()),d.ok?"ok":"error"}catch(d){return d.name==="AbortError"?"timed out":"error"}}else return new Promise(l=>{var o,u,h;const d=this._push(t.type,t,r.timeout||this.timeout);t.type==="broadcast"&&!(!((h=(u=(o=this.params)===null||o===void 0?void 0:o.config)===null||u===void 0?void 0:u.broadcast)===null||h===void 0)&&h.ack)&&l("ok"),d.receive("ok",()=>l("ok")),d.receive("error",()=>l("error")),d.receive("timeout",()=>l("timed out"))})}updateJoinPayload(t){this.joinPush.updatePayload(t)}unsubscribe(t=this.timeout){this.state=Ue.leaving;const r=()=>{this.socket.log("channel",`leave ${this.topic}`),this._trigger(wi.close,"leave",this._joinRef())};this.joinPush.destroy();let i=null;return new Promise(n=>{i=new qg(this,wi.leave,{},t),i.receive("ok",()=>{r(),n("ok")}).receive("timeout",()=>{r(),n("timed out")}).receive("error",()=>{n("error")}),i.send(),this._canPush()||i.trigger("ok",{})}).finally(()=>{i?.destroy()})}teardown(){this.pushBuffer.forEach(t=>t.destroy()),this.pushBuffer=[],this.rejoinTimer.reset(),this.joinPush.destroy(),this.state=Ue.closed,this.bindings={}}async _fetchWithTimeout(t,r,i){const n=new AbortController,l=setTimeout(()=>n.abort(),i),o=await this.socket.fetch(t,Object.assign(Object.assign({},r),{signal:n.signal}));return clearTimeout(l),o}_push(t,r,i=this.timeout){if(!this.joinedOnce)throw`tried to push '${t}' to '${this.topic}' before joining. Use channel.subscribe() before pushing events`;let n=new qg(this,t,r,i);return this._canPush()?n.send():this._addToPushBuffer(n),n}_addToPushBuffer(t){if(t.startTimeout(),this.pushBuffer.push(t),this.pushBuffer.length>LB){const r=this.pushBuffer.shift();r&&(r.destroy(),this.socket.log("channel",`discarded push due to buffer overflow: ${r.event}`,r.payload))}}_onMessage(t,r,i){return r}_isMember(t){return this.topic===t}_joinRef(){return this.joinPush.ref}_trigger(t,r,i){var n,l;const o=t.toLocaleLowerCase(),{close:u,error:h,leave:d,join:p}=wi;if(i&&[u,h,d,p].indexOf(o)>=0&&i!==this._joinRef())return;let y=this._onMessage(o,r,i);if(r&&!y)throw"channel onMessage callbacks must return the payload, modified or unmodified";["insert","update","delete"].includes(o)?(n=this.bindings.postgres_changes)===null||n===void 0||n.filter(x=>{var v,_,S;return((v=x.filter)===null||v===void 0?void 0:v.event)==="*"||((S=(_=x.filter)===null||_===void 0?void 0:_.event)===null||S===void 0?void 0:S.toLocaleLowerCase())===o}).map(x=>x.callback(y,i)):(l=this.bindings[o])===null||l===void 0||l.filter(x=>{var v,_,S,T,E,O;if(["broadcast","presence","postgres_changes"].includes(o))if("id"in x){const L=x.id,B=(v=x.filter)===null||v===void 0?void 0:v.event;return L&&((_=r.ids)===null||_===void 0?void 0:_.includes(L))&&(B==="*"||B?.toLocaleLowerCase()===((S=r.data)===null||S===void 0?void 0:S.type.toLocaleLowerCase()))}else{const L=(E=(T=x?.filter)===null||T===void 0?void 0:T.event)===null||E===void 0?void 0:E.toLocaleLowerCase();return L==="*"||L===((O=r?.event)===null||O===void 0?void 0:O.toLocaleLowerCase())}else return x.type.toLocaleLowerCase()===o}).map(x=>{if(typeof y=="object"&&"ids"in y){const v=y.data,{schema:_,table:S,commit_timestamp:T,type:E,errors:O}=v;y=Object.assign(Object.assign({},{schema:_,table:S,commit_timestamp:T,eventType:E,new:{},old:{},errors:O}),this._getPayloadRecords(v))}x.callback(y,i)})}_isClosed(){return this.state===Ue.closed}_isJoined(){return this.state===Ue.joined}_isJoining(){return this.state===Ue.joining}_isLeaving(){return this.state===Ue.leaving}_replyEventName(t){return`chan_reply_${t}`}_on(t,r,i){const n=t.toLocaleLowerCase(),l={type:n,filter:r,callback:i};return this.bindings[n]?this.bindings[n].push(l):this.bindings[n]=[l],this}_off(t,r){const i=t.toLocaleLowerCase();return this.bindings[i]&&(this.bindings[i]=this.bindings[i].filter(n=>{var l;return!(((l=n.type)===null||l===void 0?void 0:l.toLocaleLowerCase())===i&&dl.isEqual(n.filter,r))})),this}static isEqual(t,r){if(Object.keys(t).length!==Object.keys(r).length)return!1;for(const i in t)if(t[i]!==r[i])return!1;return!0}static isFilterValueEqual(t,r){return(t??void 0)===(r??void 0)}_rejoinUntilConnected(){this.rejoinTimer.scheduleTimeout(),this.socket.isConnected()&&this._rejoin()}_onClose(t){this._on(wi.close,{},t)}_onError(t){this._on(wi.error,{},r=>t(r))}_canPush(){return this.socket.isConnected()&&this._isJoined()}_rejoin(t=this.timeout){this._isLeaving()||(this.socket._leaveOpenTopic(this.topic),this.state=Ue.joining,this.joinPush.resend(t))}_getPayloadRecords(t){const r={new:{},old:{}};return(t.type==="INSERT"||t.type==="UPDATE")&&(r.new=aw(t.columns,t.record)),(t.type==="UPDATE"||t.type==="DELETE")&&(r.old=aw(t.columns,t.old_record)),r}}const Hg=()=>{},Ch={HEARTBEAT_INTERVAL:25e3,RECONNECT_DELAY:10,HEARTBEAT_TIMEOUT_FALLBACK:100},FB=[1e3,2e3,5e3,1e4],PB=1e4,UB=`
  addEventListener("message", (e) => {
    if (e.data.event === "start") {
      setInterval(() => postMessage({ event: "keepAlive" }), e.data.interval);
    }
  });`;class IB{constructor(t,r){var i;if(this.accessTokenValue=null,this.apiKey=null,this._manuallySetToken=!1,this.channels=new Array,this.endPoint="",this.httpEndpoint="",this.headers={},this.params={},this.timeout=Am,this.transport=null,this.heartbeatIntervalMs=Ch.HEARTBEAT_INTERVAL,this.heartbeatTimer=void 0,this.pendingHeartbeatRef=null,this.heartbeatCallback=Hg,this.ref=0,this.reconnectTimer=null,this.vsn=iw,this.logger=Hg,this.conn=null,this.sendBuffer=[],this.serializer=new MB,this.stateChangeCallbacks={open:[],close:[],error:[],message:[]},this.accessToken=null,this._connectionState="disconnected",this._wasManualDisconnect=!1,this._authPromise=null,this._resolveFetch=n=>n?(...l)=>n(...l):(...l)=>fetch(...l),!(!((i=r?.params)===null||i===void 0)&&i.apikey))throw new Error("API key is required to connect to Realtime");this.apiKey=r.params.apikey,this.endPoint=`${t}/${Om.websocket}`,this.httpEndpoint=FS(t),this._initializeOptions(r),this._setupReconnectionTimer(),this.fetch=this._resolveFetch(r?.fetch)}connect(){if(!(this.isConnecting()||this.isDisconnecting()||this.conn!==null&&this.isConnected())){if(this._setConnectionState("connecting"),this.accessToken&&!this._authPromise&&this._setAuthSafely("connect"),this.transport)this.conn=new this.transport(this.endpointURL());else try{this.conn=TB.createWebSocket(this.endpointURL())}catch(t){this._setConnectionState("disconnected");const r=t.message;throw r.includes("Node.js")?new Error(`${r}

To use Realtime in Node.js, you need to provide a WebSocket implementation:

Option 1: Use Node.js 22+ which has native WebSocket support
Option 2: Install and provide the "ws" package:

  npm install ws

  import ws from "ws"
  const client = new RealtimeClient(url, {
    ...options,
    transport: ws
  })`):new Error(`WebSocket not available: ${r}`)}this._setupConnectionHandlers()}}endpointURL(){return this._appendParams(this.endPoint,Object.assign({},this.params,{vsn:this.vsn}))}disconnect(t,r){if(!this.isDisconnecting())if(this._setConnectionState("disconnecting",!0),this.conn){const i=setTimeout(()=>{this._setConnectionState("disconnected")},100);this.conn.onclose=()=>{clearTimeout(i),this._setConnectionState("disconnected")},typeof this.conn.close=="function"&&(t?this.conn.close(t,r??""):this.conn.close()),this._teardownConnection()}else this._setConnectionState("disconnected")}getChannels(){return this.channels}async removeChannel(t){const r=await t.unsubscribe();return this.channels.length===0&&this.disconnect(),r}async removeAllChannels(){const t=await Promise.all(this.channels.map(r=>r.unsubscribe()));return this.channels=[],this.disconnect(),t}log(t,r,i){this.logger(t,r,i)}connectionState(){switch(this.conn&&this.conn.readyState){case ln.connecting:return Yn.Connecting;case ln.open:return Yn.Open;case ln.closing:return Yn.Closing;default:return Yn.Closed}}isConnected(){return this.connectionState()===Yn.Open}isConnecting(){return this._connectionState==="connecting"}isDisconnecting(){return this._connectionState==="disconnecting"}channel(t,r={config:{}}){const i=`realtime:${t}`,n=this.getChannels().find(l=>l.topic===i);if(n)return n;{const l=new dl(`realtime:${t}`,r,this);return this.channels.push(l),l}}push(t){const{topic:r,event:i,payload:n,ref:l}=t,o=()=>{this.encode(t,u=>{var h;(h=this.conn)===null||h===void 0||h.send(u)})};this.log("push",`${r} ${i} (${l})`,n),this.isConnected()?o():this.sendBuffer.push(o)}async setAuth(t=null){this._authPromise=this._performAuth(t);try{await this._authPromise}finally{this._authPromise=null}}_isManualToken(){return this._manuallySetToken}async sendHeartbeat(){var t;if(!this.isConnected()){try{this.heartbeatCallback("disconnected")}catch(r){this.log("error","error in heartbeat callback",r)}return}if(this.pendingHeartbeatRef){this.pendingHeartbeatRef=null,this.log("transport","heartbeat timeout. Attempting to re-establish connection");try{this.heartbeatCallback("timeout")}catch(r){this.log("error","error in heartbeat callback",r)}this._wasManualDisconnect=!1,(t=this.conn)===null||t===void 0||t.close(RB,"heartbeat timeout"),setTimeout(()=>{var r;this.isConnected()||(r=this.reconnectTimer)===null||r===void 0||r.scheduleTimeout()},Ch.HEARTBEAT_TIMEOUT_FALLBACK);return}this.pendingHeartbeatRef=this._makeRef(),this.push({topic:"phoenix",event:"heartbeat",payload:{},ref:this.pendingHeartbeatRef});try{this.heartbeatCallback("sent")}catch(r){this.log("error","error in heartbeat callback",r)}this._setAuthSafely("heartbeat")}onHeartbeat(t){this.heartbeatCallback=t}flushSendBuffer(){this.isConnected()&&this.sendBuffer.length>0&&(this.sendBuffer.forEach(t=>t()),this.sendBuffer=[])}_makeRef(){let t=this.ref+1;return t===this.ref?this.ref=0:this.ref=t,this.ref.toString()}_leaveOpenTopic(t){let r=this.channels.find(i=>i.topic===t&&(i._isJoined()||i._isJoining()));r&&(this.log("transport",`leaving duplicate topic "${t}"`),r.unsubscribe())}_remove(t){this.channels=this.channels.filter(r=>r.topic!==t.topic)}_onConnMessage(t){this.decode(t.data,r=>{if(r.topic==="phoenix"&&r.event==="phx_reply")try{this.heartbeatCallback(r.payload.status==="ok"?"ok":"error")}catch(d){this.log("error","error in heartbeat callback",d)}r.ref&&r.ref===this.pendingHeartbeatRef&&(this.pendingHeartbeatRef=null);const{topic:i,event:n,payload:l,ref:o}=r,u=o?`(${o})`:"",h=l.status||"";this.log("receive",`${h} ${i} ${n} ${u}`.trim(),l),this.channels.filter(d=>d._isMember(i)).forEach(d=>d._trigger(n,l,o)),this._triggerStateCallbacks("message",r)})}_clearTimer(t){var r;t==="heartbeat"&&this.heartbeatTimer?(clearInterval(this.heartbeatTimer),this.heartbeatTimer=void 0):t==="reconnect"&&((r=this.reconnectTimer)===null||r===void 0||r.reset())}_clearAllTimers(){this._clearTimer("heartbeat"),this._clearTimer("reconnect")}_setupConnectionHandlers(){this.conn&&("binaryType"in this.conn&&(this.conn.binaryType="arraybuffer"),this.conn.onopen=()=>this._onConnOpen(),this.conn.onerror=t=>this._onConnError(t),this.conn.onmessage=t=>this._onConnMessage(t),this.conn.onclose=t=>this._onConnClose(t),this.conn.readyState===ln.open&&this._onConnOpen())}_teardownConnection(){if(this.conn){if(this.conn.readyState===ln.open||this.conn.readyState===ln.connecting)try{this.conn.close()}catch(t){this.log("error","Error closing connection",t)}this.conn.onopen=null,this.conn.onerror=null,this.conn.onmessage=null,this.conn.onclose=null,this.conn=null}this._clearAllTimers(),this._terminateWorker(),this.channels.forEach(t=>t.teardown())}_onConnOpen(){this._setConnectionState("connected"),this.log("transport",`connected to ${this.endpointURL()}`),(this._authPromise||(this.accessToken&&!this.accessTokenValue?this.setAuth():Promise.resolve())).then(()=>{this.flushSendBuffer()}).catch(r=>{this.log("error","error waiting for auth on connect",r),this.flushSendBuffer()}),this._clearTimer("reconnect"),this.worker?this.workerRef||this._startWorkerHeartbeat():this._startHeartbeat(),this._triggerStateCallbacks("open")}_startHeartbeat(){this.heartbeatTimer&&clearInterval(this.heartbeatTimer),this.heartbeatTimer=setInterval(()=>this.sendHeartbeat(),this.heartbeatIntervalMs)}_startWorkerHeartbeat(){this.workerUrl?this.log("worker",`starting worker for from ${this.workerUrl}`):this.log("worker","starting default worker");const t=this._workerObjectUrl(this.workerUrl);this.workerRef=new Worker(t),this.workerRef.onerror=r=>{this.log("worker","worker error",r.message),this._terminateWorker()},this.workerRef.onmessage=r=>{r.data.event==="keepAlive"&&this.sendHeartbeat()},this.workerRef.postMessage({event:"start",interval:this.heartbeatIntervalMs})}_terminateWorker(){this.workerRef&&(this.log("worker","terminating worker"),this.workerRef.terminate(),this.workerRef=void 0)}_onConnClose(t){var r;this._setConnectionState("disconnected"),this.log("transport","close",t),this._triggerChanError(),this._clearTimer("heartbeat"),this._wasManualDisconnect||(r=this.reconnectTimer)===null||r===void 0||r.scheduleTimeout(),this._triggerStateCallbacks("close",t)}_onConnError(t){this._setConnectionState("disconnected"),this.log("transport",`${t}`),this._triggerChanError(),this._triggerStateCallbacks("error",t)}_triggerChanError(){this.channels.forEach(t=>t._trigger(wi.error))}_appendParams(t,r){if(Object.keys(r).length===0)return t;const i=t.match(/\?/)?"&":"?",n=new URLSearchParams(r);return`${t}${i}${n}`}_workerObjectUrl(t){let r;if(t)r=t;else{const i=new Blob([UB],{type:"application/javascript"});r=URL.createObjectURL(i)}return r}_setConnectionState(t,r=!1){this._connectionState=t,t==="connecting"?this._wasManualDisconnect=!1:t==="disconnecting"&&(this._wasManualDisconnect=r)}async _performAuth(t=null){let r,i=!1;if(t)r=t,i=!0;else if(this.accessToken)try{r=await this.accessToken()}catch(n){this.log("error","Error fetching access token from callback",n),r=this.accessTokenValue}else r=this.accessTokenValue;i?this._manuallySetToken=!0:this.accessToken&&(this._manuallySetToken=!1),this.accessTokenValue!=r&&(this.accessTokenValue=r,this.channels.forEach(n=>{const l={access_token:r,version:AB};r&&n.updateJoinPayload(l),n.joinedOnce&&n._isJoined()&&n._push(wi.access_token,{access_token:r})}))}async _waitForAuthIfNeeded(){this._authPromise&&await this._authPromise}_setAuthSafely(t="general"){this._isManualToken()||this.setAuth().catch(r=>{this.log("error",`Error setting auth in ${t}`,r)})}_triggerStateCallbacks(t,r){try{this.stateChangeCallbacks[t].forEach(i=>{try{i(r)}catch(n){this.log("error",`error in ${t} callback`,n)}})}catch(i){this.log("error",`error triggering ${t} callbacks`,i)}}_setupReconnectionTimer(){this.reconnectTimer=new $S(async()=>{setTimeout(async()=>{await this._waitForAuthIfNeeded(),this.isConnected()||this.connect()},Ch.RECONNECT_DELAY)},this.reconnectAfterMs)}_initializeOptions(t){var r,i,n,l,o,u,h,d,p,g,y,x;switch(this.transport=(r=t?.transport)!==null&&r!==void 0?r:null,this.timeout=(i=t?.timeout)!==null&&i!==void 0?i:Am,this.heartbeatIntervalMs=(n=t?.heartbeatIntervalMs)!==null&&n!==void 0?n:Ch.HEARTBEAT_INTERVAL,this.worker=(l=t?.worker)!==null&&l!==void 0?l:!1,this.accessToken=(o=t?.accessToken)!==null&&o!==void 0?o:null,this.heartbeatCallback=(u=t?.heartbeatCallback)!==null&&u!==void 0?u:Hg,this.vsn=(h=t?.vsn)!==null&&h!==void 0?h:iw,t?.params&&(this.params=t.params),t?.logger&&(this.logger=t.logger),(t?.logLevel||t?.log_level)&&(this.logLevel=t.logLevel||t.log_level,this.params=Object.assign(Object.assign({},this.params),{log_level:this.logLevel})),this.reconnectAfterMs=(d=t?.reconnectAfterMs)!==null&&d!==void 0?d:(v=>FB[v-1]||PB),this.vsn){case jS:this.encode=(p=t?.encode)!==null&&p!==void 0?p:((v,_)=>_(JSON.stringify(v))),this.decode=(g=t?.decode)!==null&&g!==void 0?g:((v,_)=>_(JSON.parse(v)));break;case OB:this.encode=(y=t?.encode)!==null&&y!==void 0?y:this.serializer.encode.bind(this.serializer),this.decode=(x=t?.decode)!==null&&x!==void 0?x:this.serializer.decode.bind(this.serializer);break;default:throw new Error(`Unsupported serializer version: ${this.vsn}`)}if(this.worker){if(typeof window<"u"&&!window.Worker)throw new Error("Web Worker is not supported");this.workerUrl=t?.workerUrl}}}var Ec=class extends Error{constructor(e,t){super(e),this.name="IcebergError",this.status=t.status,this.icebergType=t.icebergType,this.icebergCode=t.icebergCode,this.details=t.details,this.isCommitStateUnknown=t.icebergType==="CommitStateUnknownException"||[500,502,504].includes(t.status)&&t.icebergType?.includes("CommitState")===!0}isNotFound(){return this.status===404}isConflict(){return this.status===409}isAuthenticationTimeout(){return this.status===419}};function qB(e,t,r){const i=new URL(t,e);if(r)for(const[n,l]of Object.entries(r))l!==void 0&&i.searchParams.set(n,l);return i.toString()}async function HB(e){return!e||e.type==="none"?{}:e.type==="bearer"?{Authorization:`Bearer ${e.token}`}:e.type==="header"?{[e.name]:e.value}:e.type==="custom"?await e.getHeaders():{}}function WB(e){const t=e.fetchImpl??globalThis.fetch;return{async request({method:r,path:i,query:n,body:l,headers:o}){const u=qB(e.baseUrl,i,n),h=await HB(e.auth),d=await t(u,{method:r,headers:{...l?{"Content-Type":"application/json"}:{},...h,...o},body:l?JSON.stringify(l):void 0}),p=await d.text(),g=(d.headers.get("content-type")||"").includes("application/json"),y=g&&p?JSON.parse(p):p;if(!d.ok){const x=g?y:void 0,v=x?.error;throw new Ec(v?.message??`Request failed with status ${d.status}`,{status:d.status,icebergType:v?.type,icebergCode:v?.code,details:x})}return{status:d.status,headers:d.headers,data:y}}}}function Th(e){return e.join("")}var GB=class{constructor(e,t=""){this.client=e,this.prefix=t}async listNamespaces(e){const t=e?{parent:Th(e.namespace)}:void 0;return(await this.client.request({method:"GET",path:`${this.prefix}/namespaces`,query:t})).data.namespaces.map(i=>({namespace:i}))}async createNamespace(e,t){const r={namespace:e.namespace,properties:t?.properties};return(await this.client.request({method:"POST",path:`${this.prefix}/namespaces`,body:r})).data}async dropNamespace(e){await this.client.request({method:"DELETE",path:`${this.prefix}/namespaces/${Th(e.namespace)}`})}async loadNamespaceMetadata(e){return{properties:(await this.client.request({method:"GET",path:`${this.prefix}/namespaces/${Th(e.namespace)}`})).data.properties}}async namespaceExists(e){try{return await this.client.request({method:"HEAD",path:`${this.prefix}/namespaces/${Th(e.namespace)}`}),!0}catch(t){if(t instanceof Ec&&t.status===404)return!1;throw t}}async createNamespaceIfNotExists(e,t){try{return await this.createNamespace(e,t)}catch(r){if(r instanceof Ec&&r.status===409)return;throw r}}};function Js(e){return e.join("")}var YB=class{constructor(e,t="",r){this.client=e,this.prefix=t,this.accessDelegation=r}async listTables(e){return(await this.client.request({method:"GET",path:`${this.prefix}/namespaces/${Js(e.namespace)}/tables`})).data.identifiers}async createTable(e,t){const r={};return this.accessDelegation&&(r["X-Iceberg-Access-Delegation"]=this.accessDelegation),(await this.client.request({method:"POST",path:`${this.prefix}/namespaces/${Js(e.namespace)}/tables`,body:t,headers:r})).data.metadata}async updateTable(e,t){const r=await this.client.request({method:"POST",path:`${this.prefix}/namespaces/${Js(e.namespace)}/tables/${e.name}`,body:t});return{"metadata-location":r.data["metadata-location"],metadata:r.data.metadata}}async dropTable(e,t){await this.client.request({method:"DELETE",path:`${this.prefix}/namespaces/${Js(e.namespace)}/tables/${e.name}`,query:{purgeRequested:String(t?.purge??!1)}})}async loadTable(e){const t={};return this.accessDelegation&&(t["X-Iceberg-Access-Delegation"]=this.accessDelegation),(await this.client.request({method:"GET",path:`${this.prefix}/namespaces/${Js(e.namespace)}/tables/${e.name}`,headers:t})).data.metadata}async tableExists(e){const t={};this.accessDelegation&&(t["X-Iceberg-Access-Delegation"]=this.accessDelegation);try{return await this.client.request({method:"HEAD",path:`${this.prefix}/namespaces/${Js(e.namespace)}/tables/${e.name}`,headers:t}),!0}catch(r){if(r instanceof Ec&&r.status===404)return!1;throw r}}async createTableIfNotExists(e,t){try{return await this.createTable(e,t)}catch(r){if(r instanceof Ec&&r.status===409)return await this.loadTable({namespace:e.namespace,name:t.name});throw r}}},VB=class{constructor(e){let t="v1";e.catalogName&&(t+=`/${e.catalogName}`);const r=e.baseUrl.endsWith("/")?e.baseUrl:`${e.baseUrl}/`;this.client=WB({baseUrl:r,auth:e.auth,fetchImpl:e.fetch}),this.accessDelegation=e.accessDelegation?.join(","),this.namespaceOps=new GB(this.client,t),this.tableOps=new YB(this.client,t,this.accessDelegation)}async listNamespaces(e){return this.namespaceOps.listNamespaces(e)}async createNamespace(e,t){return this.namespaceOps.createNamespace(e,t)}async dropNamespace(e){await this.namespaceOps.dropNamespace(e)}async loadNamespaceMetadata(e){return this.namespaceOps.loadNamespaceMetadata(e)}async listTables(e){return this.tableOps.listTables(e)}async createTable(e,t){return this.tableOps.createTable(e,t)}async updateTable(e,t){return this.tableOps.updateTable(e,t)}async dropTable(e,t){await this.tableOps.dropTable(e,t)}async loadTable(e){return this.tableOps.loadTable(e)}async namespaceExists(e){return this.namespaceOps.namespaceExists(e)}async tableExists(e){return this.tableOps.tableExists(e)}async createNamespaceIfNotExists(e,t){return this.namespaceOps.createNamespaceIfNotExists(e,t)}async createTableIfNotExists(e,t){return this.tableOps.createTableIfNotExists(e,t)}},Xd=class extends Error{constructor(e){super(e),this.__isStorageError=!0,this.name="StorageError"}};function we(e){return typeof e=="object"&&e!==null&&"__isStorageError"in e}var XB=class extends Xd{constructor(e,t,r){super(e),this.name="StorageApiError",this.status=t,this.statusCode=r}toJSON(){return{name:this.name,message:this.message,status:this.status,statusCode:this.statusCode}}},Lm=class extends Xd{constructor(e,t){super(e),this.name="StorageUnknownError",this.originalError=t}};const Gy=e=>e?(...t)=>e(...t):(...t)=>fetch(...t),KB=()=>Response,Mm=e=>{if(Array.isArray(e))return e.map(r=>Mm(r));if(typeof e=="function"||e!==Object(e))return e;const t={};return Object.entries(e).forEach(([r,i])=>{const n=r.replace(/([-_][a-z])/gi,l=>l.toUpperCase().replace(/[-_]/g,""));t[n]=Mm(i)}),t},QB=e=>{if(typeof e!="object"||e===null)return!1;const t=Object.getPrototypeOf(e);return(t===null||t===Object.prototype||Object.getPrototypeOf(t)===null)&&!(Symbol.toStringTag in e)&&!(Symbol.iterator in e)},ZB=e=>!e||typeof e!="string"||e.length===0||e.length>100||e.trim()!==e||e.includes("/")||e.includes("\\")?!1:/^[\w!.\*'() &$@=;:+,?-]+$/.test(e);function Ac(e){"@babel/helpers - typeof";return Ac=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(t){return typeof t}:function(t){return t&&typeof Symbol=="function"&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},Ac(e)}function JB(e,t){if(Ac(e)!="object"||!e)return e;var r=e[Symbol.toPrimitive];if(r!==void 0){var i=r.call(e,t);if(Ac(i)!="object")return i;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}function tN(e){var t=JB(e,"string");return Ac(t)=="symbol"?t:t+""}function eN(e,t,r){return(t=tN(t))in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function lw(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(e);t&&(i=i.filter(function(n){return Object.getOwnPropertyDescriptor(e,n).enumerable})),r.push.apply(r,i)}return r}function Dt(e){for(var t=1;t<arguments.length;t++){var r=arguments[t]!=null?arguments[t]:{};t%2?lw(Object(r),!0).forEach(function(i){eN(e,i,r[i])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):lw(Object(r)).forEach(function(i){Object.defineProperty(e,i,Object.getOwnPropertyDescriptor(r,i))})}return e}const Wg=e=>{var t;return e.msg||e.message||e.error_description||(typeof e.error=="string"?e.error:(t=e.error)===null||t===void 0?void 0:t.message)||JSON.stringify(e)},rN=async(e,t,r)=>{e instanceof await KB()&&!r?.noResolveJson?e.json().then(i=>{const n=e.status||500,l=i?.statusCode||n+"";t(new XB(Wg(i),n,l))}).catch(i=>{t(new Lm(Wg(i),i))}):t(new Lm(Wg(e),e))},iN=(e,t,r,i)=>{const n={method:e,headers:t?.headers||{}};return e==="GET"||!i?n:(QB(i)?(n.headers=Dt({"Content-Type":"application/json"},t?.headers),n.body=JSON.stringify(i)):n.body=i,t?.duplex&&(n.duplex=t.duplex),Dt(Dt({},n),r))};async function Vc(e,t,r,i,n,l){return new Promise((o,u)=>{e(r,iN(t,i,n,l)).then(h=>{if(!h.ok)throw h;return i?.noResolveJson?h:h.json()}).then(h=>o(h)).catch(h=>rN(h,u,i))})}async function Oc(e,t,r,i){return Vc(e,"GET",t,r,i)}async function _i(e,t,r,i,n){return Vc(e,"POST",t,i,n,r)}async function Bm(e,t,r,i,n){return Vc(e,"PUT",t,i,n,r)}async function aN(e,t,r,i){return Vc(e,"HEAD",t,Dt(Dt({},r),{},{noResolveJson:!0}),i)}async function Yy(e,t,r,i,n){return Vc(e,"DELETE",t,i,n,r)}var nN=class{constructor(e,t){this.downloadFn=e,this.shouldThrowOnError=t}then(e,t){return this.execute().then(e,t)}async execute(){var e=this;try{return{data:(await e.downloadFn()).body,error:null}}catch(t){if(e.shouldThrowOnError)throw t;if(we(t))return{data:null,error:t};throw t}}};let PS;PS=Symbol.toStringTag;var sN=class{constructor(e,t){this.downloadFn=e,this.shouldThrowOnError=t,this[PS]="BlobDownloadBuilder",this.promise=null}asStream(){return new nN(this.downloadFn,this.shouldThrowOnError)}then(e,t){return this.getPromise().then(e,t)}catch(e){return this.getPromise().catch(e)}finally(e){return this.getPromise().finally(e)}getPromise(){return this.promise||(this.promise=this.execute()),this.promise}async execute(){var e=this;try{return{data:await(await e.downloadFn()).blob(),error:null}}catch(t){if(e.shouldThrowOnError)throw t;if(we(t))return{data:null,error:t};throw t}}};const lN={limit:100,offset:0,sortBy:{column:"name",order:"asc"}},ow={cacheControl:"3600",contentType:"text/plain;charset=UTF-8",upsert:!1};var oN=class{constructor(e,t={},r,i){this.shouldThrowOnError=!1,this.url=e,this.headers=t,this.bucketId=r,this.fetch=Gy(i)}throwOnError(){return this.shouldThrowOnError=!0,this}async uploadOrUpdate(e,t,r,i){var n=this;try{let l;const o=Dt(Dt({},ow),i);let u=Dt(Dt({},n.headers),e==="POST"&&{"x-upsert":String(o.upsert)});const h=o.metadata;typeof Blob<"u"&&r instanceof Blob?(l=new FormData,l.append("cacheControl",o.cacheControl),h&&l.append("metadata",n.encodeMetadata(h)),l.append("",r)):typeof FormData<"u"&&r instanceof FormData?(l=r,l.has("cacheControl")||l.append("cacheControl",o.cacheControl),h&&!l.has("metadata")&&l.append("metadata",n.encodeMetadata(h))):(l=r,u["cache-control"]=`max-age=${o.cacheControl}`,u["content-type"]=o.contentType,h&&(u["x-metadata"]=n.toBase64(n.encodeMetadata(h))),(typeof ReadableStream<"u"&&l instanceof ReadableStream||l&&typeof l=="object"&&"pipe"in l&&typeof l.pipe=="function")&&!o.duplex&&(o.duplex="half")),i?.headers&&(u=Dt(Dt({},u),i.headers));const d=n._removeEmptyFolders(t),p=n._getFinalPath(d),g=await(e=="PUT"?Bm:_i)(n.fetch,`${n.url}/object/${p}`,l,Dt({headers:u},o?.duplex?{duplex:o.duplex}:{}));return{data:{path:d,id:g.Id,fullPath:g.Key},error:null}}catch(l){if(n.shouldThrowOnError)throw l;if(we(l))return{data:null,error:l};throw l}}async upload(e,t,r){return this.uploadOrUpdate("POST",e,t,r)}async uploadToSignedUrl(e,t,r,i){var n=this;const l=n._removeEmptyFolders(e),o=n._getFinalPath(l),u=new URL(n.url+`/object/upload/sign/${o}`);u.searchParams.set("token",t);try{let h;const d=Dt({upsert:ow.upsert},i),p=Dt(Dt({},n.headers),{"x-upsert":String(d.upsert)});return typeof Blob<"u"&&r instanceof Blob?(h=new FormData,h.append("cacheControl",d.cacheControl),h.append("",r)):typeof FormData<"u"&&r instanceof FormData?(h=r,h.append("cacheControl",d.cacheControl)):(h=r,p["cache-control"]=`max-age=${d.cacheControl}`,p["content-type"]=d.contentType),{data:{path:l,fullPath:(await Bm(n.fetch,u.toString(),h,{headers:p})).Key},error:null}}catch(h){if(n.shouldThrowOnError)throw h;if(we(h))return{data:null,error:h};throw h}}async createSignedUploadUrl(e,t){var r=this;try{let i=r._getFinalPath(e);const n=Dt({},r.headers);t?.upsert&&(n["x-upsert"]="true");const l=await _i(r.fetch,`${r.url}/object/upload/sign/${i}`,{},{headers:n}),o=new URL(r.url+l.url),u=o.searchParams.get("token");if(!u)throw new Xd("No token returned by API");return{data:{signedUrl:o.toString(),path:e,token:u},error:null}}catch(i){if(r.shouldThrowOnError)throw i;if(we(i))return{data:null,error:i};throw i}}async update(e,t,r){return this.uploadOrUpdate("PUT",e,t,r)}async move(e,t,r){var i=this;try{return{data:await _i(i.fetch,`${i.url}/object/move`,{bucketId:i.bucketId,sourceKey:e,destinationKey:t,destinationBucket:r?.destinationBucket},{headers:i.headers}),error:null}}catch(n){if(i.shouldThrowOnError)throw n;if(we(n))return{data:null,error:n};throw n}}async copy(e,t,r){var i=this;try{return{data:{path:(await _i(i.fetch,`${i.url}/object/copy`,{bucketId:i.bucketId,sourceKey:e,destinationKey:t,destinationBucket:r?.destinationBucket},{headers:i.headers})).Key},error:null}}catch(n){if(i.shouldThrowOnError)throw n;if(we(n))return{data:null,error:n};throw n}}async createSignedUrl(e,t,r){var i=this;try{let n=i._getFinalPath(e),l=await _i(i.fetch,`${i.url}/object/sign/${n}`,Dt({expiresIn:t},r?.transform?{transform:r.transform}:{}),{headers:i.headers});const o=r?.download?`&download=${r.download===!0?"":r.download}`:"";return l={signedUrl:encodeURI(`${i.url}${l.signedURL}${o}`)},{data:l,error:null}}catch(n){if(i.shouldThrowOnError)throw n;if(we(n))return{data:null,error:n};throw n}}async createSignedUrls(e,t,r){var i=this;try{const n=await _i(i.fetch,`${i.url}/object/sign/${i.bucketId}`,{expiresIn:t,paths:e},{headers:i.headers}),l=r?.download?`&download=${r.download===!0?"":r.download}`:"";return{data:n.map(o=>Dt(Dt({},o),{},{signedUrl:o.signedURL?encodeURI(`${i.url}${o.signedURL}${l}`):null})),error:null}}catch(n){if(i.shouldThrowOnError)throw n;if(we(n))return{data:null,error:n};throw n}}download(e,t){const r=typeof t?.transform<"u"?"render/image/authenticated":"object",i=this.transformOptsToQueryString(t?.transform||{}),n=i?`?${i}`:"",l=this._getFinalPath(e),o=()=>Oc(this.fetch,`${this.url}/${r}/${l}${n}`,{headers:this.headers,noResolveJson:!0});return new sN(o,this.shouldThrowOnError)}async info(e){var t=this;const r=t._getFinalPath(e);try{return{data:Mm(await Oc(t.fetch,`${t.url}/object/info/${r}`,{headers:t.headers})),error:null}}catch(i){if(t.shouldThrowOnError)throw i;if(we(i))return{data:null,error:i};throw i}}async exists(e){var t=this;const r=t._getFinalPath(e);try{return await aN(t.fetch,`${t.url}/object/${r}`,{headers:t.headers}),{data:!0,error:null}}catch(i){if(t.shouldThrowOnError)throw i;if(we(i)&&i instanceof Lm){const n=i.originalError;if([400,404].includes(n?.status))return{data:!1,error:i}}throw i}}getPublicUrl(e,t){const r=this._getFinalPath(e),i=[],n=t?.download?`download=${t.download===!0?"":t.download}`:"";n!==""&&i.push(n);const l=typeof t?.transform<"u"?"render/image":"object",o=this.transformOptsToQueryString(t?.transform||{});o!==""&&i.push(o);let u=i.join("&");return u!==""&&(u=`?${u}`),{data:{publicUrl:encodeURI(`${this.url}/${l}/public/${r}${u}`)}}}async remove(e){var t=this;try{return{data:await Yy(t.fetch,`${t.url}/object/${t.bucketId}`,{prefixes:e},{headers:t.headers}),error:null}}catch(r){if(t.shouldThrowOnError)throw r;if(we(r))return{data:null,error:r};throw r}}async list(e,t,r){var i=this;try{const n=Dt(Dt(Dt({},lN),t),{},{prefix:e||""});return{data:await _i(i.fetch,`${i.url}/object/list/${i.bucketId}`,n,{headers:i.headers},r),error:null}}catch(n){if(i.shouldThrowOnError)throw n;if(we(n))return{data:null,error:n};throw n}}async listV2(e,t){var r=this;try{const i=Dt({},e);return{data:await _i(r.fetch,`${r.url}/object/list-v2/${r.bucketId}`,i,{headers:r.headers},t),error:null}}catch(i){if(r.shouldThrowOnError)throw i;if(we(i))return{data:null,error:i};throw i}}encodeMetadata(e){return JSON.stringify(e)}toBase64(e){return typeof Buffer<"u"?Buffer.from(e).toString("base64"):btoa(e)}_getFinalPath(e){return`${this.bucketId}/${e.replace(/^\/+/,"")}`}_removeEmptyFolders(e){return e.replace(/^\/|\/$/g,"").replace(/\/+/g,"/")}transformOptsToQueryString(e){const t=[];return e.width&&t.push(`width=${e.width}`),e.height&&t.push(`height=${e.height}`),e.resize&&t.push(`resize=${e.resize}`),e.format&&t.push(`format=${e.format}`),e.quality&&t.push(`quality=${e.quality}`),t.join("&")}};const US="2.89.0",IS={"X-Client-Info":`storage-js/${US}`};var cN=class{constructor(e,t={},r,i){this.shouldThrowOnError=!1;const n=new URL(e);i?.useNewHostname&&/supabase\.(co|in|red)$/.test(n.hostname)&&!n.hostname.includes("storage.supabase.")&&(n.hostname=n.hostname.replace("supabase.","storage.supabase.")),this.url=n.href.replace(/\/$/,""),this.headers=Dt(Dt({},IS),t),this.fetch=Gy(r)}throwOnError(){return this.shouldThrowOnError=!0,this}async listBuckets(e){var t=this;try{const r=t.listBucketOptionsToQueryString(e);return{data:await Oc(t.fetch,`${t.url}/bucket${r}`,{headers:t.headers}),error:null}}catch(r){if(t.shouldThrowOnError)throw r;if(we(r))return{data:null,error:r};throw r}}async getBucket(e){var t=this;try{return{data:await Oc(t.fetch,`${t.url}/bucket/${e}`,{headers:t.headers}),error:null}}catch(r){if(t.shouldThrowOnError)throw r;if(we(r))return{data:null,error:r};throw r}}async createBucket(e,t={public:!1}){var r=this;try{return{data:await _i(r.fetch,`${r.url}/bucket`,{id:e,name:e,type:t.type,public:t.public,file_size_limit:t.fileSizeLimit,allowed_mime_types:t.allowedMimeTypes},{headers:r.headers}),error:null}}catch(i){if(r.shouldThrowOnError)throw i;if(we(i))return{data:null,error:i};throw i}}async updateBucket(e,t){var r=this;try{return{data:await Bm(r.fetch,`${r.url}/bucket/${e}`,{id:e,name:e,public:t.public,file_size_limit:t.fileSizeLimit,allowed_mime_types:t.allowedMimeTypes},{headers:r.headers}),error:null}}catch(i){if(r.shouldThrowOnError)throw i;if(we(i))return{data:null,error:i};throw i}}async emptyBucket(e){var t=this;try{return{data:await _i(t.fetch,`${t.url}/bucket/${e}/empty`,{},{headers:t.headers}),error:null}}catch(r){if(t.shouldThrowOnError)throw r;if(we(r))return{data:null,error:r};throw r}}async deleteBucket(e){var t=this;try{return{data:await Yy(t.fetch,`${t.url}/bucket/${e}`,{},{headers:t.headers}),error:null}}catch(r){if(t.shouldThrowOnError)throw r;if(we(r))return{data:null,error:r};throw r}}listBucketOptionsToQueryString(e){const t={};return e&&("limit"in e&&(t.limit=String(e.limit)),"offset"in e&&(t.offset=String(e.offset)),e.search&&(t.search=e.search),e.sortColumn&&(t.sortColumn=e.sortColumn),e.sortOrder&&(t.sortOrder=e.sortOrder)),Object.keys(t).length>0?"?"+new URLSearchParams(t).toString():""}},uN=class{constructor(e,t={},r){this.shouldThrowOnError=!1,this.url=e.replace(/\/$/,""),this.headers=Dt(Dt({},IS),t),this.fetch=Gy(r)}throwOnError(){return this.shouldThrowOnError=!0,this}async createBucket(e){var t=this;try{return{data:await _i(t.fetch,`${t.url}/bucket`,{name:e},{headers:t.headers}),error:null}}catch(r){if(t.shouldThrowOnError)throw r;if(we(r))return{data:null,error:r};throw r}}async listBuckets(e){var t=this;try{const r=new URLSearchParams;e?.limit!==void 0&&r.set("limit",e.limit.toString()),e?.offset!==void 0&&r.set("offset",e.offset.toString()),e?.sortColumn&&r.set("sortColumn",e.sortColumn),e?.sortOrder&&r.set("sortOrder",e.sortOrder),e?.search&&r.set("search",e.search);const i=r.toString(),n=i?`${t.url}/bucket?${i}`:`${t.url}/bucket`;return{data:await Oc(t.fetch,n,{headers:t.headers}),error:null}}catch(r){if(t.shouldThrowOnError)throw r;if(we(r))return{data:null,error:r};throw r}}async deleteBucket(e){var t=this;try{return{data:await Yy(t.fetch,`${t.url}/bucket/${e}`,{},{headers:t.headers}),error:null}}catch(r){if(t.shouldThrowOnError)throw r;if(we(r))return{data:null,error:r};throw r}}from(e){var t=this;if(!ZB(e))throw new Xd("Invalid bucket name: File, folder, and bucket names must follow AWS object key naming guidelines and should avoid the use of any other characters.");const r=new VB({baseUrl:this.url,catalogName:e,auth:{type:"custom",getHeaders:async()=>t.headers},fetch:this.fetch}),i=this.shouldThrowOnError;return new Proxy(r,{get(n,l){const o=n[l];return typeof o!="function"?o:async(...u)=>{try{return{data:await o.apply(n,u),error:null}}catch(h){if(i)throw h;return{data:null,error:h}}}}})}};const Vy={"X-Client-Info":`storage-js/${US}`,"Content-Type":"application/json"};var qS=class extends Error{constructor(e){super(e),this.__isStorageVectorsError=!0,this.name="StorageVectorsError"}};function Wr(e){return typeof e=="object"&&e!==null&&"__isStorageVectorsError"in e}var Gg=class extends qS{constructor(e,t,r){super(e),this.name="StorageVectorsApiError",this.status=t,this.statusCode=r}toJSON(){return{name:this.name,message:this.message,status:this.status,statusCode:this.statusCode}}},hN=class extends qS{constructor(e,t){super(e),this.name="StorageVectorsUnknownError",this.originalError=t}};const Xy=e=>e?(...t)=>e(...t):(...t)=>fetch(...t),dN=e=>{if(typeof e!="object"||e===null)return!1;const t=Object.getPrototypeOf(e);return(t===null||t===Object.prototype||Object.getPrototypeOf(t)===null)&&!(Symbol.toStringTag in e)&&!(Symbol.iterator in e)},cw=e=>e.msg||e.message||e.error_description||e.error||JSON.stringify(e),fN=async(e,t,r)=>{if(e&&typeof e=="object"&&"status"in e&&"ok"in e&&typeof e.status=="number"&&!r?.noResolveJson){const i=e.status||500,n=e;if(typeof n.json=="function")n.json().then(l=>{const o=l?.statusCode||l?.code||i+"";t(new Gg(cw(l),i,o))}).catch(()=>{const l=i+"";t(new Gg(n.statusText||`HTTP ${i} error`,i,l))});else{const l=i+"";t(new Gg(n.statusText||`HTTP ${i} error`,i,l))}}else t(new hN(cw(e),e))},pN=(e,t,r,i)=>{const n={method:e,headers:t?.headers||{}};return i?(dN(i)?(n.headers=Dt({"Content-Type":"application/json"},t?.headers),n.body=JSON.stringify(i)):n.body=i,Dt(Dt({},n),r)):n};async function gN(e,t,r,i,n,l){return new Promise((o,u)=>{e(r,pN(t,i,n,l)).then(h=>{if(!h.ok)throw h;if(i?.noResolveJson)return h;const d=h.headers.get("content-type");return!d||!d.includes("application/json")?{}:h.json()}).then(h=>o(h)).catch(h=>fN(h,u,i))})}async function Gr(e,t,r,i,n){return gN(e,"POST",t,i,n,r)}var mN=class{constructor(e,t={},r){this.shouldThrowOnError=!1,this.url=e.replace(/\/$/,""),this.headers=Dt(Dt({},Vy),t),this.fetch=Xy(r)}throwOnError(){return this.shouldThrowOnError=!0,this}async createIndex(e){var t=this;try{return{data:await Gr(t.fetch,`${t.url}/CreateIndex`,e,{headers:t.headers})||{},error:null}}catch(r){if(t.shouldThrowOnError)throw r;if(Wr(r))return{data:null,error:r};throw r}}async getIndex(e,t){var r=this;try{return{data:await Gr(r.fetch,`${r.url}/GetIndex`,{vectorBucketName:e,indexName:t},{headers:r.headers}),error:null}}catch(i){if(r.shouldThrowOnError)throw i;if(Wr(i))return{data:null,error:i};throw i}}async listIndexes(e){var t=this;try{return{data:await Gr(t.fetch,`${t.url}/ListIndexes`,e,{headers:t.headers}),error:null}}catch(r){if(t.shouldThrowOnError)throw r;if(Wr(r))return{data:null,error:r};throw r}}async deleteIndex(e,t){var r=this;try{return{data:await Gr(r.fetch,`${r.url}/DeleteIndex`,{vectorBucketName:e,indexName:t},{headers:r.headers})||{},error:null}}catch(i){if(r.shouldThrowOnError)throw i;if(Wr(i))return{data:null,error:i};throw i}}},yN=class{constructor(e,t={},r){this.shouldThrowOnError=!1,this.url=e.replace(/\/$/,""),this.headers=Dt(Dt({},Vy),t),this.fetch=Xy(r)}throwOnError(){return this.shouldThrowOnError=!0,this}async putVectors(e){var t=this;try{if(e.vectors.length<1||e.vectors.length>500)throw new Error("Vector batch size must be between 1 and 500 items");return{data:await Gr(t.fetch,`${t.url}/PutVectors`,e,{headers:t.headers})||{},error:null}}catch(r){if(t.shouldThrowOnError)throw r;if(Wr(r))return{data:null,error:r};throw r}}async getVectors(e){var t=this;try{return{data:await Gr(t.fetch,`${t.url}/GetVectors`,e,{headers:t.headers}),error:null}}catch(r){if(t.shouldThrowOnError)throw r;if(Wr(r))return{data:null,error:r};throw r}}async listVectors(e){var t=this;try{if(e.segmentCount!==void 0){if(e.segmentCount<1||e.segmentCount>16)throw new Error("segmentCount must be between 1 and 16");if(e.segmentIndex!==void 0&&(e.segmentIndex<0||e.segmentIndex>=e.segmentCount))throw new Error(`segmentIndex must be between 0 and ${e.segmentCount-1}`)}return{data:await Gr(t.fetch,`${t.url}/ListVectors`,e,{headers:t.headers}),error:null}}catch(r){if(t.shouldThrowOnError)throw r;if(Wr(r))return{data:null,error:r};throw r}}async queryVectors(e){var t=this;try{return{data:await Gr(t.fetch,`${t.url}/QueryVectors`,e,{headers:t.headers}),error:null}}catch(r){if(t.shouldThrowOnError)throw r;if(Wr(r))return{data:null,error:r};throw r}}async deleteVectors(e){var t=this;try{if(e.keys.length<1||e.keys.length>500)throw new Error("Keys batch size must be between 1 and 500 items");return{data:await Gr(t.fetch,`${t.url}/DeleteVectors`,e,{headers:t.headers})||{},error:null}}catch(r){if(t.shouldThrowOnError)throw r;if(Wr(r))return{data:null,error:r};throw r}}},bN=class{constructor(e,t={},r){this.shouldThrowOnError=!1,this.url=e.replace(/\/$/,""),this.headers=Dt(Dt({},Vy),t),this.fetch=Xy(r)}throwOnError(){return this.shouldThrowOnError=!0,this}async createBucket(e){var t=this;try{return{data:await Gr(t.fetch,`${t.url}/CreateVectorBucket`,{vectorBucketName:e},{headers:t.headers})||{},error:null}}catch(r){if(t.shouldThrowOnError)throw r;if(Wr(r))return{data:null,error:r};throw r}}async getBucket(e){var t=this;try{return{data:await Gr(t.fetch,`${t.url}/GetVectorBucket`,{vectorBucketName:e},{headers:t.headers}),error:null}}catch(r){if(t.shouldThrowOnError)throw r;if(Wr(r))return{data:null,error:r};throw r}}async listBuckets(e={}){var t=this;try{return{data:await Gr(t.fetch,`${t.url}/ListVectorBuckets`,e,{headers:t.headers}),error:null}}catch(r){if(t.shouldThrowOnError)throw r;if(Wr(r))return{data:null,error:r};throw r}}async deleteBucket(e){var t=this;try{return{data:await Gr(t.fetch,`${t.url}/DeleteVectorBucket`,{vectorBucketName:e},{headers:t.headers})||{},error:null}}catch(r){if(t.shouldThrowOnError)throw r;if(Wr(r))return{data:null,error:r};throw r}}},xN=class extends bN{constructor(e,t={}){super(e,t.headers||{},t.fetch)}from(e){return new vN(this.url,this.headers,e,this.fetch)}async createBucket(e){var t=()=>super.createBucket,r=this;return t().call(r,e)}async getBucket(e){var t=()=>super.getBucket,r=this;return t().call(r,e)}async listBuckets(e={}){var t=()=>super.listBuckets,r=this;return t().call(r,e)}async deleteBucket(e){var t=()=>super.deleteBucket,r=this;return t().call(r,e)}},vN=class extends mN{constructor(e,t,r,i){super(e,t,i),this.vectorBucketName=r}async createIndex(e){var t=()=>super.createIndex,r=this;return t().call(r,Dt(Dt({},e),{},{vectorBucketName:r.vectorBucketName}))}async listIndexes(e={}){var t=()=>super.listIndexes,r=this;return t().call(r,Dt(Dt({},e),{},{vectorBucketName:r.vectorBucketName}))}async getIndex(e){var t=()=>super.getIndex,r=this;return t().call(r,r.vectorBucketName,e)}async deleteIndex(e){var t=()=>super.deleteIndex,r=this;return t().call(r,r.vectorBucketName,e)}index(e){return new _N(this.url,this.headers,this.vectorBucketName,e,this.fetch)}},_N=class extends yN{constructor(e,t,r,i,n){super(e,t,n),this.vectorBucketName=r,this.indexName=i}async putVectors(e){var t=()=>super.putVectors,r=this;return t().call(r,Dt(Dt({},e),{},{vectorBucketName:r.vectorBucketName,indexName:r.indexName}))}async getVectors(e){var t=()=>super.getVectors,r=this;return t().call(r,Dt(Dt({},e),{},{vectorBucketName:r.vectorBucketName,indexName:r.indexName}))}async listVectors(e={}){var t=()=>super.listVectors,r=this;return t().call(r,Dt(Dt({},e),{},{vectorBucketName:r.vectorBucketName,indexName:r.indexName}))}async queryVectors(e){var t=()=>super.queryVectors,r=this;return t().call(r,Dt(Dt({},e),{},{vectorBucketName:r.vectorBucketName,indexName:r.indexName}))}async deleteVectors(e){var t=()=>super.deleteVectors,r=this;return t().call(r,Dt(Dt({},e),{},{vectorBucketName:r.vectorBucketName,indexName:r.indexName}))}},wN=class extends cN{constructor(e,t={},r,i){super(e,t,r,i)}from(e){return new oN(this.url,this.headers,e,this.fetch)}get vectors(){return new xN(this.url+"/vector",{headers:this.headers,fetch:this.fetch})}get analytics(){return new uN(this.url+"/iceberg",this.headers,this.fetch)}};const HS="2.89.0",ol=30*1e3,Nm=3,Yg=Nm*ol,SN="http://localhost:9999",kN="supabase.auth.token",CN={"X-Client-Info":`gotrue-js/${HS}`},Dm="X-Supabase-Api-Version",WS={"2024-01-01":{timestamp:Date.parse("2024-01-01T00:00:00.0Z"),name:"2024-01-01"}},TN=/^([a-z0-9_-]{4})*($|[a-z0-9_-]{3}$|[a-z0-9_-]{2}$)$/i,EN=600*1e3;class Rc extends Error{constructor(t,r,i){super(t),this.__isAuthError=!0,this.name="AuthError",this.status=r,this.code=i}}function Tt(e){return typeof e=="object"&&e!==null&&"__isAuthError"in e}class AN extends Rc{constructor(t,r,i){super(t,r,i),this.name="AuthApiError",this.status=r,this.code=i}}function ON(e){return Tt(e)&&e.name==="AuthApiError"}class Vn extends Rc{constructor(t,r){super(t),this.name="AuthUnknownError",this.originalError=r}}class Ra extends Rc{constructor(t,r,i,n){super(t,i,n),this.name=r,this.status=i}}class Hr extends Ra{constructor(){super("Auth session missing!","AuthSessionMissingError",400,void 0)}}function RN(e){return Tt(e)&&e.name==="AuthSessionMissingError"}class tl extends Ra{constructor(){super("Auth session or user missing","AuthInvalidTokenResponseError",500,void 0)}}class Eh extends Ra{constructor(t){super(t,"AuthInvalidCredentialsError",400,void 0)}}class Ah extends Ra{constructor(t,r=null){super(t,"AuthImplicitGrantRedirectError",500,void 0),this.details=null,this.details=r}toJSON(){return{name:this.name,message:this.message,status:this.status,details:this.details}}}function LN(e){return Tt(e)&&e.name==="AuthImplicitGrantRedirectError"}class uw extends Ra{constructor(t,r=null){super(t,"AuthPKCEGrantCodeExchangeError",500,void 0),this.details=null,this.details=r}toJSON(){return{name:this.name,message:this.message,status:this.status,details:this.details}}}class MN extends Ra{constructor(){super("PKCE code verifier not found in storage. This can happen if the auth flow was initiated in a different browser or device, or if the storage was cleared. For SSR frameworks (Next.js, SvelteKit, etc.), use @supabase/ssr on both the server and client to store the code verifier in cookies.","AuthPKCECodeVerifierMissingError",400,"pkce_code_verifier_not_found")}}class jm extends Ra{constructor(t,r){super(t,"AuthRetryableFetchError",r,void 0)}}function Vg(e){return Tt(e)&&e.name==="AuthRetryableFetchError"}class hw extends Ra{constructor(t,r,i){super(t,"AuthWeakPasswordError",r,"weak_password"),this.reasons=i}}class $m extends Ra{constructor(t){super(t,"AuthInvalidJwtError",400,"invalid_jwt")}}const sd="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789-_".split(""),dw=` 	
\r=`.split(""),BN=(()=>{const e=new Array(128);for(let t=0;t<e.length;t+=1)e[t]=-1;for(let t=0;t<dw.length;t+=1)e[dw[t].charCodeAt(0)]=-2;for(let t=0;t<sd.length;t+=1)e[sd[t].charCodeAt(0)]=t;return e})();function fw(e,t,r){if(e!==null)for(t.queue=t.queue<<8|e,t.queuedBits+=8;t.queuedBits>=6;){const i=t.queue>>t.queuedBits-6&63;r(sd[i]),t.queuedBits-=6}else if(t.queuedBits>0)for(t.queue=t.queue<<6-t.queuedBits,t.queuedBits=6;t.queuedBits>=6;){const i=t.queue>>t.queuedBits-6&63;r(sd[i]),t.queuedBits-=6}}function GS(e,t,r){const i=BN[e];if(i>-1)for(t.queue=t.queue<<6|i,t.queuedBits+=6;t.queuedBits>=8;)r(t.queue>>t.queuedBits-8&255),t.queuedBits-=8;else{if(i===-2)return;throw new Error(`Invalid Base64-URL character "${String.fromCharCode(e)}"`)}}function pw(e){const t=[],r=o=>{t.push(String.fromCodePoint(o))},i={utf8seq:0,codepoint:0},n={queue:0,queuedBits:0},l=o=>{jN(o,i,r)};for(let o=0;o<e.length;o+=1)GS(e.charCodeAt(o),n,l);return t.join("")}function NN(e,t){if(e<=127){t(e);return}else if(e<=2047){t(192|e>>6),t(128|e&63);return}else if(e<=65535){t(224|e>>12),t(128|e>>6&63),t(128|e&63);return}else if(e<=1114111){t(240|e>>18),t(128|e>>12&63),t(128|e>>6&63),t(128|e&63);return}throw new Error(`Unrecognized Unicode codepoint: ${e.toString(16)}`)}function DN(e,t){for(let r=0;r<e.length;r+=1){let i=e.charCodeAt(r);if(i>55295&&i<=56319){const n=(i-55296)*1024&65535;i=(e.charCodeAt(r+1)-56320&65535|n)+65536,r+=1}NN(i,t)}}function jN(e,t,r){if(t.utf8seq===0){if(e<=127){r(e);return}for(let i=1;i<6;i+=1)if((e>>7-i&1)===0){t.utf8seq=i;break}if(t.utf8seq===2)t.codepoint=e&31;else if(t.utf8seq===3)t.codepoint=e&15;else if(t.utf8seq===4)t.codepoint=e&7;else throw new Error("Invalid UTF-8 sequence");t.utf8seq-=1}else if(t.utf8seq>0){if(e<=127)throw new Error("Invalid UTF-8 sequence");t.codepoint=t.codepoint<<6|e&63,t.utf8seq-=1,t.utf8seq===0&&r(t.codepoint)}}function pl(e){const t=[],r={queue:0,queuedBits:0},i=n=>{t.push(n)};for(let n=0;n<e.length;n+=1)GS(e.charCodeAt(n),r,i);return new Uint8Array(t)}function $N(e){const t=[];return DN(e,r=>t.push(r)),new Uint8Array(t)}function Xn(e){const t=[],r={queue:0,queuedBits:0},i=n=>{t.push(n)};return e.forEach(n=>fw(n,r,i)),fw(null,r,i),t.join("")}function zN(e){return Math.round(Date.now()/1e3)+e}function FN(){return Symbol("auth-callback")}const ir=()=>typeof window<"u"&&typeof document<"u",Fn={tested:!1,writable:!1},YS=()=>{if(!ir())return!1;try{if(typeof globalThis.localStorage!="object")return!1}catch{return!1}if(Fn.tested)return Fn.writable;const e=`lswt-${Math.random()}${Math.random()}`;try{globalThis.localStorage.setItem(e,e),globalThis.localStorage.removeItem(e),Fn.tested=!0,Fn.writable=!0}catch{Fn.tested=!0,Fn.writable=!1}return Fn.writable};function PN(e){const t={},r=new URL(e);if(r.hash&&r.hash[0]==="#")try{new URLSearchParams(r.hash.substring(1)).forEach((n,l)=>{t[l]=n})}catch{}return r.searchParams.forEach((i,n)=>{t[n]=i}),t}const VS=e=>e?(...t)=>e(...t):(...t)=>fetch(...t),UN=e=>typeof e=="object"&&e!==null&&"status"in e&&"ok"in e&&"json"in e&&typeof e.json=="function",cl=async(e,t,r)=>{await e.setItem(t,JSON.stringify(r))},Pn=async(e,t)=>{const r=await e.getItem(t);if(!r)return null;try{return JSON.parse(r)}catch{return r}},er=async(e,t)=>{await e.removeItem(t)};class Kd{constructor(){this.promise=new Kd.promiseConstructor((t,r)=>{this.resolve=t,this.reject=r})}}Kd.promiseConstructor=Promise;function Xg(e){const t=e.split(".");if(t.length!==3)throw new $m("Invalid JWT structure");for(let i=0;i<t.length;i++)if(!TN.test(t[i]))throw new $m("JWT not in base64url format");return{header:JSON.parse(pw(t[0])),payload:JSON.parse(pw(t[1])),signature:pl(t[2]),raw:{header:t[0],payload:t[1]}}}async function IN(e){return await new Promise(t=>{setTimeout(()=>t(null),e)})}function qN(e,t){return new Promise((i,n)=>{(async()=>{for(let l=0;l<1/0;l++)try{const o=await e(l);if(!t(l,null,o)){i(o);return}}catch(o){if(!t(l,o)){n(o);return}}})()})}function HN(e){return("0"+e.toString(16)).substr(-2)}function WN(){const t=new Uint32Array(56);if(typeof crypto>"u"){const r="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789-._~",i=r.length;let n="";for(let l=0;l<56;l++)n+=r.charAt(Math.floor(Math.random()*i));return n}return crypto.getRandomValues(t),Array.from(t,HN).join("")}async function GN(e){const r=new TextEncoder().encode(e),i=await crypto.subtle.digest("SHA-256",r),n=new Uint8Array(i);return Array.from(n).map(l=>String.fromCharCode(l)).join("")}async function YN(e){if(!(typeof crypto<"u"&&typeof crypto.subtle<"u"&&typeof TextEncoder<"u"))return console.warn("WebCrypto API is not supported. Code challenge method will default to use plain instead of sha256."),e;const r=await GN(e);return btoa(r).replace(/\+/g,"-").replace(/\//g,"_").replace(/=+$/,"")}async function el(e,t,r=!1){const i=WN();let n=i;r&&(n+="/PASSWORD_RECOVERY"),await cl(e,`${t}-code-verifier`,n);const l=await YN(i);return[l,i===l?"plain":"s256"]}const VN=/^2[0-9]{3}-(0[1-9]|1[0-2])-(0[1-9]|1[0-9]|2[0-9]|3[0-1])$/i;function XN(e){const t=e.headers.get(Dm);if(!t||!t.match(VN))return null;try{return new Date(`${t}T00:00:00.0Z`)}catch{return null}}function KN(e){if(!e)throw new Error("Missing exp claim");const t=Math.floor(Date.now()/1e3);if(e<=t)throw new Error("JWT has expired")}function QN(e){switch(e){case"RS256":return{name:"RSASSA-PKCS1-v1_5",hash:{name:"SHA-256"}};case"ES256":return{name:"ECDSA",namedCurve:"P-256",hash:{name:"SHA-256"}};default:throw new Error("Invalid alg claim")}}const ZN=/^[0-9a-f]{8}-[0-9a-f]{4}-[0-9a-f]{4}-[0-9a-f]{4}-[0-9a-f]{12}$/;function rl(e){if(!ZN.test(e))throw new Error("@supabase/auth-js: Expected parameter to be UUID but is not")}function Kg(){const e={};return new Proxy(e,{get:(t,r)=>{if(r==="__isUserNotAvailableProxy")return!0;if(typeof r=="symbol"){const i=r.toString();if(i==="Symbol(Symbol.toPrimitive)"||i==="Symbol(Symbol.toStringTag)"||i==="Symbol(util.inspect.custom)")return}throw new Error(`@supabase/auth-js: client was created with userStorage option and there was no user stored in the user storage. Accessing the "${r}" property of the session object is not supported. Please use getUser() instead.`)},set:(t,r)=>{throw new Error(`@supabase/auth-js: client was created with userStorage option and there was no user stored in the user storage. Setting the "${r}" property of the session object is not supported. Please use getUser() to fetch a user object you can manipulate.`)},deleteProperty:(t,r)=>{throw new Error(`@supabase/auth-js: client was created with userStorage option and there was no user stored in the user storage. Deleting the "${r}" property of the session object is not supported. Please use getUser() to fetch a user object you can manipulate.`)}})}function JN(e,t){return new Proxy(e,{get:(r,i,n)=>{if(i==="__isInsecureUserWarningProxy")return!0;if(typeof i=="symbol"){const l=i.toString();if(l==="Symbol(Symbol.toPrimitive)"||l==="Symbol(Symbol.toStringTag)"||l==="Symbol(util.inspect.custom)"||l==="Symbol(nodejs.util.inspect.custom)")return Reflect.get(r,i,n)}return!t.value&&typeof i=="string"&&(console.warn("Using the user object as returned from supabase.auth.getSession() or from some supabase.auth.onAuthStateChange() events could be insecure! This value comes directly from the storage medium (usually cookies on the server) and may not be authentic. Use supabase.auth.getUser() instead which authenticates the data by contacting the Supabase Auth server."),t.value=!0),Reflect.get(r,i,n)}})}function gw(e){return JSON.parse(JSON.stringify(e))}const qn=e=>e.msg||e.message||e.error_description||e.error||JSON.stringify(e),t3=[502,503,504];async function mw(e){var t;if(!UN(e))throw new jm(qn(e),0);if(t3.includes(e.status))throw new jm(qn(e),e.status);let r;try{r=await e.json()}catch(l){throw new Vn(qn(l),l)}let i;const n=XN(e);if(n&&n.getTime()>=WS["2024-01-01"].timestamp&&typeof r=="object"&&r&&typeof r.code=="string"?i=r.code:typeof r=="object"&&r&&typeof r.error_code=="string"&&(i=r.error_code),i){if(i==="weak_password")throw new hw(qn(r),e.status,((t=r.weak_password)===null||t===void 0?void 0:t.reasons)||[]);if(i==="session_not_found")throw new Hr}else if(typeof r=="object"&&r&&typeof r.weak_password=="object"&&r.weak_password&&Array.isArray(r.weak_password.reasons)&&r.weak_password.reasons.length&&r.weak_password.reasons.reduce((l,o)=>l&&typeof o=="string",!0))throw new hw(qn(r),e.status,r.weak_password.reasons);throw new AN(qn(r),e.status||500,i)}const e3=(e,t,r,i)=>{const n={method:e,headers:t?.headers||{}};return e==="GET"?n:(n.headers=Object.assign({"Content-Type":"application/json;charset=UTF-8"},t?.headers),n.body=JSON.stringify(i),Object.assign(Object.assign({},n),r))};async function Nt(e,t,r,i){var n;const l=Object.assign({},i?.headers);l[Dm]||(l[Dm]=WS["2024-01-01"].name),i?.jwt&&(l.Authorization=`Bearer ${i.jwt}`);const o=(n=i?.query)!==null&&n!==void 0?n:{};i?.redirectTo&&(o.redirect_to=i.redirectTo);const u=Object.keys(o).length?"?"+new URLSearchParams(o).toString():"",h=await r3(e,t,r+u,{headers:l,noResolveJson:i?.noResolveJson},{},i?.body);return i?.xform?i?.xform(h):{data:Object.assign({},h),error:null}}async function r3(e,t,r,i,n,l){const o=e3(t,i,n,l);let u;try{u=await e(r,Object.assign({},o))}catch(h){throw console.error(h),new jm(qn(h),0)}if(u.ok||await mw(u),i?.noResolveJson)return u;try{return await u.json()}catch(h){await mw(h)}}function xi(e){var t;let r=null;n3(e)&&(r=Object.assign({},e),e.expires_at||(r.expires_at=zN(e.expires_in)));const i=(t=e.user)!==null&&t!==void 0?t:e;return{data:{session:r,user:i},error:null}}function yw(e){const t=xi(e);return!t.error&&e.weak_password&&typeof e.weak_password=="object"&&Array.isArray(e.weak_password.reasons)&&e.weak_password.reasons.length&&e.weak_password.message&&typeof e.weak_password.message=="string"&&e.weak_password.reasons.reduce((r,i)=>r&&typeof i=="string",!0)&&(t.data.weak_password=e.weak_password),t}function cn(e){var t;return{data:{user:(t=e.user)!==null&&t!==void 0?t:e},error:null}}function i3(e){return{data:e,error:null}}function a3(e){const{action_link:t,email_otp:r,hashed_token:i,redirect_to:n,verification_type:l}=e,o=Vd(e,["action_link","email_otp","hashed_token","redirect_to","verification_type"]),u={action_link:t,email_otp:r,hashed_token:i,redirect_to:n,verification_type:l},h=Object.assign({},o);return{data:{properties:u,user:h},error:null}}function bw(e){return e}function n3(e){return e.access_token&&e.refresh_token&&e.expires_in}const Qg=["global","local","others"];class s3{constructor({url:t="",headers:r={},fetch:i}){this.url=t,this.headers=r,this.fetch=VS(i),this.mfa={listFactors:this._listFactors.bind(this),deleteFactor:this._deleteFactor.bind(this)},this.oauth={listClients:this._listOAuthClients.bind(this),createClient:this._createOAuthClient.bind(this),getClient:this._getOAuthClient.bind(this),updateClient:this._updateOAuthClient.bind(this),deleteClient:this._deleteOAuthClient.bind(this),regenerateClientSecret:this._regenerateOAuthClientSecret.bind(this)}}async signOut(t,r=Qg[0]){if(Qg.indexOf(r)<0)throw new Error(`@supabase/auth-js: Parameter scope must be one of ${Qg.join(", ")}`);try{return await Nt(this.fetch,"POST",`${this.url}/logout?scope=${r}`,{headers:this.headers,jwt:t,noResolveJson:!0}),{data:null,error:null}}catch(i){if(Tt(i))return{data:null,error:i};throw i}}async inviteUserByEmail(t,r={}){try{return await Nt(this.fetch,"POST",`${this.url}/invite`,{body:{email:t,data:r.data},headers:this.headers,redirectTo:r.redirectTo,xform:cn})}catch(i){if(Tt(i))return{data:{user:null},error:i};throw i}}async generateLink(t){try{const{options:r}=t,i=Vd(t,["options"]),n=Object.assign(Object.assign({},i),r);return"newEmail"in i&&(n.new_email=i?.newEmail,delete n.newEmail),await Nt(this.fetch,"POST",`${this.url}/admin/generate_link`,{body:n,headers:this.headers,xform:a3,redirectTo:r?.redirectTo})}catch(r){if(Tt(r))return{data:{properties:null,user:null},error:r};throw r}}async createUser(t){try{return await Nt(this.fetch,"POST",`${this.url}/admin/users`,{body:t,headers:this.headers,xform:cn})}catch(r){if(Tt(r))return{data:{user:null},error:r};throw r}}async listUsers(t){var r,i,n,l,o,u,h;try{const d={nextPage:null,lastPage:0,total:0},p=await Nt(this.fetch,"GET",`${this.url}/admin/users`,{headers:this.headers,noResolveJson:!0,query:{page:(i=(r=t?.page)===null||r===void 0?void 0:r.toString())!==null&&i!==void 0?i:"",per_page:(l=(n=t?.perPage)===null||n===void 0?void 0:n.toString())!==null&&l!==void 0?l:""},xform:bw});if(p.error)throw p.error;const g=await p.json(),y=(o=p.headers.get("x-total-count"))!==null&&o!==void 0?o:0,x=(h=(u=p.headers.get("link"))===null||u===void 0?void 0:u.split(","))!==null&&h!==void 0?h:[];return x.length>0&&(x.forEach(v=>{const _=parseInt(v.split(";")[0].split("=")[1].substring(0,1)),S=JSON.parse(v.split(";")[1].split("=")[1]);d[`${S}Page`]=_}),d.total=parseInt(y)),{data:Object.assign(Object.assign({},g),d),error:null}}catch(d){if(Tt(d))return{data:{users:[]},error:d};throw d}}async getUserById(t){rl(t);try{return await Nt(this.fetch,"GET",`${this.url}/admin/users/${t}`,{headers:this.headers,xform:cn})}catch(r){if(Tt(r))return{data:{user:null},error:r};throw r}}async updateUserById(t,r){rl(t);try{return await Nt(this.fetch,"PUT",`${this.url}/admin/users/${t}`,{body:r,headers:this.headers,xform:cn})}catch(i){if(Tt(i))return{data:{user:null},error:i};throw i}}async deleteUser(t,r=!1){rl(t);try{return await Nt(this.fetch,"DELETE",`${this.url}/admin/users/${t}`,{headers:this.headers,body:{should_soft_delete:r},xform:cn})}catch(i){if(Tt(i))return{data:{user:null},error:i};throw i}}async _listFactors(t){rl(t.userId);try{const{data:r,error:i}=await Nt(this.fetch,"GET",`${this.url}/admin/users/${t.userId}/factors`,{headers:this.headers,xform:n=>({data:{factors:n},error:null})});return{data:r,error:i}}catch(r){if(Tt(r))return{data:null,error:r};throw r}}async _deleteFactor(t){rl(t.userId),rl(t.id);try{return{data:await Nt(this.fetch,"DELETE",`${this.url}/admin/users/${t.userId}/factors/${t.id}`,{headers:this.headers}),error:null}}catch(r){if(Tt(r))return{data:null,error:r};throw r}}async _listOAuthClients(t){var r,i,n,l,o,u,h;try{const d={nextPage:null,lastPage:0,total:0},p=await Nt(this.fetch,"GET",`${this.url}/admin/oauth/clients`,{headers:this.headers,noResolveJson:!0,query:{page:(i=(r=t?.page)===null||r===void 0?void 0:r.toString())!==null&&i!==void 0?i:"",per_page:(l=(n=t?.perPage)===null||n===void 0?void 0:n.toString())!==null&&l!==void 0?l:""},xform:bw});if(p.error)throw p.error;const g=await p.json(),y=(o=p.headers.get("x-total-count"))!==null&&o!==void 0?o:0,x=(h=(u=p.headers.get("link"))===null||u===void 0?void 0:u.split(","))!==null&&h!==void 0?h:[];return x.length>0&&(x.forEach(v=>{const _=parseInt(v.split(";")[0].split("=")[1].substring(0,1)),S=JSON.parse(v.split(";")[1].split("=")[1]);d[`${S}Page`]=_}),d.total=parseInt(y)),{data:Object.assign(Object.assign({},g),d),error:null}}catch(d){if(Tt(d))return{data:{clients:[]},error:d};throw d}}async _createOAuthClient(t){try{return await Nt(this.fetch,"POST",`${this.url}/admin/oauth/clients`,{body:t,headers:this.headers,xform:r=>({data:r,error:null})})}catch(r){if(Tt(r))return{data:null,error:r};throw r}}async _getOAuthClient(t){try{return await Nt(this.fetch,"GET",`${this.url}/admin/oauth/clients/${t}`,{headers:this.headers,xform:r=>({data:r,error:null})})}catch(r){if(Tt(r))return{data:null,error:r};throw r}}async _updateOAuthClient(t,r){try{return await Nt(this.fetch,"PUT",`${this.url}/admin/oauth/clients/${t}`,{body:r,headers:this.headers,xform:i=>({data:i,error:null})})}catch(i){if(Tt(i))return{data:null,error:i};throw i}}async _deleteOAuthClient(t){try{return await Nt(this.fetch,"DELETE",`${this.url}/admin/oauth/clients/${t}`,{headers:this.headers,noResolveJson:!0}),{data:null,error:null}}catch(r){if(Tt(r))return{data:null,error:r};throw r}}async _regenerateOAuthClientSecret(t){try{return await Nt(this.fetch,"POST",`${this.url}/admin/oauth/clients/${t}/regenerate_secret`,{headers:this.headers,xform:r=>({data:r,error:null})})}catch(r){if(Tt(r))return{data:null,error:r};throw r}}}function xw(e={}){return{getItem:t=>e[t]||null,setItem:(t,r)=>{e[t]=r},removeItem:t=>{delete e[t]}}}const il={debug:!!(globalThis&&YS()&&globalThis.localStorage&&globalThis.localStorage.getItem("supabase.gotrue-js.locks.debug")==="true")};class XS extends Error{constructor(t){super(t),this.isAcquireTimeout=!0}}class l3 extends XS{}async function o3(e,t,r){il.debug&&console.log("@supabase/gotrue-js: navigatorLock: acquire lock",e,t);const i=new globalThis.AbortController;return t>0&&setTimeout(()=>{i.abort(),il.debug&&console.log("@supabase/gotrue-js: navigatorLock acquire timed out",e)},t),await Promise.resolve().then(()=>globalThis.navigator.locks.request(e,t===0?{mode:"exclusive",ifAvailable:!0}:{mode:"exclusive",signal:i.signal},async n=>{if(n){il.debug&&console.log("@supabase/gotrue-js: navigatorLock: acquired",e,n.name);try{return await r()}finally{il.debug&&console.log("@supabase/gotrue-js: navigatorLock: released",e,n.name)}}else{if(t===0)throw il.debug&&console.log("@supabase/gotrue-js: navigatorLock: not immediately available",e),new l3(`Acquiring an exclusive Navigator LockManager lock "${e}" immediately failed`);if(il.debug)try{const l=await globalThis.navigator.locks.query();console.log("@supabase/gotrue-js: Navigator LockManager state",JSON.stringify(l,null,"  "))}catch(l){console.warn("@supabase/gotrue-js: Error when querying Navigator LockManager state",l)}return console.warn("@supabase/gotrue-js: Navigator LockManager returned a null lock when using #request without ifAvailable set to true, it appears this browser is not following the LockManager spec https://developer.mozilla.org/en-US/docs/Web/API/LockManager/request"),await r()}}))}function c3(){if(typeof globalThis!="object")try{Object.defineProperty(Object.prototype,"__magic__",{get:function(){return this},configurable:!0}),__magic__.globalThis=__magic__,delete Object.prototype.__magic__}catch{typeof self<"u"&&(self.globalThis=self)}}function KS(e){if(!/^0x[a-fA-F0-9]{40}$/.test(e))throw new Error(`@supabase/auth-js: Address "${e}" is invalid.`);return e.toLowerCase()}function u3(e){return parseInt(e,16)}function h3(e){const t=new TextEncoder().encode(e);return"0x"+Array.from(t,i=>i.toString(16).padStart(2,"0")).join("")}function d3(e){var t;const{chainId:r,domain:i,expirationTime:n,issuedAt:l=new Date,nonce:o,notBefore:u,requestId:h,resources:d,scheme:p,uri:g,version:y}=e;{if(!Number.isInteger(r))throw new Error(`@supabase/auth-js: Invalid SIWE message field "chainId". Chain ID must be a EIP-155 chain ID. Provided value: ${r}`);if(!i)throw new Error('@supabase/auth-js: Invalid SIWE message field "domain". Domain must be provided.');if(o&&o.length<8)throw new Error(`@supabase/auth-js: Invalid SIWE message field "nonce". Nonce must be at least 8 characters. Provided value: ${o}`);if(!g)throw new Error('@supabase/auth-js: Invalid SIWE message field "uri". URI must be provided.');if(y!=="1")throw new Error(`@supabase/auth-js: Invalid SIWE message field "version". Version must be '1'. Provided value: ${y}`);if(!((t=e.statement)===null||t===void 0)&&t.includes(`
`))throw new Error(`@supabase/auth-js: Invalid SIWE message field "statement". Statement must not include '\\n'. Provided value: ${e.statement}`)}const x=KS(e.address),v=p?`${p}://${i}`:i,_=e.statement?`${e.statement}
`:"",S=`${v} wants you to sign in with your Ethereum account:
${x}

${_}`;let T=`URI: ${g}
Version: ${y}
Chain ID: ${r}${o?`
Nonce: ${o}`:""}
Issued At: ${l.toISOString()}`;if(n&&(T+=`
Expiration Time: ${n.toISOString()}`),u&&(T+=`
Not Before: ${u.toISOString()}`),h&&(T+=`
Request ID: ${h}`),d){let E=`
Resources:`;for(const O of d){if(!O||typeof O!="string")throw new Error(`@supabase/auth-js: Invalid SIWE message field "resources". Every resource must be a valid string. Provided value: ${O}`);E+=`
- ${O}`}T+=E}return`${S}
${T}`}class je extends Error{constructor({message:t,code:r,cause:i,name:n}){var l;super(t,{cause:i}),this.__isWebAuthnError=!0,this.name=(l=n??(i instanceof Error?i.name:void 0))!==null&&l!==void 0?l:"Unknown Error",this.code=r}}class ld extends je{constructor(t,r){super({code:"ERROR_PASSTHROUGH_SEE_CAUSE_PROPERTY",cause:r,message:t}),this.name="WebAuthnUnknownError",this.originalError=r}}function f3({error:e,options:t}){var r,i,n;const{publicKey:l}=t;if(!l)throw Error("options was missing required publicKey property");if(e.name==="AbortError"){if(t.signal instanceof AbortSignal)return new je({message:"Registration ceremony was sent an abort signal",code:"ERROR_CEREMONY_ABORTED",cause:e})}else if(e.name==="ConstraintError"){if(((r=l.authenticatorSelection)===null||r===void 0?void 0:r.requireResidentKey)===!0)return new je({message:"Discoverable credentials were required but no available authenticator supported it",code:"ERROR_AUTHENTICATOR_MISSING_DISCOVERABLE_CREDENTIAL_SUPPORT",cause:e});if(t.mediation==="conditional"&&((i=l.authenticatorSelection)===null||i===void 0?void 0:i.userVerification)==="required")return new je({message:"User verification was required during automatic registration but it could not be performed",code:"ERROR_AUTO_REGISTER_USER_VERIFICATION_FAILURE",cause:e});if(((n=l.authenticatorSelection)===null||n===void 0?void 0:n.userVerification)==="required")return new je({message:"User verification was required but no available authenticator supported it",code:"ERROR_AUTHENTICATOR_MISSING_USER_VERIFICATION_SUPPORT",cause:e})}else{if(e.name==="InvalidStateError")return new je({message:"The authenticator was previously registered",code:"ERROR_AUTHENTICATOR_PREVIOUSLY_REGISTERED",cause:e});if(e.name==="NotAllowedError")return new je({message:e.message,code:"ERROR_PASSTHROUGH_SEE_CAUSE_PROPERTY",cause:e});if(e.name==="NotSupportedError")return l.pubKeyCredParams.filter(u=>u.type==="public-key").length===0?new je({message:'No entry in pubKeyCredParams was of type "public-key"',code:"ERROR_MALFORMED_PUBKEYCREDPARAMS",cause:e}):new je({message:"No available authenticator supported any of the specified pubKeyCredParams algorithms",code:"ERROR_AUTHENTICATOR_NO_SUPPORTED_PUBKEYCREDPARAMS_ALG",cause:e});if(e.name==="SecurityError"){const o=window.location.hostname;if(QS(o)){if(l.rp.id!==o)return new je({message:`The RP ID "${l.rp.id}" is invalid for this domain`,code:"ERROR_INVALID_RP_ID",cause:e})}else return new je({message:`${window.location.hostname} is an invalid domain`,code:"ERROR_INVALID_DOMAIN",cause:e})}else if(e.name==="TypeError"){if(l.user.id.byteLength<1||l.user.id.byteLength>64)return new je({message:"User ID was not between 1 and 64 characters",code:"ERROR_INVALID_USER_ID_LENGTH",cause:e})}else if(e.name==="UnknownError")return new je({message:"The authenticator was unable to process the specified options, or could not create a new credential",code:"ERROR_AUTHENTICATOR_GENERAL_ERROR",cause:e})}return new je({message:"a Non-Webauthn related error has occurred",code:"ERROR_PASSTHROUGH_SEE_CAUSE_PROPERTY",cause:e})}function p3({error:e,options:t}){const{publicKey:r}=t;if(!r)throw Error("options was missing required publicKey property");if(e.name==="AbortError"){if(t.signal instanceof AbortSignal)return new je({message:"Authentication ceremony was sent an abort signal",code:"ERROR_CEREMONY_ABORTED",cause:e})}else{if(e.name==="NotAllowedError")return new je({message:e.message,code:"ERROR_PASSTHROUGH_SEE_CAUSE_PROPERTY",cause:e});if(e.name==="SecurityError"){const i=window.location.hostname;if(QS(i)){if(r.rpId!==i)return new je({message:`The RP ID "${r.rpId}" is invalid for this domain`,code:"ERROR_INVALID_RP_ID",cause:e})}else return new je({message:`${window.location.hostname} is an invalid domain`,code:"ERROR_INVALID_DOMAIN",cause:e})}else if(e.name==="UnknownError")return new je({message:"The authenticator was unable to process the specified options, or could not create a new assertion signature",code:"ERROR_AUTHENTICATOR_GENERAL_ERROR",cause:e})}return new je({message:"a Non-Webauthn related error has occurred",code:"ERROR_PASSTHROUGH_SEE_CAUSE_PROPERTY",cause:e})}class g3{createNewAbortSignal(){if(this.controller){const r=new Error("Cancelling existing WebAuthn API call for new one");r.name="AbortError",this.controller.abort(r)}const t=new AbortController;return this.controller=t,t.signal}cancelCeremony(){if(this.controller){const t=new Error("Manually cancelling existing WebAuthn API call");t.name="AbortError",this.controller.abort(t),this.controller=void 0}}}const m3=new g3;function y3(e){if(!e)throw new Error("Credential creation options are required");if(typeof PublicKeyCredential<"u"&&"parseCreationOptionsFromJSON"in PublicKeyCredential&&typeof PublicKeyCredential.parseCreationOptionsFromJSON=="function")return PublicKeyCredential.parseCreationOptionsFromJSON(e);const{challenge:t,user:r,excludeCredentials:i}=e,n=Vd(e,["challenge","user","excludeCredentials"]),l=pl(t).buffer,o=Object.assign(Object.assign({},r),{id:pl(r.id).buffer}),u=Object.assign(Object.assign({},n),{challenge:l,user:o});if(i&&i.length>0){u.excludeCredentials=new Array(i.length);for(let h=0;h<i.length;h++){const d=i[h];u.excludeCredentials[h]=Object.assign(Object.assign({},d),{id:pl(d.id).buffer,type:d.type||"public-key",transports:d.transports})}}return u}function b3(e){if(!e)throw new Error("Credential request options are required");if(typeof PublicKeyCredential<"u"&&"parseRequestOptionsFromJSON"in PublicKeyCredential&&typeof PublicKeyCredential.parseRequestOptionsFromJSON=="function")return PublicKeyCredential.parseRequestOptionsFromJSON(e);const{challenge:t,allowCredentials:r}=e,i=Vd(e,["challenge","allowCredentials"]),n=pl(t).buffer,l=Object.assign(Object.assign({},i),{challenge:n});if(r&&r.length>0){l.allowCredentials=new Array(r.length);for(let o=0;o<r.length;o++){const u=r[o];l.allowCredentials[o]=Object.assign(Object.assign({},u),{id:pl(u.id).buffer,type:u.type||"public-key",transports:u.transports})}}return l}function x3(e){var t;if("toJSON"in e&&typeof e.toJSON=="function")return e.toJSON();const r=e;return{id:e.id,rawId:e.id,response:{attestationObject:Xn(new Uint8Array(e.response.attestationObject)),clientDataJSON:Xn(new Uint8Array(e.response.clientDataJSON))},type:"public-key",clientExtensionResults:e.getClientExtensionResults(),authenticatorAttachment:(t=r.authenticatorAttachment)!==null&&t!==void 0?t:void 0}}function v3(e){var t;if("toJSON"in e&&typeof e.toJSON=="function")return e.toJSON();const r=e,i=e.getClientExtensionResults(),n=e.response;return{id:e.id,rawId:e.id,response:{authenticatorData:Xn(new Uint8Array(n.authenticatorData)),clientDataJSON:Xn(new Uint8Array(n.clientDataJSON)),signature:Xn(new Uint8Array(n.signature)),userHandle:n.userHandle?Xn(new Uint8Array(n.userHandle)):void 0},type:"public-key",clientExtensionResults:i,authenticatorAttachment:(t=r.authenticatorAttachment)!==null&&t!==void 0?t:void 0}}function QS(e){return e==="localhost"||/^([a-z0-9]+(-[a-z0-9]+)*\.)+[a-z]{2,}$/i.test(e)}function vw(){var e,t;return!!(ir()&&"PublicKeyCredential"in window&&window.PublicKeyCredential&&"credentials"in navigator&&typeof((e=navigator?.credentials)===null||e===void 0?void 0:e.create)=="function"&&typeof((t=navigator?.credentials)===null||t===void 0?void 0:t.get)=="function")}async function _3(e){try{const t=await navigator.credentials.create(e);return t?t instanceof PublicKeyCredential?{data:t,error:null}:{data:null,error:new ld("Browser returned unexpected credential type",t)}:{data:null,error:new ld("Empty credential response",t)}}catch(t){return{data:null,error:f3({error:t,options:e})}}}async function w3(e){try{const t=await navigator.credentials.get(e);return t?t instanceof PublicKeyCredential?{data:t,error:null}:{data:null,error:new ld("Browser returned unexpected credential type",t)}:{data:null,error:new ld("Empty credential response",t)}}catch(t){return{data:null,error:p3({error:t,options:e})}}}const S3={hints:["security-key"],authenticatorSelection:{authenticatorAttachment:"cross-platform",requireResidentKey:!1,userVerification:"preferred",residentKey:"discouraged"},attestation:"direct"},k3={userVerification:"preferred",hints:["security-key"],attestation:"direct"};function od(...e){const t=n=>n!==null&&typeof n=="object"&&!Array.isArray(n),r=n=>n instanceof ArrayBuffer||ArrayBuffer.isView(n),i={};for(const n of e)if(n)for(const l in n){const o=n[l];if(o!==void 0)if(Array.isArray(o))i[l]=o;else if(r(o))i[l]=o;else if(t(o)){const u=i[l];t(u)?i[l]=od(u,o):i[l]=od(o)}else i[l]=o}return i}function C3(e,t){return od(S3,e,t||{})}function T3(e,t){return od(k3,e,t||{})}class E3{constructor(t){this.client=t,this.enroll=this._enroll.bind(this),this.challenge=this._challenge.bind(this),this.verify=this._verify.bind(this),this.authenticate=this._authenticate.bind(this),this.register=this._register.bind(this)}async _enroll(t){return this.client.mfa.enroll(Object.assign(Object.assign({},t),{factorType:"webauthn"}))}async _challenge({factorId:t,webauthn:r,friendlyName:i,signal:n},l){try{const{data:o,error:u}=await this.client.mfa.challenge({factorId:t,webauthn:r});if(!o)return{data:null,error:u};const h=n??m3.createNewAbortSignal();if(o.webauthn.type==="create"){const{user:d}=o.webauthn.credential_options.publicKey;d.name||(d.name=`${d.id}:${i}`),d.displayName||(d.displayName=d.name)}switch(o.webauthn.type){case"create":{const d=C3(o.webauthn.credential_options.publicKey,l?.create),{data:p,error:g}=await _3({publicKey:d,signal:h});return p?{data:{factorId:t,challengeId:o.id,webauthn:{type:o.webauthn.type,credential_response:p}},error:null}:{data:null,error:g}}case"request":{const d=T3(o.webauthn.credential_options.publicKey,l?.request),{data:p,error:g}=await w3(Object.assign(Object.assign({},o.webauthn.credential_options),{publicKey:d,signal:h}));return p?{data:{factorId:t,challengeId:o.id,webauthn:{type:o.webauthn.type,credential_response:p}},error:null}:{data:null,error:g}}}}catch(o){return Tt(o)?{data:null,error:o}:{data:null,error:new Vn("Unexpected error in challenge",o)}}}async _verify({challengeId:t,factorId:r,webauthn:i}){return this.client.mfa.verify({factorId:r,challengeId:t,webauthn:i})}async _authenticate({factorId:t,webauthn:{rpId:r=typeof window<"u"?window.location.hostname:void 0,rpOrigins:i=typeof window<"u"?[window.location.origin]:void 0,signal:n}={}},l){if(!r)return{data:null,error:new Rc("rpId is required for WebAuthn authentication")};try{if(!vw())return{data:null,error:new Vn("Browser does not support WebAuthn",null)};const{data:o,error:u}=await this.challenge({factorId:t,webauthn:{rpId:r,rpOrigins:i},signal:n},{request:l});if(!o)return{data:null,error:u};const{webauthn:h}=o;return this._verify({factorId:t,challengeId:o.challengeId,webauthn:{type:h.type,rpId:r,rpOrigins:i,credential_response:h.credential_response}})}catch(o){return Tt(o)?{data:null,error:o}:{data:null,error:new Vn("Unexpected error in authenticate",o)}}}async _register({friendlyName:t,webauthn:{rpId:r=typeof window<"u"?window.location.hostname:void 0,rpOrigins:i=typeof window<"u"?[window.location.origin]:void 0,signal:n}={}},l){if(!r)return{data:null,error:new Rc("rpId is required for WebAuthn registration")};try{if(!vw())return{data:null,error:new Vn("Browser does not support WebAuthn",null)};const{data:o,error:u}=await this._enroll({friendlyName:t});if(!o)return await this.client.mfa.listFactors().then(p=>{var g;return(g=p.data)===null||g===void 0?void 0:g.all.find(y=>y.factor_type==="webauthn"&&y.friendly_name===t&&y.status!=="unverified")}).then(p=>p?this.client.mfa.unenroll({factorId:p?.id}):void 0),{data:null,error:u};const{data:h,error:d}=await this._challenge({factorId:o.id,friendlyName:o.friendly_name,webauthn:{rpId:r,rpOrigins:i},signal:n},{create:l});return h?this._verify({factorId:o.id,challengeId:h.challengeId,webauthn:{rpId:r,rpOrigins:i,type:h.webauthn.type,credential_response:h.webauthn.credential_response}}):{data:null,error:d}}catch(o){return Tt(o)?{data:null,error:o}:{data:null,error:new Vn("Unexpected error in register",o)}}}}c3();const A3={url:SN,storageKey:kN,autoRefreshToken:!0,persistSession:!0,detectSessionInUrl:!0,headers:CN,flowType:"implicit",debug:!1,hasCustomAuthorizationHeader:!1,throwOnError:!1};async function _w(e,t,r){return await r()}const al={};class Lc{get jwks(){var t,r;return(r=(t=al[this.storageKey])===null||t===void 0?void 0:t.jwks)!==null&&r!==void 0?r:{keys:[]}}set jwks(t){al[this.storageKey]=Object.assign(Object.assign({},al[this.storageKey]),{jwks:t})}get jwks_cached_at(){var t,r;return(r=(t=al[this.storageKey])===null||t===void 0?void 0:t.cachedAt)!==null&&r!==void 0?r:Number.MIN_SAFE_INTEGER}set jwks_cached_at(t){al[this.storageKey]=Object.assign(Object.assign({},al[this.storageKey]),{cachedAt:t})}constructor(t){var r,i,n;this.userStorage=null,this.memoryStorage=null,this.stateChangeEmitters=new Map,this.autoRefreshTicker=null,this.visibilityChangedCallback=null,this.refreshingDeferred=null,this.initializePromise=null,this.detectSessionInUrl=!0,this.hasCustomAuthorizationHeader=!1,this.suppressGetSessionWarning=!1,this.lockAcquired=!1,this.pendingInLock=[],this.broadcastChannel=null,this.logger=console.log;const l=Object.assign(Object.assign({},A3),t);if(this.storageKey=l.storageKey,this.instanceID=(r=Lc.nextInstanceID[this.storageKey])!==null&&r!==void 0?r:0,Lc.nextInstanceID[this.storageKey]=this.instanceID+1,this.logDebugMessages=!!l.debug,typeof l.debug=="function"&&(this.logger=l.debug),this.instanceID>0&&ir()){const o=`${this._logPrefix()} Multiple GoTrueClient instances detected in the same browser context. It is not an error, but this should be avoided as it may produce undefined behavior when used concurrently under the same storage key.`;console.warn(o),this.logDebugMessages&&console.trace(o)}if(this.persistSession=l.persistSession,this.autoRefreshToken=l.autoRefreshToken,this.admin=new s3({url:l.url,headers:l.headers,fetch:l.fetch}),this.url=l.url,this.headers=l.headers,this.fetch=VS(l.fetch),this.lock=l.lock||_w,this.detectSessionInUrl=l.detectSessionInUrl,this.flowType=l.flowType,this.hasCustomAuthorizationHeader=l.hasCustomAuthorizationHeader,this.throwOnError=l.throwOnError,l.lock?this.lock=l.lock:this.persistSession&&ir()&&(!((i=globalThis?.navigator)===null||i===void 0)&&i.locks)?this.lock=o3:this.lock=_w,this.jwks||(this.jwks={keys:[]},this.jwks_cached_at=Number.MIN_SAFE_INTEGER),this.mfa={verify:this._verify.bind(this),enroll:this._enroll.bind(this),unenroll:this._unenroll.bind(this),challenge:this._challenge.bind(this),listFactors:this._listFactors.bind(this),challengeAndVerify:this._challengeAndVerify.bind(this),getAuthenticatorAssuranceLevel:this._getAuthenticatorAssuranceLevel.bind(this),webauthn:new E3(this)},this.oauth={getAuthorizationDetails:this._getAuthorizationDetails.bind(this),approveAuthorization:this._approveAuthorization.bind(this),denyAuthorization:this._denyAuthorization.bind(this),listGrants:this._listOAuthGrants.bind(this),revokeGrant:this._revokeOAuthGrant.bind(this)},this.persistSession?(l.storage?this.storage=l.storage:YS()?this.storage=globalThis.localStorage:(this.memoryStorage={},this.storage=xw(this.memoryStorage)),l.userStorage&&(this.userStorage=l.userStorage)):(this.memoryStorage={},this.storage=xw(this.memoryStorage)),ir()&&globalThis.BroadcastChannel&&this.persistSession&&this.storageKey){try{this.broadcastChannel=new globalThis.BroadcastChannel(this.storageKey)}catch(o){console.error("Failed to create a new BroadcastChannel, multi-tab state changes will not be available",o)}(n=this.broadcastChannel)===null||n===void 0||n.addEventListener("message",async o=>{this._debug("received broadcast notification from other tab or client",o),await this._notifyAllSubscribers(o.data.event,o.data.session,!1)})}this.initialize()}isThrowOnErrorEnabled(){return this.throwOnError}_returnResult(t){if(this.throwOnError&&t&&t.error)throw t.error;return t}_logPrefix(){return`GoTrueClient@${this.storageKey}:${this.instanceID} (${HS}) ${new Date().toISOString()}`}_debug(...t){return this.logDebugMessages&&this.logger(this._logPrefix(),...t),this}async initialize(){return this.initializePromise?await this.initializePromise:(this.initializePromise=(async()=>await this._acquireLock(-1,async()=>await this._initialize()))(),await this.initializePromise)}async _initialize(){var t;try{let r={},i="none";if(ir()&&(r=PN(window.location.href),this._isImplicitGrantCallback(r)?i="implicit":await this._isPKCECallback(r)&&(i="pkce")),ir()&&this.detectSessionInUrl&&i!=="none"){const{data:n,error:l}=await this._getSessionFromURL(r,i);if(l){if(this._debug("#_initialize()","error detecting session from URL",l),LN(l)){const h=(t=l.details)===null||t===void 0?void 0:t.code;if(h==="identity_already_exists"||h==="identity_not_found"||h==="single_identity_not_deletable")return{error:l}}return await this._removeSession(),{error:l}}const{session:o,redirectType:u}=n;return this._debug("#_initialize()","detected session in URL",o,"redirect type",u),await this._saveSession(o),setTimeout(async()=>{u==="recovery"?await this._notifyAllSubscribers("PASSWORD_RECOVERY",o):await this._notifyAllSubscribers("SIGNED_IN",o)},0),{error:null}}return await this._recoverAndRefresh(),{error:null}}catch(r){return Tt(r)?this._returnResult({error:r}):this._returnResult({error:new Vn("Unexpected error during initialization",r)})}finally{await this._handleVisibilityChange(),this._debug("#_initialize()","end")}}async signInAnonymously(t){var r,i,n;try{const l=await Nt(this.fetch,"POST",`${this.url}/signup`,{headers:this.headers,body:{data:(i=(r=t?.options)===null||r===void 0?void 0:r.data)!==null&&i!==void 0?i:{},gotrue_meta_security:{captcha_token:(n=t?.options)===null||n===void 0?void 0:n.captchaToken}},xform:xi}),{data:o,error:u}=l;if(u||!o)return this._returnResult({data:{user:null,session:null},error:u});const h=o.session,d=o.user;return o.session&&(await this._saveSession(o.session),await this._notifyAllSubscribers("SIGNED_IN",h)),this._returnResult({data:{user:d,session:h},error:null})}catch(l){if(Tt(l))return this._returnResult({data:{user:null,session:null},error:l});throw l}}async signUp(t){var r,i,n;try{let l;if("email"in t){const{email:p,password:g,options:y}=t;let x=null,v=null;this.flowType==="pkce"&&([x,v]=await el(this.storage,this.storageKey)),l=await Nt(this.fetch,"POST",`${this.url}/signup`,{headers:this.headers,redirectTo:y?.emailRedirectTo,body:{email:p,password:g,data:(r=y?.data)!==null&&r!==void 0?r:{},gotrue_meta_security:{captcha_token:y?.captchaToken},code_challenge:x,code_challenge_method:v},xform:xi})}else if("phone"in t){const{phone:p,password:g,options:y}=t;l=await Nt(this.fetch,"POST",`${this.url}/signup`,{headers:this.headers,body:{phone:p,password:g,data:(i=y?.data)!==null&&i!==void 0?i:{},channel:(n=y?.channel)!==null&&n!==void 0?n:"sms",gotrue_meta_security:{captcha_token:y?.captchaToken}},xform:xi})}else throw new Eh("You must provide either an email or phone number and a password");const{data:o,error:u}=l;if(u||!o)return await er(this.storage,`${this.storageKey}-code-verifier`),this._returnResult({data:{user:null,session:null},error:u});const h=o.session,d=o.user;return o.session&&(await this._saveSession(o.session),await this._notifyAllSubscribers("SIGNED_IN",h)),this._returnResult({data:{user:d,session:h},error:null})}catch(l){if(await er(this.storage,`${this.storageKey}-code-verifier`),Tt(l))return this._returnResult({data:{user:null,session:null},error:l});throw l}}async signInWithPassword(t){try{let r;if("email"in t){const{email:l,password:o,options:u}=t;r=await Nt(this.fetch,"POST",`${this.url}/token?grant_type=password`,{headers:this.headers,body:{email:l,password:o,gotrue_meta_security:{captcha_token:u?.captchaToken}},xform:yw})}else if("phone"in t){const{phone:l,password:o,options:u}=t;r=await Nt(this.fetch,"POST",`${this.url}/token?grant_type=password`,{headers:this.headers,body:{phone:l,password:o,gotrue_meta_security:{captcha_token:u?.captchaToken}},xform:yw})}else throw new Eh("You must provide either an email or phone number and a password");const{data:i,error:n}=r;if(n)return this._returnResult({data:{user:null,session:null},error:n});if(!i||!i.session||!i.user){const l=new tl;return this._returnResult({data:{user:null,session:null},error:l})}return i.session&&(await this._saveSession(i.session),await this._notifyAllSubscribers("SIGNED_IN",i.session)),this._returnResult({data:Object.assign({user:i.user,session:i.session},i.weak_password?{weakPassword:i.weak_password}:null),error:n})}catch(r){if(Tt(r))return this._returnResult({data:{user:null,session:null},error:r});throw r}}async signInWithOAuth(t){var r,i,n,l;return await this._handleProviderSignIn(t.provider,{redirectTo:(r=t.options)===null||r===void 0?void 0:r.redirectTo,scopes:(i=t.options)===null||i===void 0?void 0:i.scopes,queryParams:(n=t.options)===null||n===void 0?void 0:n.queryParams,skipBrowserRedirect:(l=t.options)===null||l===void 0?void 0:l.skipBrowserRedirect})}async exchangeCodeForSession(t){return await this.initializePromise,this._acquireLock(-1,async()=>this._exchangeCodeForSession(t))}async signInWithWeb3(t){const{chain:r}=t;switch(r){case"ethereum":return await this.signInWithEthereum(t);case"solana":return await this.signInWithSolana(t);default:throw new Error(`@supabase/auth-js: Unsupported chain "${r}"`)}}async signInWithEthereum(t){var r,i,n,l,o,u,h,d,p,g,y;let x,v;if("message"in t)x=t.message,v=t.signature;else{const{chain:_,wallet:S,statement:T,options:E}=t;let O;if(ir())if(typeof S=="object")O=S;else{const rt=window;if("ethereum"in rt&&typeof rt.ethereum=="object"&&"request"in rt.ethereum&&typeof rt.ethereum.request=="function")O=rt.ethereum;else throw new Error("@supabase/auth-js: No compatible Ethereum wallet interface on the window object (window.ethereum) detected. Make sure the user already has a wallet installed and connected for this app. Prefer passing the wallet interface object directly to signInWithWeb3({ chain: 'ethereum', wallet: resolvedUserWallet }) instead.")}else{if(typeof S!="object"||!E?.url)throw new Error("@supabase/auth-js: Both wallet and url must be specified in non-browser environments.");O=S}const L=new URL((r=E?.url)!==null&&r!==void 0?r:window.location.href),B=await O.request({method:"eth_requestAccounts"}).then(rt=>rt).catch(()=>{throw new Error("@supabase/auth-js: Wallet method eth_requestAccounts is missing or invalid")});if(!B||B.length===0)throw new Error("@supabase/auth-js: No accounts available. Please ensure the wallet is connected.");const I=KS(B[0]);let j=(i=E?.signInWithEthereum)===null||i===void 0?void 0:i.chainId;if(!j){const rt=await O.request({method:"eth_chainId"});j=u3(rt)}const Z={domain:L.host,address:I,statement:T,uri:L.href,version:"1",chainId:j,nonce:(n=E?.signInWithEthereum)===null||n===void 0?void 0:n.nonce,issuedAt:(o=(l=E?.signInWithEthereum)===null||l===void 0?void 0:l.issuedAt)!==null&&o!==void 0?o:new Date,expirationTime:(u=E?.signInWithEthereum)===null||u===void 0?void 0:u.expirationTime,notBefore:(h=E?.signInWithEthereum)===null||h===void 0?void 0:h.notBefore,requestId:(d=E?.signInWithEthereum)===null||d===void 0?void 0:d.requestId,resources:(p=E?.signInWithEthereum)===null||p===void 0?void 0:p.resources};x=d3(Z),v=await O.request({method:"personal_sign",params:[h3(x),I]})}try{const{data:_,error:S}=await Nt(this.fetch,"POST",`${this.url}/token?grant_type=web3`,{headers:this.headers,body:Object.assign({chain:"ethereum",message:x,signature:v},!((g=t.options)===null||g===void 0)&&g.captchaToken?{gotrue_meta_security:{captcha_token:(y=t.options)===null||y===void 0?void 0:y.captchaToken}}:null),xform:xi});if(S)throw S;if(!_||!_.session||!_.user){const T=new tl;return this._returnResult({data:{user:null,session:null},error:T})}return _.session&&(await this._saveSession(_.session),await this._notifyAllSubscribers("SIGNED_IN",_.session)),this._returnResult({data:Object.assign({},_),error:S})}catch(_){if(Tt(_))return this._returnResult({data:{user:null,session:null},error:_});throw _}}async signInWithSolana(t){var r,i,n,l,o,u,h,d,p,g,y,x;let v,_;if("message"in t)v=t.message,_=t.signature;else{const{chain:S,wallet:T,statement:E,options:O}=t;let L;if(ir())if(typeof T=="object")L=T;else{const I=window;if("solana"in I&&typeof I.solana=="object"&&("signIn"in I.solana&&typeof I.solana.signIn=="function"||"signMessage"in I.solana&&typeof I.solana.signMessage=="function"))L=I.solana;else throw new Error("@supabase/auth-js: No compatible Solana wallet interface on the window object (window.solana) detected. Make sure the user already has a wallet installed and connected for this app. Prefer passing the wallet interface object directly to signInWithWeb3({ chain: 'solana', wallet: resolvedUserWallet }) instead.")}else{if(typeof T!="object"||!O?.url)throw new Error("@supabase/auth-js: Both wallet and url must be specified in non-browser environments.");L=T}const B=new URL((r=O?.url)!==null&&r!==void 0?r:window.location.href);if("signIn"in L&&L.signIn){const I=await L.signIn(Object.assign(Object.assign(Object.assign({issuedAt:new Date().toISOString()},O?.signInWithSolana),{version:"1",domain:B.host,uri:B.href}),E?{statement:E}:null));let j;if(Array.isArray(I)&&I[0]&&typeof I[0]=="object")j=I[0];else if(I&&typeof I=="object"&&"signedMessage"in I&&"signature"in I)j=I;else throw new Error("@supabase/auth-js: Wallet method signIn() returned unrecognized value");if("signedMessage"in j&&"signature"in j&&(typeof j.signedMessage=="string"||j.signedMessage instanceof Uint8Array)&&j.signature instanceof Uint8Array)v=typeof j.signedMessage=="string"?j.signedMessage:new TextDecoder().decode(j.signedMessage),_=j.signature;else throw new Error("@supabase/auth-js: Wallet method signIn() API returned object without signedMessage and signature fields")}else{if(!("signMessage"in L)||typeof L.signMessage!="function"||!("publicKey"in L)||typeof L!="object"||!L.publicKey||!("toBase58"in L.publicKey)||typeof L.publicKey.toBase58!="function")throw new Error("@supabase/auth-js: Wallet does not have a compatible signMessage() and publicKey.toBase58() API");v=[`${B.host} wants you to sign in with your Solana account:`,L.publicKey.toBase58(),...E?["",E,""]:[""],"Version: 1",`URI: ${B.href}`,`Issued At: ${(n=(i=O?.signInWithSolana)===null||i===void 0?void 0:i.issuedAt)!==null&&n!==void 0?n:new Date().toISOString()}`,...!((l=O?.signInWithSolana)===null||l===void 0)&&l.notBefore?[`Not Before: ${O.signInWithSolana.notBefore}`]:[],...!((o=O?.signInWithSolana)===null||o===void 0)&&o.expirationTime?[`Expiration Time: ${O.signInWithSolana.expirationTime}`]:[],...!((u=O?.signInWithSolana)===null||u===void 0)&&u.chainId?[`Chain ID: ${O.signInWithSolana.chainId}`]:[],...!((h=O?.signInWithSolana)===null||h===void 0)&&h.nonce?[`Nonce: ${O.signInWithSolana.nonce}`]:[],...!((d=O?.signInWithSolana)===null||d===void 0)&&d.requestId?[`Request ID: ${O.signInWithSolana.requestId}`]:[],...!((g=(p=O?.signInWithSolana)===null||p===void 0?void 0:p.resources)===null||g===void 0)&&g.length?["Resources",...O.signInWithSolana.resources.map(j=>`- ${j}`)]:[]].join(`
`);const I=await L.signMessage(new TextEncoder().encode(v),"utf8");if(!I||!(I instanceof Uint8Array))throw new Error("@supabase/auth-js: Wallet signMessage() API returned an recognized value");_=I}}try{const{data:S,error:T}=await Nt(this.fetch,"POST",`${this.url}/token?grant_type=web3`,{headers:this.headers,body:Object.assign({chain:"solana",message:v,signature:Xn(_)},!((y=t.options)===null||y===void 0)&&y.captchaToken?{gotrue_meta_security:{captcha_token:(x=t.options)===null||x===void 0?void 0:x.captchaToken}}:null),xform:xi});if(T)throw T;if(!S||!S.session||!S.user){const E=new tl;return this._returnResult({data:{user:null,session:null},error:E})}return S.session&&(await this._saveSession(S.session),await this._notifyAllSubscribers("SIGNED_IN",S.session)),this._returnResult({data:Object.assign({},S),error:T})}catch(S){if(Tt(S))return this._returnResult({data:{user:null,session:null},error:S});throw S}}async _exchangeCodeForSession(t){const r=await Pn(this.storage,`${this.storageKey}-code-verifier`),[i,n]=(r??"").split("/");try{if(!i&&this.flowType==="pkce")throw new MN;const{data:l,error:o}=await Nt(this.fetch,"POST",`${this.url}/token?grant_type=pkce`,{headers:this.headers,body:{auth_code:t,code_verifier:i},xform:xi});if(await er(this.storage,`${this.storageKey}-code-verifier`),o)throw o;if(!l||!l.session||!l.user){const u=new tl;return this._returnResult({data:{user:null,session:null,redirectType:null},error:u})}return l.session&&(await this._saveSession(l.session),await this._notifyAllSubscribers("SIGNED_IN",l.session)),this._returnResult({data:Object.assign(Object.assign({},l),{redirectType:n??null}),error:o})}catch(l){if(await er(this.storage,`${this.storageKey}-code-verifier`),Tt(l))return this._returnResult({data:{user:null,session:null,redirectType:null},error:l});throw l}}async signInWithIdToken(t){try{const{options:r,provider:i,token:n,access_token:l,nonce:o}=t,u=await Nt(this.fetch,"POST",`${this.url}/token?grant_type=id_token`,{headers:this.headers,body:{provider:i,id_token:n,access_token:l,nonce:o,gotrue_meta_security:{captcha_token:r?.captchaToken}},xform:xi}),{data:h,error:d}=u;if(d)return this._returnResult({data:{user:null,session:null},error:d});if(!h||!h.session||!h.user){const p=new tl;return this._returnResult({data:{user:null,session:null},error:p})}return h.session&&(await this._saveSession(h.session),await this._notifyAllSubscribers("SIGNED_IN",h.session)),this._returnResult({data:h,error:d})}catch(r){if(Tt(r))return this._returnResult({data:{user:null,session:null},error:r});throw r}}async signInWithOtp(t){var r,i,n,l,o;try{if("email"in t){const{email:u,options:h}=t;let d=null,p=null;this.flowType==="pkce"&&([d,p]=await el(this.storage,this.storageKey));const{error:g}=await Nt(this.fetch,"POST",`${this.url}/otp`,{headers:this.headers,body:{email:u,data:(r=h?.data)!==null&&r!==void 0?r:{},create_user:(i=h?.shouldCreateUser)!==null&&i!==void 0?i:!0,gotrue_meta_security:{captcha_token:h?.captchaToken},code_challenge:d,code_challenge_method:p},redirectTo:h?.emailRedirectTo});return this._returnResult({data:{user:null,session:null},error:g})}if("phone"in t){const{phone:u,options:h}=t,{data:d,error:p}=await Nt(this.fetch,"POST",`${this.url}/otp`,{headers:this.headers,body:{phone:u,data:(n=h?.data)!==null&&n!==void 0?n:{},create_user:(l=h?.shouldCreateUser)!==null&&l!==void 0?l:!0,gotrue_meta_security:{captcha_token:h?.captchaToken},channel:(o=h?.channel)!==null&&o!==void 0?o:"sms"}});return this._returnResult({data:{user:null,session:null,messageId:d?.message_id},error:p})}throw new Eh("You must provide either an email or phone number.")}catch(u){if(await er(this.storage,`${this.storageKey}-code-verifier`),Tt(u))return this._returnResult({data:{user:null,session:null},error:u});throw u}}async verifyOtp(t){var r,i;try{let n,l;"options"in t&&(n=(r=t.options)===null||r===void 0?void 0:r.redirectTo,l=(i=t.options)===null||i===void 0?void 0:i.captchaToken);const{data:o,error:u}=await Nt(this.fetch,"POST",`${this.url}/verify`,{headers:this.headers,body:Object.assign(Object.assign({},t),{gotrue_meta_security:{captcha_token:l}}),redirectTo:n,xform:xi});if(u)throw u;if(!o)throw new Error("An error occurred on token verification.");const h=o.session,d=o.user;return h?.access_token&&(await this._saveSession(h),await this._notifyAllSubscribers(t.type=="recovery"?"PASSWORD_RECOVERY":"SIGNED_IN",h)),this._returnResult({data:{user:d,session:h},error:null})}catch(n){if(Tt(n))return this._returnResult({data:{user:null,session:null},error:n});throw n}}async signInWithSSO(t){var r,i,n,l,o;try{let u=null,h=null;this.flowType==="pkce"&&([u,h]=await el(this.storage,this.storageKey));const d=await Nt(this.fetch,"POST",`${this.url}/sso`,{body:Object.assign(Object.assign(Object.assign(Object.assign(Object.assign({},"providerId"in t?{provider_id:t.providerId}:null),"domain"in t?{domain:t.domain}:null),{redirect_to:(i=(r=t.options)===null||r===void 0?void 0:r.redirectTo)!==null&&i!==void 0?i:void 0}),!((n=t?.options)===null||n===void 0)&&n.captchaToken?{gotrue_meta_security:{captcha_token:t.options.captchaToken}}:null),{skip_http_redirect:!0,code_challenge:u,code_challenge_method:h}),headers:this.headers,xform:i3});return!((l=d.data)===null||l===void 0)&&l.url&&ir()&&!(!((o=t.options)===null||o===void 0)&&o.skipBrowserRedirect)&&window.location.assign(d.data.url),this._returnResult(d)}catch(u){if(await er(this.storage,`${this.storageKey}-code-verifier`),Tt(u))return this._returnResult({data:null,error:u});throw u}}async reauthenticate(){return await this.initializePromise,await this._acquireLock(-1,async()=>await this._reauthenticate())}async _reauthenticate(){try{return await this._useSession(async t=>{const{data:{session:r},error:i}=t;if(i)throw i;if(!r)throw new Hr;const{error:n}=await Nt(this.fetch,"GET",`${this.url}/reauthenticate`,{headers:this.headers,jwt:r.access_token});return this._returnResult({data:{user:null,session:null},error:n})})}catch(t){if(Tt(t))return this._returnResult({data:{user:null,session:null},error:t});throw t}}async resend(t){try{const r=`${this.url}/resend`;if("email"in t){const{email:i,type:n,options:l}=t,{error:o}=await Nt(this.fetch,"POST",r,{headers:this.headers,body:{email:i,type:n,gotrue_meta_security:{captcha_token:l?.captchaToken}},redirectTo:l?.emailRedirectTo});return this._returnResult({data:{user:null,session:null},error:o})}else if("phone"in t){const{phone:i,type:n,options:l}=t,{data:o,error:u}=await Nt(this.fetch,"POST",r,{headers:this.headers,body:{phone:i,type:n,gotrue_meta_security:{captcha_token:l?.captchaToken}}});return this._returnResult({data:{user:null,session:null,messageId:o?.message_id},error:u})}throw new Eh("You must provide either an email or phone number and a type")}catch(r){if(Tt(r))return this._returnResult({data:{user:null,session:null},error:r});throw r}}async getSession(){return await this.initializePromise,await this._acquireLock(-1,async()=>this._useSession(async r=>r))}async _acquireLock(t,r){this._debug("#_acquireLock","begin",t);try{if(this.lockAcquired){const i=this.pendingInLock.length?this.pendingInLock[this.pendingInLock.length-1]:Promise.resolve(),n=(async()=>(await i,await r()))();return this.pendingInLock.push((async()=>{try{await n}catch{}})()),n}return await this.lock(`lock:${this.storageKey}`,t,async()=>{this._debug("#_acquireLock","lock acquired for storage key",this.storageKey);try{this.lockAcquired=!0;const i=r();for(this.pendingInLock.push((async()=>{try{await i}catch{}})()),await i;this.pendingInLock.length;){const n=[...this.pendingInLock];await Promise.all(n),this.pendingInLock.splice(0,n.length)}return await i}finally{this._debug("#_acquireLock","lock released for storage key",this.storageKey),this.lockAcquired=!1}})}finally{this._debug("#_acquireLock","end")}}async _useSession(t){this._debug("#_useSession","begin");try{const r=await this.__loadSession();return await t(r)}finally{this._debug("#_useSession","end")}}async __loadSession(){this._debug("#__loadSession()","begin"),this.lockAcquired||this._debug("#__loadSession()","used outside of an acquired lock!",new Error().stack);try{let t=null;const r=await Pn(this.storage,this.storageKey);if(this._debug("#getSession()","session from storage",r),r!==null&&(this._isValidSession(r)?t=r:(this._debug("#getSession()","session from storage is not valid"),await this._removeSession())),!t)return{data:{session:null},error:null};const i=t.expires_at?t.expires_at*1e3-Date.now()<Yg:!1;if(this._debug("#__loadSession()",`session has${i?"":" not"} expired`,"expires_at",t.expires_at),!i){if(this.userStorage){const o=await Pn(this.userStorage,this.storageKey+"-user");o?.user?t.user=o.user:t.user=Kg()}if(this.storage.isServer&&t.user&&!t.user.__isUserNotAvailableProxy){const o={value:this.suppressGetSessionWarning};t.user=JN(t.user,o),o.value&&(this.suppressGetSessionWarning=!0)}return{data:{session:t},error:null}}const{data:n,error:l}=await this._callRefreshToken(t.refresh_token);return l?this._returnResult({data:{session:null},error:l}):this._returnResult({data:{session:n},error:null})}finally{this._debug("#__loadSession()","end")}}async getUser(t){if(t)return await this._getUser(t);await this.initializePromise;const r=await this._acquireLock(-1,async()=>await this._getUser());return r.data.user&&(this.suppressGetSessionWarning=!0),r}async _getUser(t){try{return t?await Nt(this.fetch,"GET",`${this.url}/user`,{headers:this.headers,jwt:t,xform:cn}):await this._useSession(async r=>{var i,n,l;const{data:o,error:u}=r;if(u)throw u;return!(!((i=o.session)===null||i===void 0)&&i.access_token)&&!this.hasCustomAuthorizationHeader?{data:{user:null},error:new Hr}:await Nt(this.fetch,"GET",`${this.url}/user`,{headers:this.headers,jwt:(l=(n=o.session)===null||n===void 0?void 0:n.access_token)!==null&&l!==void 0?l:void 0,xform:cn})})}catch(r){if(Tt(r))return RN(r)&&(await this._removeSession(),await er(this.storage,`${this.storageKey}-code-verifier`)),this._returnResult({data:{user:null},error:r});throw r}}async updateUser(t,r={}){return await this.initializePromise,await this._acquireLock(-1,async()=>await this._updateUser(t,r))}async _updateUser(t,r={}){try{return await this._useSession(async i=>{const{data:n,error:l}=i;if(l)throw l;if(!n.session)throw new Hr;const o=n.session;let u=null,h=null;this.flowType==="pkce"&&t.email!=null&&([u,h]=await el(this.storage,this.storageKey));const{data:d,error:p}=await Nt(this.fetch,"PUT",`${this.url}/user`,{headers:this.headers,redirectTo:r?.emailRedirectTo,body:Object.assign(Object.assign({},t),{code_challenge:u,code_challenge_method:h}),jwt:o.access_token,xform:cn});if(p)throw p;return o.user=d.user,await this._saveSession(o),await this._notifyAllSubscribers("USER_UPDATED",o),this._returnResult({data:{user:o.user},error:null})})}catch(i){if(await er(this.storage,`${this.storageKey}-code-verifier`),Tt(i))return this._returnResult({data:{user:null},error:i});throw i}}async setSession(t){return await this.initializePromise,await this._acquireLock(-1,async()=>await this._setSession(t))}async _setSession(t){try{if(!t.access_token||!t.refresh_token)throw new Hr;const r=Date.now()/1e3;let i=r,n=!0,l=null;const{payload:o}=Xg(t.access_token);if(o.exp&&(i=o.exp,n=i<=r),n){const{data:u,error:h}=await this._callRefreshToken(t.refresh_token);if(h)return this._returnResult({data:{user:null,session:null},error:h});if(!u)return{data:{user:null,session:null},error:null};l=u}else{const{data:u,error:h}=await this._getUser(t.access_token);if(h)throw h;l={access_token:t.access_token,refresh_token:t.refresh_token,user:u.user,token_type:"bearer",expires_in:i-r,expires_at:i},await this._saveSession(l),await this._notifyAllSubscribers("SIGNED_IN",l)}return this._returnResult({data:{user:l.user,session:l},error:null})}catch(r){if(Tt(r))return this._returnResult({data:{session:null,user:null},error:r});throw r}}async refreshSession(t){return await this.initializePromise,await this._acquireLock(-1,async()=>await this._refreshSession(t))}async _refreshSession(t){try{return await this._useSession(async r=>{var i;if(!t){const{data:o,error:u}=r;if(u)throw u;t=(i=o.session)!==null&&i!==void 0?i:void 0}if(!t?.refresh_token)throw new Hr;const{data:n,error:l}=await this._callRefreshToken(t.refresh_token);return l?this._returnResult({data:{user:null,session:null},error:l}):n?this._returnResult({data:{user:n.user,session:n},error:null}):this._returnResult({data:{user:null,session:null},error:null})})}catch(r){if(Tt(r))return this._returnResult({data:{user:null,session:null},error:r});throw r}}async _getSessionFromURL(t,r){try{if(!ir())throw new Ah("No browser detected.");if(t.error||t.error_description||t.error_code)throw new Ah(t.error_description||"Error in URL with unspecified error_description",{error:t.error||"unspecified_error",code:t.error_code||"unspecified_code"});switch(r){case"implicit":if(this.flowType==="pkce")throw new uw("Not a valid PKCE flow url.");break;case"pkce":if(this.flowType==="implicit")throw new Ah("Not a valid implicit grant flow url.");break;default:}if(r==="pkce"){if(this._debug("#_initialize()","begin","is PKCE flow",!0),!t.code)throw new uw("No code detected.");const{data:E,error:O}=await this._exchangeCodeForSession(t.code);if(O)throw O;const L=new URL(window.location.href);return L.searchParams.delete("code"),window.history.replaceState(window.history.state,"",L.toString()),{data:{session:E.session,redirectType:null},error:null}}const{provider_token:i,provider_refresh_token:n,access_token:l,refresh_token:o,expires_in:u,expires_at:h,token_type:d}=t;if(!l||!u||!o||!d)throw new Ah("No session defined in URL");const p=Math.round(Date.now()/1e3),g=parseInt(u);let y=p+g;h&&(y=parseInt(h));const x=y-p;x*1e3<=ol&&console.warn(`@supabase/gotrue-js: Session as retrieved from URL expires in ${x}s, should have been closer to ${g}s`);const v=y-g;p-v>=120?console.warn("@supabase/gotrue-js: Session as retrieved from URL was issued over 120s ago, URL could be stale",v,y,p):p-v<0&&console.warn("@supabase/gotrue-js: Session as retrieved from URL was issued in the future? Check the device clock for skew",v,y,p);const{data:_,error:S}=await this._getUser(l);if(S)throw S;const T={provider_token:i,provider_refresh_token:n,access_token:l,expires_in:g,expires_at:y,refresh_token:o,token_type:d,user:_.user};return window.location.hash="",this._debug("#_getSessionFromURL()","clearing window.location.hash"),this._returnResult({data:{session:T,redirectType:t.type},error:null})}catch(i){if(Tt(i))return this._returnResult({data:{session:null,redirectType:null},error:i});throw i}}_isImplicitGrantCallback(t){return typeof this.detectSessionInUrl=="function"?this.detectSessionInUrl(new URL(window.location.href),t):!!(t.access_token||t.error_description)}async _isPKCECallback(t){const r=await Pn(this.storage,`${this.storageKey}-code-verifier`);return!!(t.code&&r)}async signOut(t={scope:"global"}){return await this.initializePromise,await this._acquireLock(-1,async()=>await this._signOut(t))}async _signOut({scope:t}={scope:"global"}){return await this._useSession(async r=>{var i;const{data:n,error:l}=r;if(l)return this._returnResult({error:l});const o=(i=n.session)===null||i===void 0?void 0:i.access_token;if(o){const{error:u}=await this.admin.signOut(o,t);if(u&&!(ON(u)&&(u.status===404||u.status===401||u.status===403)))return this._returnResult({error:u})}return t!=="others"&&(await this._removeSession(),await er(this.storage,`${this.storageKey}-code-verifier`)),this._returnResult({error:null})})}onAuthStateChange(t){const r=FN(),i={id:r,callback:t,unsubscribe:()=>{this._debug("#unsubscribe()","state change callback with id removed",r),this.stateChangeEmitters.delete(r)}};return this._debug("#onAuthStateChange()","registered callback with id",r),this.stateChangeEmitters.set(r,i),(async()=>(await this.initializePromise,await this._acquireLock(-1,async()=>{this._emitInitialSession(r)})))(),{data:{subscription:i}}}async _emitInitialSession(t){return await this._useSession(async r=>{var i,n;try{const{data:{session:l},error:o}=r;if(o)throw o;await((i=this.stateChangeEmitters.get(t))===null||i===void 0?void 0:i.callback("INITIAL_SESSION",l)),this._debug("INITIAL_SESSION","callback id",t,"session",l)}catch(l){await((n=this.stateChangeEmitters.get(t))===null||n===void 0?void 0:n.callback("INITIAL_SESSION",null)),this._debug("INITIAL_SESSION","callback id",t,"error",l),console.error(l)}})}async resetPasswordForEmail(t,r={}){let i=null,n=null;this.flowType==="pkce"&&([i,n]=await el(this.storage,this.storageKey,!0));try{return await Nt(this.fetch,"POST",`${this.url}/recover`,{body:{email:t,code_challenge:i,code_challenge_method:n,gotrue_meta_security:{captcha_token:r.captchaToken}},headers:this.headers,redirectTo:r.redirectTo})}catch(l){if(await er(this.storage,`${this.storageKey}-code-verifier`),Tt(l))return this._returnResult({data:null,error:l});throw l}}async getUserIdentities(){var t;try{const{data:r,error:i}=await this.getUser();if(i)throw i;return this._returnResult({data:{identities:(t=r.user.identities)!==null&&t!==void 0?t:[]},error:null})}catch(r){if(Tt(r))return this._returnResult({data:null,error:r});throw r}}async linkIdentity(t){return"token"in t?this.linkIdentityIdToken(t):this.linkIdentityOAuth(t)}async linkIdentityOAuth(t){var r;try{const{data:i,error:n}=await this._useSession(async l=>{var o,u,h,d,p;const{data:g,error:y}=l;if(y)throw y;const x=await this._getUrlForProvider(`${this.url}/user/identities/authorize`,t.provider,{redirectTo:(o=t.options)===null||o===void 0?void 0:o.redirectTo,scopes:(u=t.options)===null||u===void 0?void 0:u.scopes,queryParams:(h=t.options)===null||h===void 0?void 0:h.queryParams,skipBrowserRedirect:!0});return await Nt(this.fetch,"GET",x,{headers:this.headers,jwt:(p=(d=g.session)===null||d===void 0?void 0:d.access_token)!==null&&p!==void 0?p:void 0})});if(n)throw n;return ir()&&!(!((r=t.options)===null||r===void 0)&&r.skipBrowserRedirect)&&window.location.assign(i?.url),this._returnResult({data:{provider:t.provider,url:i?.url},error:null})}catch(i){if(Tt(i))return this._returnResult({data:{provider:t.provider,url:null},error:i});throw i}}async linkIdentityIdToken(t){return await this._useSession(async r=>{var i;try{const{error:n,data:{session:l}}=r;if(n)throw n;const{options:o,provider:u,token:h,access_token:d,nonce:p}=t,g=await Nt(this.fetch,"POST",`${this.url}/token?grant_type=id_token`,{headers:this.headers,jwt:(i=l?.access_token)!==null&&i!==void 0?i:void 0,body:{provider:u,id_token:h,access_token:d,nonce:p,link_identity:!0,gotrue_meta_security:{captcha_token:o?.captchaToken}},xform:xi}),{data:y,error:x}=g;return x?this._returnResult({data:{user:null,session:null},error:x}):!y||!y.session||!y.user?this._returnResult({data:{user:null,session:null},error:new tl}):(y.session&&(await this._saveSession(y.session),await this._notifyAllSubscribers("USER_UPDATED",y.session)),this._returnResult({data:y,error:x}))}catch(n){if(await er(this.storage,`${this.storageKey}-code-verifier`),Tt(n))return this._returnResult({data:{user:null,session:null},error:n});throw n}})}async unlinkIdentity(t){try{return await this._useSession(async r=>{var i,n;const{data:l,error:o}=r;if(o)throw o;return await Nt(this.fetch,"DELETE",`${this.url}/user/identities/${t.identity_id}`,{headers:this.headers,jwt:(n=(i=l.session)===null||i===void 0?void 0:i.access_token)!==null&&n!==void 0?n:void 0})})}catch(r){if(Tt(r))return this._returnResult({data:null,error:r});throw r}}async _refreshAccessToken(t){const r=`#_refreshAccessToken(${t.substring(0,5)}...)`;this._debug(r,"begin");try{const i=Date.now();return await qN(async n=>(n>0&&await IN(200*Math.pow(2,n-1)),this._debug(r,"refreshing attempt",n),await Nt(this.fetch,"POST",`${this.url}/token?grant_type=refresh_token`,{body:{refresh_token:t},headers:this.headers,xform:xi})),(n,l)=>{const o=200*Math.pow(2,n);return l&&Vg(l)&&Date.now()+o-i<ol})}catch(i){if(this._debug(r,"error",i),Tt(i))return this._returnResult({data:{session:null,user:null},error:i});throw i}finally{this._debug(r,"end")}}_isValidSession(t){return typeof t=="object"&&t!==null&&"access_token"in t&&"refresh_token"in t&&"expires_at"in t}async _handleProviderSignIn(t,r){const i=await this._getUrlForProvider(`${this.url}/authorize`,t,{redirectTo:r.redirectTo,scopes:r.scopes,queryParams:r.queryParams});return this._debug("#_handleProviderSignIn()","provider",t,"options",r,"url",i),ir()&&!r.skipBrowserRedirect&&window.location.assign(i),{data:{provider:t,url:i},error:null}}async _recoverAndRefresh(){var t,r;const i="#_recoverAndRefresh()";this._debug(i,"begin");try{const n=await Pn(this.storage,this.storageKey);if(n&&this.userStorage){let o=await Pn(this.userStorage,this.storageKey+"-user");!this.storage.isServer&&Object.is(this.storage,this.userStorage)&&!o&&(o={user:n.user},await cl(this.userStorage,this.storageKey+"-user",o)),n.user=(t=o?.user)!==null&&t!==void 0?t:Kg()}else if(n&&!n.user&&!n.user){const o=await Pn(this.storage,this.storageKey+"-user");o&&o?.user?(n.user=o.user,await er(this.storage,this.storageKey+"-user"),await cl(this.storage,this.storageKey,n)):n.user=Kg()}if(this._debug(i,"session from storage",n),!this._isValidSession(n)){this._debug(i,"session is not valid"),n!==null&&await this._removeSession();return}const l=((r=n.expires_at)!==null&&r!==void 0?r:1/0)*1e3-Date.now()<Yg;if(this._debug(i,`session has${l?"":" not"} expired with margin of ${Yg}s`),l){if(this.autoRefreshToken&&n.refresh_token){const{error:o}=await this._callRefreshToken(n.refresh_token);o&&(console.error(o),Vg(o)||(this._debug(i,"refresh failed with a non-retryable error, removing the session",o),await this._removeSession()))}}else if(n.user&&n.user.__isUserNotAvailableProxy===!0)try{const{data:o,error:u}=await this._getUser(n.access_token);!u&&o?.user?(n.user=o.user,await this._saveSession(n),await this._notifyAllSubscribers("SIGNED_IN",n)):this._debug(i,"could not get user data, skipping SIGNED_IN notification")}catch(o){console.error("Error getting user data:",o),this._debug(i,"error getting user data, skipping SIGNED_IN notification",o)}else await this._notifyAllSubscribers("SIGNED_IN",n)}catch(n){this._debug(i,"error",n),console.error(n);return}finally{this._debug(i,"end")}}async _callRefreshToken(t){var r,i;if(!t)throw new Hr;if(this.refreshingDeferred)return this.refreshingDeferred.promise;const n=`#_callRefreshToken(${t.substring(0,5)}...)`;this._debug(n,"begin");try{this.refreshingDeferred=new Kd;const{data:l,error:o}=await this._refreshAccessToken(t);if(o)throw o;if(!l.session)throw new Hr;await this._saveSession(l.session),await this._notifyAllSubscribers("TOKEN_REFRESHED",l.session);const u={data:l.session,error:null};return this.refreshingDeferred.resolve(u),u}catch(l){if(this._debug(n,"error",l),Tt(l)){const o={data:null,error:l};return Vg(l)||await this._removeSession(),(r=this.refreshingDeferred)===null||r===void 0||r.resolve(o),o}throw(i=this.refreshingDeferred)===null||i===void 0||i.reject(l),l}finally{this.refreshingDeferred=null,this._debug(n,"end")}}async _notifyAllSubscribers(t,r,i=!0){const n=`#_notifyAllSubscribers(${t})`;this._debug(n,"begin",r,`broadcast = ${i}`);try{this.broadcastChannel&&i&&this.broadcastChannel.postMessage({event:t,session:r});const l=[],o=Array.from(this.stateChangeEmitters.values()).map(async u=>{try{await u.callback(t,r)}catch(h){l.push(h)}});if(await Promise.all(o),l.length>0){for(let u=0;u<l.length;u+=1)console.error(l[u]);throw l[0]}}finally{this._debug(n,"end")}}async _saveSession(t){this._debug("#_saveSession()",t),this.suppressGetSessionWarning=!0,await er(this.storage,`${this.storageKey}-code-verifier`);const r=Object.assign({},t),i=r.user&&r.user.__isUserNotAvailableProxy===!0;if(this.userStorage){!i&&r.user&&await cl(this.userStorage,this.storageKey+"-user",{user:r.user});const n=Object.assign({},r);delete n.user;const l=gw(n);await cl(this.storage,this.storageKey,l)}else{const n=gw(r);await cl(this.storage,this.storageKey,n)}}async _removeSession(){this._debug("#_removeSession()"),this.suppressGetSessionWarning=!1,await er(this.storage,this.storageKey),await er(this.storage,this.storageKey+"-code-verifier"),await er(this.storage,this.storageKey+"-user"),this.userStorage&&await er(this.userStorage,this.storageKey+"-user"),await this._notifyAllSubscribers("SIGNED_OUT",null)}_removeVisibilityChangedCallback(){this._debug("#_removeVisibilityChangedCallback()");const t=this.visibilityChangedCallback;this.visibilityChangedCallback=null;try{t&&ir()&&window?.removeEventListener&&window.removeEventListener("visibilitychange",t)}catch(r){console.error("removing visibilitychange callback failed",r)}}async _startAutoRefresh(){await this._stopAutoRefresh(),this._debug("#_startAutoRefresh()");const t=setInterval(()=>this._autoRefreshTokenTick(),ol);this.autoRefreshTicker=t,t&&typeof t=="object"&&typeof t.unref=="function"?t.unref():typeof Deno<"u"&&typeof Deno.unrefTimer=="function"&&Deno.unrefTimer(t),setTimeout(async()=>{await this.initializePromise,await this._autoRefreshTokenTick()},0)}async _stopAutoRefresh(){this._debug("#_stopAutoRefresh()");const t=this.autoRefreshTicker;this.autoRefreshTicker=null,t&&clearInterval(t)}async startAutoRefresh(){this._removeVisibilityChangedCallback(),await this._startAutoRefresh()}async stopAutoRefresh(){this._removeVisibilityChangedCallback(),await this._stopAutoRefresh()}async _autoRefreshTokenTick(){this._debug("#_autoRefreshTokenTick()","begin");try{await this._acquireLock(0,async()=>{try{const t=Date.now();try{return await this._useSession(async r=>{const{data:{session:i}}=r;if(!i||!i.refresh_token||!i.expires_at){this._debug("#_autoRefreshTokenTick()","no session");return}const n=Math.floor((i.expires_at*1e3-t)/ol);this._debug("#_autoRefreshTokenTick()",`access token expires in ${n} ticks, a tick lasts ${ol}ms, refresh threshold is ${Nm} ticks`),n<=Nm&&await this._callRefreshToken(i.refresh_token)})}catch(r){console.error("Auto refresh tick failed with error. This is likely a transient error.",r)}}finally{this._debug("#_autoRefreshTokenTick()","end")}})}catch(t){if(t.isAcquireTimeout||t instanceof XS)this._debug("auto refresh token tick lock not available");else throw t}}async _handleVisibilityChange(){if(this._debug("#_handleVisibilityChange()"),!ir()||!window?.addEventListener)return this.autoRefreshToken&&this.startAutoRefresh(),!1;try{this.visibilityChangedCallback=async()=>await this._onVisibilityChanged(!1),window?.addEventListener("visibilitychange",this.visibilityChangedCallback),await this._onVisibilityChanged(!0)}catch(t){console.error("_handleVisibilityChange",t)}}async _onVisibilityChanged(t){const r=`#_onVisibilityChanged(${t})`;this._debug(r,"visibilityState",document.visibilityState),document.visibilityState==="visible"?(this.autoRefreshToken&&this._startAutoRefresh(),t||(await this.initializePromise,await this._acquireLock(-1,async()=>{if(document.visibilityState!=="visible"){this._debug(r,"acquired the lock to recover the session, but the browser visibilityState is no longer visible, aborting");return}await this._recoverAndRefresh()}))):document.visibilityState==="hidden"&&this.autoRefreshToken&&this._stopAutoRefresh()}async _getUrlForProvider(t,r,i){const n=[`provider=${encodeURIComponent(r)}`];if(i?.redirectTo&&n.push(`redirect_to=${encodeURIComponent(i.redirectTo)}`),i?.scopes&&n.push(`scopes=${encodeURIComponent(i.scopes)}`),this.flowType==="pkce"){const[l,o]=await el(this.storage,this.storageKey),u=new URLSearchParams({code_challenge:`${encodeURIComponent(l)}`,code_challenge_method:`${encodeURIComponent(o)}`});n.push(u.toString())}if(i?.queryParams){const l=new URLSearchParams(i.queryParams);n.push(l.toString())}return i?.skipBrowserRedirect&&n.push(`skip_http_redirect=${i.skipBrowserRedirect}`),`${t}?${n.join("&")}`}async _unenroll(t){try{return await this._useSession(async r=>{var i;const{data:n,error:l}=r;return l?this._returnResult({data:null,error:l}):await Nt(this.fetch,"DELETE",`${this.url}/factors/${t.factorId}`,{headers:this.headers,jwt:(i=n?.session)===null||i===void 0?void 0:i.access_token})})}catch(r){if(Tt(r))return this._returnResult({data:null,error:r});throw r}}async _enroll(t){try{return await this._useSession(async r=>{var i,n;const{data:l,error:o}=r;if(o)return this._returnResult({data:null,error:o});const u=Object.assign({friendly_name:t.friendlyName,factor_type:t.factorType},t.factorType==="phone"?{phone:t.phone}:t.factorType==="totp"?{issuer:t.issuer}:{}),{data:h,error:d}=await Nt(this.fetch,"POST",`${this.url}/factors`,{body:u,headers:this.headers,jwt:(i=l?.session)===null||i===void 0?void 0:i.access_token});return d?this._returnResult({data:null,error:d}):(t.factorType==="totp"&&h.type==="totp"&&(!((n=h?.totp)===null||n===void 0)&&n.qr_code)&&(h.totp.qr_code=`data:image/svg+xml;utf-8,${h.totp.qr_code}`),this._returnResult({data:h,error:null}))})}catch(r){if(Tt(r))return this._returnResult({data:null,error:r});throw r}}async _verify(t){return this._acquireLock(-1,async()=>{try{return await this._useSession(async r=>{var i;const{data:n,error:l}=r;if(l)return this._returnResult({data:null,error:l});const o=Object.assign({challenge_id:t.challengeId},"webauthn"in t?{webauthn:Object.assign(Object.assign({},t.webauthn),{credential_response:t.webauthn.type==="create"?x3(t.webauthn.credential_response):v3(t.webauthn.credential_response)})}:{code:t.code}),{data:u,error:h}=await Nt(this.fetch,"POST",`${this.url}/factors/${t.factorId}/verify`,{body:o,headers:this.headers,jwt:(i=n?.session)===null||i===void 0?void 0:i.access_token});return h?this._returnResult({data:null,error:h}):(await this._saveSession(Object.assign({expires_at:Math.round(Date.now()/1e3)+u.expires_in},u)),await this._notifyAllSubscribers("MFA_CHALLENGE_VERIFIED",u),this._returnResult({data:u,error:h}))})}catch(r){if(Tt(r))return this._returnResult({data:null,error:r});throw r}})}async _challenge(t){return this._acquireLock(-1,async()=>{try{return await this._useSession(async r=>{var i;const{data:n,error:l}=r;if(l)return this._returnResult({data:null,error:l});const o=await Nt(this.fetch,"POST",`${this.url}/factors/${t.factorId}/challenge`,{body:t,headers:this.headers,jwt:(i=n?.session)===null||i===void 0?void 0:i.access_token});if(o.error)return o;const{data:u}=o;if(u.type!=="webauthn")return{data:u,error:null};switch(u.webauthn.type){case"create":return{data:Object.assign(Object.assign({},u),{webauthn:Object.assign(Object.assign({},u.webauthn),{credential_options:Object.assign(Object.assign({},u.webauthn.credential_options),{publicKey:y3(u.webauthn.credential_options.publicKey)})})}),error:null};case"request":return{data:Object.assign(Object.assign({},u),{webauthn:Object.assign(Object.assign({},u.webauthn),{credential_options:Object.assign(Object.assign({},u.webauthn.credential_options),{publicKey:b3(u.webauthn.credential_options.publicKey)})})}),error:null}}})}catch(r){if(Tt(r))return this._returnResult({data:null,error:r});throw r}})}async _challengeAndVerify(t){const{data:r,error:i}=await this._challenge({factorId:t.factorId});return i?this._returnResult({data:null,error:i}):await this._verify({factorId:t.factorId,challengeId:r.id,code:t.code})}async _listFactors(){var t;const{data:{user:r},error:i}=await this.getUser();if(i)return{data:null,error:i};const n={all:[],phone:[],totp:[],webauthn:[]};for(const l of(t=r?.factors)!==null&&t!==void 0?t:[])n.all.push(l),l.status==="verified"&&n[l.factor_type].push(l);return{data:n,error:null}}async _getAuthenticatorAssuranceLevel(){var t,r;const{data:{session:i},error:n}=await this.getSession();if(n)return this._returnResult({data:null,error:n});if(!i)return{data:{currentLevel:null,nextLevel:null,currentAuthenticationMethods:[]},error:null};const{payload:l}=Xg(i.access_token);let o=null;l.aal&&(o=l.aal);let u=o;((r=(t=i.user.factors)===null||t===void 0?void 0:t.filter(p=>p.status==="verified"))!==null&&r!==void 0?r:[]).length>0&&(u="aal2");const d=l.amr||[];return{data:{currentLevel:o,nextLevel:u,currentAuthenticationMethods:d},error:null}}async _getAuthorizationDetails(t){try{return await this._useSession(async r=>{const{data:{session:i},error:n}=r;return n?this._returnResult({data:null,error:n}):i?await Nt(this.fetch,"GET",`${this.url}/oauth/authorizations/${t}`,{headers:this.headers,jwt:i.access_token,xform:l=>({data:l,error:null})}):this._returnResult({data:null,error:new Hr})})}catch(r){if(Tt(r))return this._returnResult({data:null,error:r});throw r}}async _approveAuthorization(t,r){try{return await this._useSession(async i=>{const{data:{session:n},error:l}=i;if(l)return this._returnResult({data:null,error:l});if(!n)return this._returnResult({data:null,error:new Hr});const o=await Nt(this.fetch,"POST",`${this.url}/oauth/authorizations/${t}/consent`,{headers:this.headers,jwt:n.access_token,body:{action:"approve"},xform:u=>({data:u,error:null})});return o.data&&o.data.redirect_url&&ir()&&!r?.skipBrowserRedirect&&window.location.assign(o.data.redirect_url),o})}catch(i){if(Tt(i))return this._returnResult({data:null,error:i});throw i}}async _denyAuthorization(t,r){try{return await this._useSession(async i=>{const{data:{session:n},error:l}=i;if(l)return this._returnResult({data:null,error:l});if(!n)return this._returnResult({data:null,error:new Hr});const o=await Nt(this.fetch,"POST",`${this.url}/oauth/authorizations/${t}/consent`,{headers:this.headers,jwt:n.access_token,body:{action:"deny"},xform:u=>({data:u,error:null})});return o.data&&o.data.redirect_url&&ir()&&!r?.skipBrowserRedirect&&window.location.assign(o.data.redirect_url),o})}catch(i){if(Tt(i))return this._returnResult({data:null,error:i});throw i}}async _listOAuthGrants(){try{return await this._useSession(async t=>{const{data:{session:r},error:i}=t;return i?this._returnResult({data:null,error:i}):r?await Nt(this.fetch,"GET",`${this.url}/user/oauth/grants`,{headers:this.headers,jwt:r.access_token,xform:n=>({data:n,error:null})}):this._returnResult({data:null,error:new Hr})})}catch(t){if(Tt(t))return this._returnResult({data:null,error:t});throw t}}async _revokeOAuthGrant(t){try{return await this._useSession(async r=>{const{data:{session:i},error:n}=r;return n?this._returnResult({data:null,error:n}):i?(await Nt(this.fetch,"DELETE",`${this.url}/user/oauth/grants`,{headers:this.headers,jwt:i.access_token,query:{client_id:t.clientId},noResolveJson:!0}),{data:{},error:null}):this._returnResult({data:null,error:new Hr})})}catch(r){if(Tt(r))return this._returnResult({data:null,error:r});throw r}}async fetchJwk(t,r={keys:[]}){let i=r.keys.find(u=>u.kid===t);if(i)return i;const n=Date.now();if(i=this.jwks.keys.find(u=>u.kid===t),i&&this.jwks_cached_at+EN>n)return i;const{data:l,error:o}=await Nt(this.fetch,"GET",`${this.url}/.well-known/jwks.json`,{headers:this.headers});if(o)throw o;return!l.keys||l.keys.length===0||(this.jwks=l,this.jwks_cached_at=n,i=l.keys.find(u=>u.kid===t),!i)?null:i}async getClaims(t,r={}){try{let i=t;if(!i){const{data:x,error:v}=await this.getSession();if(v||!x.session)return this._returnResult({data:null,error:v});i=x.session.access_token}const{header:n,payload:l,signature:o,raw:{header:u,payload:h}}=Xg(i);r?.allowExpired||KN(l.exp);const d=!n.alg||n.alg.startsWith("HS")||!n.kid||!("crypto"in globalThis&&"subtle"in globalThis.crypto)?null:await this.fetchJwk(n.kid,r?.keys?{keys:r.keys}:r?.jwks);if(!d){const{error:x}=await this.getUser(i);if(x)throw x;return{data:{claims:l,header:n,signature:o},error:null}}const p=QN(n.alg),g=await crypto.subtle.importKey("jwk",d,p,!0,["verify"]);if(!await crypto.subtle.verify(p,g,o,$N(`${u}.${h}`)))throw new $m("Invalid JWT signature");return{data:{claims:l,header:n,signature:o},error:null}}catch(i){if(Tt(i))return this._returnResult({data:null,error:i});throw i}}}Lc.nextInstanceID={};const O3=Lc,R3="2.89.0";let oc="";typeof Deno<"u"?oc="deno":typeof document<"u"?oc="web":typeof navigator<"u"&&navigator.product==="ReactNative"?oc="react-native":oc="node";const L3={"X-Client-Info":`supabase-js-${oc}/${R3}`},M3={headers:L3},B3={schema:"public"},N3={autoRefreshToken:!0,persistSession:!0,detectSessionInUrl:!0,flowType:"implicit"},D3={};function Mc(e){"@babel/helpers - typeof";return Mc=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(t){return typeof t}:function(t){return t&&typeof Symbol=="function"&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},Mc(e)}function j3(e,t){if(Mc(e)!="object"||!e)return e;var r=e[Symbol.toPrimitive];if(r!==void 0){var i=r.call(e,t);if(Mc(i)!="object")return i;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}function $3(e){var t=j3(e,"string");return Mc(t)=="symbol"?t:t+""}function z3(e,t,r){return(t=$3(t))in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function ww(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(e);t&&(i=i.filter(function(n){return Object.getOwnPropertyDescriptor(e,n).enumerable})),r.push.apply(r,i)}return r}function Ce(e){for(var t=1;t<arguments.length;t++){var r=arguments[t]!=null?arguments[t]:{};t%2?ww(Object(r),!0).forEach(function(i){z3(e,i,r[i])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):ww(Object(r)).forEach(function(i){Object.defineProperty(e,i,Object.getOwnPropertyDescriptor(r,i))})}return e}const F3=e=>e?(...t)=>e(...t):(...t)=>fetch(...t),P3=()=>Headers,U3=(e,t,r)=>{const i=F3(r),n=P3();return async(l,o)=>{var u;const h=(u=await t())!==null&&u!==void 0?u:e;let d=new n(o?.headers);return d.has("apikey")||d.set("apikey",e),d.has("Authorization")||d.set("Authorization",`Bearer ${h}`),i(l,Ce(Ce({},o),{},{headers:d}))}};function I3(e){return e.endsWith("/")?e:e+"/"}function q3(e,t){var r,i;const{db:n,auth:l,realtime:o,global:u}=e,{db:h,auth:d,realtime:p,global:g}=t,y={db:Ce(Ce({},h),n),auth:Ce(Ce({},d),l),realtime:Ce(Ce({},p),o),storage:{},global:Ce(Ce(Ce({},g),u),{},{headers:Ce(Ce({},(r=g?.headers)!==null&&r!==void 0?r:{}),(i=u?.headers)!==null&&i!==void 0?i:{})}),accessToken:async()=>""};return e.accessToken?y.accessToken=e.accessToken:delete y.accessToken,y}function H3(e){const t=e?.trim();if(!t)throw new Error("supabaseUrl is required.");if(!t.match(/^https?:\/\//i))throw new Error("Invalid supabaseUrl: Must be a valid HTTP or HTTPS URL.");try{return new URL(I3(t))}catch{throw Error("Invalid supabaseUrl: Provided URL is malformed.")}}var W3=class extends O3{constructor(e){super(e)}},G3=class{constructor(e,t,r){var i,n;this.supabaseUrl=e,this.supabaseKey=t;const l=H3(e);if(!t)throw new Error("supabaseKey is required.");this.realtimeUrl=new URL("realtime/v1",l),this.realtimeUrl.protocol=this.realtimeUrl.protocol.replace("http","ws"),this.authUrl=new URL("auth/v1",l),this.storageUrl=new URL("storage/v1",l),this.functionsUrl=new URL("functions/v1",l);const o=`sb-${l.hostname.split(".")[0]}-auth-token`,u={db:B3,realtime:D3,auth:Ce(Ce({},N3),{},{storageKey:o}),global:M3},h=q3(r??{},u);if(this.storageKey=(i=h.auth.storageKey)!==null&&i!==void 0?i:"",this.headers=(n=h.global.headers)!==null&&n!==void 0?n:{},h.accessToken)this.accessToken=h.accessToken,this.auth=new Proxy({},{get:(p,g)=>{throw new Error(`@supabase/supabase-js: Supabase Client is configured with the accessToken option, accessing supabase.auth.${String(g)} is not possible`)}});else{var d;this.auth=this._initSupabaseAuthClient((d=h.auth)!==null&&d!==void 0?d:{},this.headers,h.global.fetch)}this.fetch=U3(t,this._getAccessToken.bind(this),h.global.fetch),this.realtime=this._initRealtimeClient(Ce({headers:this.headers,accessToken:this._getAccessToken.bind(this)},h.realtime)),this.accessToken&&this.accessToken().then(p=>this.realtime.setAuth(p)).catch(p=>console.warn("Failed to set initial Realtime auth token:",p)),this.rest=new CB(new URL("rest/v1",l).href,{headers:this.headers,schema:h.db.schema,fetch:this.fetch}),this.storage=new wN(this.storageUrl.href,this.headers,this.fetch,r?.storage),h.accessToken||this._listenForAuthEvents()}get functions(){return new vB(this.functionsUrl.href,{headers:this.headers,customFetch:this.fetch})}from(e){return this.rest.from(e)}schema(e){return this.rest.schema(e)}rpc(e,t={},r={head:!1,get:!1,count:void 0}){return this.rest.rpc(e,t,r)}channel(e,t={config:{}}){return this.realtime.channel(e,t)}getChannels(){return this.realtime.getChannels()}removeChannel(e){return this.realtime.removeChannel(e)}removeAllChannels(){return this.realtime.removeAllChannels()}async _getAccessToken(){var e=this,t,r;if(e.accessToken)return await e.accessToken();const{data:i}=await e.auth.getSession();return(t=(r=i.session)===null||r===void 0?void 0:r.access_token)!==null&&t!==void 0?t:e.supabaseKey}_initSupabaseAuthClient({autoRefreshToken:e,persistSession:t,detectSessionInUrl:r,storage:i,userStorage:n,storageKey:l,flowType:o,lock:u,debug:h,throwOnError:d},p,g){const y={Authorization:`Bearer ${this.supabaseKey}`,apikey:`${this.supabaseKey}`};return new W3({url:this.authUrl.href,headers:Ce(Ce({},y),p),storageKey:l,autoRefreshToken:e,persistSession:t,detectSessionInUrl:r,storage:i,userStorage:n,flowType:o,lock:u,debug:h,throwOnError:d,fetch:g,hasCustomAuthorizationHeader:Object.keys(this.headers).some(x=>x.toLowerCase()==="authorization")})}_initRealtimeClient(e){return new IB(this.realtimeUrl.href,Ce(Ce({},e),{},{params:Ce(Ce({},{apikey:this.supabaseKey}),e?.params)}))}_listenForAuthEvents(){return this.auth.onAuthStateChange((e,t)=>{this._handleTokenChanged(e,"CLIENT",t?.access_token)})}_handleTokenChanged(e,t,r){(e==="TOKEN_REFRESHED"||e==="SIGNED_IN")&&this.changedAccessToken!==r?(this.changedAccessToken=r,this.realtime.setAuth(r)):e==="SIGNED_OUT"&&(this.realtime.setAuth(),t=="STORAGE"&&this.auth.signOut(),this.changedAccessToken=void 0)}};const Y3=(e,t,r)=>new G3(e,t,r);function V3(){if(typeof window<"u"||typeof process>"u")return!1;const e=process.version;if(e==null)return!1;const t=e.match(/^v(\d+)\./);return t?parseInt(t[1],10)<=18:!1}V3()&&console.warn("  Node.js 18 and below are deprecated and will no longer be supported in future versions of @supabase/supabase-js. Please upgrade to Node.js 20 or later. For more information, visit: https://github.com/orgs/supabase/discussions/37217");const X3="https://xbvsnolaqtiiralhediv.supabase.co",K3="sb_publishable_GSXFNEoismbrULkhNepKWg_enfVovF_",Ie=Y3(X3,K3);function Q3({children:e}){const[t,r]=W.useState(null),[i,n]=W.useState(null),[l,o]=W.useState(!0);W.useEffect(()=>{Ie.auth.getSession().then(({data:{session:g}})=>{n(g),r(g?.user??null),o(!1)});const{data:{subscription:p}}=Ie.auth.onAuthStateChange((g,y)=>{n(y),r(y?.user??null),o(!1)});return()=>p.unsubscribe()},[]);const d={user:t,session:i,loading:l,signIn:async(p,g)=>{const{data:y,error:x}=await Ie.auth.signInWithPassword({email:p,password:g});if(x)throw x;return y},signOut:async()=>{const{error:p}=await Ie.auth.signOut();if(p)throw p}};return C.jsx(NS.Provider,{value:d,children:e})}function Zg(e=null){const[t,r]=W.useState([]),[i,n]=W.useState(!0),[l,o]=W.useState(null);return W.useEffect(()=>{async function u(){try{n(!0),o(null);let h=Ie.from("projects").select("*").eq("visibility",!0).order("start_date",{ascending:!1});e&&(h=h.eq("category",e));const{data:d,error:p}=await h;if(p)throw p;r(d||[])}catch(h){console.error("Error fetching projects:",h),o(h.message)}finally{n(!1)}}u()},[e]),{projects:t,loading:i,error:l}}function Z3(e,t=300){const[r,i]=W.useState(e);return W.useEffect(()=>{const n=setTimeout(()=>i(e),t);return()=>clearTimeout(n)},[e,t]),r}function J3(){const e=W.useContext(BS);if(!e)throw new Error("useTheme must be used within a ThemeProvider");return e}function mt({name:e,className:t=""}){return C.jsx("span",{className:`material-symbols-outlined ${t}`,children:e})}function tD(){const{theme:e,toggleTheme:t}=J3();return C.jsx("button",{onClick:t,className:"w-10 h-10 flex items-center justify-center rounded-full bg-card-light dark:bg-card-dark border border-border-light dark:border-border-dark text-text-secondary-light dark:text-text-secondary-dark hover:text-primary hover:border-primary transition-colors shadow-sm","aria-label":e==="dark"?"Switch to light mode":"Switch to dark mode",children:C.jsx(mt,{name:e==="dark"?"light_mode":"dark_mode"})})}const eD=[{label:"Featured",href:"/#featured"},{label:"Projects",href:"/#projects"},{label:"Labs & Playground",href:"/#labs"}];function qh(){return C.jsx("header",{className:"sticky top-0 z-50 w-full bg-card-light dark:bg-card-dark border-b border-border-light dark:border-border-dark backdrop-blur-sm bg-opacity-90 dark:bg-opacity-90",children:C.jsxs("div",{className:"max-w-[960px] mx-auto px-4 py-4 flex items-center justify-between",children:[C.jsx(Br,{to:"/",className:"text-text-primary-light dark:text-text-primary-dark hover:text-primary transition-colors font-bold",children:"JaeHong's Portfolio"}),C.jsxs("div",{className:"flex items-center gap-6",children:[C.jsx("nav",{className:"hidden md:flex items-center gap-6",children:eD.map(e=>C.jsx(Br,{to:e.href,className:"text-sm text-text-secondary-light dark:text-text-secondary-dark hover:text-primary transition-colors",children:e.label},e.label))}),C.jsx(tD,{})]})]})})}function rD({value:e,onChange:t,placeholder:r="Search..."}){return C.jsxs("div",{className:"relative w-full",children:[C.jsx("div",{className:"absolute inset-y-0 left-0 pl-3 flex items-center pointer-events-none",children:C.jsx(mt,{name:"search",className:"text-text-secondary-light dark:text-text-secondary-dark"})}),C.jsx("input",{type:"text",value:e,onChange:i=>t(i.target.value),className:"block w-full pl-10 pr-3 py-3 border border-border-light dark:border-border-dark rounded-xl leading-5 bg-card-light dark:bg-card-dark text-text-primary-light dark:text-text-primary-dark placeholder-text-secondary-light focus:outline-none focus:ring-2 focus:ring-primary focus:border-primary sm:text-lg shadow-sm",placeholder:r})]})}function iD({tags:e,onTagClick:t}){return C.jsxs("div",{className:"flex flex-wrap items-center gap-2 text-sm",children:[C.jsx("span",{className:"text-text-secondary-light dark:text-text-secondary-dark font-medium mr-1",children:"Recommended:"}),e.map(r=>C.jsx("button",{onClick:()=>t?.(r),className:"px-3 py-1 bg-card-light dark:bg-card-dark border border-border-light dark:border-border-dark hover:border-primary hover:text-primary rounded-full transition-colors text-text-secondary-light dark:text-text-secondary-dark",children:r},r))]})}function Sw({title:e,icon:t,children:r,defaultOpen:i=!1}){return C.jsxs("details",{className:"group/accordion",open:i,children:[C.jsx("summary",{className:"list-none cursor-pointer",children:C.jsxs("div",{className:"flex items-center justify-between pb-2 border-b border-border-light dark:border-border-dark hover:border-primary/50 transition-colors",children:[C.jsxs("div",{className:"flex items-center gap-3",children:[C.jsx(mt,{name:t,className:"text-text-secondary-light dark:text-text-secondary-dark group-hover/accordion:text-primary transition-colors"}),C.jsx("h2",{className:"text-2xl font-bold text-text-primary-light dark:text-text-primary-dark group-hover/accordion:text-primary transition-colors",children:e})]}),C.jsx(mt,{name:"expand_more",className:"text-text-secondary-light dark:text-text-secondary-dark transform group-open/accordion:rotate-180 transition-transform duration-300"})]})}),C.jsx("div",{className:"pt-8",children:r})]})}function ZS({label:e,variant:t="default"}){const r="px-2.5 py-1 text-xs font-medium rounded-md",i={default:"bg-background-light dark:bg-card-dark text-text-secondary-light dark:text-text-secondary-dark border border-border-light dark:border-border-dark",primary:"bg-primary/10 text-primary border border-primary/20"};return C.jsx("span",{className:`${r} ${i[t]}`,children:e})}function aD({project:e}){const{id:t,title:r,description:i,thumbnail_url:n,proj_cover_image_url:l,tags:o=[]}=e,u=l||n,h=p=>p?new Date(p).toLocaleDateString("ko-KR",{year:"numeric",month:"short"}):"",d=e.end_date?`${h(e.start_date)} - ${h(e.end_date)}`:`${h(e.start_date)} - Present`;return C.jsx(Br,{to:`/project/${t}`,children:C.jsxs("article",{className:"neumorphic-card rounded-2xl overflow-hidden p-5",children:[C.jsx("div",{className:"neumorphic-inset aspect-video w-full rounded-xl overflow-hidden",children:u?C.jsx("div",{className:"w-full h-full bg-cover bg-center hover:scale-105 transition-transform duration-500",style:{backgroundImage:`url('${u}')`}}):C.jsx("div",{className:"w-full h-full flex items-center justify-center text-text-secondary-light dark:text-text-secondary-dark",children:C.jsx("span",{className:"material-symbols-outlined text-4xl",children:"image"})})}),C.jsxs("div",{className:"pt-4 flex flex-col gap-3",children:[C.jsxs("div",{children:[C.jsxs("div",{className:"flex items-center justify-between mb-2",children:[C.jsx("h3",{className:"text-lg font-semibold text-text-primary-light dark:text-text-primary-dark",children:r}),C.jsx("span",{className:"text-xs text-text-secondary-light dark:text-text-secondary-dark",children:d})]}),i&&C.jsx("p",{className:"text-text-secondary-light dark:text-text-secondary-dark text-sm leading-relaxed line-clamp-2",children:i})]}),o.length>0&&C.jsx("div",{className:"mt-auto flex flex-wrap gap-2",children:o.map(p=>C.jsx(ZS,{label:p},p))})]})]})})}function nD({project:e,icon:t="folder"}){const{id:r,title:i,description:n,tags:l=[]}=e;return C.jsx(Br,{to:`/project/${r}`,className:"block",children:C.jsxs("div",{className:"neumorphic-card rounded-2xl p-5 h-full",children:[C.jsxs("div",{className:"flex items-center justify-between mb-4",children:[C.jsx("div",{className:"neumorphic-inset p-3 rounded-xl",children:C.jsx(mt,{name:t,className:"text-[24px] text-primary"})}),C.jsx(mt,{name:"arrow_forward",className:"text-text-secondary-light dark:text-text-secondary-dark opacity-50 group-hover:opacity-100 transition-opacity text-[20px]"})]}),C.jsx("h3",{className:"font-semibold text-lg text-text-primary-light dark:text-text-primary-dark mb-2",children:i}),n&&C.jsx("p",{className:"text-sm text-text-secondary-light dark:text-text-secondary-dark mb-4 line-clamp-2",children:n}),l.length>0&&C.jsx("div",{className:"flex gap-2 flex-wrap mt-auto",children:l.slice(0,3).map(o=>C.jsx("span",{className:"text-xs font-medium text-text-secondary-light dark:text-text-secondary-dark bg-white/50 dark:bg-black/20 px-2 py-1 rounded-lg",children:o},o))})]})})}function sD({project:e,icon:t="science"}){const{id:r,title:i,description:n}=e;return C.jsx(Br,{to:`/project/${r}`,className:"block",children:C.jsxs("div",{className:"neumorphic-card rounded-2xl p-4",children:[C.jsx("div",{className:"neumorphic-inset h-20 rounded-xl mb-3 flex items-center justify-center",children:C.jsx(mt,{name:t,className:"text-3xl text-primary"})}),C.jsx("h4",{className:"font-semibold text-text-primary-light dark:text-text-primary-dark text-sm",children:i}),n&&C.jsx("p",{className:"text-xs text-text-secondary-light dark:text-text-secondary-dark mt-1 line-clamp-1",children:n})]})})}function es(){const e=new Date().getFullYear(),t=[{label:"GitHub",href:"https://github.com/MealWithoutSoup"},{label:"LinkedIn",href:"https://linkedin.com/in/jaehong-kim-1b706b26b"},{label:"Email",href:"mailto:asdr111324@gmail.com"}];return C.jsx("footer",{className:"w-full border-t border-border-light dark:border-border-dark mt-auto",children:C.jsxs("div",{className:"w-full lg:w-[70%] max-w-5xl mx-auto px-6 py-8 flex flex-col md:flex-row justify-between items-center gap-4",children:[C.jsxs("p",{className:"text-sm text-text-secondary-light dark:text-text-secondary-dark",children:[" ",e," Jae Hong Kim. All rights reserved."]}),C.jsx("div",{className:"flex gap-6",children:t.map(r=>C.jsx("a",{href:r.href,className:"text-sm text-text-secondary-light dark:text-text-secondary-dark hover:text-primary transition-colors",children:r.label},r.label))})]})})}const lD=["Langgraph","FastAPI","React","Docker"],kw=["dataset","palette","shopping_cart","code","memory","cloud"],Cw=["blue","purple","orange","green","red","blue"],Tw=["brush","animation","functions","terminal","science","auto_awesome"],Ew=["indigo","green","orange","gray","blue","pink"],Jg=(e,t)=>{if(!t.trim())return e;const r=t.toLowerCase();return e.filter(i=>i.title?.toLowerCase().includes(r)||i.proj_description?.toLowerCase().includes(r)||i.tags?.some(n=>n.toLowerCase().includes(r)))};function oD(){const[e,t]=uB(),[r,i]=W.useState(e.get("q")||""),n=Z3(r,300),{projects:l,loading:o}=Zg("featured"),{projects:u,loading:h}=Zg("projects"),{projects:d,loading:p}=Zg("labs");W.useEffect(()=>{n?t({q:n},{replace:!0}):t({},{replace:!0})},[n,t]);const g=W.useMemo(()=>Jg(l,r),[l,r]),y=W.useMemo(()=>Jg(u,r),[u,r]),x=W.useMemo(()=>Jg(d,r),[d,r]),v=r.trim().length>0,_=S=>{i(S)};return C.jsxs("div",{className:"min-h-screen flex flex-col bg-background-light dark:bg-background-dark",children:[C.jsx(qh,{}),C.jsxs("main",{className:"w-full lg:w-[70%] max-w-5xl mx-auto flex-grow flex flex-col px-6 py-12 md:py-16 gap-12",children:[C.jsxs("section",{className:"flex flex-col gap-4",children:[C.jsx(rD,{value:r,onChange:i,placeholder:"Search projects, labs, or technologies..."}),C.jsx(iD,{tags:lD,onTagClick:_})]}),C.jsxs("section",{id:"featured",className:"flex flex-col gap-8 scroll-mt-20",children:[C.jsxs("div",{className:"flex items-center gap-3 pb-2 border-b border-border-light dark:border-border-dark",children:[C.jsx(mt,{name:"star",className:"text-primary"}),C.jsx("h2",{className:"text-2xl font-bold text-text-primary-light dark:text-text-primary-dark",children:"Featured Work"})]}),o?C.jsx("div",{className:"flex items-center justify-center py-12",children:C.jsx(mt,{name:"progress_activity",className:"text-primary animate-spin text-3xl"})}):g.length>0?C.jsx("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-8",children:g.map(S=>C.jsx(aD,{project:S},S.id))}):v?C.jsxs("div",{className:"flex flex-col items-center py-12 text-text-secondary-light dark:text-text-secondary-dark",children:[C.jsx(mt,{name:"search_off",className:"text-5xl mb-3"}),C.jsxs("p",{children:['"',r,'"  Featured   ']})]}):C.jsx("p",{className:"text-text-secondary-light dark:text-text-secondary-dark text-center py-8",children:"No featured projects yet."})]}),C.jsx("section",{id:"projects",className:"scroll-mt-20",children:C.jsx(Sw,{title:`Projects (${y.length})`,icon:"folder_open",children:h?C.jsx("div",{className:"flex items-center justify-center py-8",children:C.jsx(mt,{name:"progress_activity",className:"text-primary animate-spin text-3xl"})}):y.length>0?C.jsx("div",{className:"grid grid-cols-1 md:grid-cols-3 gap-6",children:y.map((S,T)=>C.jsx(nD,{project:S,icon:kw[T%kw.length],iconColor:Cw[T%Cw.length]},S.id))}):v?C.jsxs("div",{className:"flex flex-col items-center py-8 text-text-secondary-light dark:text-text-secondary-dark",children:[C.jsx(mt,{name:"search_off",className:"text-5xl mb-3"}),C.jsxs("p",{children:['"',r,'"  Projects   ']})]}):C.jsx("p",{className:"text-text-secondary-light dark:text-text-secondary-dark text-center py-8",children:"No projects yet."})})}),C.jsx("section",{id:"labs",className:"scroll-mt-20",children:C.jsx(Sw,{title:`Labs & Playground (${x.length})`,icon:"science",children:p?C.jsx("div",{className:"flex items-center justify-center py-8",children:C.jsx(mt,{name:"progress_activity",className:"text-primary animate-spin text-3xl"})}):x.length>0?C.jsx("div",{className:"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-4 gap-4",children:x.map((S,T)=>C.jsx(sD,{project:S,icon:Tw[T%Tw.length],gradient:Ew[T%Ew.length]},S.id))}):v?C.jsxs("div",{className:"flex flex-col items-center py-8 text-text-secondary-light dark:text-text-secondary-dark",children:[C.jsx(mt,{name:"search_off",className:"text-5xl mb-3"}),C.jsxs("p",{children:['"',r,'"  Labs   ']})]}):C.jsx("p",{className:"text-text-secondary-light dark:text-text-secondary-dark text-center py-8",children:"No labs yet."})})})]}),C.jsx(es,{})]})}function cD(e){const[t,r]=W.useState(null),[i,n]=W.useState([]),[l,o]=W.useState(!0),[u,h]=W.useState(null);return W.useEffect(()=>{if(!e){o(!1);return}async function d(){try{o(!0),h(null);const{data:p,error:g}=await Ie.from("projects").select(`
            *,
            project_challenges (
              id,
              core_challenge,
              image_url,
              mermaid_syntax,
              problem_items,
              solution_items,
              result_items,
              display_order
            )
          `).eq("id",e).eq("visibility",!0).single();if(g)throw g;if(p){const{project_challenges:y,...x}=p;r(x);const v=(y||[]).sort((_,S)=>_.display_order-S.display_order);n(v)}}catch(p){console.error("Error fetching project detail:",p),h(p.message)}finally{o(!1)}}d()},[e]),{project:t,challenges:i,loading:l,error:u}}function uD({items:e}){return C.jsx("nav",{className:"flex items-center gap-2 text-sm",children:e.map((t,r)=>C.jsxs("span",{className:"flex items-center gap-2",children:[r>0&&C.jsx("span",{className:"text-text-secondary-light dark:text-text-secondary-dark",children:"/"}),t.href?C.jsx(Br,{to:t.href,className:"text-text-secondary-light dark:text-text-secondary-dark hover:text-primary transition-colors",children:t.label}):C.jsx("span",{className:"font-medium text-primary",children:t.label})]},r))})}function hD({challenge:e}){const{core_challenge:t}=e;return C.jsxs("div",{className:"bg-card-light dark:bg-card-dark rounded-xl p-6 md:p-8 shadow-sm border border-border-light dark:border-border-dark border-l-4 border-l-primary",children:[C.jsxs("div",{className:"flex items-center gap-2 text-primary font-bold uppercase text-xs tracking-wider mb-4",children:[C.jsx(mt,{name:"flag",className:"text-lg"}),C.jsx("span",{children:"Core Challenge"})]}),C.jsx("p",{className:"text-lg md:text-xl leading-relaxed text-text-primary-light dark:text-text-secondary-dark",children:t})]})}function dD({text:e,bulletColor:t}){return C.jsxs("li",{className:"flex items-start gap-3",children:[C.jsx("span",{className:`mt-1.5 size-1.5 rounded-full ${t} shrink-0`}),C.jsx("span",{className:"text-sm md:text-base leading-relaxed text-text-secondary-light dark:text-text-secondary-dark",children:e})]})}function tm({title:e,icon:t,items:r,bulletColor:i,headerColor:n}){return!r||r.length===0?null:C.jsxs("div",{className:"flex flex-col gap-4",children:[C.jsxs("h3",{className:`text-lg font-bold flex items-center gap-2 border-b border-border-light dark:border-border-dark pb-2 ${n}`,children:[C.jsx(mt,{name:t,className:"text-xl"}),e]}),C.jsx("ul",{className:"flex flex-col gap-3",children:r.map((l,o)=>C.jsx(dD,{text:l,bulletColor:i},o))})]})}function fD({problemItems:e,solutionItems:t,resultItems:r}){return C.jsxs("div",{className:"grid grid-cols-1 lg:grid-cols-3 gap-8",children:[C.jsx(tm,{title:"Problem",icon:"error_outline",items:e,bulletColor:"bg-red-500",headerColor:"text-red-600 dark:text-red-400"}),C.jsx(tm,{title:"Solution",icon:"lightbulb",items:t,bulletColor:"bg-primary",headerColor:"text-primary"}),C.jsx(tm,{title:"Result",icon:"check_circle",items:r,bulletColor:"bg-green-500",headerColor:"text-green-600 dark:text-green-400"})]})}const pD="modulepreload",gD=function(e){return"/"+e},Aw={},ne=function(t,r,i){let n=Promise.resolve();if(r&&r.length>0){let h=function(d){return Promise.all(d.map(p=>Promise.resolve(p).then(g=>({status:"fulfilled",value:g}),g=>({status:"rejected",reason:g}))))};document.getElementsByTagName("link");const o=document.querySelector("meta[property=csp-nonce]"),u=o?.nonce||o?.getAttribute("nonce");n=h(r.map(d=>{if(d=gD(d),d in Aw)return;Aw[d]=!0;const p=d.endsWith(".css"),g=p?'[rel="stylesheet"]':"";if(document.querySelector(`link[href="${d}"]${g}`))return;const y=document.createElement("link");if(y.rel=p?"stylesheet":pD,p||(y.as="script"),y.crossOrigin="",y.href=d,u&&y.setAttribute("nonce",u),document.head.appendChild(y),p)return new Promise((x,v)=>{y.addEventListener("load",x),y.addEventListener("error",()=>v(new Error(`Unable to preload CSS for ${d}`)))})}))}function l(o){const u=new Event("vite:preloadError",{cancelable:!0});if(u.payload=o,window.dispatchEvent(u),!u.defaultPrevented)throw o}return n.then(o=>{for(const u of o||[])u.status==="rejected"&&l(u.reason);return t().catch(l)})};var Ow={name:"mermaid",version:"11.12.2",description:"Markdown-ish syntax for generating flowcharts, mindmaps, sequence diagrams, class diagrams, gantt charts, git graphs and more.",type:"module",module:"./dist/mermaid.core.mjs",types:"./dist/mermaid.d.ts",exports:{".":{types:"./dist/mermaid.d.ts",import:"./dist/mermaid.core.mjs",default:"./dist/mermaid.core.mjs"},"./*":"./*"},keywords:["diagram","markdown","flowchart","sequence diagram","gantt","class diagram","git graph","mindmap","packet diagram","c4 diagram","er diagram","pie chart","pie diagram","quadrant chart","requirement diagram","graph"],scripts:{clean:"rimraf dist",dev:"pnpm -w dev","docs:code":"typedoc src/defaultConfig.ts src/config.ts src/mermaid.ts && prettier --write ./src/docs/config/setup","docs:build":"rimraf ../../docs && pnpm docs:code && pnpm docs:spellcheck && tsx scripts/docs.cli.mts","docs:verify":"pnpm docs:code && pnpm docs:spellcheck && tsx scripts/docs.cli.mts --verify","docs:pre:vitepress":"pnpm --filter ./src/docs prefetch && rimraf src/vitepress && pnpm docs:code && tsx scripts/docs.cli.mts --vitepress && pnpm --filter ./src/vitepress install --no-frozen-lockfile --ignore-scripts","docs:build:vitepress":"pnpm docs:pre:vitepress && (cd src/vitepress && pnpm run build) && cpy --flat src/docs/landing/ ./src/vitepress/.vitepress/dist/landing","docs:dev":'pnpm docs:pre:vitepress && concurrently "pnpm --filter ./src/vitepress dev" "tsx scripts/docs.cli.mts --watch --vitepress"',"docs:dev:docker":'pnpm docs:pre:vitepress && concurrently "pnpm --filter ./src/vitepress dev:docker" "tsx scripts/docs.cli.mts --watch --vitepress"',"docs:serve":"pnpm docs:build:vitepress && vitepress serve src/vitepress","docs:spellcheck":'cspell "src/docs/**/*.md"',"docs:release-version":"tsx scripts/update-release-version.mts","docs:verify-version":"tsx scripts/update-release-version.mts --verify","types:build-config":"tsx scripts/create-types-from-json-schema.mts","types:verify-config":"tsx scripts/create-types-from-json-schema.mts --verify",checkCircle:"npx madge --circular ./src",prepublishOnly:"pnpm docs:verify-version"},repository:{type:"git",url:"https://github.com/mermaid-js/mermaid"},author:"Knut Sveidqvist",license:"MIT",standard:{ignore:["**/parser/*.js","dist/**/*.js","cypress/**/*.js"],globals:["page"]},dependencies:{"@braintree/sanitize-url":"^7.1.1","@iconify/utils":"^3.0.1","@mermaid-js/parser":"workspace:^","@types/d3":"^7.4.3",cytoscape:"^3.29.3","cytoscape-cose-bilkent":"^4.1.0","cytoscape-fcose":"^2.2.0",d3:"^7.9.0","d3-sankey":"^0.12.3","dagre-d3-es":"7.0.13",dayjs:"^1.11.18",dompurify:"^3.2.5",katex:"^0.16.22",khroma:"^2.1.0","lodash-es":"^4.17.21",marked:"^16.2.1",roughjs:"^4.6.6",stylis:"^4.3.6","ts-dedent":"^2.2.0",uuid:"^11.1.0"},devDependencies:{"@adobe/jsonschema2md":"^8.0.5","@iconify/types":"^2.0.0","@types/cytoscape":"^3.21.9","@types/cytoscape-fcose":"^2.2.4","@types/d3-sankey":"^0.12.4","@types/d3-scale":"^4.0.9","@types/d3-scale-chromatic":"^3.1.0","@types/d3-selection":"^3.0.11","@types/d3-shape":"^3.1.7","@types/jsdom":"^21.1.7","@types/katex":"^0.16.7","@types/lodash-es":"^4.17.12","@types/micromatch":"^4.0.9","@types/stylis":"^4.2.7","@types/uuid":"^10.0.0",ajv:"^8.17.1",canvas:"^3.1.2",chokidar:"3.6.0",concurrently:"^9.1.2","csstree-validator":"^4.0.1",globby:"^14.1.0",jison:"^0.4.18","js-base64":"^3.7.8",jsdom:"^26.1.0","json-schema-to-typescript":"^15.0.4",micromatch:"^4.0.8","path-browserify":"^1.0.1",prettier:"^3.5.3",remark:"^15.0.1","remark-frontmatter":"^5.0.0","remark-gfm":"^4.0.1",rimraf:"^6.0.1","start-server-and-test":"^2.0.13","type-fest":"^4.35.0",typedoc:"^0.28.12","typedoc-plugin-markdown":"^4.8.1",typescript:"~5.7.3","unist-util-flatmap":"^1.0.0","unist-util-visit":"^5.0.0",vitepress:"^1.6.4","vitepress-plugin-search":"1.0.4-alpha.22"},files:["dist/","README.md"],publishConfig:{access:"public"}},Hh={exports:{}},mD=Hh.exports,Rw;function yD(){return Rw||(Rw=1,(function(e,t){(function(r,i){e.exports=i()})(mD,(function(){var r=1e3,i=6e4,n=36e5,l="millisecond",o="second",u="minute",h="hour",d="day",p="week",g="month",y="quarter",x="year",v="date",_="Invalid Date",S=/^(\d{4})[-/]?(\d{1,2})?[-/]?(\d{0,2})[Tt\s]*(\d{1,2})?:?(\d{1,2})?:?(\d{1,2})?[.:]?(\d+)?$/,T=/\[([^\]]+)]|Y{1,4}|M{1,4}|D{1,2}|d{1,4}|H{1,2}|h{1,2}|a|A|m{1,2}|s{1,2}|Z{1,2}|SSS/g,E={name:"en",weekdays:"Sunday_Monday_Tuesday_Wednesday_Thursday_Friday_Saturday".split("_"),months:"January_February_March_April_May_June_July_August_September_October_November_December".split("_"),ordinal:function(z){var P=["th","st","nd","rd"],R=z%100;return"["+z+(P[(R-20)%10]||P[R]||P[0])+"]"}},O=function(z,P,R){var $=String(z);return!$||$.length>=P?z:""+Array(P+1-$.length).join(R)+z},L={s:O,z:function(z){var P=-z.utcOffset(),R=Math.abs(P),$=Math.floor(R/60),H=R%60;return(P<=0?"+":"-")+O($,2,"0")+":"+O(H,2,"0")},m:function z(P,R){if(P.date()<R.date())return-z(R,P);var $=12*(R.year()-P.year())+(R.month()-P.month()),H=P.clone().add($,g),ot=R-H<0,ht=P.clone().add($+(ot?-1:1),g);return+(-($+(R-H)/(ot?H-ht:ht-H))||0)},a:function(z){return z<0?Math.ceil(z)||0:Math.floor(z)},p:function(z){return{M:g,y:x,w:p,d,D:v,h,m:u,s:o,ms:l,Q:y}[z]||String(z||"").toLowerCase().replace(/s$/,"")},u:function(z){return z===void 0}},B="en",I={};I[B]=E;var j="$isDayjsObject",Z=function(z){return z instanceof q||!(!z||!z[j])},rt=function z(P,R,$){var H;if(!P)return B;if(typeof P=="string"){var ot=P.toLowerCase();I[ot]&&(H=ot),R&&(I[ot]=R,H=ot);var ht=P.split("-");if(!H&&ht.length>1)return z(ht[0])}else{var M=P.name;I[M]=P,H=M}return!$&&H&&(B=H),H||!$&&B},at=function(z,P){if(Z(z))return z.clone();var R=typeof P=="object"?P:{};return R.date=z,R.args=arguments,new q(R)},J=L;J.l=rt,J.i=Z,J.w=function(z,P){return at(z,{locale:P.$L,utc:P.$u,x:P.$x,$offset:P.$offset})};var q=(function(){function z(R){this.$L=rt(R.locale,null,!0),this.parse(R),this.$x=this.$x||R.x||{},this[j]=!0}var P=z.prototype;return P.parse=function(R){this.$d=(function($){var H=$.date,ot=$.utc;if(H===null)return new Date(NaN);if(J.u(H))return new Date;if(H instanceof Date)return new Date(H);if(typeof H=="string"&&!/Z$/i.test(H)){var ht=H.match(S);if(ht){var M=ht[2]-1||0,V=(ht[7]||"0").substring(0,3);return ot?new Date(Date.UTC(ht[1],M,ht[3]||1,ht[4]||0,ht[5]||0,ht[6]||0,V)):new Date(ht[1],M,ht[3]||1,ht[4]||0,ht[5]||0,ht[6]||0,V)}}return new Date(H)})(R),this.init()},P.init=function(){var R=this.$d;this.$y=R.getFullYear(),this.$M=R.getMonth(),this.$D=R.getDate(),this.$W=R.getDay(),this.$H=R.getHours(),this.$m=R.getMinutes(),this.$s=R.getSeconds(),this.$ms=R.getMilliseconds()},P.$utils=function(){return J},P.isValid=function(){return this.$d.toString()!==_},P.isSame=function(R,$){var H=at(R);return this.startOf($)<=H&&H<=this.endOf($)},P.isAfter=function(R,$){return at(R)<this.startOf($)},P.isBefore=function(R,$){return this.endOf($)<at(R)},P.$g=function(R,$,H){return J.u(R)?this[$]:this.set(H,R)},P.unix=function(){return Math.floor(this.valueOf()/1e3)},P.valueOf=function(){return this.$d.getTime()},P.startOf=function(R,$){var H=this,ot=!!J.u($)||$,ht=J.p(R),M=function(Kt,oe){var nr=J.w(H.$u?Date.UTC(H.$y,oe,Kt):new Date(H.$y,oe,Kt),H);return ot?nr:nr.endOf(d)},V=function(Kt,oe){return J.w(H.toDate()[Kt].apply(H.toDate("s"),(ot?[0,0,0,0]:[23,59,59,999]).slice(oe)),H)},et=this.$W,ct=this.$M,dt=this.$D,Ct="set"+(this.$u?"UTC":"");switch(ht){case x:return ot?M(1,0):M(31,11);case g:return ot?M(1,ct):M(0,ct+1);case p:var Lt=this.$locale().weekStart||0,te=(et<Lt?et+7:et)-Lt;return M(ot?dt-te:dt+(6-te),ct);case d:case v:return V(Ct+"Hours",0);case h:return V(Ct+"Minutes",1);case u:return V(Ct+"Seconds",2);case o:return V(Ct+"Milliseconds",3);default:return this.clone()}},P.endOf=function(R){return this.startOf(R,!1)},P.$set=function(R,$){var H,ot=J.p(R),ht="set"+(this.$u?"UTC":""),M=(H={},H[d]=ht+"Date",H[v]=ht+"Date",H[g]=ht+"Month",H[x]=ht+"FullYear",H[h]=ht+"Hours",H[u]=ht+"Minutes",H[o]=ht+"Seconds",H[l]=ht+"Milliseconds",H)[ot],V=ot===d?this.$D+($-this.$W):$;if(ot===g||ot===x){var et=this.clone().set(v,1);et.$d[M](V),et.init(),this.$d=et.set(v,Math.min(this.$D,et.daysInMonth())).$d}else M&&this.$d[M](V);return this.init(),this},P.set=function(R,$){return this.clone().$set(R,$)},P.get=function(R){return this[J.p(R)]()},P.add=function(R,$){var H,ot=this;R=Number(R);var ht=J.p($),M=function(ct){var dt=at(ot);return J.w(dt.date(dt.date()+Math.round(ct*R)),ot)};if(ht===g)return this.set(g,this.$M+R);if(ht===x)return this.set(x,this.$y+R);if(ht===d)return M(1);if(ht===p)return M(7);var V=(H={},H[u]=i,H[h]=n,H[o]=r,H)[ht]||1,et=this.$d.getTime()+R*V;return J.w(et,this)},P.subtract=function(R,$){return this.add(-1*R,$)},P.format=function(R){var $=this,H=this.$locale();if(!this.isValid())return H.invalidDate||_;var ot=R||"YYYY-MM-DDTHH:mm:ssZ",ht=J.z(this),M=this.$H,V=this.$m,et=this.$M,ct=H.weekdays,dt=H.months,Ct=H.meridiem,Lt=function(oe,nr,Kr,vr){return oe&&(oe[nr]||oe($,ot))||Kr[nr].slice(0,vr)},te=function(oe){return J.s(M%12||12,oe,"0")},Kt=Ct||function(oe,nr,Kr){var vr=oe<12?"AM":"PM";return Kr?vr.toLowerCase():vr};return ot.replace(T,(function(oe,nr){return nr||(function(Kr){switch(Kr){case"YY":return String($.$y).slice(-2);case"YYYY":return J.s($.$y,4,"0");case"M":return et+1;case"MM":return J.s(et+1,2,"0");case"MMM":return Lt(H.monthsShort,et,dt,3);case"MMMM":return Lt(dt,et);case"D":return $.$D;case"DD":return J.s($.$D,2,"0");case"d":return String($.$W);case"dd":return Lt(H.weekdaysMin,$.$W,ct,2);case"ddd":return Lt(H.weekdaysShort,$.$W,ct,3);case"dddd":return ct[$.$W];case"H":return String(M);case"HH":return J.s(M,2,"0");case"h":return te(1);case"hh":return te(2);case"a":return Kt(M,V,!0);case"A":return Kt(M,V,!1);case"m":return String(V);case"mm":return J.s(V,2,"0");case"s":return String($.$s);case"ss":return J.s($.$s,2,"0");case"SSS":return J.s($.$ms,3,"0");case"Z":return ht}return null})(oe)||ht.replace(":","")}))},P.utcOffset=function(){return 15*-Math.round(this.$d.getTimezoneOffset()/15)},P.diff=function(R,$,H){var ot,ht=this,M=J.p($),V=at(R),et=(V.utcOffset()-this.utcOffset())*i,ct=this-V,dt=function(){return J.m(ht,V)};switch(M){case x:ot=dt()/12;break;case g:ot=dt();break;case y:ot=dt()/3;break;case p:ot=(ct-et)/6048e5;break;case d:ot=(ct-et)/864e5;break;case h:ot=ct/n;break;case u:ot=ct/i;break;case o:ot=ct/r;break;default:ot=ct}return H?ot:J.a(ot)},P.daysInMonth=function(){return this.endOf(g).$D},P.$locale=function(){return I[this.$L]},P.locale=function(R,$){if(!R)return this.$L;var H=this.clone(),ot=rt(R,$,!0);return ot&&(H.$L=ot),H},P.clone=function(){return J.w(this.$d,this)},P.toDate=function(){return new Date(this.valueOf())},P.toJSON=function(){return this.isValid()?this.toISOString():null},P.toISOString=function(){return this.$d.toISOString()},P.toString=function(){return this.$d.toUTCString()},z})(),N=q.prototype;return at.prototype=N,[["$ms",l],["$s",o],["$m",u],["$H",h],["$W",d],["$M",g],["$y",x],["$D",v]].forEach((function(z){N[z[1]]=function(P){return this.$g(P,z[0],z[1])}})),at.extend=function(z,P){return z.$i||(z(P,q,at),z.$i=!0),at},at.locale=rt,at.isDayjs=Z,at.unix=function(z){return at(1e3*z)},at.en=I[B],at.Ls=I,at.p={},at}))})(Hh)),Hh.exports}var bD=yD();const xD=TL(bD);var JS=Object.defineProperty,w=(e,t)=>JS(e,"name",{value:t,configurable:!0}),vD=(e,t)=>{for(var r in t)JS(e,r,{get:t[r],enumerable:!0})},ya={trace:0,debug:1,info:2,warn:3,error:4,fatal:5},lt={trace:w((...e)=>{},"trace"),debug:w((...e)=>{},"debug"),info:w((...e)=>{},"info"),warn:w((...e)=>{},"warn"),error:w((...e)=>{},"error"),fatal:w((...e)=>{},"fatal")},Ky=w(function(e="fatal"){let t=ya.fatal;typeof e=="string"?e.toLowerCase()in ya&&(t=ya[e]):typeof e=="number"&&(t=e),lt.trace=()=>{},lt.debug=()=>{},lt.info=()=>{},lt.warn=()=>{},lt.error=()=>{},lt.fatal=()=>{},t<=ya.fatal&&(lt.fatal=console.error?console.error.bind(console,ui("FATAL"),"color: orange"):console.log.bind(console,"\x1B[35m",ui("FATAL"))),t<=ya.error&&(lt.error=console.error?console.error.bind(console,ui("ERROR"),"color: orange"):console.log.bind(console,"\x1B[31m",ui("ERROR"))),t<=ya.warn&&(lt.warn=console.warn?console.warn.bind(console,ui("WARN"),"color: orange"):console.log.bind(console,"\x1B[33m",ui("WARN"))),t<=ya.info&&(lt.info=console.info?console.info.bind(console,ui("INFO"),"color: lightblue"):console.log.bind(console,"\x1B[34m",ui("INFO"))),t<=ya.debug&&(lt.debug=console.debug?console.debug.bind(console,ui("DEBUG"),"color: lightgreen"):console.log.bind(console,"\x1B[32m",ui("DEBUG"))),t<=ya.trace&&(lt.trace=console.debug?console.debug.bind(console,ui("TRACE"),"color: lightgreen"):console.log.bind(console,"\x1B[32m",ui("TRACE")))},"setLogLevel"),ui=w(e=>`%c${xD().format("ss.SSS")} : ${e} : `,"format");const Wh={min:{r:0,g:0,b:0,s:0,l:0,a:0},max:{r:255,g:255,b:255,h:360,s:100,l:100,a:1},clamp:{r:e=>e>=255?255:e<0?0:e,g:e=>e>=255?255:e<0?0:e,b:e=>e>=255?255:e<0?0:e,h:e=>e%360,s:e=>e>=100?100:e<0?0:e,l:e=>e>=100?100:e<0?0:e,a:e=>e>=1?1:e<0?0:e},toLinear:e=>{const t=e/255;return e>.03928?Math.pow((t+.055)/1.055,2.4):t/12.92},hue2rgb:(e,t,r)=>(r<0&&(r+=1),r>1&&(r-=1),r<1/6?e+(t-e)*6*r:r<1/2?t:r<2/3?e+(t-e)*(2/3-r)*6:e),hsl2rgb:({h:e,s:t,l:r},i)=>{if(!t)return r*2.55;e/=360,t/=100,r/=100;const n=r<.5?r*(1+t):r+t-r*t,l=2*r-n;switch(i){case"r":return Wh.hue2rgb(l,n,e+1/3)*255;case"g":return Wh.hue2rgb(l,n,e)*255;case"b":return Wh.hue2rgb(l,n,e-1/3)*255}},rgb2hsl:({r:e,g:t,b:r},i)=>{e/=255,t/=255,r/=255;const n=Math.max(e,t,r),l=Math.min(e,t,r),o=(n+l)/2;if(i==="l")return o*100;if(n===l)return 0;const u=n-l,h=o>.5?u/(2-n-l):u/(n+l);if(i==="s")return h*100;switch(n){case e:return((t-r)/u+(t<r?6:0))*60;case t:return((r-e)/u+2)*60;case r:return((e-t)/u+4)*60;default:return-1}}},_D={clamp:(e,t,r)=>t>r?Math.min(t,Math.max(r,e)):Math.min(r,Math.max(t,e)),round:e=>Math.round(e*1e10)/1e10},wD={dec2hex:e=>{const t=Math.round(e).toString(16);return t.length>1?t:`0${t}`}},$t={channel:Wh,lang:_D,unit:wD},sn={};for(let e=0;e<=255;e++)sn[e]=$t.unit.dec2hex(e);const lr={ALL:0,RGB:1,HSL:2};class SD{constructor(){this.type=lr.ALL}get(){return this.type}set(t){if(this.type&&this.type!==t)throw new Error("Cannot change both RGB and HSL channels at the same time");this.type=t}reset(){this.type=lr.ALL}is(t){return this.type===t}}class kD{constructor(t,r){this.color=r,this.changed=!1,this.data=t,this.type=new SD}set(t,r){return this.color=r,this.changed=!1,this.data=t,this.type.type=lr.ALL,this}_ensureHSL(){const t=this.data,{h:r,s:i,l:n}=t;r===void 0&&(t.h=$t.channel.rgb2hsl(t,"h")),i===void 0&&(t.s=$t.channel.rgb2hsl(t,"s")),n===void 0&&(t.l=$t.channel.rgb2hsl(t,"l"))}_ensureRGB(){const t=this.data,{r,g:i,b:n}=t;r===void 0&&(t.r=$t.channel.hsl2rgb(t,"r")),i===void 0&&(t.g=$t.channel.hsl2rgb(t,"g")),n===void 0&&(t.b=$t.channel.hsl2rgb(t,"b"))}get r(){const t=this.data,r=t.r;return!this.type.is(lr.HSL)&&r!==void 0?r:(this._ensureHSL(),$t.channel.hsl2rgb(t,"r"))}get g(){const t=this.data,r=t.g;return!this.type.is(lr.HSL)&&r!==void 0?r:(this._ensureHSL(),$t.channel.hsl2rgb(t,"g"))}get b(){const t=this.data,r=t.b;return!this.type.is(lr.HSL)&&r!==void 0?r:(this._ensureHSL(),$t.channel.hsl2rgb(t,"b"))}get h(){const t=this.data,r=t.h;return!this.type.is(lr.RGB)&&r!==void 0?r:(this._ensureRGB(),$t.channel.rgb2hsl(t,"h"))}get s(){const t=this.data,r=t.s;return!this.type.is(lr.RGB)&&r!==void 0?r:(this._ensureRGB(),$t.channel.rgb2hsl(t,"s"))}get l(){const t=this.data,r=t.l;return!this.type.is(lr.RGB)&&r!==void 0?r:(this._ensureRGB(),$t.channel.rgb2hsl(t,"l"))}get a(){return this.data.a}set r(t){this.type.set(lr.RGB),this.changed=!0,this.data.r=t}set g(t){this.type.set(lr.RGB),this.changed=!0,this.data.g=t}set b(t){this.type.set(lr.RGB),this.changed=!0,this.data.b=t}set h(t){this.type.set(lr.HSL),this.changed=!0,this.data.h=t}set s(t){this.type.set(lr.HSL),this.changed=!0,this.data.s=t}set l(t){this.type.set(lr.HSL),this.changed=!0,this.data.l=t}set a(t){this.changed=!0,this.data.a=t}}const Qd=new kD({r:0,g:0,b:0,a:0},"transparent"),gl={re:/^#((?:[a-f0-9]{2}){2,4}|[a-f0-9]{3})$/i,parse:e=>{if(e.charCodeAt(0)!==35)return;const t=e.match(gl.re);if(!t)return;const r=t[1],i=parseInt(r,16),n=r.length,l=n%4===0,o=n>4,u=o?1:17,h=o?8:4,d=l?0:-1,p=o?255:15;return Qd.set({r:(i>>h*(d+3)&p)*u,g:(i>>h*(d+2)&p)*u,b:(i>>h*(d+1)&p)*u,a:l?(i&p)*u/255:1},e)},stringify:e=>{const{r:t,g:r,b:i,a:n}=e;return n<1?`#${sn[Math.round(t)]}${sn[Math.round(r)]}${sn[Math.round(i)]}${sn[Math.round(n*255)]}`:`#${sn[Math.round(t)]}${sn[Math.round(r)]}${sn[Math.round(i)]}`}},Kn={re:/^hsla?\(\s*?(-?(?:\d+(?:\.\d+)?|(?:\.\d+))(?:e-?\d+)?(?:deg|grad|rad|turn)?)\s*?(?:,|\s)\s*?(-?(?:\d+(?:\.\d+)?|(?:\.\d+))(?:e-?\d+)?%)\s*?(?:,|\s)\s*?(-?(?:\d+(?:\.\d+)?|(?:\.\d+))(?:e-?\d+)?%)(?:\s*?(?:,|\/)\s*?\+?(-?(?:\d+(?:\.\d+)?|(?:\.\d+))(?:e-?\d+)?(%)?))?\s*?\)$/i,hueRe:/^(.+?)(deg|grad|rad|turn)$/i,_hue2deg:e=>{const t=e.match(Kn.hueRe);if(t){const[,r,i]=t;switch(i){case"grad":return $t.channel.clamp.h(parseFloat(r)*.9);case"rad":return $t.channel.clamp.h(parseFloat(r)*180/Math.PI);case"turn":return $t.channel.clamp.h(parseFloat(r)*360)}}return $t.channel.clamp.h(parseFloat(e))},parse:e=>{const t=e.charCodeAt(0);if(t!==104&&t!==72)return;const r=e.match(Kn.re);if(!r)return;const[,i,n,l,o,u]=r;return Qd.set({h:Kn._hue2deg(i),s:$t.channel.clamp.s(parseFloat(n)),l:$t.channel.clamp.l(parseFloat(l)),a:o?$t.channel.clamp.a(u?parseFloat(o)/100:parseFloat(o)):1},e)},stringify:e=>{const{h:t,s:r,l:i,a:n}=e;return n<1?`hsla(${$t.lang.round(t)}, ${$t.lang.round(r)}%, ${$t.lang.round(i)}%, ${n})`:`hsl(${$t.lang.round(t)}, ${$t.lang.round(r)}%, ${$t.lang.round(i)}%)`}},vc={colors:{aliceblue:"#f0f8ff",antiquewhite:"#faebd7",aqua:"#00ffff",aquamarine:"#7fffd4",azure:"#f0ffff",beige:"#f5f5dc",bisque:"#ffe4c4",black:"#000000",blanchedalmond:"#ffebcd",blue:"#0000ff",blueviolet:"#8a2be2",brown:"#a52a2a",burlywood:"#deb887",cadetblue:"#5f9ea0",chartreuse:"#7fff00",chocolate:"#d2691e",coral:"#ff7f50",cornflowerblue:"#6495ed",cornsilk:"#fff8dc",crimson:"#dc143c",cyanaqua:"#00ffff",darkblue:"#00008b",darkcyan:"#008b8b",darkgoldenrod:"#b8860b",darkgray:"#a9a9a9",darkgreen:"#006400",darkgrey:"#a9a9a9",darkkhaki:"#bdb76b",darkmagenta:"#8b008b",darkolivegreen:"#556b2f",darkorange:"#ff8c00",darkorchid:"#9932cc",darkred:"#8b0000",darksalmon:"#e9967a",darkseagreen:"#8fbc8f",darkslateblue:"#483d8b",darkslategray:"#2f4f4f",darkslategrey:"#2f4f4f",darkturquoise:"#00ced1",darkviolet:"#9400d3",deeppink:"#ff1493",deepskyblue:"#00bfff",dimgray:"#696969",dimgrey:"#696969",dodgerblue:"#1e90ff",firebrick:"#b22222",floralwhite:"#fffaf0",forestgreen:"#228b22",fuchsia:"#ff00ff",gainsboro:"#dcdcdc",ghostwhite:"#f8f8ff",gold:"#ffd700",goldenrod:"#daa520",gray:"#808080",green:"#008000",greenyellow:"#adff2f",grey:"#808080",honeydew:"#f0fff0",hotpink:"#ff69b4",indianred:"#cd5c5c",indigo:"#4b0082",ivory:"#fffff0",khaki:"#f0e68c",lavender:"#e6e6fa",lavenderblush:"#fff0f5",lawngreen:"#7cfc00",lemonchiffon:"#fffacd",lightblue:"#add8e6",lightcoral:"#f08080",lightcyan:"#e0ffff",lightgoldenrodyellow:"#fafad2",lightgray:"#d3d3d3",lightgreen:"#90ee90",lightgrey:"#d3d3d3",lightpink:"#ffb6c1",lightsalmon:"#ffa07a",lightseagreen:"#20b2aa",lightskyblue:"#87cefa",lightslategray:"#778899",lightslategrey:"#778899",lightsteelblue:"#b0c4de",lightyellow:"#ffffe0",lime:"#00ff00",limegreen:"#32cd32",linen:"#faf0e6",magenta:"#ff00ff",maroon:"#800000",mediumaquamarine:"#66cdaa",mediumblue:"#0000cd",mediumorchid:"#ba55d3",mediumpurple:"#9370db",mediumseagreen:"#3cb371",mediumslateblue:"#7b68ee",mediumspringgreen:"#00fa9a",mediumturquoise:"#48d1cc",mediumvioletred:"#c71585",midnightblue:"#191970",mintcream:"#f5fffa",mistyrose:"#ffe4e1",moccasin:"#ffe4b5",navajowhite:"#ffdead",navy:"#000080",oldlace:"#fdf5e6",olive:"#808000",olivedrab:"#6b8e23",orange:"#ffa500",orangered:"#ff4500",orchid:"#da70d6",palegoldenrod:"#eee8aa",palegreen:"#98fb98",paleturquoise:"#afeeee",palevioletred:"#db7093",papayawhip:"#ffefd5",peachpuff:"#ffdab9",peru:"#cd853f",pink:"#ffc0cb",plum:"#dda0dd",powderblue:"#b0e0e6",purple:"#800080",rebeccapurple:"#663399",red:"#ff0000",rosybrown:"#bc8f8f",royalblue:"#4169e1",saddlebrown:"#8b4513",salmon:"#fa8072",sandybrown:"#f4a460",seagreen:"#2e8b57",seashell:"#fff5ee",sienna:"#a0522d",silver:"#c0c0c0",skyblue:"#87ceeb",slateblue:"#6a5acd",slategray:"#708090",slategrey:"#708090",snow:"#fffafa",springgreen:"#00ff7f",tan:"#d2b48c",teal:"#008080",thistle:"#d8bfd8",transparent:"#00000000",turquoise:"#40e0d0",violet:"#ee82ee",wheat:"#f5deb3",white:"#ffffff",whitesmoke:"#f5f5f5",yellow:"#ffff00",yellowgreen:"#9acd32"},parse:e=>{e=e.toLowerCase();const t=vc.colors[e];if(t)return gl.parse(t)},stringify:e=>{const t=gl.stringify(e);for(const r in vc.colors)if(vc.colors[r]===t)return r}},cc={re:/^rgba?\(\s*?(-?(?:\d+(?:\.\d+)?|(?:\.\d+))(?:e\d+)?(%?))\s*?(?:,|\s)\s*?(-?(?:\d+(?:\.\d+)?|(?:\.\d+))(?:e\d+)?(%?))\s*?(?:,|\s)\s*?(-?(?:\d+(?:\.\d+)?|(?:\.\d+))(?:e\d+)?(%?))(?:\s*?(?:,|\/)\s*?\+?(-?(?:\d+(?:\.\d+)?|(?:\.\d+))(?:e\d+)?(%?)))?\s*?\)$/i,parse:e=>{const t=e.charCodeAt(0);if(t!==114&&t!==82)return;const r=e.match(cc.re);if(!r)return;const[,i,n,l,o,u,h,d,p]=r;return Qd.set({r:$t.channel.clamp.r(n?parseFloat(i)*2.55:parseFloat(i)),g:$t.channel.clamp.g(o?parseFloat(l)*2.55:parseFloat(l)),b:$t.channel.clamp.b(h?parseFloat(u)*2.55:parseFloat(u)),a:d?$t.channel.clamp.a(p?parseFloat(d)/100:parseFloat(d)):1},e)},stringify:e=>{const{r:t,g:r,b:i,a:n}=e;return n<1?`rgba(${$t.lang.round(t)}, ${$t.lang.round(r)}, ${$t.lang.round(i)}, ${$t.lang.round(n)})`:`rgb(${$t.lang.round(t)}, ${$t.lang.round(r)}, ${$t.lang.round(i)})`}},qi={format:{keyword:vc,hex:gl,rgb:cc,rgba:cc,hsl:Kn,hsla:Kn},parse:e=>{if(typeof e!="string")return e;const t=gl.parse(e)||cc.parse(e)||Kn.parse(e)||vc.parse(e);if(t)return t;throw new Error(`Unsupported color format: "${e}"`)},stringify:e=>!e.changed&&e.color?e.color:e.type.is(lr.HSL)||e.data.r===void 0?Kn.stringify(e):e.a<1||!Number.isInteger(e.r)||!Number.isInteger(e.g)||!Number.isInteger(e.b)?cc.stringify(e):gl.stringify(e)},t2=(e,t)=>{const r=qi.parse(e);for(const i in t)r[i]=$t.channel.clamp[i](t[i]);return qi.stringify(r)},_c=(e,t,r=0,i=1)=>{if(typeof e!="number")return t2(e,{a:t});const n=Qd.set({r:$t.channel.clamp.r(e),g:$t.channel.clamp.g(t),b:$t.channel.clamp.b(r),a:$t.channel.clamp.a(i)});return qi.stringify(n)},CD=e=>{const{r:t,g:r,b:i}=qi.parse(e),n=.2126*$t.channel.toLinear(t)+.7152*$t.channel.toLinear(r)+.0722*$t.channel.toLinear(i);return $t.lang.round(n)},TD=e=>CD(e)>=.5,Xc=e=>!TD(e),e2=(e,t,r)=>{const i=qi.parse(e),n=i[t],l=$t.channel.clamp[t](n+r);return n!==l&&(i[t]=l),qi.stringify(i)},bt=(e,t)=>e2(e,"l",t),Ot=(e,t)=>e2(e,"l",-t),Y=(e,t)=>{const r=qi.parse(e),i={};for(const n in t)t[n]&&(i[n]=r[n]+t[n]);return t2(e,i)},ED=(e,t,r=50)=>{const{r:i,g:n,b:l,a:o}=qi.parse(e),{r:u,g:h,b:d,a:p}=qi.parse(t),g=r/100,y=g*2-1,x=o-p,_=((y*x===-1?y:(y+x)/(1+y*x))+1)/2,S=1-_,T=i*_+u*S,E=n*_+h*S,O=l*_+d*S,L=o*g+p*(1-g);return _c(T,E,O,L)},ft=(e,t=100)=>{const r=qi.parse(e);return r.r=255-r.r,r.g=255-r.g,r.b=255-r.b,ED(r,e,t)};const{entries:r2,setPrototypeOf:Lw,isFrozen:AD,getPrototypeOf:OD,getOwnPropertyDescriptor:RD}=Object;let{freeze:br,seal:hi,create:zm}=Object,{apply:Fm,construct:Pm}=typeof Reflect<"u"&&Reflect;br||(br=function(t){return t});hi||(hi=function(t){return t});Fm||(Fm=function(t,r){for(var i=arguments.length,n=new Array(i>2?i-2:0),l=2;l<i;l++)n[l-2]=arguments[l];return t.apply(r,n)});Pm||(Pm=function(t){for(var r=arguments.length,i=new Array(r>1?r-1:0),n=1;n<r;n++)i[n-1]=arguments[n];return new t(...i)});const Oh=xr(Array.prototype.forEach),LD=xr(Array.prototype.lastIndexOf),Mw=xr(Array.prototype.pop),Xo=xr(Array.prototype.push),MD=xr(Array.prototype.splice),Gh=xr(String.prototype.toLowerCase),em=xr(String.prototype.toString),rm=xr(String.prototype.match),Ko=xr(String.prototype.replace),BD=xr(String.prototype.indexOf),ND=xr(String.prototype.trim),vi=xr(Object.prototype.hasOwnProperty),pr=xr(RegExp.prototype.test),Qo=DD(TypeError);function xr(e){return function(t){t instanceof RegExp&&(t.lastIndex=0);for(var r=arguments.length,i=new Array(r>1?r-1:0),n=1;n<r;n++)i[n-1]=arguments[n];return Fm(e,t,i)}}function DD(e){return function(){for(var t=arguments.length,r=new Array(t),i=0;i<t;i++)r[i]=arguments[i];return Pm(e,r)}}function It(e,t){let r=arguments.length>2&&arguments[2]!==void 0?arguments[2]:Gh;Lw&&Lw(e,null);let i=t.length;for(;i--;){let n=t[i];if(typeof n=="string"){const l=r(n);l!==n&&(AD(t)||(t[i]=l),n=l)}e[n]=!0}return e}function jD(e){for(let t=0;t<e.length;t++)vi(e,t)||(e[t]=null);return e}function zi(e){const t=zm(null);for(const[r,i]of r2(e))vi(e,r)&&(Array.isArray(i)?t[r]=jD(i):i&&typeof i=="object"&&i.constructor===Object?t[r]=zi(i):t[r]=i);return t}function Zo(e,t){for(;e!==null;){const i=RD(e,t);if(i){if(i.get)return xr(i.get);if(typeof i.value=="function")return xr(i.value)}e=OD(e)}function r(){return null}return r}const Bw=br(["a","abbr","acronym","address","area","article","aside","audio","b","bdi","bdo","big","blink","blockquote","body","br","button","canvas","caption","center","cite","code","col","colgroup","content","data","datalist","dd","decorator","del","details","dfn","dialog","dir","div","dl","dt","element","em","fieldset","figcaption","figure","font","footer","form","h1","h2","h3","h4","h5","h6","head","header","hgroup","hr","html","i","img","input","ins","kbd","label","legend","li","main","map","mark","marquee","menu","menuitem","meter","nav","nobr","ol","optgroup","option","output","p","picture","pre","progress","q","rp","rt","ruby","s","samp","search","section","select","shadow","slot","small","source","spacer","span","strike","strong","style","sub","summary","sup","table","tbody","td","template","textarea","tfoot","th","thead","time","tr","track","tt","u","ul","var","video","wbr"]),im=br(["svg","a","altglyph","altglyphdef","altglyphitem","animatecolor","animatemotion","animatetransform","circle","clippath","defs","desc","ellipse","enterkeyhint","exportparts","filter","font","g","glyph","glyphref","hkern","image","inputmode","line","lineargradient","marker","mask","metadata","mpath","part","path","pattern","polygon","polyline","radialgradient","rect","stop","style","switch","symbol","text","textpath","title","tref","tspan","view","vkern"]),am=br(["feBlend","feColorMatrix","feComponentTransfer","feComposite","feConvolveMatrix","feDiffuseLighting","feDisplacementMap","feDistantLight","feDropShadow","feFlood","feFuncA","feFuncB","feFuncG","feFuncR","feGaussianBlur","feImage","feMerge","feMergeNode","feMorphology","feOffset","fePointLight","feSpecularLighting","feSpotLight","feTile","feTurbulence"]),$D=br(["animate","color-profile","cursor","discard","font-face","font-face-format","font-face-name","font-face-src","font-face-uri","foreignobject","hatch","hatchpath","mesh","meshgradient","meshpatch","meshrow","missing-glyph","script","set","solidcolor","unknown","use"]),nm=br(["math","menclose","merror","mfenced","mfrac","mglyph","mi","mlabeledtr","mmultiscripts","mn","mo","mover","mpadded","mphantom","mroot","mrow","ms","mspace","msqrt","mstyle","msub","msup","msubsup","mtable","mtd","mtext","mtr","munder","munderover","mprescripts"]),zD=br(["maction","maligngroup","malignmark","mlongdiv","mscarries","mscarry","msgroup","mstack","msline","msrow","semantics","annotation","annotation-xml","mprescripts","none"]),Nw=br(["#text"]),Dw=br(["accept","action","align","alt","autocapitalize","autocomplete","autopictureinpicture","autoplay","background","bgcolor","border","capture","cellpadding","cellspacing","checked","cite","class","clear","color","cols","colspan","controls","controlslist","coords","crossorigin","datetime","decoding","default","dir","disabled","disablepictureinpicture","disableremoteplayback","download","draggable","enctype","enterkeyhint","exportparts","face","for","headers","height","hidden","high","href","hreflang","id","inert","inputmode","integrity","ismap","kind","label","lang","list","loading","loop","low","max","maxlength","media","method","min","minlength","multiple","muted","name","nonce","noshade","novalidate","nowrap","open","optimum","part","pattern","placeholder","playsinline","popover","popovertarget","popovertargetaction","poster","preload","pubdate","radiogroup","readonly","rel","required","rev","reversed","role","rows","rowspan","spellcheck","scope","selected","shape","size","sizes","slot","span","srclang","start","src","srcset","step","style","summary","tabindex","title","translate","type","usemap","valign","value","width","wrap","xmlns","slot"]),sm=br(["accent-height","accumulate","additive","alignment-baseline","amplitude","ascent","attributename","attributetype","azimuth","basefrequency","baseline-shift","begin","bias","by","class","clip","clippathunits","clip-path","clip-rule","color","color-interpolation","color-interpolation-filters","color-profile","color-rendering","cx","cy","d","dx","dy","diffuseconstant","direction","display","divisor","dur","edgemode","elevation","end","exponent","fill","fill-opacity","fill-rule","filter","filterunits","flood-color","flood-opacity","font-family","font-size","font-size-adjust","font-stretch","font-style","font-variant","font-weight","fx","fy","g1","g2","glyph-name","glyphref","gradientunits","gradienttransform","height","href","id","image-rendering","in","in2","intercept","k","k1","k2","k3","k4","kerning","keypoints","keysplines","keytimes","lang","lengthadjust","letter-spacing","kernelmatrix","kernelunitlength","lighting-color","local","marker-end","marker-mid","marker-start","markerheight","markerunits","markerwidth","maskcontentunits","maskunits","max","mask","mask-type","media","method","mode","min","name","numoctaves","offset","operator","opacity","order","orient","orientation","origin","overflow","paint-order","path","pathlength","patterncontentunits","patterntransform","patternunits","points","preservealpha","preserveaspectratio","primitiveunits","r","rx","ry","radius","refx","refy","repeatcount","repeatdur","restart","result","rotate","scale","seed","shape-rendering","slope","specularconstant","specularexponent","spreadmethod","startoffset","stddeviation","stitchtiles","stop-color","stop-opacity","stroke-dasharray","stroke-dashoffset","stroke-linecap","stroke-linejoin","stroke-miterlimit","stroke-opacity","stroke","stroke-width","style","surfacescale","systemlanguage","tabindex","tablevalues","targetx","targety","transform","transform-origin","text-anchor","text-decoration","text-rendering","textlength","type","u1","u2","unicode","values","viewbox","visibility","version","vert-adv-y","vert-origin-x","vert-origin-y","width","word-spacing","wrap","writing-mode","xchannelselector","ychannelselector","x","x1","x2","xmlns","y","y1","y2","z","zoomandpan"]),jw=br(["accent","accentunder","align","bevelled","close","columnsalign","columnlines","columnspan","denomalign","depth","dir","display","displaystyle","encoding","fence","frame","height","href","id","largeop","length","linethickness","lspace","lquote","mathbackground","mathcolor","mathsize","mathvariant","maxsize","minsize","movablelimits","notation","numalign","open","rowalign","rowlines","rowspacing","rowspan","rspace","rquote","scriptlevel","scriptminsize","scriptsizemultiplier","selection","separator","separators","stretchy","subscriptshift","supscriptshift","symmetric","voffset","width","xmlns"]),Rh=br(["xlink:href","xml:id","xlink:title","xml:space","xmlns:xlink"]),FD=hi(/\{\{[\w\W]*|[\w\W]*\}\}/gm),PD=hi(/<%[\w\W]*|[\w\W]*%>/gm),UD=hi(/\$\{[\w\W]*/gm),ID=hi(/^data-[\-\w.\u00B7-\uFFFF]+$/),qD=hi(/^aria-[\-\w]+$/),i2=hi(/^(?:(?:(?:f|ht)tps?|mailto|tel|callto|sms|cid|xmpp|matrix):|[^a-z]|[a-z+.\-]+(?:[^a-z+.\-:]|$))/i),HD=hi(/^(?:\w+script|data):/i),WD=hi(/[\u0000-\u0020\u00A0\u1680\u180E\u2000-\u2029\u205F\u3000]/g),a2=hi(/^html$/i),GD=hi(/^[a-z][.\w]*(-[.\w]+)+$/i);var $w=Object.freeze({__proto__:null,ARIA_ATTR:qD,ATTR_WHITESPACE:WD,CUSTOM_ELEMENT:GD,DATA_ATTR:ID,DOCTYPE_NAME:a2,ERB_EXPR:PD,IS_ALLOWED_URI:i2,IS_SCRIPT_OR_DATA:HD,MUSTACHE_EXPR:FD,TMPLIT_EXPR:UD});const Jo={element:1,text:3,progressingInstruction:7,comment:8,document:9},YD=function(){return typeof window>"u"?null:window},VD=function(t,r){if(typeof t!="object"||typeof t.createPolicy!="function")return null;let i=null;const n="data-tt-policy-suffix";r&&r.hasAttribute(n)&&(i=r.getAttribute(n));const l="dompurify"+(i?"#"+i:"");try{return t.createPolicy(l,{createHTML(o){return o},createScriptURL(o){return o}})}catch{return console.warn("TrustedTypes policy "+l+" could not be created."),null}},zw=function(){return{afterSanitizeAttributes:[],afterSanitizeElements:[],afterSanitizeShadowDOM:[],beforeSanitizeAttributes:[],beforeSanitizeElements:[],beforeSanitizeShadowDOM:[],uponSanitizeAttribute:[],uponSanitizeElement:[],uponSanitizeShadowNode:[]}};function n2(){let e=arguments.length>0&&arguments[0]!==void 0?arguments[0]:YD();const t=St=>n2(St);if(t.version="3.3.1",t.removed=[],!e||!e.document||e.document.nodeType!==Jo.document||!e.Element)return t.isSupported=!1,t;let{document:r}=e;const i=r,n=i.currentScript,{DocumentFragment:l,HTMLTemplateElement:o,Node:u,Element:h,NodeFilter:d,NamedNodeMap:p=e.NamedNodeMap||e.MozNamedAttrMap,HTMLFormElement:g,DOMParser:y,trustedTypes:x}=e,v=h.prototype,_=Zo(v,"cloneNode"),S=Zo(v,"remove"),T=Zo(v,"nextSibling"),E=Zo(v,"childNodes"),O=Zo(v,"parentNode");if(typeof o=="function"){const St=r.createElement("template");St.content&&St.content.ownerDocument&&(r=St.content.ownerDocument)}let L,B="";const{implementation:I,createNodeIterator:j,createDocumentFragment:Z,getElementsByTagName:rt}=r,{importNode:at}=i;let J=zw();t.isSupported=typeof r2=="function"&&typeof O=="function"&&I&&I.createHTMLDocument!==void 0;const{MUSTACHE_EXPR:q,ERB_EXPR:N,TMPLIT_EXPR:z,DATA_ATTR:P,ARIA_ATTR:R,IS_SCRIPT_OR_DATA:$,ATTR_WHITESPACE:H,CUSTOM_ELEMENT:ot}=$w;let{IS_ALLOWED_URI:ht}=$w,M=null;const V=It({},[...Bw,...im,...am,...nm,...Nw]);let et=null;const ct=It({},[...Dw,...sm,...jw,...Rh]);let dt=Object.seal(zm(null,{tagNameCheck:{writable:!0,configurable:!1,enumerable:!0,value:null},attributeNameCheck:{writable:!0,configurable:!1,enumerable:!0,value:null},allowCustomizedBuiltInElements:{writable:!0,configurable:!1,enumerable:!0,value:!1}})),Ct=null,Lt=null;const te=Object.seal(zm(null,{tagCheck:{writable:!0,configurable:!1,enumerable:!0,value:null},attributeCheck:{writable:!0,configurable:!1,enumerable:!0,value:null}}));let Kt=!0,oe=!0,nr=!1,Kr=!0,vr=!1,Qr=!0,pi=!1,vn=!1,Wl=!1,Yi=!1,Ma=!1,Ba=!1,ms=!0,nu=!1;const Cf="user-content-";let Xe=!0,_n=!1,Vi={},Nr=null;const Na=It({},["annotation-xml","audio","colgroup","desc","foreignobject","head","iframe","math","mi","mn","mo","ms","mtext","noembed","noframes","noscript","plaintext","script","style","svg","template","thead","title","video","xmp"]);let su=null;const Gl=It({},["audio","video","img","source","image","track"]);let Yl=null;const lu=It({},["alt","class","for","id","label","name","pattern","placeholder","role","summary","title","value","style","xmlns"]),Li="http://www.w3.org/1998/Math/MathML",Ge="http://www.w3.org/2000/svg",Ye="http://www.w3.org/1999/xhtml";let Re=Ye,Vl=!1,Xl=null;const Tf=It({},[Li,Ge,Ye],em);let Xi=It({},["mi","mo","mn","ms","mtext"]),Ki=It({},["annotation-xml"]);const ys=It({},["title","style","font","a","script"]);let Dr=null;const bs=["application/xhtml+xml","text/html"],wn="text/html";let Te=null,Qi=null;const Kl=r.createElement("form"),Da=function(F){return F instanceof RegExp||F instanceof Function},Ql=function(){let F=arguments.length>0&&arguments[0]!==void 0?arguments[0]:{};if(!(Qi&&Qi===F)){if((!F||typeof F!="object")&&(F={}),F=zi(F),Dr=bs.indexOf(F.PARSER_MEDIA_TYPE)===-1?wn:F.PARSER_MEDIA_TYPE,Te=Dr==="application/xhtml+xml"?em:Gh,M=vi(F,"ALLOWED_TAGS")?It({},F.ALLOWED_TAGS,Te):V,et=vi(F,"ALLOWED_ATTR")?It({},F.ALLOWED_ATTR,Te):ct,Xl=vi(F,"ALLOWED_NAMESPACES")?It({},F.ALLOWED_NAMESPACES,em):Tf,Yl=vi(F,"ADD_URI_SAFE_ATTR")?It(zi(lu),F.ADD_URI_SAFE_ATTR,Te):lu,su=vi(F,"ADD_DATA_URI_TAGS")?It(zi(Gl),F.ADD_DATA_URI_TAGS,Te):Gl,Nr=vi(F,"FORBID_CONTENTS")?It({},F.FORBID_CONTENTS,Te):Na,Ct=vi(F,"FORBID_TAGS")?It({},F.FORBID_TAGS,Te):zi({}),Lt=vi(F,"FORBID_ATTR")?It({},F.FORBID_ATTR,Te):zi({}),Vi=vi(F,"USE_PROFILES")?F.USE_PROFILES:!1,Kt=F.ALLOW_ARIA_ATTR!==!1,oe=F.ALLOW_DATA_ATTR!==!1,nr=F.ALLOW_UNKNOWN_PROTOCOLS||!1,Kr=F.ALLOW_SELF_CLOSE_IN_ATTR!==!1,vr=F.SAFE_FOR_TEMPLATES||!1,Qr=F.SAFE_FOR_XML!==!1,pi=F.WHOLE_DOCUMENT||!1,Yi=F.RETURN_DOM||!1,Ma=F.RETURN_DOM_FRAGMENT||!1,Ba=F.RETURN_TRUSTED_TYPE||!1,Wl=F.FORCE_BODY||!1,ms=F.SANITIZE_DOM!==!1,nu=F.SANITIZE_NAMED_PROPS||!1,Xe=F.KEEP_CONTENT!==!1,_n=F.IN_PLACE||!1,ht=F.ALLOWED_URI_REGEXP||i2,Re=F.NAMESPACE||Ye,Xi=F.MATHML_TEXT_INTEGRATION_POINTS||Xi,Ki=F.HTML_INTEGRATION_POINTS||Ki,dt=F.CUSTOM_ELEMENT_HANDLING||{},F.CUSTOM_ELEMENT_HANDLING&&Da(F.CUSTOM_ELEMENT_HANDLING.tagNameCheck)&&(dt.tagNameCheck=F.CUSTOM_ELEMENT_HANDLING.tagNameCheck),F.CUSTOM_ELEMENT_HANDLING&&Da(F.CUSTOM_ELEMENT_HANDLING.attributeNameCheck)&&(dt.attributeNameCheck=F.CUSTOM_ELEMENT_HANDLING.attributeNameCheck),F.CUSTOM_ELEMENT_HANDLING&&typeof F.CUSTOM_ELEMENT_HANDLING.allowCustomizedBuiltInElements=="boolean"&&(dt.allowCustomizedBuiltInElements=F.CUSTOM_ELEMENT_HANDLING.allowCustomizedBuiltInElements),vr&&(oe=!1),Ma&&(Yi=!0),Vi&&(M=It({},Nw),et=[],Vi.html===!0&&(It(M,Bw),It(et,Dw)),Vi.svg===!0&&(It(M,im),It(et,sm),It(et,Rh)),Vi.svgFilters===!0&&(It(M,am),It(et,sm),It(et,Rh)),Vi.mathMl===!0&&(It(M,nm),It(et,jw),It(et,Rh))),F.ADD_TAGS&&(typeof F.ADD_TAGS=="function"?te.tagCheck=F.ADD_TAGS:(M===V&&(M=zi(M)),It(M,F.ADD_TAGS,Te))),F.ADD_ATTR&&(typeof F.ADD_ATTR=="function"?te.attributeCheck=F.ADD_ATTR:(et===ct&&(et=zi(et)),It(et,F.ADD_ATTR,Te))),F.ADD_URI_SAFE_ATTR&&It(Yl,F.ADD_URI_SAFE_ATTR,Te),F.FORBID_CONTENTS&&(Nr===Na&&(Nr=zi(Nr)),It(Nr,F.FORBID_CONTENTS,Te)),F.ADD_FORBID_CONTENTS&&(Nr===Na&&(Nr=zi(Nr)),It(Nr,F.ADD_FORBID_CONTENTS,Te)),Xe&&(M["#text"]=!0),pi&&It(M,["html","head","body"]),M.table&&(It(M,["tbody"]),delete Ct.tbody),F.TRUSTED_TYPES_POLICY){if(typeof F.TRUSTED_TYPES_POLICY.createHTML!="function")throw Qo('TRUSTED_TYPES_POLICY configuration option must provide a "createHTML" hook.');if(typeof F.TRUSTED_TYPES_POLICY.createScriptURL!="function")throw Qo('TRUSTED_TYPES_POLICY configuration option must provide a "createScriptURL" hook.');L=F.TRUSTED_TYPES_POLICY,B=L.createHTML("")}else L===void 0&&(L=VD(x,n)),L!==null&&typeof B=="string"&&(B=L.createHTML(""));br&&br(F),Qi=F}},Zl=It({},[...im,...am,...$D]),Jl=It({},[...nm,...zD]),ou=function(F){let ut=O(F);(!ut||!ut.tagName)&&(ut={namespaceURI:Re,tagName:"template"});const gt=Gh(F.tagName),re=Gh(ut.tagName);return Xl[F.namespaceURI]?F.namespaceURI===Ge?ut.namespaceURI===Ye?gt==="svg":ut.namespaceURI===Li?gt==="svg"&&(re==="annotation-xml"||Xi[re]):!!Zl[gt]:F.namespaceURI===Li?ut.namespaceURI===Ye?gt==="math":ut.namespaceURI===Ge?gt==="math"&&Ki[re]:!!Jl[gt]:F.namespaceURI===Ye?ut.namespaceURI===Ge&&!Ki[re]||ut.namespaceURI===Li&&!Xi[re]?!1:!Jl[gt]&&(ys[gt]||!Zl[gt]):!!(Dr==="application/xhtml+xml"&&Xl[F.namespaceURI]):!1},_r=function(F){Xo(t.removed,{element:F});try{O(F).removeChild(F)}catch{S(F)}},gi=function(F,ut){try{Xo(t.removed,{attribute:ut.getAttributeNode(F),from:ut})}catch{Xo(t.removed,{attribute:null,from:ut})}if(ut.removeAttribute(F),F==="is")if(Yi||Ma)try{_r(ut)}catch{}else try{ut.setAttribute(F,"")}catch{}},to=function(F){let ut=null,gt=null;if(Wl)F="<remove></remove>"+F;else{const Ut=rm(F,/^[\r\n\t ]+/);gt=Ut&&Ut[0]}Dr==="application/xhtml+xml"&&Re===Ye&&(F='<html xmlns="http://www.w3.org/1999/xhtml"><head></head><body>'+F+"</body></html>");const re=L?L.createHTML(F):F;if(Re===Ye)try{ut=new y().parseFromString(re,Dr)}catch{}if(!ut||!ut.documentElement){ut=I.createDocument(Re,"template",null);try{ut.documentElement.innerHTML=Vl?B:re}catch{}}const _e=ut.body||ut.documentElement;return F&&gt&&_e.insertBefore(r.createTextNode(gt),_e.childNodes[0]||null),Re===Ye?rt.call(ut,pi?"html":"body")[0]:pi?ut.documentElement:_e},eo=function(F){return j.call(F.ownerDocument||F,F,d.SHOW_ELEMENT|d.SHOW_COMMENT|d.SHOW_TEXT|d.SHOW_PROCESSING_INSTRUCTION|d.SHOW_CDATA_SECTION,null)},Zr=function(F){return F instanceof g&&(typeof F.nodeName!="string"||typeof F.textContent!="string"||typeof F.removeChild!="function"||!(F.attributes instanceof p)||typeof F.removeAttribute!="function"||typeof F.setAttribute!="function"||typeof F.namespaceURI!="string"||typeof F.insertBefore!="function"||typeof F.hasChildNodes!="function")},Le=function(F){return typeof u=="function"&&F instanceof u};function ye(St,F,ut){Oh(St,gt=>{gt.call(t,F,ut,Qi)})}const Zi=function(F){let ut=null;if(ye(J.beforeSanitizeElements,F,null),Zr(F))return _r(F),!0;const gt=Te(F.nodeName);if(ye(J.uponSanitizeElement,F,{tagName:gt,allowedTags:M}),Qr&&F.hasChildNodes()&&!Le(F.firstElementChild)&&pr(/<[/\w!]/g,F.innerHTML)&&pr(/<[/\w!]/g,F.textContent)||F.nodeType===Jo.progressingInstruction||Qr&&F.nodeType===Jo.comment&&pr(/<[/\w]/g,F.data))return _r(F),!0;if(!(te.tagCheck instanceof Function&&te.tagCheck(gt))&&(!M[gt]||Ct[gt])){if(!Ct[gt]&&cu(gt)&&(dt.tagNameCheck instanceof RegExp&&pr(dt.tagNameCheck,gt)||dt.tagNameCheck instanceof Function&&dt.tagNameCheck(gt)))return!1;if(Xe&&!Nr[gt]){const re=O(F)||F.parentNode,_e=E(F)||F.childNodes;if(_e&&re){const Ut=_e.length;for(let Ke=Ut-1;Ke>=0;--Ke){const Jr=_(_e[Ke],!0);Jr.__removalCount=(F.__removalCount||0)+1,re.insertBefore(Jr,T(F))}}}return _r(F),!0}return F instanceof h&&!ou(F)||(gt==="noscript"||gt==="noembed"||gt==="noframes")&&pr(/<\/no(script|embed|frames)/i,F.innerHTML)?(_r(F),!0):(vr&&F.nodeType===Jo.text&&(ut=F.textContent,Oh([q,N,z],re=>{ut=Ko(ut,re," ")}),F.textContent!==ut&&(Xo(t.removed,{element:F.cloneNode()}),F.textContent=ut)),ye(J.afterSanitizeElements,F,null),!1)},xs=function(F,ut,gt){if(ms&&(ut==="id"||ut==="name")&&(gt in r||gt in Kl))return!1;if(!(oe&&!Lt[ut]&&pr(P,ut))){if(!(Kt&&pr(R,ut))){if(!(te.attributeCheck instanceof Function&&te.attributeCheck(ut,F))){if(!et[ut]||Lt[ut]){if(!(cu(F)&&(dt.tagNameCheck instanceof RegExp&&pr(dt.tagNameCheck,F)||dt.tagNameCheck instanceof Function&&dt.tagNameCheck(F))&&(dt.attributeNameCheck instanceof RegExp&&pr(dt.attributeNameCheck,ut)||dt.attributeNameCheck instanceof Function&&dt.attributeNameCheck(ut,F))||ut==="is"&&dt.allowCustomizedBuiltInElements&&(dt.tagNameCheck instanceof RegExp&&pr(dt.tagNameCheck,gt)||dt.tagNameCheck instanceof Function&&dt.tagNameCheck(gt))))return!1}else if(!Yl[ut]){if(!pr(ht,Ko(gt,H,""))){if(!((ut==="src"||ut==="xlink:href"||ut==="href")&&F!=="script"&&BD(gt,"data:")===0&&su[F])){if(!(nr&&!pr($,Ko(gt,H,"")))){if(gt)return!1}}}}}}}return!0},cu=function(F){return F!=="annotation-xml"&&rm(F,ot)},uu=function(F){ye(J.beforeSanitizeAttributes,F,null);const{attributes:ut}=F;if(!ut||Zr(F))return;const gt={attrName:"",attrValue:"",keepAttr:!0,allowedAttributes:et,forceKeepAttr:void 0};let re=ut.length;for(;re--;){const _e=ut[re],{name:Ut,namespaceURI:Ke,value:Jr}=_e,wr=Te(Ut),Mi=Jr;let ze=Ut==="value"?Mi:ND(Mi);if(gt.attrName=wr,gt.attrValue=ze,gt.keepAttr=!0,gt.forceKeepAttr=void 0,ye(J.uponSanitizeAttribute,F,gt),ze=gt.attrValue,nu&&(wr==="id"||wr==="name")&&(gi(Ut,F),ze=Cf+ze),Qr&&pr(/((--!?|])>)|<\/(style|title|textarea)/i,ze)){gi(Ut,F);continue}if(wr==="attributename"&&rm(ze,"href")){gi(Ut,F);continue}if(gt.forceKeepAttr)continue;if(!gt.keepAttr){gi(Ut,F);continue}if(!Kr&&pr(/\/>/i,ze)){gi(Ut,F);continue}vr&&Oh([q,N,z],io=>{ze=Ko(ze,io," ")});const ro=Te(F.nodeName);if(!xs(ro,wr,ze)){gi(Ut,F);continue}if(L&&typeof x=="object"&&typeof x.getAttributeType=="function"&&!Ke)switch(x.getAttributeType(ro,wr)){case"TrustedHTML":{ze=L.createHTML(ze);break}case"TrustedScriptURL":{ze=L.createScriptURL(ze);break}}if(ze!==Mi)try{Ke?F.setAttributeNS(Ke,Ut,ze):F.setAttribute(Ut,ze),Zr(F)?_r(F):Mw(t.removed)}catch{gi(Ut,F)}}ye(J.afterSanitizeAttributes,F,null)},hu=function St(F){let ut=null;const gt=eo(F);for(ye(J.beforeSanitizeShadowDOM,F,null);ut=gt.nextNode();)ye(J.uponSanitizeShadowNode,ut,null),Zi(ut),uu(ut),ut.content instanceof l&&St(ut.content);ye(J.afterSanitizeShadowDOM,F,null)};return t.sanitize=function(St){let F=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{},ut=null,gt=null,re=null,_e=null;if(Vl=!St,Vl&&(St="<!-->"),typeof St!="string"&&!Le(St))if(typeof St.toString=="function"){if(St=St.toString(),typeof St!="string")throw Qo("dirty is not a string, aborting")}else throw Qo("toString is not a function");if(!t.isSupported)return St;if(vn||Ql(F),t.removed=[],typeof St=="string"&&(_n=!1),_n){if(St.nodeName){const Jr=Te(St.nodeName);if(!M[Jr]||Ct[Jr])throw Qo("root node is forbidden and cannot be sanitized in-place")}}else if(St instanceof u)ut=to("<!---->"),gt=ut.ownerDocument.importNode(St,!0),gt.nodeType===Jo.element&&gt.nodeName==="BODY"||gt.nodeName==="HTML"?ut=gt:ut.appendChild(gt);else{if(!Yi&&!vr&&!pi&&St.indexOf("<")===-1)return L&&Ba?L.createHTML(St):St;if(ut=to(St),!ut)return Yi?null:Ba?B:""}ut&&Wl&&_r(ut.firstChild);const Ut=eo(_n?St:ut);for(;re=Ut.nextNode();)Zi(re),uu(re),re.content instanceof l&&hu(re.content);if(_n)return St;if(Yi){if(Ma)for(_e=Z.call(ut.ownerDocument);ut.firstChild;)_e.appendChild(ut.firstChild);else _e=ut;return(et.shadowroot||et.shadowrootmode)&&(_e=at.call(i,_e,!0)),_e}let Ke=pi?ut.outerHTML:ut.innerHTML;return pi&&M["!doctype"]&&ut.ownerDocument&&ut.ownerDocument.doctype&&ut.ownerDocument.doctype.name&&pr(a2,ut.ownerDocument.doctype.name)&&(Ke="<!DOCTYPE "+ut.ownerDocument.doctype.name+`>
`+Ke),vr&&Oh([q,N,z],Jr=>{Ke=Ko(Ke,Jr," ")}),L&&Ba?L.createHTML(Ke):Ke},t.setConfig=function(){let St=arguments.length>0&&arguments[0]!==void 0?arguments[0]:{};Ql(St),vn=!0},t.clearConfig=function(){Qi=null,vn=!1},t.isValidAttribute=function(St,F,ut){Qi||Ql({});const gt=Te(St),re=Te(F);return xs(gt,re,ut)},t.addHook=function(St,F){typeof F=="function"&&Xo(J[St],F)},t.removeHook=function(St,F){if(F!==void 0){const ut=LD(J[St],F);return ut===-1?void 0:MD(J[St],ut,1)[0]}return Mw(J[St])},t.removeHooks=function(St){J[St]=[]},t.removeAllHooks=function(){J=zw()},t}var Tl=n2(),s2=/^-{3}\s*[\n\r](.*?)[\n\r]-{3}\s*[\n\r]+/s,wc=/%{2}{\s*(?:(\w+)\s*:|(\w+))\s*(?:(\w+)|((?:(?!}%{2}).|\r?\n)*))?\s*(?:}%{2})?/gi,XD=/\s*%%.*\n/gm,bl,l2=(bl=class extends Error{constructor(t){super(t),this.name="UnknownDiagramError"}},w(bl,"UnknownDiagramError"),bl),as={},Qy=w(function(e,t){e=e.replace(s2,"").replace(wc,"").replace(XD,`
`);for(const[r,{detector:i}]of Object.entries(as))if(i(e,t))return r;throw new l2(`No diagram type detected matching given configuration for text: ${e}`)},"detectType"),Um=w((...e)=>{for(const{id:t,detector:r,loader:i}of e)o2(t,r,i)},"registerLazyLoadedDiagrams"),o2=w((e,t,r)=>{as[e]&&lt.warn(`Detector with key ${e} already exists. Overwriting.`),as[e]={detector:t,loader:r},lt.debug(`Detector with key ${e} added${r?" with loader":""}`)},"addDetector"),KD=w(e=>as[e].loader,"getDiagramLoader"),Im=w((e,t,{depth:r=2,clobber:i=!1}={})=>{const n={depth:r,clobber:i};return Array.isArray(t)&&!Array.isArray(e)?(t.forEach(l=>Im(e,l,n)),e):Array.isArray(t)&&Array.isArray(e)?(t.forEach(l=>{e.includes(l)||e.push(l)}),e):e===void 0||r<=0?e!=null&&typeof e=="object"&&typeof t=="object"?Object.assign(e,t):t:(t!==void 0&&typeof e=="object"&&typeof t=="object"&&Object.keys(t).forEach(l=>{typeof t[l]=="object"&&(e[l]===void 0||typeof e[l]=="object")?(e[l]===void 0&&(e[l]=Array.isArray(t[l])?[]:{}),e[l]=Im(e[l],t[l],{depth:r-1,clobber:i})):(i||typeof e[l]!="object"&&typeof t[l]!="object")&&(e[l]=t[l])}),e)},"assignWithDepth"),qe=Im,Zd="#ffffff",Jd="#f2f2f2",gr=w((e,t)=>t?Y(e,{s:-40,l:10}):Y(e,{s:-40,l:-10}),"mkBorder"),xl,QD=(xl=class{constructor(){this.background="#f4f4f4",this.primaryColor="#fff4dd",this.noteBkgColor="#fff5ad",this.noteTextColor="#333",this.THEME_COLOR_LIMIT=12,this.fontFamily='"trebuchet ms", verdana, arial, sans-serif',this.fontSize="16px"}updateColors(){if(this.primaryTextColor=this.primaryTextColor||(this.darkMode?"#eee":"#333"),this.secondaryColor=this.secondaryColor||Y(this.primaryColor,{h:-120}),this.tertiaryColor=this.tertiaryColor||Y(this.primaryColor,{h:180,l:5}),this.primaryBorderColor=this.primaryBorderColor||gr(this.primaryColor,this.darkMode),this.secondaryBorderColor=this.secondaryBorderColor||gr(this.secondaryColor,this.darkMode),this.tertiaryBorderColor=this.tertiaryBorderColor||gr(this.tertiaryColor,this.darkMode),this.noteBorderColor=this.noteBorderColor||gr(this.noteBkgColor,this.darkMode),this.noteBkgColor=this.noteBkgColor||"#fff5ad",this.noteTextColor=this.noteTextColor||"#333",this.secondaryTextColor=this.secondaryTextColor||ft(this.secondaryColor),this.tertiaryTextColor=this.tertiaryTextColor||ft(this.tertiaryColor),this.lineColor=this.lineColor||ft(this.background),this.arrowheadColor=this.arrowheadColor||ft(this.background),this.textColor=this.textColor||this.primaryTextColor,this.border2=this.border2||this.tertiaryBorderColor,this.nodeBkg=this.nodeBkg||this.primaryColor,this.mainBkg=this.mainBkg||this.primaryColor,this.nodeBorder=this.nodeBorder||this.primaryBorderColor,this.clusterBkg=this.clusterBkg||this.tertiaryColor,this.clusterBorder=this.clusterBorder||this.tertiaryBorderColor,this.defaultLinkColor=this.defaultLinkColor||this.lineColor,this.titleColor=this.titleColor||this.tertiaryTextColor,this.edgeLabelBackground=this.edgeLabelBackground||(this.darkMode?Ot(this.secondaryColor,30):this.secondaryColor),this.nodeTextColor=this.nodeTextColor||this.primaryTextColor,this.actorBorder=this.actorBorder||this.primaryBorderColor,this.actorBkg=this.actorBkg||this.mainBkg,this.actorTextColor=this.actorTextColor||this.primaryTextColor,this.actorLineColor=this.actorLineColor||this.actorBorder,this.labelBoxBkgColor=this.labelBoxBkgColor||this.actorBkg,this.signalColor=this.signalColor||this.textColor,this.signalTextColor=this.signalTextColor||this.textColor,this.labelBoxBorderColor=this.labelBoxBorderColor||this.actorBorder,this.labelTextColor=this.labelTextColor||this.actorTextColor,this.loopTextColor=this.loopTextColor||this.actorTextColor,this.activationBorderColor=this.activationBorderColor||Ot(this.secondaryColor,10),this.activationBkgColor=this.activationBkgColor||this.secondaryColor,this.sequenceNumberColor=this.sequenceNumberColor||ft(this.lineColor),this.sectionBkgColor=this.sectionBkgColor||this.tertiaryColor,this.altSectionBkgColor=this.altSectionBkgColor||"white",this.sectionBkgColor=this.sectionBkgColor||this.secondaryColor,this.sectionBkgColor2=this.sectionBkgColor2||this.primaryColor,this.excludeBkgColor=this.excludeBkgColor||"#eeeeee",this.taskBorderColor=this.taskBorderColor||this.primaryBorderColor,this.taskBkgColor=this.taskBkgColor||this.primaryColor,this.activeTaskBorderColor=this.activeTaskBorderColor||this.primaryColor,this.activeTaskBkgColor=this.activeTaskBkgColor||bt(this.primaryColor,23),this.gridColor=this.gridColor||"lightgrey",this.doneTaskBkgColor=this.doneTaskBkgColor||"lightgrey",this.doneTaskBorderColor=this.doneTaskBorderColor||"grey",this.critBorderColor=this.critBorderColor||"#ff8888",this.critBkgColor=this.critBkgColor||"red",this.todayLineColor=this.todayLineColor||"red",this.vertLineColor=this.vertLineColor||"navy",this.taskTextColor=this.taskTextColor||this.textColor,this.taskTextOutsideColor=this.taskTextOutsideColor||this.textColor,this.taskTextLightColor=this.taskTextLightColor||this.textColor,this.taskTextColor=this.taskTextColor||this.primaryTextColor,this.taskTextDarkColor=this.taskTextDarkColor||this.textColor,this.taskTextClickableColor=this.taskTextClickableColor||"#003163",this.personBorder=this.personBorder||this.primaryBorderColor,this.personBkg=this.personBkg||this.mainBkg,this.darkMode?(this.rowOdd=this.rowOdd||Ot(this.mainBkg,5)||"#ffffff",this.rowEven=this.rowEven||Ot(this.mainBkg,10)):(this.rowOdd=this.rowOdd||bt(this.mainBkg,75)||"#ffffff",this.rowEven=this.rowEven||bt(this.mainBkg,5)),this.transitionColor=this.transitionColor||this.lineColor,this.transitionLabelColor=this.transitionLabelColor||this.textColor,this.stateLabelColor=this.stateLabelColor||this.stateBkg||this.primaryTextColor,this.stateBkg=this.stateBkg||this.mainBkg,this.labelBackgroundColor=this.labelBackgroundColor||this.stateBkg,this.compositeBackground=this.compositeBackground||this.background||this.tertiaryColor,this.altBackground=this.altBackground||this.tertiaryColor,this.compositeTitleBackground=this.compositeTitleBackground||this.mainBkg,this.compositeBorder=this.compositeBorder||this.nodeBorder,this.innerEndBackground=this.nodeBorder,this.errorBkgColor=this.errorBkgColor||this.tertiaryColor,this.errorTextColor=this.errorTextColor||this.tertiaryTextColor,this.transitionColor=this.transitionColor||this.lineColor,this.specialStateColor=this.lineColor,this.cScale0=this.cScale0||this.primaryColor,this.cScale1=this.cScale1||this.secondaryColor,this.cScale2=this.cScale2||this.tertiaryColor,this.cScale3=this.cScale3||Y(this.primaryColor,{h:30}),this.cScale4=this.cScale4||Y(this.primaryColor,{h:60}),this.cScale5=this.cScale5||Y(this.primaryColor,{h:90}),this.cScale6=this.cScale6||Y(this.primaryColor,{h:120}),this.cScale7=this.cScale7||Y(this.primaryColor,{h:150}),this.cScale8=this.cScale8||Y(this.primaryColor,{h:210,l:150}),this.cScale9=this.cScale9||Y(this.primaryColor,{h:270}),this.cScale10=this.cScale10||Y(this.primaryColor,{h:300}),this.cScale11=this.cScale11||Y(this.primaryColor,{h:330}),this.darkMode)for(let r=0;r<this.THEME_COLOR_LIMIT;r++)this["cScale"+r]=Ot(this["cScale"+r],75);else for(let r=0;r<this.THEME_COLOR_LIMIT;r++)this["cScale"+r]=Ot(this["cScale"+r],25);for(let r=0;r<this.THEME_COLOR_LIMIT;r++)this["cScaleInv"+r]=this["cScaleInv"+r]||ft(this["cScale"+r]);for(let r=0;r<this.THEME_COLOR_LIMIT;r++)this.darkMode?this["cScalePeer"+r]=this["cScalePeer"+r]||bt(this["cScale"+r],10):this["cScalePeer"+r]=this["cScalePeer"+r]||Ot(this["cScale"+r],10);this.scaleLabelColor=this.scaleLabelColor||this.labelTextColor;for(let r=0;r<this.THEME_COLOR_LIMIT;r++)this["cScaleLabel"+r]=this["cScaleLabel"+r]||this.scaleLabelColor;const t=this.darkMode?-4:-1;for(let r=0;r<5;r++)this["surface"+r]=this["surface"+r]||Y(this.mainBkg,{h:180,s:-15,l:t*(5+r*3)}),this["surfacePeer"+r]=this["surfacePeer"+r]||Y(this.mainBkg,{h:180,s:-15,l:t*(8+r*3)});this.classText=this.classText||this.textColor,this.fillType0=this.fillType0||this.primaryColor,this.fillType1=this.fillType1||this.secondaryColor,this.fillType2=this.fillType2||Y(this.primaryColor,{h:64}),this.fillType3=this.fillType3||Y(this.secondaryColor,{h:64}),this.fillType4=this.fillType4||Y(this.primaryColor,{h:-64}),this.fillType5=this.fillType5||Y(this.secondaryColor,{h:-64}),this.fillType6=this.fillType6||Y(this.primaryColor,{h:128}),this.fillType7=this.fillType7||Y(this.secondaryColor,{h:128}),this.pie1=this.pie1||this.primaryColor,this.pie2=this.pie2||this.secondaryColor,this.pie3=this.pie3||this.tertiaryColor,this.pie4=this.pie4||Y(this.primaryColor,{l:-10}),this.pie5=this.pie5||Y(this.secondaryColor,{l:-10}),this.pie6=this.pie6||Y(this.tertiaryColor,{l:-10}),this.pie7=this.pie7||Y(this.primaryColor,{h:60,l:-10}),this.pie8=this.pie8||Y(this.primaryColor,{h:-60,l:-10}),this.pie9=this.pie9||Y(this.primaryColor,{h:120,l:0}),this.pie10=this.pie10||Y(this.primaryColor,{h:60,l:-20}),this.pie11=this.pie11||Y(this.primaryColor,{h:-60,l:-20}),this.pie12=this.pie12||Y(this.primaryColor,{h:120,l:-10}),this.pieTitleTextSize=this.pieTitleTextSize||"25px",this.pieTitleTextColor=this.pieTitleTextColor||this.taskTextDarkColor,this.pieSectionTextSize=this.pieSectionTextSize||"17px",this.pieSectionTextColor=this.pieSectionTextColor||this.textColor,this.pieLegendTextSize=this.pieLegendTextSize||"17px",this.pieLegendTextColor=this.pieLegendTextColor||this.taskTextDarkColor,this.pieStrokeColor=this.pieStrokeColor||"black",this.pieStrokeWidth=this.pieStrokeWidth||"2px",this.pieOuterStrokeWidth=this.pieOuterStrokeWidth||"2px",this.pieOuterStrokeColor=this.pieOuterStrokeColor||"black",this.pieOpacity=this.pieOpacity||"0.7",this.radar={axisColor:this.radar?.axisColor||this.lineColor,axisStrokeWidth:this.radar?.axisStrokeWidth||2,axisLabelFontSize:this.radar?.axisLabelFontSize||12,curveOpacity:this.radar?.curveOpacity||.5,curveStrokeWidth:this.radar?.curveStrokeWidth||2,graticuleColor:this.radar?.graticuleColor||"#DEDEDE",graticuleStrokeWidth:this.radar?.graticuleStrokeWidth||1,graticuleOpacity:this.radar?.graticuleOpacity||.3,legendBoxSize:this.radar?.legendBoxSize||12,legendFontSize:this.radar?.legendFontSize||12},this.archEdgeColor=this.archEdgeColor||"#777",this.archEdgeArrowColor=this.archEdgeArrowColor||"#777",this.archEdgeWidth=this.archEdgeWidth||"3",this.archGroupBorderColor=this.archGroupBorderColor||"#000",this.archGroupBorderWidth=this.archGroupBorderWidth||"2px",this.quadrant1Fill=this.quadrant1Fill||this.primaryColor,this.quadrant2Fill=this.quadrant2Fill||Y(this.primaryColor,{r:5,g:5,b:5}),this.quadrant3Fill=this.quadrant3Fill||Y(this.primaryColor,{r:10,g:10,b:10}),this.quadrant4Fill=this.quadrant4Fill||Y(this.primaryColor,{r:15,g:15,b:15}),this.quadrant1TextFill=this.quadrant1TextFill||this.primaryTextColor,this.quadrant2TextFill=this.quadrant2TextFill||Y(this.primaryTextColor,{r:-5,g:-5,b:-5}),this.quadrant3TextFill=this.quadrant3TextFill||Y(this.primaryTextColor,{r:-10,g:-10,b:-10}),this.quadrant4TextFill=this.quadrant4TextFill||Y(this.primaryTextColor,{r:-15,g:-15,b:-15}),this.quadrantPointFill=this.quadrantPointFill||Xc(this.quadrant1Fill)?bt(this.quadrant1Fill):Ot(this.quadrant1Fill),this.quadrantPointTextFill=this.quadrantPointTextFill||this.primaryTextColor,this.quadrantXAxisTextFill=this.quadrantXAxisTextFill||this.primaryTextColor,this.quadrantYAxisTextFill=this.quadrantYAxisTextFill||this.primaryTextColor,this.quadrantInternalBorderStrokeFill=this.quadrantInternalBorderStrokeFill||this.primaryBorderColor,this.quadrantExternalBorderStrokeFill=this.quadrantExternalBorderStrokeFill||this.primaryBorderColor,this.quadrantTitleFill=this.quadrantTitleFill||this.primaryTextColor,this.xyChart={backgroundColor:this.xyChart?.backgroundColor||this.background,titleColor:this.xyChart?.titleColor||this.primaryTextColor,xAxisTitleColor:this.xyChart?.xAxisTitleColor||this.primaryTextColor,xAxisLabelColor:this.xyChart?.xAxisLabelColor||this.primaryTextColor,xAxisTickColor:this.xyChart?.xAxisTickColor||this.primaryTextColor,xAxisLineColor:this.xyChart?.xAxisLineColor||this.primaryTextColor,yAxisTitleColor:this.xyChart?.yAxisTitleColor||this.primaryTextColor,yAxisLabelColor:this.xyChart?.yAxisLabelColor||this.primaryTextColor,yAxisTickColor:this.xyChart?.yAxisTickColor||this.primaryTextColor,yAxisLineColor:this.xyChart?.yAxisLineColor||this.primaryTextColor,plotColorPalette:this.xyChart?.plotColorPalette||"#FFF4DD,#FFD8B1,#FFA07A,#ECEFF1,#D6DBDF,#C3E0A8,#FFB6A4,#FFD74D,#738FA7,#FFFFF0"},this.requirementBackground=this.requirementBackground||this.primaryColor,this.requirementBorderColor=this.requirementBorderColor||this.primaryBorderColor,this.requirementBorderSize=this.requirementBorderSize||"1",this.requirementTextColor=this.requirementTextColor||this.primaryTextColor,this.relationColor=this.relationColor||this.lineColor,this.relationLabelBackground=this.relationLabelBackground||(this.darkMode?Ot(this.secondaryColor,30):this.secondaryColor),this.relationLabelColor=this.relationLabelColor||this.actorTextColor,this.git0=this.git0||this.primaryColor,this.git1=this.git1||this.secondaryColor,this.git2=this.git2||this.tertiaryColor,this.git3=this.git3||Y(this.primaryColor,{h:-30}),this.git4=this.git4||Y(this.primaryColor,{h:-60}),this.git5=this.git5||Y(this.primaryColor,{h:-90}),this.git6=this.git6||Y(this.primaryColor,{h:60}),this.git7=this.git7||Y(this.primaryColor,{h:120}),this.darkMode?(this.git0=bt(this.git0,25),this.git1=bt(this.git1,25),this.git2=bt(this.git2,25),this.git3=bt(this.git3,25),this.git4=bt(this.git4,25),this.git5=bt(this.git5,25),this.git6=bt(this.git6,25),this.git7=bt(this.git7,25)):(this.git0=Ot(this.git0,25),this.git1=Ot(this.git1,25),this.git2=Ot(this.git2,25),this.git3=Ot(this.git3,25),this.git4=Ot(this.git4,25),this.git5=Ot(this.git5,25),this.git6=Ot(this.git6,25),this.git7=Ot(this.git7,25)),this.gitInv0=this.gitInv0||ft(this.git0),this.gitInv1=this.gitInv1||ft(this.git1),this.gitInv2=this.gitInv2||ft(this.git2),this.gitInv3=this.gitInv3||ft(this.git3),this.gitInv4=this.gitInv4||ft(this.git4),this.gitInv5=this.gitInv5||ft(this.git5),this.gitInv6=this.gitInv6||ft(this.git6),this.gitInv7=this.gitInv7||ft(this.git7),this.branchLabelColor=this.branchLabelColor||(this.darkMode?"black":this.labelTextColor),this.gitBranchLabel0=this.gitBranchLabel0||this.branchLabelColor,this.gitBranchLabel1=this.gitBranchLabel1||this.branchLabelColor,this.gitBranchLabel2=this.gitBranchLabel2||this.branchLabelColor,this.gitBranchLabel3=this.gitBranchLabel3||this.branchLabelColor,this.gitBranchLabel4=this.gitBranchLabel4||this.branchLabelColor,this.gitBranchLabel5=this.gitBranchLabel5||this.branchLabelColor,this.gitBranchLabel6=this.gitBranchLabel6||this.branchLabelColor,this.gitBranchLabel7=this.gitBranchLabel7||this.branchLabelColor,this.tagLabelColor=this.tagLabelColor||this.primaryTextColor,this.tagLabelBackground=this.tagLabelBackground||this.primaryColor,this.tagLabelBorder=this.tagBorder||this.primaryBorderColor,this.tagLabelFontSize=this.tagLabelFontSize||"10px",this.commitLabelColor=this.commitLabelColor||this.secondaryTextColor,this.commitLabelBackground=this.commitLabelBackground||this.secondaryColor,this.commitLabelFontSize=this.commitLabelFontSize||"10px",this.attributeBackgroundColorOdd=this.attributeBackgroundColorOdd||Zd,this.attributeBackgroundColorEven=this.attributeBackgroundColorEven||Jd}calculate(t){if(typeof t!="object"){this.updateColors();return}const r=Object.keys(t);r.forEach(i=>{this[i]=t[i]}),this.updateColors(),r.forEach(i=>{this[i]=t[i]})}},w(xl,"Theme"),xl),ZD=w(e=>{const t=new QD;return t.calculate(e),t},"getThemeVariables"),vl,JD=(vl=class{constructor(){this.background="#333",this.primaryColor="#1f2020",this.secondaryColor=bt(this.primaryColor,16),this.tertiaryColor=Y(this.primaryColor,{h:-160}),this.primaryBorderColor=ft(this.background),this.secondaryBorderColor=gr(this.secondaryColor,this.darkMode),this.tertiaryBorderColor=gr(this.tertiaryColor,this.darkMode),this.primaryTextColor=ft(this.primaryColor),this.secondaryTextColor=ft(this.secondaryColor),this.tertiaryTextColor=ft(this.tertiaryColor),this.lineColor=ft(this.background),this.textColor=ft(this.background),this.mainBkg="#1f2020",this.secondBkg="calculated",this.mainContrastColor="lightgrey",this.darkTextColor=bt(ft("#323D47"),10),this.lineColor="calculated",this.border1="#ccc",this.border2=_c(255,255,255,.25),this.arrowheadColor="calculated",this.fontFamily='"trebuchet ms", verdana, arial, sans-serif',this.fontSize="16px",this.labelBackground="#181818",this.textColor="#ccc",this.THEME_COLOR_LIMIT=12,this.nodeBkg="calculated",this.nodeBorder="calculated",this.clusterBkg="calculated",this.clusterBorder="calculated",this.defaultLinkColor="calculated",this.titleColor="#F9FFFE",this.edgeLabelBackground="calculated",this.actorBorder="calculated",this.actorBkg="calculated",this.actorTextColor="calculated",this.actorLineColor="calculated",this.signalColor="calculated",this.signalTextColor="calculated",this.labelBoxBkgColor="calculated",this.labelBoxBorderColor="calculated",this.labelTextColor="calculated",this.loopTextColor="calculated",this.noteBorderColor="calculated",this.noteBkgColor="#fff5ad",this.noteTextColor="calculated",this.activationBorderColor="calculated",this.activationBkgColor="calculated",this.sequenceNumberColor="black",this.sectionBkgColor=Ot("#EAE8D9",30),this.altSectionBkgColor="calculated",this.sectionBkgColor2="#EAE8D9",this.excludeBkgColor=Ot(this.sectionBkgColor,10),this.taskBorderColor=_c(255,255,255,70),this.taskBkgColor="calculated",this.taskTextColor="calculated",this.taskTextLightColor="calculated",this.taskTextOutsideColor="calculated",this.taskTextClickableColor="#003163",this.activeTaskBorderColor=_c(255,255,255,50),this.activeTaskBkgColor="#81B1DB",this.gridColor="calculated",this.doneTaskBkgColor="calculated",this.doneTaskBorderColor="grey",this.critBorderColor="#E83737",this.critBkgColor="#E83737",this.taskTextDarkColor="calculated",this.todayLineColor="#DB5757",this.vertLineColor="#00BFFF",this.personBorder=this.primaryBorderColor,this.personBkg=this.mainBkg,this.archEdgeColor="calculated",this.archEdgeArrowColor="calculated",this.archEdgeWidth="3",this.archGroupBorderColor=this.primaryBorderColor,this.archGroupBorderWidth="2px",this.rowOdd=this.rowOdd||bt(this.mainBkg,5)||"#ffffff",this.rowEven=this.rowEven||Ot(this.mainBkg,10),this.labelColor="calculated",this.errorBkgColor="#a44141",this.errorTextColor="#ddd"}updateColors(){this.secondBkg=bt(this.mainBkg,16),this.lineColor=this.mainContrastColor,this.arrowheadColor=this.mainContrastColor,this.nodeBkg=this.mainBkg,this.nodeBorder=this.border1,this.clusterBkg=this.secondBkg,this.clusterBorder=this.border2,this.defaultLinkColor=this.lineColor,this.edgeLabelBackground=bt(this.labelBackground,25),this.actorBorder=this.border1,this.actorBkg=this.mainBkg,this.actorTextColor=this.mainContrastColor,this.actorLineColor=this.actorBorder,this.signalColor=this.mainContrastColor,this.signalTextColor=this.mainContrastColor,this.labelBoxBkgColor=this.actorBkg,this.labelBoxBorderColor=this.actorBorder,this.labelTextColor=this.mainContrastColor,this.loopTextColor=this.mainContrastColor,this.noteBorderColor=this.secondaryBorderColor,this.noteBkgColor=this.secondBkg,this.noteTextColor=this.secondaryTextColor,this.activationBorderColor=this.border1,this.activationBkgColor=this.secondBkg,this.altSectionBkgColor=this.background,this.taskBkgColor=bt(this.mainBkg,23),this.taskTextColor=this.darkTextColor,this.taskTextLightColor=this.mainContrastColor,this.taskTextOutsideColor=this.taskTextLightColor,this.gridColor=this.mainContrastColor,this.doneTaskBkgColor=this.mainContrastColor,this.taskTextDarkColor=this.darkTextColor,this.archEdgeColor=this.lineColor,this.archEdgeArrowColor=this.lineColor,this.transitionColor=this.transitionColor||this.lineColor,this.transitionLabelColor=this.transitionLabelColor||this.textColor,this.stateLabelColor=this.stateLabelColor||this.stateBkg||this.primaryTextColor,this.stateBkg=this.stateBkg||this.mainBkg,this.labelBackgroundColor=this.labelBackgroundColor||this.stateBkg,this.compositeBackground=this.compositeBackground||this.background||this.tertiaryColor,this.altBackground=this.altBackground||"#555",this.compositeTitleBackground=this.compositeTitleBackground||this.mainBkg,this.compositeBorder=this.compositeBorder||this.nodeBorder,this.innerEndBackground=this.primaryBorderColor,this.specialStateColor="#f4f4f4",this.errorBkgColor=this.errorBkgColor||this.tertiaryColor,this.errorTextColor=this.errorTextColor||this.tertiaryTextColor,this.fillType0=this.primaryColor,this.fillType1=this.secondaryColor,this.fillType2=Y(this.primaryColor,{h:64}),this.fillType3=Y(this.secondaryColor,{h:64}),this.fillType4=Y(this.primaryColor,{h:-64}),this.fillType5=Y(this.secondaryColor,{h:-64}),this.fillType6=Y(this.primaryColor,{h:128}),this.fillType7=Y(this.secondaryColor,{h:128}),this.cScale1=this.cScale1||"#0b0000",this.cScale2=this.cScale2||"#4d1037",this.cScale3=this.cScale3||"#3f5258",this.cScale4=this.cScale4||"#4f2f1b",this.cScale5=this.cScale5||"#6e0a0a",this.cScale6=this.cScale6||"#3b0048",this.cScale7=this.cScale7||"#995a01",this.cScale8=this.cScale8||"#154706",this.cScale9=this.cScale9||"#161722",this.cScale10=this.cScale10||"#00296f",this.cScale11=this.cScale11||"#01629c",this.cScale12=this.cScale12||"#010029",this.cScale0=this.cScale0||this.primaryColor,this.cScale1=this.cScale1||this.secondaryColor,this.cScale2=this.cScale2||this.tertiaryColor,this.cScale3=this.cScale3||Y(this.primaryColor,{h:30}),this.cScale4=this.cScale4||Y(this.primaryColor,{h:60}),this.cScale5=this.cScale5||Y(this.primaryColor,{h:90}),this.cScale6=this.cScale6||Y(this.primaryColor,{h:120}),this.cScale7=this.cScale7||Y(this.primaryColor,{h:150}),this.cScale8=this.cScale8||Y(this.primaryColor,{h:210}),this.cScale9=this.cScale9||Y(this.primaryColor,{h:270}),this.cScale10=this.cScale10||Y(this.primaryColor,{h:300}),this.cScale11=this.cScale11||Y(this.primaryColor,{h:330});for(let t=0;t<this.THEME_COLOR_LIMIT;t++)this["cScaleInv"+t]=this["cScaleInv"+t]||ft(this["cScale"+t]);for(let t=0;t<this.THEME_COLOR_LIMIT;t++)this["cScalePeer"+t]=this["cScalePeer"+t]||bt(this["cScale"+t],10);for(let t=0;t<5;t++)this["surface"+t]=this["surface"+t]||Y(this.mainBkg,{h:30,s:-30,l:-(-10+t*4)}),this["surfacePeer"+t]=this["surfacePeer"+t]||Y(this.mainBkg,{h:30,s:-30,l:-(-7+t*4)});this.scaleLabelColor=this.scaleLabelColor||(this.darkMode?"black":this.labelTextColor);for(let t=0;t<this.THEME_COLOR_LIMIT;t++)this["cScaleLabel"+t]=this["cScaleLabel"+t]||this.scaleLabelColor;for(let t=0;t<this.THEME_COLOR_LIMIT;t++)this["pie"+t]=this["cScale"+t];this.pieTitleTextSize=this.pieTitleTextSize||"25px",this.pieTitleTextColor=this.pieTitleTextColor||this.taskTextDarkColor,this.pieSectionTextSize=this.pieSectionTextSize||"17px",this.pieSectionTextColor=this.pieSectionTextColor||this.textColor,this.pieLegendTextSize=this.pieLegendTextSize||"17px",this.pieLegendTextColor=this.pieLegendTextColor||this.taskTextDarkColor,this.pieStrokeColor=this.pieStrokeColor||"black",this.pieStrokeWidth=this.pieStrokeWidth||"2px",this.pieOuterStrokeWidth=this.pieOuterStrokeWidth||"2px",this.pieOuterStrokeColor=this.pieOuterStrokeColor||"black",this.pieOpacity=this.pieOpacity||"0.7",this.quadrant1Fill=this.quadrant1Fill||this.primaryColor,this.quadrant2Fill=this.quadrant2Fill||Y(this.primaryColor,{r:5,g:5,b:5}),this.quadrant3Fill=this.quadrant3Fill||Y(this.primaryColor,{r:10,g:10,b:10}),this.quadrant4Fill=this.quadrant4Fill||Y(this.primaryColor,{r:15,g:15,b:15}),this.quadrant1TextFill=this.quadrant1TextFill||this.primaryTextColor,this.quadrant2TextFill=this.quadrant2TextFill||Y(this.primaryTextColor,{r:-5,g:-5,b:-5}),this.quadrant3TextFill=this.quadrant3TextFill||Y(this.primaryTextColor,{r:-10,g:-10,b:-10}),this.quadrant4TextFill=this.quadrant4TextFill||Y(this.primaryTextColor,{r:-15,g:-15,b:-15}),this.quadrantPointFill=this.quadrantPointFill||Xc(this.quadrant1Fill)?bt(this.quadrant1Fill):Ot(this.quadrant1Fill),this.quadrantPointTextFill=this.quadrantPointTextFill||this.primaryTextColor,this.quadrantXAxisTextFill=this.quadrantXAxisTextFill||this.primaryTextColor,this.quadrantYAxisTextFill=this.quadrantYAxisTextFill||this.primaryTextColor,this.quadrantInternalBorderStrokeFill=this.quadrantInternalBorderStrokeFill||this.primaryBorderColor,this.quadrantExternalBorderStrokeFill=this.quadrantExternalBorderStrokeFill||this.primaryBorderColor,this.quadrantTitleFill=this.quadrantTitleFill||this.primaryTextColor,this.xyChart={backgroundColor:this.xyChart?.backgroundColor||this.background,titleColor:this.xyChart?.titleColor||this.primaryTextColor,xAxisTitleColor:this.xyChart?.xAxisTitleColor||this.primaryTextColor,xAxisLabelColor:this.xyChart?.xAxisLabelColor||this.primaryTextColor,xAxisTickColor:this.xyChart?.xAxisTickColor||this.primaryTextColor,xAxisLineColor:this.xyChart?.xAxisLineColor||this.primaryTextColor,yAxisTitleColor:this.xyChart?.yAxisTitleColor||this.primaryTextColor,yAxisLabelColor:this.xyChart?.yAxisLabelColor||this.primaryTextColor,yAxisTickColor:this.xyChart?.yAxisTickColor||this.primaryTextColor,yAxisLineColor:this.xyChart?.yAxisLineColor||this.primaryTextColor,plotColorPalette:this.xyChart?.plotColorPalette||"#3498db,#2ecc71,#e74c3c,#f1c40f,#bdc3c7,#ffffff,#34495e,#9b59b6,#1abc9c,#e67e22"},this.packet={startByteColor:this.primaryTextColor,endByteColor:this.primaryTextColor,labelColor:this.primaryTextColor,titleColor:this.primaryTextColor,blockStrokeColor:this.primaryTextColor,blockFillColor:this.background},this.radar={axisColor:this.radar?.axisColor||this.lineColor,axisStrokeWidth:this.radar?.axisStrokeWidth||2,axisLabelFontSize:this.radar?.axisLabelFontSize||12,curveOpacity:this.radar?.curveOpacity||.5,curveStrokeWidth:this.radar?.curveStrokeWidth||2,graticuleColor:this.radar?.graticuleColor||"#DEDEDE",graticuleStrokeWidth:this.radar?.graticuleStrokeWidth||1,graticuleOpacity:this.radar?.graticuleOpacity||.3,legendBoxSize:this.radar?.legendBoxSize||12,legendFontSize:this.radar?.legendFontSize||12},this.classText=this.primaryTextColor,this.requirementBackground=this.requirementBackground||this.primaryColor,this.requirementBorderColor=this.requirementBorderColor||this.primaryBorderColor,this.requirementBorderSize=this.requirementBorderSize||"1",this.requirementTextColor=this.requirementTextColor||this.primaryTextColor,this.relationColor=this.relationColor||this.lineColor,this.relationLabelBackground=this.relationLabelBackground||(this.darkMode?Ot(this.secondaryColor,30):this.secondaryColor),this.relationLabelColor=this.relationLabelColor||this.actorTextColor,this.git0=bt(this.secondaryColor,20),this.git1=bt(this.pie2||this.secondaryColor,20),this.git2=bt(this.pie3||this.tertiaryColor,20),this.git3=bt(this.pie4||Y(this.primaryColor,{h:-30}),20),this.git4=bt(this.pie5||Y(this.primaryColor,{h:-60}),20),this.git5=bt(this.pie6||Y(this.primaryColor,{h:-90}),10),this.git6=bt(this.pie7||Y(this.primaryColor,{h:60}),10),this.git7=bt(this.pie8||Y(this.primaryColor,{h:120}),20),this.gitInv0=this.gitInv0||ft(this.git0),this.gitInv1=this.gitInv1||ft(this.git1),this.gitInv2=this.gitInv2||ft(this.git2),this.gitInv3=this.gitInv3||ft(this.git3),this.gitInv4=this.gitInv4||ft(this.git4),this.gitInv5=this.gitInv5||ft(this.git5),this.gitInv6=this.gitInv6||ft(this.git6),this.gitInv7=this.gitInv7||ft(this.git7),this.gitBranchLabel0=this.gitBranchLabel0||ft(this.labelTextColor),this.gitBranchLabel1=this.gitBranchLabel1||this.labelTextColor,this.gitBranchLabel2=this.gitBranchLabel2||this.labelTextColor,this.gitBranchLabel3=this.gitBranchLabel3||ft(this.labelTextColor),this.gitBranchLabel4=this.gitBranchLabel4||this.labelTextColor,this.gitBranchLabel5=this.gitBranchLabel5||this.labelTextColor,this.gitBranchLabel6=this.gitBranchLabel6||this.labelTextColor,this.gitBranchLabel7=this.gitBranchLabel7||this.labelTextColor,this.tagLabelColor=this.tagLabelColor||this.primaryTextColor,this.tagLabelBackground=this.tagLabelBackground||this.primaryColor,this.tagLabelBorder=this.tagBorder||this.primaryBorderColor,this.tagLabelFontSize=this.tagLabelFontSize||"10px",this.commitLabelColor=this.commitLabelColor||this.secondaryTextColor,this.commitLabelBackground=this.commitLabelBackground||this.secondaryColor,this.commitLabelFontSize=this.commitLabelFontSize||"10px",this.attributeBackgroundColorOdd=this.attributeBackgroundColorOdd||bt(this.background,12),this.attributeBackgroundColorEven=this.attributeBackgroundColorEven||bt(this.background,2),this.nodeBorder=this.nodeBorder||"#999"}calculate(t){if(typeof t!="object"){this.updateColors();return}const r=Object.keys(t);r.forEach(i=>{this[i]=t[i]}),this.updateColors(),r.forEach(i=>{this[i]=t[i]})}},w(vl,"Theme"),vl),tj=w(e=>{const t=new JD;return t.calculate(e),t},"getThemeVariables"),_l,ej=(_l=class{constructor(){this.background="#f4f4f4",this.primaryColor="#ECECFF",this.secondaryColor=Y(this.primaryColor,{h:120}),this.secondaryColor="#ffffde",this.tertiaryColor=Y(this.primaryColor,{h:-160}),this.primaryBorderColor=gr(this.primaryColor,this.darkMode),this.secondaryBorderColor=gr(this.secondaryColor,this.darkMode),this.tertiaryBorderColor=gr(this.tertiaryColor,this.darkMode),this.primaryTextColor=ft(this.primaryColor),this.secondaryTextColor=ft(this.secondaryColor),this.tertiaryTextColor=ft(this.tertiaryColor),this.lineColor=ft(this.background),this.textColor=ft(this.background),this.background="white",this.mainBkg="#ECECFF",this.secondBkg="#ffffde",this.lineColor="#333333",this.border1="#9370DB",this.border2="#aaaa33",this.arrowheadColor="#333333",this.fontFamily='"trebuchet ms", verdana, arial, sans-serif',this.fontSize="16px",this.labelBackground="rgba(232,232,232, 0.8)",this.textColor="#333",this.THEME_COLOR_LIMIT=12,this.nodeBkg="calculated",this.nodeBorder="calculated",this.clusterBkg="calculated",this.clusterBorder="calculated",this.defaultLinkColor="calculated",this.titleColor="calculated",this.edgeLabelBackground="calculated",this.actorBorder="calculated",this.actorBkg="calculated",this.actorTextColor="black",this.actorLineColor="calculated",this.signalColor="calculated",this.signalTextColor="calculated",this.labelBoxBkgColor="calculated",this.labelBoxBorderColor="calculated",this.labelTextColor="calculated",this.loopTextColor="calculated",this.noteBorderColor="calculated",this.noteBkgColor="#fff5ad",this.noteTextColor="calculated",this.activationBorderColor="#666",this.activationBkgColor="#f4f4f4",this.sequenceNumberColor="white",this.sectionBkgColor="calculated",this.altSectionBkgColor="calculated",this.sectionBkgColor2="calculated",this.excludeBkgColor="#eeeeee",this.taskBorderColor="calculated",this.taskBkgColor="calculated",this.taskTextLightColor="calculated",this.taskTextColor=this.taskTextLightColor,this.taskTextDarkColor="calculated",this.taskTextOutsideColor=this.taskTextDarkColor,this.taskTextClickableColor="calculated",this.activeTaskBorderColor="calculated",this.activeTaskBkgColor="calculated",this.gridColor="calculated",this.doneTaskBkgColor="calculated",this.doneTaskBorderColor="calculated",this.critBorderColor="calculated",this.critBkgColor="calculated",this.todayLineColor="calculated",this.vertLineColor="calculated",this.sectionBkgColor=_c(102,102,255,.49),this.altSectionBkgColor="white",this.sectionBkgColor2="#fff400",this.taskBorderColor="#534fbc",this.taskBkgColor="#8a90dd",this.taskTextLightColor="white",this.taskTextColor="calculated",this.taskTextDarkColor="black",this.taskTextOutsideColor="calculated",this.taskTextClickableColor="#003163",this.activeTaskBorderColor="#534fbc",this.activeTaskBkgColor="#bfc7ff",this.gridColor="lightgrey",this.doneTaskBkgColor="lightgrey",this.doneTaskBorderColor="grey",this.critBorderColor="#ff8888",this.critBkgColor="red",this.todayLineColor="red",this.vertLineColor="navy",this.personBorder=this.primaryBorderColor,this.personBkg=this.mainBkg,this.archEdgeColor="calculated",this.archEdgeArrowColor="calculated",this.archEdgeWidth="3",this.archGroupBorderColor=this.primaryBorderColor,this.archGroupBorderWidth="2px",this.rowOdd="calculated",this.rowEven="calculated",this.labelColor="black",this.errorBkgColor="#552222",this.errorTextColor="#552222",this.updateColors()}updateColors(){this.cScale0=this.cScale0||this.primaryColor,this.cScale1=this.cScale1||this.secondaryColor,this.cScale2=this.cScale2||this.tertiaryColor,this.cScale3=this.cScale3||Y(this.primaryColor,{h:30}),this.cScale4=this.cScale4||Y(this.primaryColor,{h:60}),this.cScale5=this.cScale5||Y(this.primaryColor,{h:90}),this.cScale6=this.cScale6||Y(this.primaryColor,{h:120}),this.cScale7=this.cScale7||Y(this.primaryColor,{h:150}),this.cScale8=this.cScale8||Y(this.primaryColor,{h:210}),this.cScale9=this.cScale9||Y(this.primaryColor,{h:270}),this.cScale10=this.cScale10||Y(this.primaryColor,{h:300}),this.cScale11=this.cScale11||Y(this.primaryColor,{h:330}),this.cScalePeer1=this.cScalePeer1||Ot(this.secondaryColor,45),this.cScalePeer2=this.cScalePeer2||Ot(this.tertiaryColor,40);for(let t=0;t<this.THEME_COLOR_LIMIT;t++)this["cScale"+t]=Ot(this["cScale"+t],10),this["cScalePeer"+t]=this["cScalePeer"+t]||Ot(this["cScale"+t],25);for(let t=0;t<this.THEME_COLOR_LIMIT;t++)this["cScaleInv"+t]=this["cScaleInv"+t]||Y(this["cScale"+t],{h:180});for(let t=0;t<5;t++)this["surface"+t]=this["surface"+t]||Y(this.mainBkg,{h:30,l:-(5+t*5)}),this["surfacePeer"+t]=this["surfacePeer"+t]||Y(this.mainBkg,{h:30,l:-(7+t*5)});if(this.scaleLabelColor=this.scaleLabelColor!=="calculated"&&this.scaleLabelColor?this.scaleLabelColor:this.labelTextColor,this.labelTextColor!=="calculated"){this.cScaleLabel0=this.cScaleLabel0||ft(this.labelTextColor),this.cScaleLabel3=this.cScaleLabel3||ft(this.labelTextColor);for(let t=0;t<this.THEME_COLOR_LIMIT;t++)this["cScaleLabel"+t]=this["cScaleLabel"+t]||this.labelTextColor}this.nodeBkg=this.mainBkg,this.nodeBorder=this.border1,this.clusterBkg=this.secondBkg,this.clusterBorder=this.border2,this.defaultLinkColor=this.lineColor,this.titleColor=this.textColor,this.edgeLabelBackground=this.labelBackground,this.actorBorder=bt(this.border1,23),this.actorBkg=this.mainBkg,this.labelBoxBkgColor=this.actorBkg,this.signalColor=this.textColor,this.signalTextColor=this.textColor,this.labelBoxBorderColor=this.actorBorder,this.labelTextColor=this.actorTextColor,this.loopTextColor=this.actorTextColor,this.noteBorderColor=this.border2,this.noteTextColor=this.actorTextColor,this.actorLineColor=this.actorBorder,this.taskTextColor=this.taskTextLightColor,this.taskTextOutsideColor=this.taskTextDarkColor,this.archEdgeColor=this.lineColor,this.archEdgeArrowColor=this.lineColor,this.rowOdd=this.rowOdd||bt(this.primaryColor,75)||"#ffffff",this.rowEven=this.rowEven||bt(this.primaryColor,1),this.transitionColor=this.transitionColor||this.lineColor,this.transitionLabelColor=this.transitionLabelColor||this.textColor,this.stateLabelColor=this.stateLabelColor||this.stateBkg||this.primaryTextColor,this.stateBkg=this.stateBkg||this.mainBkg,this.labelBackgroundColor=this.labelBackgroundColor||this.stateBkg,this.compositeBackground=this.compositeBackground||this.background||this.tertiaryColor,this.altBackground=this.altBackground||"#f0f0f0",this.compositeTitleBackground=this.compositeTitleBackground||this.mainBkg,this.compositeBorder=this.compositeBorder||this.nodeBorder,this.innerEndBackground=this.nodeBorder,this.specialStateColor=this.lineColor,this.errorBkgColor=this.errorBkgColor||this.tertiaryColor,this.errorTextColor=this.errorTextColor||this.tertiaryTextColor,this.transitionColor=this.transitionColor||this.lineColor,this.classText=this.primaryTextColor,this.fillType0=this.primaryColor,this.fillType1=this.secondaryColor,this.fillType2=Y(this.primaryColor,{h:64}),this.fillType3=Y(this.secondaryColor,{h:64}),this.fillType4=Y(this.primaryColor,{h:-64}),this.fillType5=Y(this.secondaryColor,{h:-64}),this.fillType6=Y(this.primaryColor,{h:128}),this.fillType7=Y(this.secondaryColor,{h:128}),this.pie1=this.pie1||this.primaryColor,this.pie2=this.pie2||this.secondaryColor,this.pie3=this.pie3||Y(this.tertiaryColor,{l:-40}),this.pie4=this.pie4||Y(this.primaryColor,{l:-10}),this.pie5=this.pie5||Y(this.secondaryColor,{l:-30}),this.pie6=this.pie6||Y(this.tertiaryColor,{l:-20}),this.pie7=this.pie7||Y(this.primaryColor,{h:60,l:-20}),this.pie8=this.pie8||Y(this.primaryColor,{h:-60,l:-40}),this.pie9=this.pie9||Y(this.primaryColor,{h:120,l:-40}),this.pie10=this.pie10||Y(this.primaryColor,{h:60,l:-40}),this.pie11=this.pie11||Y(this.primaryColor,{h:-90,l:-40}),this.pie12=this.pie12||Y(this.primaryColor,{h:120,l:-30}),this.pieTitleTextSize=this.pieTitleTextSize||"25px",this.pieTitleTextColor=this.pieTitleTextColor||this.taskTextDarkColor,this.pieSectionTextSize=this.pieSectionTextSize||"17px",this.pieSectionTextColor=this.pieSectionTextColor||this.textColor,this.pieLegendTextSize=this.pieLegendTextSize||"17px",this.pieLegendTextColor=this.pieLegendTextColor||this.taskTextDarkColor,this.pieStrokeColor=this.pieStrokeColor||"black",this.pieStrokeWidth=this.pieStrokeWidth||"2px",this.pieOuterStrokeWidth=this.pieOuterStrokeWidth||"2px",this.pieOuterStrokeColor=this.pieOuterStrokeColor||"black",this.pieOpacity=this.pieOpacity||"0.7",this.quadrant1Fill=this.quadrant1Fill||this.primaryColor,this.quadrant2Fill=this.quadrant2Fill||Y(this.primaryColor,{r:5,g:5,b:5}),this.quadrant3Fill=this.quadrant3Fill||Y(this.primaryColor,{r:10,g:10,b:10}),this.quadrant4Fill=this.quadrant4Fill||Y(this.primaryColor,{r:15,g:15,b:15}),this.quadrant1TextFill=this.quadrant1TextFill||this.primaryTextColor,this.quadrant2TextFill=this.quadrant2TextFill||Y(this.primaryTextColor,{r:-5,g:-5,b:-5}),this.quadrant3TextFill=this.quadrant3TextFill||Y(this.primaryTextColor,{r:-10,g:-10,b:-10}),this.quadrant4TextFill=this.quadrant4TextFill||Y(this.primaryTextColor,{r:-15,g:-15,b:-15}),this.quadrantPointFill=this.quadrantPointFill||Xc(this.quadrant1Fill)?bt(this.quadrant1Fill):Ot(this.quadrant1Fill),this.quadrantPointTextFill=this.quadrantPointTextFill||this.primaryTextColor,this.quadrantXAxisTextFill=this.quadrantXAxisTextFill||this.primaryTextColor,this.quadrantYAxisTextFill=this.quadrantYAxisTextFill||this.primaryTextColor,this.quadrantInternalBorderStrokeFill=this.quadrantInternalBorderStrokeFill||this.primaryBorderColor,this.quadrantExternalBorderStrokeFill=this.quadrantExternalBorderStrokeFill||this.primaryBorderColor,this.quadrantTitleFill=this.quadrantTitleFill||this.primaryTextColor,this.radar={axisColor:this.radar?.axisColor||this.lineColor,axisStrokeWidth:this.radar?.axisStrokeWidth||2,axisLabelFontSize:this.radar?.axisLabelFontSize||12,curveOpacity:this.radar?.curveOpacity||.5,curveStrokeWidth:this.radar?.curveStrokeWidth||2,graticuleColor:this.radar?.graticuleColor||"#DEDEDE",graticuleStrokeWidth:this.radar?.graticuleStrokeWidth||1,graticuleOpacity:this.radar?.graticuleOpacity||.3,legendBoxSize:this.radar?.legendBoxSize||12,legendFontSize:this.radar?.legendFontSize||12},this.xyChart={backgroundColor:this.xyChart?.backgroundColor||this.background,titleColor:this.xyChart?.titleColor||this.primaryTextColor,xAxisTitleColor:this.xyChart?.xAxisTitleColor||this.primaryTextColor,xAxisLabelColor:this.xyChart?.xAxisLabelColor||this.primaryTextColor,xAxisTickColor:this.xyChart?.xAxisTickColor||this.primaryTextColor,xAxisLineColor:this.xyChart?.xAxisLineColor||this.primaryTextColor,yAxisTitleColor:this.xyChart?.yAxisTitleColor||this.primaryTextColor,yAxisLabelColor:this.xyChart?.yAxisLabelColor||this.primaryTextColor,yAxisTickColor:this.xyChart?.yAxisTickColor||this.primaryTextColor,yAxisLineColor:this.xyChart?.yAxisLineColor||this.primaryTextColor,plotColorPalette:this.xyChart?.plotColorPalette||"#ECECFF,#8493A6,#FFC3A0,#DCDDE1,#B8E994,#D1A36F,#C3CDE6,#FFB6C1,#496078,#F8F3E3"},this.requirementBackground=this.requirementBackground||this.primaryColor,this.requirementBorderColor=this.requirementBorderColor||this.primaryBorderColor,this.requirementBorderSize=this.requirementBorderSize||"1",this.requirementTextColor=this.requirementTextColor||this.primaryTextColor,this.relationColor=this.relationColor||this.lineColor,this.relationLabelBackground=this.relationLabelBackground||this.labelBackground,this.relationLabelColor=this.relationLabelColor||this.actorTextColor,this.git0=this.git0||this.primaryColor,this.git1=this.git1||this.secondaryColor,this.git2=this.git2||this.tertiaryColor,this.git3=this.git3||Y(this.primaryColor,{h:-30}),this.git4=this.git4||Y(this.primaryColor,{h:-60}),this.git5=this.git5||Y(this.primaryColor,{h:-90}),this.git6=this.git6||Y(this.primaryColor,{h:60}),this.git7=this.git7||Y(this.primaryColor,{h:120}),this.darkMode?(this.git0=bt(this.git0,25),this.git1=bt(this.git1,25),this.git2=bt(this.git2,25),this.git3=bt(this.git3,25),this.git4=bt(this.git4,25),this.git5=bt(this.git5,25),this.git6=bt(this.git6,25),this.git7=bt(this.git7,25)):(this.git0=Ot(this.git0,25),this.git1=Ot(this.git1,25),this.git2=Ot(this.git2,25),this.git3=Ot(this.git3,25),this.git4=Ot(this.git4,25),this.git5=Ot(this.git5,25),this.git6=Ot(this.git6,25),this.git7=Ot(this.git7,25)),this.gitInv0=this.gitInv0||Ot(ft(this.git0),25),this.gitInv1=this.gitInv1||ft(this.git1),this.gitInv2=this.gitInv2||ft(this.git2),this.gitInv3=this.gitInv3||ft(this.git3),this.gitInv4=this.gitInv4||ft(this.git4),this.gitInv5=this.gitInv5||ft(this.git5),this.gitInv6=this.gitInv6||ft(this.git6),this.gitInv7=this.gitInv7||ft(this.git7),this.gitBranchLabel0=this.gitBranchLabel0||ft(this.labelTextColor),this.gitBranchLabel1=this.gitBranchLabel1||this.labelTextColor,this.gitBranchLabel2=this.gitBranchLabel2||this.labelTextColor,this.gitBranchLabel3=this.gitBranchLabel3||ft(this.labelTextColor),this.gitBranchLabel4=this.gitBranchLabel4||this.labelTextColor,this.gitBranchLabel5=this.gitBranchLabel5||this.labelTextColor,this.gitBranchLabel6=this.gitBranchLabel6||this.labelTextColor,this.gitBranchLabel7=this.gitBranchLabel7||this.labelTextColor,this.tagLabelColor=this.tagLabelColor||this.primaryTextColor,this.tagLabelBackground=this.tagLabelBackground||this.primaryColor,this.tagLabelBorder=this.tagBorder||this.primaryBorderColor,this.tagLabelFontSize=this.tagLabelFontSize||"10px",this.commitLabelColor=this.commitLabelColor||this.secondaryTextColor,this.commitLabelBackground=this.commitLabelBackground||this.secondaryColor,this.commitLabelFontSize=this.commitLabelFontSize||"10px",this.attributeBackgroundColorOdd=this.attributeBackgroundColorOdd||Zd,this.attributeBackgroundColorEven=this.attributeBackgroundColorEven||Jd}calculate(t){if(Object.keys(this).forEach(i=>{this[i]==="calculated"&&(this[i]=void 0)}),typeof t!="object"){this.updateColors();return}const r=Object.keys(t);r.forEach(i=>{this[i]=t[i]}),this.updateColors(),r.forEach(i=>{this[i]=t[i]})}},w(_l,"Theme"),_l),rj=w(e=>{const t=new ej;return t.calculate(e),t},"getThemeVariables"),wl,ij=(wl=class{constructor(){this.background="#f4f4f4",this.primaryColor="#cde498",this.secondaryColor="#cdffb2",this.background="white",this.mainBkg="#cde498",this.secondBkg="#cdffb2",this.lineColor="green",this.border1="#13540c",this.border2="#6eaa49",this.arrowheadColor="green",this.fontFamily='"trebuchet ms", verdana, arial, sans-serif',this.fontSize="16px",this.tertiaryColor=bt("#cde498",10),this.primaryBorderColor=gr(this.primaryColor,this.darkMode),this.secondaryBorderColor=gr(this.secondaryColor,this.darkMode),this.tertiaryBorderColor=gr(this.tertiaryColor,this.darkMode),this.primaryTextColor=ft(this.primaryColor),this.secondaryTextColor=ft(this.secondaryColor),this.tertiaryTextColor=ft(this.primaryColor),this.lineColor=ft(this.background),this.textColor=ft(this.background),this.THEME_COLOR_LIMIT=12,this.nodeBkg="calculated",this.nodeBorder="calculated",this.clusterBkg="calculated",this.clusterBorder="calculated",this.defaultLinkColor="calculated",this.titleColor="#333",this.edgeLabelBackground="#e8e8e8",this.actorBorder="calculated",this.actorBkg="calculated",this.actorTextColor="black",this.actorLineColor="calculated",this.signalColor="#333",this.signalTextColor="#333",this.labelBoxBkgColor="calculated",this.labelBoxBorderColor="#326932",this.labelTextColor="calculated",this.loopTextColor="calculated",this.noteBorderColor="calculated",this.noteBkgColor="#fff5ad",this.noteTextColor="calculated",this.activationBorderColor="#666",this.activationBkgColor="#f4f4f4",this.sequenceNumberColor="white",this.sectionBkgColor="#6eaa49",this.altSectionBkgColor="white",this.sectionBkgColor2="#6eaa49",this.excludeBkgColor="#eeeeee",this.taskBorderColor="calculated",this.taskBkgColor="#487e3a",this.taskTextLightColor="white",this.taskTextColor="calculated",this.taskTextDarkColor="black",this.taskTextOutsideColor="calculated",this.taskTextClickableColor="#003163",this.activeTaskBorderColor="calculated",this.activeTaskBkgColor="calculated",this.gridColor="lightgrey",this.doneTaskBkgColor="lightgrey",this.doneTaskBorderColor="grey",this.critBorderColor="#ff8888",this.critBkgColor="red",this.todayLineColor="red",this.vertLineColor="#00BFFF",this.personBorder=this.primaryBorderColor,this.personBkg=this.mainBkg,this.archEdgeColor="calculated",this.archEdgeArrowColor="calculated",this.archEdgeWidth="3",this.archGroupBorderColor=this.primaryBorderColor,this.archGroupBorderWidth="2px",this.labelColor="black",this.errorBkgColor="#552222",this.errorTextColor="#552222"}updateColors(){this.actorBorder=Ot(this.mainBkg,20),this.actorBkg=this.mainBkg,this.labelBoxBkgColor=this.actorBkg,this.labelTextColor=this.actorTextColor,this.loopTextColor=this.actorTextColor,this.noteBorderColor=this.border2,this.noteTextColor=this.actorTextColor,this.actorLineColor=this.actorBorder,this.cScale0=this.cScale0||this.primaryColor,this.cScale1=this.cScale1||this.secondaryColor,this.cScale2=this.cScale2||this.tertiaryColor,this.cScale3=this.cScale3||Y(this.primaryColor,{h:30}),this.cScale4=this.cScale4||Y(this.primaryColor,{h:60}),this.cScale5=this.cScale5||Y(this.primaryColor,{h:90}),this.cScale6=this.cScale6||Y(this.primaryColor,{h:120}),this.cScale7=this.cScale7||Y(this.primaryColor,{h:150}),this.cScale8=this.cScale8||Y(this.primaryColor,{h:210}),this.cScale9=this.cScale9||Y(this.primaryColor,{h:270}),this.cScale10=this.cScale10||Y(this.primaryColor,{h:300}),this.cScale11=this.cScale11||Y(this.primaryColor,{h:330}),this.cScalePeer1=this.cScalePeer1||Ot(this.secondaryColor,45),this.cScalePeer2=this.cScalePeer2||Ot(this.tertiaryColor,40);for(let t=0;t<this.THEME_COLOR_LIMIT;t++)this["cScale"+t]=Ot(this["cScale"+t],10),this["cScalePeer"+t]=this["cScalePeer"+t]||Ot(this["cScale"+t],25);for(let t=0;t<this.THEME_COLOR_LIMIT;t++)this["cScaleInv"+t]=this["cScaleInv"+t]||Y(this["cScale"+t],{h:180});this.scaleLabelColor=this.scaleLabelColor!=="calculated"&&this.scaleLabelColor?this.scaleLabelColor:this.labelTextColor;for(let t=0;t<this.THEME_COLOR_LIMIT;t++)this["cScaleLabel"+t]=this["cScaleLabel"+t]||this.scaleLabelColor;for(let t=0;t<5;t++)this["surface"+t]=this["surface"+t]||Y(this.mainBkg,{h:30,s:-30,l:-(5+t*5)}),this["surfacePeer"+t]=this["surfacePeer"+t]||Y(this.mainBkg,{h:30,s:-30,l:-(8+t*5)});this.nodeBkg=this.mainBkg,this.nodeBorder=this.border1,this.clusterBkg=this.secondBkg,this.clusterBorder=this.border2,this.defaultLinkColor=this.lineColor,this.taskBorderColor=this.border1,this.taskTextColor=this.taskTextLightColor,this.taskTextOutsideColor=this.taskTextDarkColor,this.activeTaskBorderColor=this.taskBorderColor,this.activeTaskBkgColor=this.mainBkg,this.archEdgeColor=this.lineColor,this.archEdgeArrowColor=this.lineColor,this.rowOdd=this.rowOdd||bt(this.mainBkg,75)||"#ffffff",this.rowEven=this.rowEven||bt(this.mainBkg,20),this.transitionColor=this.transitionColor||this.lineColor,this.transitionLabelColor=this.transitionLabelColor||this.textColor,this.stateLabelColor=this.stateLabelColor||this.stateBkg||this.primaryTextColor,this.stateBkg=this.stateBkg||this.mainBkg,this.labelBackgroundColor=this.labelBackgroundColor||this.stateBkg,this.compositeBackground=this.compositeBackground||this.background||this.tertiaryColor,this.altBackground=this.altBackground||"#f0f0f0",this.compositeTitleBackground=this.compositeTitleBackground||this.mainBkg,this.compositeBorder=this.compositeBorder||this.nodeBorder,this.innerEndBackground=this.primaryBorderColor,this.specialStateColor=this.lineColor,this.errorBkgColor=this.errorBkgColor||this.tertiaryColor,this.errorTextColor=this.errorTextColor||this.tertiaryTextColor,this.transitionColor=this.transitionColor||this.lineColor,this.classText=this.primaryTextColor,this.fillType0=this.primaryColor,this.fillType1=this.secondaryColor,this.fillType2=Y(this.primaryColor,{h:64}),this.fillType3=Y(this.secondaryColor,{h:64}),this.fillType4=Y(this.primaryColor,{h:-64}),this.fillType5=Y(this.secondaryColor,{h:-64}),this.fillType6=Y(this.primaryColor,{h:128}),this.fillType7=Y(this.secondaryColor,{h:128}),this.pie1=this.pie1||this.primaryColor,this.pie2=this.pie2||this.secondaryColor,this.pie3=this.pie3||this.tertiaryColor,this.pie4=this.pie4||Y(this.primaryColor,{l:-30}),this.pie5=this.pie5||Y(this.secondaryColor,{l:-30}),this.pie6=this.pie6||Y(this.tertiaryColor,{h:40,l:-40}),this.pie7=this.pie7||Y(this.primaryColor,{h:60,l:-10}),this.pie8=this.pie8||Y(this.primaryColor,{h:-60,l:-10}),this.pie9=this.pie9||Y(this.primaryColor,{h:120,l:0}),this.pie10=this.pie10||Y(this.primaryColor,{h:60,l:-50}),this.pie11=this.pie11||Y(this.primaryColor,{h:-60,l:-50}),this.pie12=this.pie12||Y(this.primaryColor,{h:120,l:-50}),this.pieTitleTextSize=this.pieTitleTextSize||"25px",this.pieTitleTextColor=this.pieTitleTextColor||this.taskTextDarkColor,this.pieSectionTextSize=this.pieSectionTextSize||"17px",this.pieSectionTextColor=this.pieSectionTextColor||this.textColor,this.pieLegendTextSize=this.pieLegendTextSize||"17px",this.pieLegendTextColor=this.pieLegendTextColor||this.taskTextDarkColor,this.pieStrokeColor=this.pieStrokeColor||"black",this.pieStrokeWidth=this.pieStrokeWidth||"2px",this.pieOuterStrokeWidth=this.pieOuterStrokeWidth||"2px",this.pieOuterStrokeColor=this.pieOuterStrokeColor||"black",this.pieOpacity=this.pieOpacity||"0.7",this.quadrant1Fill=this.quadrant1Fill||this.primaryColor,this.quadrant2Fill=this.quadrant2Fill||Y(this.primaryColor,{r:5,g:5,b:5}),this.quadrant3Fill=this.quadrant3Fill||Y(this.primaryColor,{r:10,g:10,b:10}),this.quadrant4Fill=this.quadrant4Fill||Y(this.primaryColor,{r:15,g:15,b:15}),this.quadrant1TextFill=this.quadrant1TextFill||this.primaryTextColor,this.quadrant2TextFill=this.quadrant2TextFill||Y(this.primaryTextColor,{r:-5,g:-5,b:-5}),this.quadrant3TextFill=this.quadrant3TextFill||Y(this.primaryTextColor,{r:-10,g:-10,b:-10}),this.quadrant4TextFill=this.quadrant4TextFill||Y(this.primaryTextColor,{r:-15,g:-15,b:-15}),this.quadrantPointFill=this.quadrantPointFill||Xc(this.quadrant1Fill)?bt(this.quadrant1Fill):Ot(this.quadrant1Fill),this.quadrantPointTextFill=this.quadrantPointTextFill||this.primaryTextColor,this.quadrantXAxisTextFill=this.quadrantXAxisTextFill||this.primaryTextColor,this.quadrantYAxisTextFill=this.quadrantYAxisTextFill||this.primaryTextColor,this.quadrantInternalBorderStrokeFill=this.quadrantInternalBorderStrokeFill||this.primaryBorderColor,this.quadrantExternalBorderStrokeFill=this.quadrantExternalBorderStrokeFill||this.primaryBorderColor,this.quadrantTitleFill=this.quadrantTitleFill||this.primaryTextColor,this.packet={startByteColor:this.primaryTextColor,endByteColor:this.primaryTextColor,labelColor:this.primaryTextColor,titleColor:this.primaryTextColor,blockStrokeColor:this.primaryTextColor,blockFillColor:this.mainBkg},this.radar={axisColor:this.radar?.axisColor||this.lineColor,axisStrokeWidth:this.radar?.axisStrokeWidth||2,axisLabelFontSize:this.radar?.axisLabelFontSize||12,curveOpacity:this.radar?.curveOpacity||.5,curveStrokeWidth:this.radar?.curveStrokeWidth||2,graticuleColor:this.radar?.graticuleColor||"#DEDEDE",graticuleStrokeWidth:this.radar?.graticuleStrokeWidth||1,graticuleOpacity:this.radar?.graticuleOpacity||.3,legendBoxSize:this.radar?.legendBoxSize||12,legendFontSize:this.radar?.legendFontSize||12},this.xyChart={backgroundColor:this.xyChart?.backgroundColor||this.background,titleColor:this.xyChart?.titleColor||this.primaryTextColor,xAxisTitleColor:this.xyChart?.xAxisTitleColor||this.primaryTextColor,xAxisLabelColor:this.xyChart?.xAxisLabelColor||this.primaryTextColor,xAxisTickColor:this.xyChart?.xAxisTickColor||this.primaryTextColor,xAxisLineColor:this.xyChart?.xAxisLineColor||this.primaryTextColor,yAxisTitleColor:this.xyChart?.yAxisTitleColor||this.primaryTextColor,yAxisLabelColor:this.xyChart?.yAxisLabelColor||this.primaryTextColor,yAxisTickColor:this.xyChart?.yAxisTickColor||this.primaryTextColor,yAxisLineColor:this.xyChart?.yAxisLineColor||this.primaryTextColor,plotColorPalette:this.xyChart?.plotColorPalette||"#CDE498,#FF6B6B,#A0D2DB,#D7BDE2,#F0F0F0,#FFC3A0,#7FD8BE,#FF9A8B,#FAF3E0,#FFF176"},this.requirementBackground=this.requirementBackground||this.primaryColor,this.requirementBorderColor=this.requirementBorderColor||this.primaryBorderColor,this.requirementBorderSize=this.requirementBorderSize||"1",this.requirementTextColor=this.requirementTextColor||this.primaryTextColor,this.relationColor=this.relationColor||this.lineColor,this.relationLabelBackground=this.relationLabelBackground||this.edgeLabelBackground,this.relationLabelColor=this.relationLabelColor||this.actorTextColor,this.git0=this.git0||this.primaryColor,this.git1=this.git1||this.secondaryColor,this.git2=this.git2||this.tertiaryColor,this.git3=this.git3||Y(this.primaryColor,{h:-30}),this.git4=this.git4||Y(this.primaryColor,{h:-60}),this.git5=this.git5||Y(this.primaryColor,{h:-90}),this.git6=this.git6||Y(this.primaryColor,{h:60}),this.git7=this.git7||Y(this.primaryColor,{h:120}),this.darkMode?(this.git0=bt(this.git0,25),this.git1=bt(this.git1,25),this.git2=bt(this.git2,25),this.git3=bt(this.git3,25),this.git4=bt(this.git4,25),this.git5=bt(this.git5,25),this.git6=bt(this.git6,25),this.git7=bt(this.git7,25)):(this.git0=Ot(this.git0,25),this.git1=Ot(this.git1,25),this.git2=Ot(this.git2,25),this.git3=Ot(this.git3,25),this.git4=Ot(this.git4,25),this.git5=Ot(this.git5,25),this.git6=Ot(this.git6,25),this.git7=Ot(this.git7,25)),this.gitInv0=this.gitInv0||ft(this.git0),this.gitInv1=this.gitInv1||ft(this.git1),this.gitInv2=this.gitInv2||ft(this.git2),this.gitInv3=this.gitInv3||ft(this.git3),this.gitInv4=this.gitInv4||ft(this.git4),this.gitInv5=this.gitInv5||ft(this.git5),this.gitInv6=this.gitInv6||ft(this.git6),this.gitInv7=this.gitInv7||ft(this.git7),this.gitBranchLabel0=this.gitBranchLabel0||ft(this.labelTextColor),this.gitBranchLabel1=this.gitBranchLabel1||this.labelTextColor,this.gitBranchLabel2=this.gitBranchLabel2||this.labelTextColor,this.gitBranchLabel3=this.gitBranchLabel3||ft(this.labelTextColor),this.gitBranchLabel4=this.gitBranchLabel4||this.labelTextColor,this.gitBranchLabel5=this.gitBranchLabel5||this.labelTextColor,this.gitBranchLabel6=this.gitBranchLabel6||this.labelTextColor,this.gitBranchLabel7=this.gitBranchLabel7||this.labelTextColor,this.tagLabelColor=this.tagLabelColor||this.primaryTextColor,this.tagLabelBackground=this.tagLabelBackground||this.primaryColor,this.tagLabelBorder=this.tagBorder||this.primaryBorderColor,this.tagLabelFontSize=this.tagLabelFontSize||"10px",this.commitLabelColor=this.commitLabelColor||this.secondaryTextColor,this.commitLabelBackground=this.commitLabelBackground||this.secondaryColor,this.commitLabelFontSize=this.commitLabelFontSize||"10px",this.attributeBackgroundColorOdd=this.attributeBackgroundColorOdd||Zd,this.attributeBackgroundColorEven=this.attributeBackgroundColorEven||Jd}calculate(t){if(typeof t!="object"){this.updateColors();return}const r=Object.keys(t);r.forEach(i=>{this[i]=t[i]}),this.updateColors(),r.forEach(i=>{this[i]=t[i]})}},w(wl,"Theme"),wl),aj=w(e=>{const t=new ij;return t.calculate(e),t},"getThemeVariables"),Sl,nj=(Sl=class{constructor(){this.primaryColor="#eee",this.contrast="#707070",this.secondaryColor=bt(this.contrast,55),this.background="#ffffff",this.tertiaryColor=Y(this.primaryColor,{h:-160}),this.primaryBorderColor=gr(this.primaryColor,this.darkMode),this.secondaryBorderColor=gr(this.secondaryColor,this.darkMode),this.tertiaryBorderColor=gr(this.tertiaryColor,this.darkMode),this.primaryTextColor=ft(this.primaryColor),this.secondaryTextColor=ft(this.secondaryColor),this.tertiaryTextColor=ft(this.tertiaryColor),this.lineColor=ft(this.background),this.textColor=ft(this.background),this.mainBkg="#eee",this.secondBkg="calculated",this.lineColor="#666",this.border1="#999",this.border2="calculated",this.note="#ffa",this.text="#333",this.critical="#d42",this.done="#bbb",this.arrowheadColor="#333333",this.fontFamily='"trebuchet ms", verdana, arial, sans-serif',this.fontSize="16px",this.THEME_COLOR_LIMIT=12,this.nodeBkg="calculated",this.nodeBorder="calculated",this.clusterBkg="calculated",this.clusterBorder="calculated",this.defaultLinkColor="calculated",this.titleColor="calculated",this.edgeLabelBackground="white",this.actorBorder="calculated",this.actorBkg="calculated",this.actorTextColor="calculated",this.actorLineColor=this.actorBorder,this.signalColor="calculated",this.signalTextColor="calculated",this.labelBoxBkgColor="calculated",this.labelBoxBorderColor="calculated",this.labelTextColor="calculated",this.loopTextColor="calculated",this.noteBorderColor="calculated",this.noteBkgColor="calculated",this.noteTextColor="calculated",this.activationBorderColor="#666",this.activationBkgColor="#f4f4f4",this.sequenceNumberColor="white",this.sectionBkgColor="calculated",this.altSectionBkgColor="white",this.sectionBkgColor2="calculated",this.excludeBkgColor="#eeeeee",this.taskBorderColor="calculated",this.taskBkgColor="calculated",this.taskTextLightColor="white",this.taskTextColor="calculated",this.taskTextDarkColor="calculated",this.taskTextOutsideColor="calculated",this.taskTextClickableColor="#003163",this.activeTaskBorderColor="calculated",this.activeTaskBkgColor="calculated",this.gridColor="calculated",this.doneTaskBkgColor="calculated",this.doneTaskBorderColor="calculated",this.critBkgColor="calculated",this.critBorderColor="calculated",this.todayLineColor="calculated",this.vertLineColor="calculated",this.personBorder=this.primaryBorderColor,this.personBkg=this.mainBkg,this.archEdgeColor="calculated",this.archEdgeArrowColor="calculated",this.archEdgeWidth="3",this.archGroupBorderColor=this.primaryBorderColor,this.archGroupBorderWidth="2px",this.rowOdd=this.rowOdd||bt(this.mainBkg,75)||"#ffffff",this.rowEven=this.rowEven||"#f4f4f4",this.labelColor="black",this.errorBkgColor="#552222",this.errorTextColor="#552222"}updateColors(){this.secondBkg=bt(this.contrast,55),this.border2=this.contrast,this.actorBorder=bt(this.border1,23),this.actorBkg=this.mainBkg,this.actorTextColor=this.text,this.actorLineColor=this.actorBorder,this.signalColor=this.text,this.signalTextColor=this.text,this.labelBoxBkgColor=this.actorBkg,this.labelBoxBorderColor=this.actorBorder,this.labelTextColor=this.text,this.loopTextColor=this.text,this.noteBorderColor="#999",this.noteBkgColor="#666",this.noteTextColor="#fff",this.cScale0=this.cScale0||"#555",this.cScale1=this.cScale1||"#F4F4F4",this.cScale2=this.cScale2||"#555",this.cScale3=this.cScale3||"#BBB",this.cScale4=this.cScale4||"#777",this.cScale5=this.cScale5||"#999",this.cScale6=this.cScale6||"#DDD",this.cScale7=this.cScale7||"#FFF",this.cScale8=this.cScale8||"#DDD",this.cScale9=this.cScale9||"#BBB",this.cScale10=this.cScale10||"#999",this.cScale11=this.cScale11||"#777";for(let t=0;t<this.THEME_COLOR_LIMIT;t++)this["cScaleInv"+t]=this["cScaleInv"+t]||ft(this["cScale"+t]);for(let t=0;t<this.THEME_COLOR_LIMIT;t++)this.darkMode?this["cScalePeer"+t]=this["cScalePeer"+t]||bt(this["cScale"+t],10):this["cScalePeer"+t]=this["cScalePeer"+t]||Ot(this["cScale"+t],10);this.scaleLabelColor=this.scaleLabelColor||(this.darkMode?"black":this.labelTextColor),this.cScaleLabel0=this.cScaleLabel0||this.cScale1,this.cScaleLabel2=this.cScaleLabel2||this.cScale1;for(let t=0;t<this.THEME_COLOR_LIMIT;t++)this["cScaleLabel"+t]=this["cScaleLabel"+t]||this.scaleLabelColor;for(let t=0;t<5;t++)this["surface"+t]=this["surface"+t]||Y(this.mainBkg,{l:-(5+t*5)}),this["surfacePeer"+t]=this["surfacePeer"+t]||Y(this.mainBkg,{l:-(8+t*5)});this.nodeBkg=this.mainBkg,this.nodeBorder=this.border1,this.clusterBkg=this.secondBkg,this.clusterBorder=this.border2,this.defaultLinkColor=this.lineColor,this.titleColor=this.text,this.sectionBkgColor=bt(this.contrast,30),this.sectionBkgColor2=bt(this.contrast,30),this.taskBorderColor=Ot(this.contrast,10),this.taskBkgColor=this.contrast,this.taskTextColor=this.taskTextLightColor,this.taskTextDarkColor=this.text,this.taskTextOutsideColor=this.taskTextDarkColor,this.activeTaskBorderColor=this.taskBorderColor,this.activeTaskBkgColor=this.mainBkg,this.gridColor=bt(this.border1,30),this.doneTaskBkgColor=this.done,this.doneTaskBorderColor=this.lineColor,this.critBkgColor=this.critical,this.critBorderColor=Ot(this.critBkgColor,10),this.todayLineColor=this.critBkgColor,this.vertLineColor=this.critBkgColor,this.archEdgeColor=this.lineColor,this.archEdgeArrowColor=this.lineColor,this.transitionColor=this.transitionColor||"#000",this.transitionLabelColor=this.transitionLabelColor||this.textColor,this.stateLabelColor=this.stateLabelColor||this.stateBkg||this.primaryTextColor,this.stateBkg=this.stateBkg||this.mainBkg,this.labelBackgroundColor=this.labelBackgroundColor||this.stateBkg,this.compositeBackground=this.compositeBackground||this.background||this.tertiaryColor,this.altBackground=this.altBackground||"#f4f4f4",this.compositeTitleBackground=this.compositeTitleBackground||this.mainBkg,this.stateBorder=this.stateBorder||"#000",this.innerEndBackground=this.primaryBorderColor,this.specialStateColor="#222",this.errorBkgColor=this.errorBkgColor||this.tertiaryColor,this.errorTextColor=this.errorTextColor||this.tertiaryTextColor,this.classText=this.primaryTextColor,this.fillType0=this.primaryColor,this.fillType1=this.secondaryColor,this.fillType2=Y(this.primaryColor,{h:64}),this.fillType3=Y(this.secondaryColor,{h:64}),this.fillType4=Y(this.primaryColor,{h:-64}),this.fillType5=Y(this.secondaryColor,{h:-64}),this.fillType6=Y(this.primaryColor,{h:128}),this.fillType7=Y(this.secondaryColor,{h:128});for(let t=0;t<this.THEME_COLOR_LIMIT;t++)this["pie"+t]=this["cScale"+t];this.pie12=this.pie0,this.pieTitleTextSize=this.pieTitleTextSize||"25px",this.pieTitleTextColor=this.pieTitleTextColor||this.taskTextDarkColor,this.pieSectionTextSize=this.pieSectionTextSize||"17px",this.pieSectionTextColor=this.pieSectionTextColor||this.textColor,this.pieLegendTextSize=this.pieLegendTextSize||"17px",this.pieLegendTextColor=this.pieLegendTextColor||this.taskTextDarkColor,this.pieStrokeColor=this.pieStrokeColor||"black",this.pieStrokeWidth=this.pieStrokeWidth||"2px",this.pieOuterStrokeWidth=this.pieOuterStrokeWidth||"2px",this.pieOuterStrokeColor=this.pieOuterStrokeColor||"black",this.pieOpacity=this.pieOpacity||"0.7",this.quadrant1Fill=this.quadrant1Fill||this.primaryColor,this.quadrant2Fill=this.quadrant2Fill||Y(this.primaryColor,{r:5,g:5,b:5}),this.quadrant3Fill=this.quadrant3Fill||Y(this.primaryColor,{r:10,g:10,b:10}),this.quadrant4Fill=this.quadrant4Fill||Y(this.primaryColor,{r:15,g:15,b:15}),this.quadrant1TextFill=this.quadrant1TextFill||this.primaryTextColor,this.quadrant2TextFill=this.quadrant2TextFill||Y(this.primaryTextColor,{r:-5,g:-5,b:-5}),this.quadrant3TextFill=this.quadrant3TextFill||Y(this.primaryTextColor,{r:-10,g:-10,b:-10}),this.quadrant4TextFill=this.quadrant4TextFill||Y(this.primaryTextColor,{r:-15,g:-15,b:-15}),this.quadrantPointFill=this.quadrantPointFill||Xc(this.quadrant1Fill)?bt(this.quadrant1Fill):Ot(this.quadrant1Fill),this.quadrantPointTextFill=this.quadrantPointTextFill||this.primaryTextColor,this.quadrantXAxisTextFill=this.quadrantXAxisTextFill||this.primaryTextColor,this.quadrantYAxisTextFill=this.quadrantYAxisTextFill||this.primaryTextColor,this.quadrantInternalBorderStrokeFill=this.quadrantInternalBorderStrokeFill||this.primaryBorderColor,this.quadrantExternalBorderStrokeFill=this.quadrantExternalBorderStrokeFill||this.primaryBorderColor,this.quadrantTitleFill=this.quadrantTitleFill||this.primaryTextColor,this.xyChart={backgroundColor:this.xyChart?.backgroundColor||this.background,titleColor:this.xyChart?.titleColor||this.primaryTextColor,xAxisTitleColor:this.xyChart?.xAxisTitleColor||this.primaryTextColor,xAxisLabelColor:this.xyChart?.xAxisLabelColor||this.primaryTextColor,xAxisTickColor:this.xyChart?.xAxisTickColor||this.primaryTextColor,xAxisLineColor:this.xyChart?.xAxisLineColor||this.primaryTextColor,yAxisTitleColor:this.xyChart?.yAxisTitleColor||this.primaryTextColor,yAxisLabelColor:this.xyChart?.yAxisLabelColor||this.primaryTextColor,yAxisTickColor:this.xyChart?.yAxisTickColor||this.primaryTextColor,yAxisLineColor:this.xyChart?.yAxisLineColor||this.primaryTextColor,plotColorPalette:this.xyChart?.plotColorPalette||"#EEE,#6BB8E4,#8ACB88,#C7ACD6,#E8DCC2,#FFB2A8,#FFF380,#7E8D91,#FFD8B1,#FAF3E0"},this.radar={axisColor:this.radar?.axisColor||this.lineColor,axisStrokeWidth:this.radar?.axisStrokeWidth||2,axisLabelFontSize:this.radar?.axisLabelFontSize||12,curveOpacity:this.radar?.curveOpacity||.5,curveStrokeWidth:this.radar?.curveStrokeWidth||2,graticuleColor:this.radar?.graticuleColor||"#DEDEDE",graticuleStrokeWidth:this.radar?.graticuleStrokeWidth||1,graticuleOpacity:this.radar?.graticuleOpacity||.3,legendBoxSize:this.radar?.legendBoxSize||12,legendFontSize:this.radar?.legendFontSize||12},this.requirementBackground=this.requirementBackground||this.primaryColor,this.requirementBorderColor=this.requirementBorderColor||this.primaryBorderColor,this.requirementBorderSize=this.requirementBorderSize||"1",this.requirementTextColor=this.requirementTextColor||this.primaryTextColor,this.relationColor=this.relationColor||this.lineColor,this.relationLabelBackground=this.relationLabelBackground||this.edgeLabelBackground,this.relationLabelColor=this.relationLabelColor||this.actorTextColor,this.git0=Ot(this.pie1,25)||this.primaryColor,this.git1=this.pie2||this.secondaryColor,this.git2=this.pie3||this.tertiaryColor,this.git3=this.pie4||Y(this.primaryColor,{h:-30}),this.git4=this.pie5||Y(this.primaryColor,{h:-60}),this.git5=this.pie6||Y(this.primaryColor,{h:-90}),this.git6=this.pie7||Y(this.primaryColor,{h:60}),this.git7=this.pie8||Y(this.primaryColor,{h:120}),this.gitInv0=this.gitInv0||ft(this.git0),this.gitInv1=this.gitInv1||ft(this.git1),this.gitInv2=this.gitInv2||ft(this.git2),this.gitInv3=this.gitInv3||ft(this.git3),this.gitInv4=this.gitInv4||ft(this.git4),this.gitInv5=this.gitInv5||ft(this.git5),this.gitInv6=this.gitInv6||ft(this.git6),this.gitInv7=this.gitInv7||ft(this.git7),this.branchLabelColor=this.branchLabelColor||this.labelTextColor,this.gitBranchLabel0=this.branchLabelColor,this.gitBranchLabel1="white",this.gitBranchLabel2=this.branchLabelColor,this.gitBranchLabel3="white",this.gitBranchLabel4=this.branchLabelColor,this.gitBranchLabel5=this.branchLabelColor,this.gitBranchLabel6=this.branchLabelColor,this.gitBranchLabel7=this.branchLabelColor,this.tagLabelColor=this.tagLabelColor||this.primaryTextColor,this.tagLabelBackground=this.tagLabelBackground||this.primaryColor,this.tagLabelBorder=this.tagBorder||this.primaryBorderColor,this.tagLabelFontSize=this.tagLabelFontSize||"10px",this.commitLabelColor=this.commitLabelColor||this.secondaryTextColor,this.commitLabelBackground=this.commitLabelBackground||this.secondaryColor,this.commitLabelFontSize=this.commitLabelFontSize||"10px",this.attributeBackgroundColorOdd=this.attributeBackgroundColorOdd||Zd,this.attributeBackgroundColorEven=this.attributeBackgroundColorEven||Jd}calculate(t){if(typeof t!="object"){this.updateColors();return}const r=Object.keys(t);r.forEach(i=>{this[i]=t[i]}),this.updateColors(),r.forEach(i=>{this[i]=t[i]})}},w(Sl,"Theme"),Sl),sj=w(e=>{const t=new nj;return t.calculate(e),t},"getThemeVariables"),Sa={base:{getThemeVariables:ZD},dark:{getThemeVariables:tj},default:{getThemeVariables:rj},forest:{getThemeVariables:aj},neutral:{getThemeVariables:sj}},$i={flowchart:{useMaxWidth:!0,titleTopMargin:25,subGraphTitleMargin:{top:0,bottom:0},diagramPadding:8,htmlLabels:!0,nodeSpacing:50,rankSpacing:50,curve:"basis",padding:15,defaultRenderer:"dagre-wrapper",wrappingWidth:200,inheritDir:!1},sequence:{useMaxWidth:!0,hideUnusedParticipants:!1,activationWidth:10,diagramMarginX:50,diagramMarginY:10,actorMargin:50,width:150,height:65,boxMargin:10,boxTextMargin:5,noteMargin:10,messageMargin:35,messageAlign:"center",mirrorActors:!0,forceMenus:!1,bottomMarginAdj:1,rightAngles:!1,showSequenceNumbers:!1,actorFontSize:14,actorFontFamily:'"Open Sans", sans-serif',actorFontWeight:400,noteFontSize:14,noteFontFamily:'"trebuchet ms", verdana, arial, sans-serif',noteFontWeight:400,noteAlign:"center",messageFontSize:16,messageFontFamily:'"trebuchet ms", verdana, arial, sans-serif',messageFontWeight:400,wrap:!1,wrapPadding:10,labelBoxWidth:50,labelBoxHeight:20},gantt:{useMaxWidth:!0,titleTopMargin:25,barHeight:20,barGap:4,topPadding:50,rightPadding:75,leftPadding:75,gridLineStartPadding:35,fontSize:11,sectionFontSize:11,numberSectionStyles:4,axisFormat:"%Y-%m-%d",topAxis:!1,displayMode:"",weekday:"sunday"},journey:{useMaxWidth:!0,diagramMarginX:50,diagramMarginY:10,leftMargin:150,maxLabelWidth:360,width:150,height:50,boxMargin:10,boxTextMargin:5,noteMargin:10,messageMargin:35,messageAlign:"center",bottomMarginAdj:1,rightAngles:!1,taskFontSize:14,taskFontFamily:'"Open Sans", sans-serif',taskMargin:50,activationWidth:10,textPlacement:"fo",actorColours:["#8FBC8F","#7CFC00","#00FFFF","#20B2AA","#B0E0E6","#FFFFE0"],sectionFills:["#191970","#8B008B","#4B0082","#2F4F4F","#800000","#8B4513","#00008B"],sectionColours:["#fff"],titleColor:"",titleFontFamily:'"trebuchet ms", verdana, arial, sans-serif',titleFontSize:"4ex"},class:{useMaxWidth:!0,titleTopMargin:25,arrowMarkerAbsolute:!1,dividerMargin:10,padding:5,textHeight:10,defaultRenderer:"dagre-wrapper",htmlLabels:!1,hideEmptyMembersBox:!1},state:{useMaxWidth:!0,titleTopMargin:25,dividerMargin:10,sizeUnit:5,padding:8,textHeight:10,titleShift:-15,noteMargin:10,forkWidth:70,forkHeight:7,miniPadding:2,fontSizeFactor:5.02,fontSize:24,labelHeight:16,edgeLengthFactor:"20",compositTitleSize:35,radius:5,defaultRenderer:"dagre-wrapper"},er:{useMaxWidth:!0,titleTopMargin:25,diagramPadding:20,layoutDirection:"TB",minEntityWidth:100,minEntityHeight:75,entityPadding:15,nodeSpacing:140,rankSpacing:80,stroke:"gray",fill:"honeydew",fontSize:12},pie:{useMaxWidth:!0,textPosition:.75},quadrantChart:{useMaxWidth:!0,chartWidth:500,chartHeight:500,titleFontSize:20,titlePadding:10,quadrantPadding:5,xAxisLabelPadding:5,yAxisLabelPadding:5,xAxisLabelFontSize:16,yAxisLabelFontSize:16,quadrantLabelFontSize:16,quadrantTextTopPadding:5,pointTextPadding:5,pointLabelFontSize:12,pointRadius:5,xAxisPosition:"top",yAxisPosition:"left",quadrantInternalBorderStrokeWidth:1,quadrantExternalBorderStrokeWidth:2},xyChart:{useMaxWidth:!0,width:700,height:500,titleFontSize:20,titlePadding:10,showDataLabel:!1,showTitle:!0,xAxis:{$ref:"#/$defs/XYChartAxisConfig",showLabel:!0,labelFontSize:14,labelPadding:5,showTitle:!0,titleFontSize:16,titlePadding:5,showTick:!0,tickLength:5,tickWidth:2,showAxisLine:!0,axisLineWidth:2},yAxis:{$ref:"#/$defs/XYChartAxisConfig",showLabel:!0,labelFontSize:14,labelPadding:5,showTitle:!0,titleFontSize:16,titlePadding:5,showTick:!0,tickLength:5,tickWidth:2,showAxisLine:!0,axisLineWidth:2},chartOrientation:"vertical",plotReservedSpacePercent:50},requirement:{useMaxWidth:!0,rect_fill:"#f9f9f9",text_color:"#333",rect_border_size:"0.5px",rect_border_color:"#bbb",rect_min_width:200,rect_min_height:200,fontSize:14,rect_padding:10,line_height:20},mindmap:{useMaxWidth:!0,padding:10,maxNodeWidth:200,layoutAlgorithm:"cose-bilkent"},kanban:{useMaxWidth:!0,padding:8,sectionWidth:200,ticketBaseUrl:""},timeline:{useMaxWidth:!0,diagramMarginX:50,diagramMarginY:10,leftMargin:150,width:150,height:50,boxMargin:10,boxTextMargin:5,noteMargin:10,messageMargin:35,messageAlign:"center",bottomMarginAdj:1,rightAngles:!1,taskFontSize:14,taskFontFamily:'"Open Sans", sans-serif',taskMargin:50,activationWidth:10,textPlacement:"fo",actorColours:["#8FBC8F","#7CFC00","#00FFFF","#20B2AA","#B0E0E6","#FFFFE0"],sectionFills:["#191970","#8B008B","#4B0082","#2F4F4F","#800000","#8B4513","#00008B"],sectionColours:["#fff"],disableMulticolor:!1},gitGraph:{useMaxWidth:!0,titleTopMargin:25,diagramPadding:8,nodeLabel:{width:75,height:100,x:-25,y:0},mainBranchName:"main",mainBranchOrder:0,showCommitLabel:!0,showBranches:!0,rotateCommitLabel:!0,parallelCommits:!1,arrowMarkerAbsolute:!1},c4:{useMaxWidth:!0,diagramMarginX:50,diagramMarginY:10,c4ShapeMargin:50,c4ShapePadding:20,width:216,height:60,boxMargin:10,c4ShapeInRow:4,nextLinePaddingX:0,c4BoundaryInRow:2,personFontSize:14,personFontFamily:'"Open Sans", sans-serif',personFontWeight:"normal",external_personFontSize:14,external_personFontFamily:'"Open Sans", sans-serif',external_personFontWeight:"normal",systemFontSize:14,systemFontFamily:'"Open Sans", sans-serif',systemFontWeight:"normal",external_systemFontSize:14,external_systemFontFamily:'"Open Sans", sans-serif',external_systemFontWeight:"normal",system_dbFontSize:14,system_dbFontFamily:'"Open Sans", sans-serif',system_dbFontWeight:"normal",external_system_dbFontSize:14,external_system_dbFontFamily:'"Open Sans", sans-serif',external_system_dbFontWeight:"normal",system_queueFontSize:14,system_queueFontFamily:'"Open Sans", sans-serif',system_queueFontWeight:"normal",external_system_queueFontSize:14,external_system_queueFontFamily:'"Open Sans", sans-serif',external_system_queueFontWeight:"normal",boundaryFontSize:14,boundaryFontFamily:'"Open Sans", sans-serif',boundaryFontWeight:"normal",messageFontSize:12,messageFontFamily:'"Open Sans", sans-serif',messageFontWeight:"normal",containerFontSize:14,containerFontFamily:'"Open Sans", sans-serif',containerFontWeight:"normal",external_containerFontSize:14,external_containerFontFamily:'"Open Sans", sans-serif',external_containerFontWeight:"normal",container_dbFontSize:14,container_dbFontFamily:'"Open Sans", sans-serif',container_dbFontWeight:"normal",external_container_dbFontSize:14,external_container_dbFontFamily:'"Open Sans", sans-serif',external_container_dbFontWeight:"normal",container_queueFontSize:14,container_queueFontFamily:'"Open Sans", sans-serif',container_queueFontWeight:"normal",external_container_queueFontSize:14,external_container_queueFontFamily:'"Open Sans", sans-serif',external_container_queueFontWeight:"normal",componentFontSize:14,componentFontFamily:'"Open Sans", sans-serif',componentFontWeight:"normal",external_componentFontSize:14,external_componentFontFamily:'"Open Sans", sans-serif',external_componentFontWeight:"normal",component_dbFontSize:14,component_dbFontFamily:'"Open Sans", sans-serif',component_dbFontWeight:"normal",external_component_dbFontSize:14,external_component_dbFontFamily:'"Open Sans", sans-serif',external_component_dbFontWeight:"normal",component_queueFontSize:14,component_queueFontFamily:'"Open Sans", sans-serif',component_queueFontWeight:"normal",external_component_queueFontSize:14,external_component_queueFontFamily:'"Open Sans", sans-serif',external_component_queueFontWeight:"normal",wrap:!0,wrapPadding:10,person_bg_color:"#08427B",person_border_color:"#073B6F",external_person_bg_color:"#686868",external_person_border_color:"#8A8A8A",system_bg_color:"#1168BD",system_border_color:"#3C7FC0",system_db_bg_color:"#1168BD",system_db_border_color:"#3C7FC0",system_queue_bg_color:"#1168BD",system_queue_border_color:"#3C7FC0",external_system_bg_color:"#999999",external_system_border_color:"#8A8A8A",external_system_db_bg_color:"#999999",external_system_db_border_color:"#8A8A8A",external_system_queue_bg_color:"#999999",external_system_queue_border_color:"#8A8A8A",container_bg_color:"#438DD5",container_border_color:"#3C7FC0",container_db_bg_color:"#438DD5",container_db_border_color:"#3C7FC0",container_queue_bg_color:"#438DD5",container_queue_border_color:"#3C7FC0",external_container_bg_color:"#B3B3B3",external_container_border_color:"#A6A6A6",external_container_db_bg_color:"#B3B3B3",external_container_db_border_color:"#A6A6A6",external_container_queue_bg_color:"#B3B3B3",external_container_queue_border_color:"#A6A6A6",component_bg_color:"#85BBF0",component_border_color:"#78A8D8",component_db_bg_color:"#85BBF0",component_db_border_color:"#78A8D8",component_queue_bg_color:"#85BBF0",component_queue_border_color:"#78A8D8",external_component_bg_color:"#CCCCCC",external_component_border_color:"#BFBFBF",external_component_db_bg_color:"#CCCCCC",external_component_db_border_color:"#BFBFBF",external_component_queue_bg_color:"#CCCCCC",external_component_queue_border_color:"#BFBFBF"},sankey:{useMaxWidth:!0,width:600,height:400,linkColor:"gradient",nodeAlignment:"justify",showValues:!0,prefix:"",suffix:""},block:{useMaxWidth:!0,padding:8},packet:{useMaxWidth:!0,rowHeight:32,bitWidth:32,bitsPerRow:32,showBits:!0,paddingX:5,paddingY:5},architecture:{useMaxWidth:!0,padding:40,iconSize:80,fontSize:16},radar:{useMaxWidth:!0,width:600,height:600,marginTop:50,marginRight:50,marginBottom:50,marginLeft:50,axisScaleFactor:1,axisLabelFactor:1.05,curveTension:.17},theme:"default",look:"classic",handDrawnSeed:0,layout:"dagre",maxTextSize:5e4,maxEdges:500,darkMode:!1,fontFamily:'"trebuchet ms", verdana, arial, sans-serif;',logLevel:5,securityLevel:"strict",startOnLoad:!0,arrowMarkerAbsolute:!1,secure:["secure","securityLevel","startOnLoad","maxTextSize","suppressErrorRendering","maxEdges"],legacyMathML:!1,forceLegacyMathML:!1,deterministicIds:!1,fontSize:16,markdownAutoWrap:!0,suppressErrorRendering:!1},c2={...$i,deterministicIDSeed:void 0,elk:{mergeEdges:!1,nodePlacementStrategy:"BRANDES_KOEPF",forceNodeModelOrder:!1,considerModelOrder:"NODES_AND_EDGES"},themeCSS:void 0,themeVariables:Sa.default.getThemeVariables(),sequence:{...$i.sequence,messageFont:w(function(){return{fontFamily:this.messageFontFamily,fontSize:this.messageFontSize,fontWeight:this.messageFontWeight}},"messageFont"),noteFont:w(function(){return{fontFamily:this.noteFontFamily,fontSize:this.noteFontSize,fontWeight:this.noteFontWeight}},"noteFont"),actorFont:w(function(){return{fontFamily:this.actorFontFamily,fontSize:this.actorFontSize,fontWeight:this.actorFontWeight}},"actorFont")},class:{hideEmptyMembersBox:!1},gantt:{...$i.gantt,tickInterval:void 0,useWidth:void 0},c4:{...$i.c4,useWidth:void 0,personFont:w(function(){return{fontFamily:this.personFontFamily,fontSize:this.personFontSize,fontWeight:this.personFontWeight}},"personFont"),flowchart:{...$i.flowchart,inheritDir:!1},external_personFont:w(function(){return{fontFamily:this.external_personFontFamily,fontSize:this.external_personFontSize,fontWeight:this.external_personFontWeight}},"external_personFont"),systemFont:w(function(){return{fontFamily:this.systemFontFamily,fontSize:this.systemFontSize,fontWeight:this.systemFontWeight}},"systemFont"),external_systemFont:w(function(){return{fontFamily:this.external_systemFontFamily,fontSize:this.external_systemFontSize,fontWeight:this.external_systemFontWeight}},"external_systemFont"),system_dbFont:w(function(){return{fontFamily:this.system_dbFontFamily,fontSize:this.system_dbFontSize,fontWeight:this.system_dbFontWeight}},"system_dbFont"),external_system_dbFont:w(function(){return{fontFamily:this.external_system_dbFontFamily,fontSize:this.external_system_dbFontSize,fontWeight:this.external_system_dbFontWeight}},"external_system_dbFont"),system_queueFont:w(function(){return{fontFamily:this.system_queueFontFamily,fontSize:this.system_queueFontSize,fontWeight:this.system_queueFontWeight}},"system_queueFont"),external_system_queueFont:w(function(){return{fontFamily:this.external_system_queueFontFamily,fontSize:this.external_system_queueFontSize,fontWeight:this.external_system_queueFontWeight}},"external_system_queueFont"),containerFont:w(function(){return{fontFamily:this.containerFontFamily,fontSize:this.containerFontSize,fontWeight:this.containerFontWeight}},"containerFont"),external_containerFont:w(function(){return{fontFamily:this.external_containerFontFamily,fontSize:this.external_containerFontSize,fontWeight:this.external_containerFontWeight}},"external_containerFont"),container_dbFont:w(function(){return{fontFamily:this.container_dbFontFamily,fontSize:this.container_dbFontSize,fontWeight:this.container_dbFontWeight}},"container_dbFont"),external_container_dbFont:w(function(){return{fontFamily:this.external_container_dbFontFamily,fontSize:this.external_container_dbFontSize,fontWeight:this.external_container_dbFontWeight}},"external_container_dbFont"),container_queueFont:w(function(){return{fontFamily:this.container_queueFontFamily,fontSize:this.container_queueFontSize,fontWeight:this.container_queueFontWeight}},"container_queueFont"),external_container_queueFont:w(function(){return{fontFamily:this.external_container_queueFontFamily,fontSize:this.external_container_queueFontSize,fontWeight:this.external_container_queueFontWeight}},"external_container_queueFont"),componentFont:w(function(){return{fontFamily:this.componentFontFamily,fontSize:this.componentFontSize,fontWeight:this.componentFontWeight}},"componentFont"),external_componentFont:w(function(){return{fontFamily:this.external_componentFontFamily,fontSize:this.external_componentFontSize,fontWeight:this.external_componentFontWeight}},"external_componentFont"),component_dbFont:w(function(){return{fontFamily:this.component_dbFontFamily,fontSize:this.component_dbFontSize,fontWeight:this.component_dbFontWeight}},"component_dbFont"),external_component_dbFont:w(function(){return{fontFamily:this.external_component_dbFontFamily,fontSize:this.external_component_dbFontSize,fontWeight:this.external_component_dbFontWeight}},"external_component_dbFont"),component_queueFont:w(function(){return{fontFamily:this.component_queueFontFamily,fontSize:this.component_queueFontSize,fontWeight:this.component_queueFontWeight}},"component_queueFont"),external_component_queueFont:w(function(){return{fontFamily:this.external_component_queueFontFamily,fontSize:this.external_component_queueFontSize,fontWeight:this.external_component_queueFontWeight}},"external_component_queueFont"),boundaryFont:w(function(){return{fontFamily:this.boundaryFontFamily,fontSize:this.boundaryFontSize,fontWeight:this.boundaryFontWeight}},"boundaryFont"),messageFont:w(function(){return{fontFamily:this.messageFontFamily,fontSize:this.messageFontSize,fontWeight:this.messageFontWeight}},"messageFont")},pie:{...$i.pie,useWidth:984},xyChart:{...$i.xyChart,useWidth:void 0},requirement:{...$i.requirement,useWidth:void 0},packet:{...$i.packet},radar:{...$i.radar},treemap:{useMaxWidth:!0,padding:10,diagramPadding:8,showValues:!0,nodeWidth:100,nodeHeight:40,borderWidth:1,valueFontSize:12,labelFontSize:14,valueFormat:","}},u2=w((e,t="")=>Object.keys(e).reduce((r,i)=>Array.isArray(e[i])?r:typeof e[i]=="object"&&e[i]!==null?[...r,t+i,...u2(e[i],"")]:[...r,t+i],[]),"keyify"),lj=new Set(u2(c2,"")),h2=c2,cd=w(e=>{if(lt.debug("sanitizeDirective called with",e),!(typeof e!="object"||e==null)){if(Array.isArray(e)){e.forEach(t=>cd(t));return}for(const t of Object.keys(e)){if(lt.debug("Checking key",t),t.startsWith("__")||t.includes("proto")||t.includes("constr")||!lj.has(t)||e[t]==null){lt.debug("sanitize deleting key: ",t),delete e[t];continue}if(typeof e[t]=="object"){lt.debug("sanitizing object",t),cd(e[t]);continue}const r=["themeCSS","fontFamily","altFontFamily"];for(const i of r)t.includes(i)&&(lt.debug("sanitizing css option",t),e[t]=oj(e[t]))}if(e.themeVariables)for(const t of Object.keys(e.themeVariables)){const r=e.themeVariables[t];r?.match&&!r.match(/^[\d "#%(),.;A-Za-z]+$/)&&(e.themeVariables[t]="")}lt.debug("After sanitization",e)}},"sanitizeDirective"),oj=w(e=>{let t=0,r=0;for(const i of e){if(t<r)return"{ /* ERROR: Unbalanced CSS */ }";i==="{"?t++:i==="}"&&r++}return t!==r?"{ /* ERROR: Unbalanced CSS */ }":e},"sanitizeCss"),El=Object.freeze(h2),Rr=qe({},El),ud,ns=[],Sc=qe({},El),tf=w((e,t)=>{let r=qe({},e),i={};for(const n of t)p2(n),i=qe(i,n);if(r=qe(r,i),i.theme&&i.theme in Sa){const n=qe({},ud),l=qe(n.themeVariables||{},i.themeVariables);r.theme&&r.theme in Sa&&(r.themeVariables=Sa[r.theme].getThemeVariables(l))}return Sc=r,g2(Sc),Sc},"updateCurrentConfig"),cj=w(e=>(Rr=qe({},El),Rr=qe(Rr,e),e.theme&&Sa[e.theme]&&(Rr.themeVariables=Sa[e.theme].getThemeVariables(e.themeVariables)),tf(Rr,ns),Rr),"setSiteConfig"),uj=w(e=>{ud=qe({},e)},"saveConfigFromInitialize"),hj=w(e=>(Rr=qe(Rr,e),tf(Rr,ns),Rr),"updateSiteConfig"),d2=w(()=>qe({},Rr),"getSiteConfig"),f2=w(e=>(g2(e),qe(Sc,e),cr()),"setConfig"),cr=w(()=>qe({},Sc),"getConfig"),p2=w(e=>{e&&(["secure",...Rr.secure??[]].forEach(t=>{Object.hasOwn(e,t)&&(lt.debug(`Denied attempt to modify a secure key ${t}`,e[t]),delete e[t])}),Object.keys(e).forEach(t=>{t.startsWith("__")&&delete e[t]}),Object.keys(e).forEach(t=>{typeof e[t]=="string"&&(e[t].includes("<")||e[t].includes(">")||e[t].includes("url(data:"))&&delete e[t],typeof e[t]=="object"&&p2(e[t])}))},"sanitize"),dj=w(e=>{cd(e),e.fontFamily&&!e.themeVariables?.fontFamily&&(e.themeVariables={...e.themeVariables,fontFamily:e.fontFamily}),ns.push(e),tf(Rr,ns)},"addDirective"),hd=w((e=Rr)=>{ns=[],tf(e,ns)},"reset"),fj={LAZY_LOAD_DEPRECATED:"The configuration options lazyLoadedDiagrams and loadExternalDiagramsAtStartup are deprecated. Please use registerExternalDiagrams instead."},Fw={},pj=w(e=>{Fw[e]||(lt.warn(fj[e]),Fw[e]=!0)},"issueWarning"),g2=w(e=>{e&&(e.lazyLoadedDiagrams||e.loadExternalDiagramsAtStartup)&&pj("LAZY_LOAD_DEPRECATED")},"checkConfig"),w7=w(()=>{let e={};ud&&(e=qe(e,ud));for(const t of ns)e=qe(e,t);return e},"getUserDefinedConfig"),Kc=/<br\s*\/?>/gi,gj=w(e=>e?b2(e).replace(/\\n/g,"#br#").split("#br#"):[""],"getRows"),mj=(()=>{let e=!1;return()=>{e||(m2(),e=!0)}})();function m2(){const e="data-temp-href-target";Tl.addHook("beforeSanitizeAttributes",t=>{t.tagName==="A"&&t.hasAttribute("target")&&t.setAttribute(e,t.getAttribute("target")??"")}),Tl.addHook("afterSanitizeAttributes",t=>{t.tagName==="A"&&t.hasAttribute(e)&&(t.setAttribute("target",t.getAttribute(e)??""),t.removeAttribute(e),t.getAttribute("target")==="_blank"&&t.setAttribute("rel","noopener"))})}w(m2,"setupDompurifyHooks");var y2=w(e=>(mj(),Tl.sanitize(e)),"removeScript"),Pw=w((e,t)=>{if(t.flowchart?.htmlLabels!==!1){const r=t.securityLevel;r==="antiscript"||r==="strict"?e=y2(e):r!=="loose"&&(e=b2(e),e=e.replace(/</g,"&lt;").replace(/>/g,"&gt;"),e=e.replace(/=/g,"&equals;"),e=vj(e))}return e},"sanitizeMore"),di=w((e,t)=>e&&(t.dompurifyConfig?e=Tl.sanitize(Pw(e,t),t.dompurifyConfig).toString():e=Tl.sanitize(Pw(e,t),{FORBID_TAGS:["style"]}).toString(),e),"sanitizeText"),yj=w((e,t)=>typeof e=="string"?di(e,t):e.flat().map(r=>di(r,t)),"sanitizeTextOrArray"),bj=w(e=>Kc.test(e),"hasBreaks"),xj=w(e=>e.split(Kc),"splitBreaks"),vj=w(e=>e.replace(/#br#/g,"<br/>"),"placeholderToBreak"),b2=w(e=>e.replace(Kc,"#br#"),"breakToPlaceholder"),_j=w(e=>{let t="";return e&&(t=window.location.protocol+"//"+window.location.host+window.location.pathname+window.location.search,t=CSS.escape(t)),t},"getUrl"),We=w(e=>!(e===!1||["false","null","0"].includes(String(e).trim().toLowerCase())),"evaluate"),wj=w(function(...e){const t=e.filter(r=>!isNaN(r));return Math.max(...t)},"getMax"),Sj=w(function(...e){const t=e.filter(r=>!isNaN(r));return Math.min(...t)},"getMin"),Uw=w(function(e){const t=e.split(/(,)/),r=[];for(let i=0;i<t.length;i++){let n=t[i];if(n===","&&i>0&&i+1<t.length){const l=t[i-1],o=t[i+1];kj(l,o)&&(n=l+","+o,i++,r.pop())}r.push(Cj(n))}return r.join("")},"parseGenericTypes"),qm=w((e,t)=>Math.max(0,e.split(t).length-1),"countOccurrence"),kj=w((e,t)=>{const r=qm(e,"~"),i=qm(t,"~");return r===1&&i===1},"shouldCombineSets"),Cj=w(e=>{const t=qm(e,"~");let r=!1;if(t<=1)return e;t%2!==0&&e.startsWith("~")&&(e=e.substring(1),r=!0);const i=[...e];let n=i.indexOf("~"),l=i.lastIndexOf("~");for(;n!==-1&&l!==-1&&n!==l;)i[n]="<",i[l]=">",n=i.indexOf("~"),l=i.lastIndexOf("~");return r&&i.unshift("~"),i.join("")},"processSet"),Iw=w(()=>window.MathMLElement!==void 0,"isMathMLSupported"),Hm=/\$\$(.*)\$\$/g,Al=w(e=>(e.match(Hm)?.length??0)>0,"hasKatex"),S7=w(async(e,t)=>{const r=document.createElement("div");r.innerHTML=await Zy(e,t),r.id="katex-temp",r.style.visibility="hidden",r.style.position="absolute",r.style.top="0",document.querySelector("body")?.insertAdjacentElement("beforeend",r);const n={width:r.clientWidth,height:r.clientHeight};return r.remove(),n},"calculateMathMLDimensions"),Tj=w(async(e,t)=>{if(!Al(e))return e;if(!(Iw()||t.legacyMathML||t.forceLegacyMathML))return e.replace(Hm,"MathML is unsupported in this environment.");{const{default:r}=await ne(async()=>{const{default:n}=await import("./katex-XbL3y5x-.js");return{default:n}},[]),i=t.forceLegacyMathML||!Iw()&&t.legacyMathML?"htmlAndMathml":"mathml";return e.split(Kc).map(n=>Al(n)?`<div style="display: flex; align-items: center; justify-content: center; white-space: nowrap;">${n}</div>`:`<div>${n}</div>`).join("").replace(Hm,(n,l)=>r.renderToString(l,{throwOnError:!0,displayMode:!0,output:i}).replace(/\n/g," ").replace(/<annotation.*<\/annotation>/g,""))}},"renderKatexUnsanitized"),Zy=w(async(e,t)=>di(await Tj(e,t),t),"renderKatexSanitized"),Fl={getRows:gj,sanitizeText:di,sanitizeTextOrArray:yj,hasBreaks:bj,splitBreaks:xj,lineBreakRegex:Kc,removeScript:y2,getUrl:_j,evaluate:We,getMax:wj,getMin:Sj},Ej=w(function(e,t){for(let r of t)e.attr(r[0],r[1])},"d3Attrs"),Aj=w(function(e,t,r){let i=new Map;return r?(i.set("width","100%"),i.set("style",`max-width: ${t}px;`)):(i.set("height",e),i.set("width",t)),i},"calculateSvgSizeAttrs"),x2=w(function(e,t,r,i){const n=Aj(t,r,i);Ej(e,n)},"configureSvgSize"),Oj=w(function(e,t,r,i){const n=t.node().getBBox(),l=n.width,o=n.height;lt.info(`SVG bounds: ${l}x${o}`,n);let u=0,h=0;lt.info(`Graph bounds: ${u}x${h}`,e),u=l+r*2,h=o+r*2,lt.info(`Calculated bounds: ${u}x${h}`),x2(t,h,u,i);const d=`${n.x-r} ${n.y-r} ${n.width+2*r} ${n.height+2*r}`;t.attr("viewBox",d)},"setupGraphViewbox"),Yh={},Rj=w((e,t,r)=>{let i="";return e in Yh&&Yh[e]?i=Yh[e](r):lt.warn(`No theme found for ${e}`),` & {
    font-family: ${r.fontFamily};
    font-size: ${r.fontSize};
    fill: ${r.textColor}
  }
  @keyframes edge-animation-frame {
    from {
      stroke-dashoffset: 0;
    }
  }
  @keyframes dash {
    to {
      stroke-dashoffset: 0;
    }
  }
  & .edge-animation-slow {
    stroke-dasharray: 9,5 !important;
    stroke-dashoffset: 900;
    animation: dash 50s linear infinite;
    stroke-linecap: round;
  }
  & .edge-animation-fast {
    stroke-dasharray: 9,5 !important;
    stroke-dashoffset: 900;
    animation: dash 20s linear infinite;
    stroke-linecap: round;
  }
  /* Classes common for multiple diagrams */

  & .error-icon {
    fill: ${r.errorBkgColor};
  }
  & .error-text {
    fill: ${r.errorTextColor};
    stroke: ${r.errorTextColor};
  }

  & .edge-thickness-normal {
    stroke-width: 1px;
  }
  & .edge-thickness-thick {
    stroke-width: 3.5px
  }
  & .edge-pattern-solid {
    stroke-dasharray: 0;
  }
  & .edge-thickness-invisible {
    stroke-width: 0;
    fill: none;
  }
  & .edge-pattern-dashed{
    stroke-dasharray: 3;
  }
  .edge-pattern-dotted {
    stroke-dasharray: 2;
  }

  & .marker {
    fill: ${r.lineColor};
    stroke: ${r.lineColor};
  }
  & .marker.cross {
    stroke: ${r.lineColor};
  }

  & svg {
    font-family: ${r.fontFamily};
    font-size: ${r.fontSize};
  }
   & p {
    margin: 0
   }

  ${i}

  ${t}
`},"getStyles"),Lj=w((e,t)=>{t!==void 0&&(Yh[e]=t)},"addStylesForDiagram"),Mj=Rj,v2={};vD(v2,{clear:()=>Bj,getAccDescription:()=>$j,getAccTitle:()=>Dj,getDiagramTitle:()=>Fj,setAccDescription:()=>jj,setAccTitle:()=>Nj,setDiagramTitle:()=>zj});var Jy="",t0="",e0="",r0=w(e=>di(e,cr()),"sanitizeText"),Bj=w(()=>{Jy="",e0="",t0=""},"clear"),Nj=w(e=>{Jy=r0(e).replace(/^\s+/g,"")},"setAccTitle"),Dj=w(()=>Jy,"getAccTitle"),jj=w(e=>{e0=r0(e).replace(/\n\s+/g,`
`)},"setAccDescription"),$j=w(()=>e0,"getAccDescription"),zj=w(e=>{t0=r0(e)},"setDiagramTitle"),Fj=w(()=>t0,"getDiagramTitle"),qw=lt,Pj=Ky,ie=cr,k7=f2,C7=El,i0=w(e=>di(e,ie()),"sanitizeText"),Uj=Oj,Ij=w(()=>v2,"getCommonDb"),dd={},fd=w((e,t,r)=>{dd[e]&&qw.warn(`Diagram with id ${e} already registered. Overwriting.`),dd[e]=t,r&&o2(e,r),Lj(e,t.styles),t.injectUtils?.(qw,Pj,ie,i0,Uj,Ij(),()=>{})},"registerDiagram"),Wm=w(e=>{if(e in dd)return dd[e];throw new qj(e)},"getDiagram"),kl,qj=(kl=class extends Error{constructor(t){super(`Diagram ${t} not found.`)}},w(kl,"DiagramNotFoundError"),kl),Hj={value:()=>{}};function _2(){for(var e=0,t=arguments.length,r={},i;e<t;++e){if(!(i=arguments[e]+"")||i in r||/[\s.]/.test(i))throw new Error("illegal type: "+i);r[i]=[]}return new Vh(r)}function Vh(e){this._=e}function Wj(e,t){return e.trim().split(/^|\s+/).map(function(r){var i="",n=r.indexOf(".");if(n>=0&&(i=r.slice(n+1),r=r.slice(0,n)),r&&!t.hasOwnProperty(r))throw new Error("unknown type: "+r);return{type:r,name:i}})}Vh.prototype=_2.prototype={constructor:Vh,on:function(e,t){var r=this._,i=Wj(e+"",r),n,l=-1,o=i.length;if(arguments.length<2){for(;++l<o;)if((n=(e=i[l]).type)&&(n=Gj(r[n],e.name)))return n;return}if(t!=null&&typeof t!="function")throw new Error("invalid callback: "+t);for(;++l<o;)if(n=(e=i[l]).type)r[n]=Hw(r[n],e.name,t);else if(t==null)for(n in r)r[n]=Hw(r[n],e.name,null);return this},copy:function(){var e={},t=this._;for(var r in t)e[r]=t[r].slice();return new Vh(e)},call:function(e,t){if((n=arguments.length-2)>0)for(var r=new Array(n),i=0,n,l;i<n;++i)r[i]=arguments[i+2];if(!this._.hasOwnProperty(e))throw new Error("unknown type: "+e);for(l=this._[e],i=0,n=l.length;i<n;++i)l[i].value.apply(t,r)},apply:function(e,t,r){if(!this._.hasOwnProperty(e))throw new Error("unknown type: "+e);for(var i=this._[e],n=0,l=i.length;n<l;++n)i[n].value.apply(t,r)}};function Gj(e,t){for(var r=0,i=e.length,n;r<i;++r)if((n=e[r]).name===t)return n.value}function Hw(e,t,r){for(var i=0,n=e.length;i<n;++i)if(e[i].name===t){e[i]=Hj,e=e.slice(0,i).concat(e.slice(i+1));break}return r!=null&&e.push({name:t,value:r}),e}var Gm="http://www.w3.org/1999/xhtml";const Ww={svg:"http://www.w3.org/2000/svg",xhtml:Gm,xlink:"http://www.w3.org/1999/xlink",xml:"http://www.w3.org/XML/1998/namespace",xmlns:"http://www.w3.org/2000/xmlns/"};function ef(e){var t=e+="",r=t.indexOf(":");return r>=0&&(t=e.slice(0,r))!=="xmlns"&&(e=e.slice(r+1)),Ww.hasOwnProperty(t)?{space:Ww[t],local:e}:e}function Yj(e){return function(){var t=this.ownerDocument,r=this.namespaceURI;return r===Gm&&t.documentElement.namespaceURI===Gm?t.createElement(e):t.createElementNS(r,e)}}function Vj(e){return function(){return this.ownerDocument.createElementNS(e.space,e.local)}}function w2(e){var t=ef(e);return(t.local?Vj:Yj)(t)}function Xj(){}function a0(e){return e==null?Xj:function(){return this.querySelector(e)}}function Kj(e){typeof e!="function"&&(e=a0(e));for(var t=this._groups,r=t.length,i=new Array(r),n=0;n<r;++n)for(var l=t[n],o=l.length,u=i[n]=new Array(o),h,d,p=0;p<o;++p)(h=l[p])&&(d=e.call(h,h.__data__,p,l))&&("__data__"in h&&(d.__data__=h.__data__),u[p]=d);return new Vr(i,this._parents)}function Qj(e){return e==null?[]:Array.isArray(e)?e:Array.from(e)}function Zj(){return[]}function S2(e){return e==null?Zj:function(){return this.querySelectorAll(e)}}function Jj(e){return function(){return Qj(e.apply(this,arguments))}}function t$(e){typeof e=="function"?e=Jj(e):e=S2(e);for(var t=this._groups,r=t.length,i=[],n=[],l=0;l<r;++l)for(var o=t[l],u=o.length,h,d=0;d<u;++d)(h=o[d])&&(i.push(e.call(h,h.__data__,d,o)),n.push(h));return new Vr(i,n)}function k2(e){return function(){return this.matches(e)}}function C2(e){return function(t){return t.matches(e)}}var e$=Array.prototype.find;function r$(e){return function(){return e$.call(this.children,e)}}function i$(){return this.firstElementChild}function a$(e){return this.select(e==null?i$:r$(typeof e=="function"?e:C2(e)))}var n$=Array.prototype.filter;function s$(){return Array.from(this.children)}function l$(e){return function(){return n$.call(this.children,e)}}function o$(e){return this.selectAll(e==null?s$:l$(typeof e=="function"?e:C2(e)))}function c$(e){typeof e!="function"&&(e=k2(e));for(var t=this._groups,r=t.length,i=new Array(r),n=0;n<r;++n)for(var l=t[n],o=l.length,u=i[n]=[],h,d=0;d<o;++d)(h=l[d])&&e.call(h,h.__data__,d,l)&&u.push(h);return new Vr(i,this._parents)}function T2(e){return new Array(e.length)}function u$(){return new Vr(this._enter||this._groups.map(T2),this._parents)}function pd(e,t){this.ownerDocument=e.ownerDocument,this.namespaceURI=e.namespaceURI,this._next=null,this._parent=e,this.__data__=t}pd.prototype={constructor:pd,appendChild:function(e){return this._parent.insertBefore(e,this._next)},insertBefore:function(e,t){return this._parent.insertBefore(e,t)},querySelector:function(e){return this._parent.querySelector(e)},querySelectorAll:function(e){return this._parent.querySelectorAll(e)}};function h$(e){return function(){return e}}function d$(e,t,r,i,n,l){for(var o=0,u,h=t.length,d=l.length;o<d;++o)(u=t[o])?(u.__data__=l[o],i[o]=u):r[o]=new pd(e,l[o]);for(;o<h;++o)(u=t[o])&&(n[o]=u)}function f$(e,t,r,i,n,l,o){var u,h,d=new Map,p=t.length,g=l.length,y=new Array(p),x;for(u=0;u<p;++u)(h=t[u])&&(y[u]=x=o.call(h,h.__data__,u,t)+"",d.has(x)?n[u]=h:d.set(x,h));for(u=0;u<g;++u)x=o.call(e,l[u],u,l)+"",(h=d.get(x))?(i[u]=h,h.__data__=l[u],d.delete(x)):r[u]=new pd(e,l[u]);for(u=0;u<p;++u)(h=t[u])&&d.get(y[u])===h&&(n[u]=h)}function p$(e){return e.__data__}function g$(e,t){if(!arguments.length)return Array.from(this,p$);var r=t?f$:d$,i=this._parents,n=this._groups;typeof e!="function"&&(e=h$(e));for(var l=n.length,o=new Array(l),u=new Array(l),h=new Array(l),d=0;d<l;++d){var p=i[d],g=n[d],y=g.length,x=m$(e.call(p,p&&p.__data__,d,i)),v=x.length,_=u[d]=new Array(v),S=o[d]=new Array(v),T=h[d]=new Array(y);r(p,g,_,S,T,x,t);for(var E=0,O=0,L,B;E<v;++E)if(L=_[E]){for(E>=O&&(O=E+1);!(B=S[O])&&++O<v;);L._next=B||null}}return o=new Vr(o,i),o._enter=u,o._exit=h,o}function m$(e){return typeof e=="object"&&"length"in e?e:Array.from(e)}function y$(){return new Vr(this._exit||this._groups.map(T2),this._parents)}function b$(e,t,r){var i=this.enter(),n=this,l=this.exit();return typeof e=="function"?(i=e(i),i&&(i=i.selection())):i=i.append(e+""),t!=null&&(n=t(n),n&&(n=n.selection())),r==null?l.remove():r(l),i&&n?i.merge(n).order():n}function x$(e){for(var t=e.selection?e.selection():e,r=this._groups,i=t._groups,n=r.length,l=i.length,o=Math.min(n,l),u=new Array(n),h=0;h<o;++h)for(var d=r[h],p=i[h],g=d.length,y=u[h]=new Array(g),x,v=0;v<g;++v)(x=d[v]||p[v])&&(y[v]=x);for(;h<n;++h)u[h]=r[h];return new Vr(u,this._parents)}function v$(){for(var e=this._groups,t=-1,r=e.length;++t<r;)for(var i=e[t],n=i.length-1,l=i[n],o;--n>=0;)(o=i[n])&&(l&&o.compareDocumentPosition(l)^4&&l.parentNode.insertBefore(o,l),l=o);return this}function _$(e){e||(e=w$);function t(g,y){return g&&y?e(g.__data__,y.__data__):!g-!y}for(var r=this._groups,i=r.length,n=new Array(i),l=0;l<i;++l){for(var o=r[l],u=o.length,h=n[l]=new Array(u),d,p=0;p<u;++p)(d=o[p])&&(h[p]=d);h.sort(t)}return new Vr(n,this._parents).order()}function w$(e,t){return e<t?-1:e>t?1:e>=t?0:NaN}function S$(){var e=arguments[0];return arguments[0]=this,e.apply(null,arguments),this}function k$(){return Array.from(this)}function C$(){for(var e=this._groups,t=0,r=e.length;t<r;++t)for(var i=e[t],n=0,l=i.length;n<l;++n){var o=i[n];if(o)return o}return null}function T$(){let e=0;for(const t of this)++e;return e}function E$(){return!this.node()}function A$(e){for(var t=this._groups,r=0,i=t.length;r<i;++r)for(var n=t[r],l=0,o=n.length,u;l<o;++l)(u=n[l])&&e.call(u,u.__data__,l,n);return this}function O$(e){return function(){this.removeAttribute(e)}}function R$(e){return function(){this.removeAttributeNS(e.space,e.local)}}function L$(e,t){return function(){this.setAttribute(e,t)}}function M$(e,t){return function(){this.setAttributeNS(e.space,e.local,t)}}function B$(e,t){return function(){var r=t.apply(this,arguments);r==null?this.removeAttribute(e):this.setAttribute(e,r)}}function N$(e,t){return function(){var r=t.apply(this,arguments);r==null?this.removeAttributeNS(e.space,e.local):this.setAttributeNS(e.space,e.local,r)}}function D$(e,t){var r=ef(e);if(arguments.length<2){var i=this.node();return r.local?i.getAttributeNS(r.space,r.local):i.getAttribute(r)}return this.each((t==null?r.local?R$:O$:typeof t=="function"?r.local?N$:B$:r.local?M$:L$)(r,t))}function E2(e){return e.ownerDocument&&e.ownerDocument.defaultView||e.document&&e||e.defaultView}function j$(e){return function(){this.style.removeProperty(e)}}function $$(e,t,r){return function(){this.style.setProperty(e,t,r)}}function z$(e,t,r){return function(){var i=t.apply(this,arguments);i==null?this.style.removeProperty(e):this.style.setProperty(e,i,r)}}function F$(e,t,r){return arguments.length>1?this.each((t==null?j$:typeof t=="function"?z$:$$)(e,t,r??"")):Ol(this.node(),e)}function Ol(e,t){return e.style.getPropertyValue(t)||E2(e).getComputedStyle(e,null).getPropertyValue(t)}function P$(e){return function(){delete this[e]}}function U$(e,t){return function(){this[e]=t}}function I$(e,t){return function(){var r=t.apply(this,arguments);r==null?delete this[e]:this[e]=r}}function q$(e,t){return arguments.length>1?this.each((t==null?P$:typeof t=="function"?I$:U$)(e,t)):this.node()[e]}function A2(e){return e.trim().split(/^|\s+/)}function n0(e){return e.classList||new O2(e)}function O2(e){this._node=e,this._names=A2(e.getAttribute("class")||"")}O2.prototype={add:function(e){var t=this._names.indexOf(e);t<0&&(this._names.push(e),this._node.setAttribute("class",this._names.join(" ")))},remove:function(e){var t=this._names.indexOf(e);t>=0&&(this._names.splice(t,1),this._node.setAttribute("class",this._names.join(" ")))},contains:function(e){return this._names.indexOf(e)>=0}};function R2(e,t){for(var r=n0(e),i=-1,n=t.length;++i<n;)r.add(t[i])}function L2(e,t){for(var r=n0(e),i=-1,n=t.length;++i<n;)r.remove(t[i])}function H$(e){return function(){R2(this,e)}}function W$(e){return function(){L2(this,e)}}function G$(e,t){return function(){(t.apply(this,arguments)?R2:L2)(this,e)}}function Y$(e,t){var r=A2(e+"");if(arguments.length<2){for(var i=n0(this.node()),n=-1,l=r.length;++n<l;)if(!i.contains(r[n]))return!1;return!0}return this.each((typeof t=="function"?G$:t?H$:W$)(r,t))}function V$(){this.textContent=""}function X$(e){return function(){this.textContent=e}}function K$(e){return function(){var t=e.apply(this,arguments);this.textContent=t??""}}function Q$(e){return arguments.length?this.each(e==null?V$:(typeof e=="function"?K$:X$)(e)):this.node().textContent}function Z$(){this.innerHTML=""}function J$(e){return function(){this.innerHTML=e}}function t5(e){return function(){var t=e.apply(this,arguments);this.innerHTML=t??""}}function e5(e){return arguments.length?this.each(e==null?Z$:(typeof e=="function"?t5:J$)(e)):this.node().innerHTML}function r5(){this.nextSibling&&this.parentNode.appendChild(this)}function i5(){return this.each(r5)}function a5(){this.previousSibling&&this.parentNode.insertBefore(this,this.parentNode.firstChild)}function n5(){return this.each(a5)}function s5(e){var t=typeof e=="function"?e:w2(e);return this.select(function(){return this.appendChild(t.apply(this,arguments))})}function l5(){return null}function o5(e,t){var r=typeof e=="function"?e:w2(e),i=t==null?l5:typeof t=="function"?t:a0(t);return this.select(function(){return this.insertBefore(r.apply(this,arguments),i.apply(this,arguments)||null)})}function c5(){var e=this.parentNode;e&&e.removeChild(this)}function u5(){return this.each(c5)}function h5(){var e=this.cloneNode(!1),t=this.parentNode;return t?t.insertBefore(e,this.nextSibling):e}function d5(){var e=this.cloneNode(!0),t=this.parentNode;return t?t.insertBefore(e,this.nextSibling):e}function f5(e){return this.select(e?d5:h5)}function p5(e){return arguments.length?this.property("__data__",e):this.node().__data__}function g5(e){return function(t){e.call(this,t,this.__data__)}}function m5(e){return e.trim().split(/^|\s+/).map(function(t){var r="",i=t.indexOf(".");return i>=0&&(r=t.slice(i+1),t=t.slice(0,i)),{type:t,name:r}})}function y5(e){return function(){var t=this.__on;if(t){for(var r=0,i=-1,n=t.length,l;r<n;++r)l=t[r],(!e.type||l.type===e.type)&&l.name===e.name?this.removeEventListener(l.type,l.listener,l.options):t[++i]=l;++i?t.length=i:delete this.__on}}}function b5(e,t,r){return function(){var i=this.__on,n,l=g5(t);if(i){for(var o=0,u=i.length;o<u;++o)if((n=i[o]).type===e.type&&n.name===e.name){this.removeEventListener(n.type,n.listener,n.options),this.addEventListener(n.type,n.listener=l,n.options=r),n.value=t;return}}this.addEventListener(e.type,l,r),n={type:e.type,name:e.name,value:t,listener:l,options:r},i?i.push(n):this.__on=[n]}}function x5(e,t,r){var i=m5(e+""),n,l=i.length,o;if(arguments.length<2){var u=this.node().__on;if(u){for(var h=0,d=u.length,p;h<d;++h)for(n=0,p=u[h];n<l;++n)if((o=i[n]).type===p.type&&o.name===p.name)return p.value}return}for(u=t?b5:y5,n=0;n<l;++n)this.each(u(i[n],t,r));return this}function M2(e,t,r){var i=E2(e),n=i.CustomEvent;typeof n=="function"?n=new n(t,r):(n=i.document.createEvent("Event"),r?(n.initEvent(t,r.bubbles,r.cancelable),n.detail=r.detail):n.initEvent(t,!1,!1)),e.dispatchEvent(n)}function v5(e,t){return function(){return M2(this,e,t)}}function _5(e,t){return function(){return M2(this,e,t.apply(this,arguments))}}function w5(e,t){return this.each((typeof t=="function"?_5:v5)(e,t))}function*S5(){for(var e=this._groups,t=0,r=e.length;t<r;++t)for(var i=e[t],n=0,l=i.length,o;n<l;++n)(o=i[n])&&(yield o)}var B2=[null];function Vr(e,t){this._groups=e,this._parents=t}function Qc(){return new Vr([[document.documentElement]],B2)}function k5(){return this}Vr.prototype=Qc.prototype={constructor:Vr,select:Kj,selectAll:t$,selectChild:a$,selectChildren:o$,filter:c$,data:g$,enter:u$,exit:y$,join:b$,merge:x$,selection:k5,order:v$,sort:_$,call:S$,nodes:k$,node:C$,size:T$,empty:E$,each:A$,attr:D$,style:F$,property:q$,classed:Y$,text:Q$,html:e5,raise:i5,lower:n5,append:s5,insert:o5,remove:u5,clone:f5,datum:p5,on:x5,dispatch:w5,[Symbol.iterator]:S5};function Xt(e){return typeof e=="string"?new Vr([[document.querySelector(e)]],[document.documentElement]):new Vr([[e]],B2)}function s0(e,t,r){e.prototype=t.prototype=r,r.constructor=e}function N2(e,t){var r=Object.create(e.prototype);for(var i in t)r[i]=t[i];return r}function Zc(){}var Bc=.7,gd=1/Bc,ml="\\s*([+-]?\\d+)\\s*",Nc="\\s*([+-]?(?:\\d*\\.)?\\d+(?:[eE][+-]?\\d+)?)\\s*",Ii="\\s*([+-]?(?:\\d*\\.)?\\d+(?:[eE][+-]?\\d+)?)%\\s*",C5=/^#([0-9a-f]{3,8})$/,T5=new RegExp(`^rgb\\(${ml},${ml},${ml}\\)$`),E5=new RegExp(`^rgb\\(${Ii},${Ii},${Ii}\\)$`),A5=new RegExp(`^rgba\\(${ml},${ml},${ml},${Nc}\\)$`),O5=new RegExp(`^rgba\\(${Ii},${Ii},${Ii},${Nc}\\)$`),R5=new RegExp(`^hsl\\(${Nc},${Ii},${Ii}\\)$`),L5=new RegExp(`^hsla\\(${Nc},${Ii},${Ii},${Nc}\\)$`),Gw={aliceblue:15792383,antiquewhite:16444375,aqua:65535,aquamarine:8388564,azure:15794175,beige:16119260,bisque:16770244,black:0,blanchedalmond:16772045,blue:255,blueviolet:9055202,brown:10824234,burlywood:14596231,cadetblue:6266528,chartreuse:8388352,chocolate:13789470,coral:16744272,cornflowerblue:6591981,cornsilk:16775388,crimson:14423100,cyan:65535,darkblue:139,darkcyan:35723,darkgoldenrod:12092939,darkgray:11119017,darkgreen:25600,darkgrey:11119017,darkkhaki:12433259,darkmagenta:9109643,darkolivegreen:5597999,darkorange:16747520,darkorchid:10040012,darkred:9109504,darksalmon:15308410,darkseagreen:9419919,darkslateblue:4734347,darkslategray:3100495,darkslategrey:3100495,darkturquoise:52945,darkviolet:9699539,deeppink:16716947,deepskyblue:49151,dimgray:6908265,dimgrey:6908265,dodgerblue:2003199,firebrick:11674146,floralwhite:16775920,forestgreen:2263842,fuchsia:16711935,gainsboro:14474460,ghostwhite:16316671,gold:16766720,goldenrod:14329120,gray:8421504,green:32768,greenyellow:11403055,grey:8421504,honeydew:15794160,hotpink:16738740,indianred:13458524,indigo:4915330,ivory:16777200,khaki:15787660,lavender:15132410,lavenderblush:16773365,lawngreen:8190976,lemonchiffon:16775885,lightblue:11393254,lightcoral:15761536,lightcyan:14745599,lightgoldenrodyellow:16448210,lightgray:13882323,lightgreen:9498256,lightgrey:13882323,lightpink:16758465,lightsalmon:16752762,lightseagreen:2142890,lightskyblue:8900346,lightslategray:7833753,lightslategrey:7833753,lightsteelblue:11584734,lightyellow:16777184,lime:65280,limegreen:3329330,linen:16445670,magenta:16711935,maroon:8388608,mediumaquamarine:6737322,mediumblue:205,mediumorchid:12211667,mediumpurple:9662683,mediumseagreen:3978097,mediumslateblue:8087790,mediumspringgreen:64154,mediumturquoise:4772300,mediumvioletred:13047173,midnightblue:1644912,mintcream:16121850,mistyrose:16770273,moccasin:16770229,navajowhite:16768685,navy:128,oldlace:16643558,olive:8421376,olivedrab:7048739,orange:16753920,orangered:16729344,orchid:14315734,palegoldenrod:15657130,palegreen:10025880,paleturquoise:11529966,palevioletred:14381203,papayawhip:16773077,peachpuff:16767673,peru:13468991,pink:16761035,plum:14524637,powderblue:11591910,purple:8388736,rebeccapurple:6697881,red:16711680,rosybrown:12357519,royalblue:4286945,saddlebrown:9127187,salmon:16416882,sandybrown:16032864,seagreen:3050327,seashell:16774638,sienna:10506797,silver:12632256,skyblue:8900331,slateblue:6970061,slategray:7372944,slategrey:7372944,snow:16775930,springgreen:65407,steelblue:4620980,tan:13808780,teal:32896,thistle:14204888,tomato:16737095,turquoise:4251856,violet:15631086,wheat:16113331,white:16777215,whitesmoke:16119285,yellow:16776960,yellowgreen:10145074};s0(Zc,Dc,{copy(e){return Object.assign(new this.constructor,this,e)},displayable(){return this.rgb().displayable()},hex:Yw,formatHex:Yw,formatHex8:M5,formatHsl:B5,formatRgb:Vw,toString:Vw});function Yw(){return this.rgb().formatHex()}function M5(){return this.rgb().formatHex8()}function B5(){return D2(this).formatHsl()}function Vw(){return this.rgb().formatRgb()}function Dc(e){var t,r;return e=(e+"").trim().toLowerCase(),(t=C5.exec(e))?(r=t[1].length,t=parseInt(t[1],16),r===6?Xw(t):r===3?new Mr(t>>8&15|t>>4&240,t>>4&15|t&240,(t&15)<<4|t&15,1):r===8?Lh(t>>24&255,t>>16&255,t>>8&255,(t&255)/255):r===4?Lh(t>>12&15|t>>8&240,t>>8&15|t>>4&240,t>>4&15|t&240,((t&15)<<4|t&15)/255):null):(t=T5.exec(e))?new Mr(t[1],t[2],t[3],1):(t=E5.exec(e))?new Mr(t[1]*255/100,t[2]*255/100,t[3]*255/100,1):(t=A5.exec(e))?Lh(t[1],t[2],t[3],t[4]):(t=O5.exec(e))?Lh(t[1]*255/100,t[2]*255/100,t[3]*255/100,t[4]):(t=R5.exec(e))?Zw(t[1],t[2]/100,t[3]/100,1):(t=L5.exec(e))?Zw(t[1],t[2]/100,t[3]/100,t[4]):Gw.hasOwnProperty(e)?Xw(Gw[e]):e==="transparent"?new Mr(NaN,NaN,NaN,0):null}function Xw(e){return new Mr(e>>16&255,e>>8&255,e&255,1)}function Lh(e,t,r,i){return i<=0&&(e=t=r=NaN),new Mr(e,t,r,i)}function N5(e){return e instanceof Zc||(e=Dc(e)),e?(e=e.rgb(),new Mr(e.r,e.g,e.b,e.opacity)):new Mr}function Ym(e,t,r,i){return arguments.length===1?N5(e):new Mr(e,t,r,i??1)}function Mr(e,t,r,i){this.r=+e,this.g=+t,this.b=+r,this.opacity=+i}s0(Mr,Ym,N2(Zc,{brighter(e){return e=e==null?gd:Math.pow(gd,e),new Mr(this.r*e,this.g*e,this.b*e,this.opacity)},darker(e){return e=e==null?Bc:Math.pow(Bc,e),new Mr(this.r*e,this.g*e,this.b*e,this.opacity)},rgb(){return this},clamp(){return new Mr(rs(this.r),rs(this.g),rs(this.b),md(this.opacity))},displayable(){return-.5<=this.r&&this.r<255.5&&-.5<=this.g&&this.g<255.5&&-.5<=this.b&&this.b<255.5&&0<=this.opacity&&this.opacity<=1},hex:Kw,formatHex:Kw,formatHex8:D5,formatRgb:Qw,toString:Qw}));function Kw(){return`#${Qn(this.r)}${Qn(this.g)}${Qn(this.b)}`}function D5(){return`#${Qn(this.r)}${Qn(this.g)}${Qn(this.b)}${Qn((isNaN(this.opacity)?1:this.opacity)*255)}`}function Qw(){const e=md(this.opacity);return`${e===1?"rgb(":"rgba("}${rs(this.r)}, ${rs(this.g)}, ${rs(this.b)}${e===1?")":`, ${e})`}`}function md(e){return isNaN(e)?1:Math.max(0,Math.min(1,e))}function rs(e){return Math.max(0,Math.min(255,Math.round(e)||0))}function Qn(e){return e=rs(e),(e<16?"0":"")+e.toString(16)}function Zw(e,t,r,i){return i<=0?e=t=r=NaN:r<=0||r>=1?e=t=NaN:t<=0&&(e=NaN),new Ci(e,t,r,i)}function D2(e){if(e instanceof Ci)return new Ci(e.h,e.s,e.l,e.opacity);if(e instanceof Zc||(e=Dc(e)),!e)return new Ci;if(e instanceof Ci)return e;e=e.rgb();var t=e.r/255,r=e.g/255,i=e.b/255,n=Math.min(t,r,i),l=Math.max(t,r,i),o=NaN,u=l-n,h=(l+n)/2;return u?(t===l?o=(r-i)/u+(r<i)*6:r===l?o=(i-t)/u+2:o=(t-r)/u+4,u/=h<.5?l+n:2-l-n,o*=60):u=h>0&&h<1?0:o,new Ci(o,u,h,e.opacity)}function j5(e,t,r,i){return arguments.length===1?D2(e):new Ci(e,t,r,i??1)}function Ci(e,t,r,i){this.h=+e,this.s=+t,this.l=+r,this.opacity=+i}s0(Ci,j5,N2(Zc,{brighter(e){return e=e==null?gd:Math.pow(gd,e),new Ci(this.h,this.s,this.l*e,this.opacity)},darker(e){return e=e==null?Bc:Math.pow(Bc,e),new Ci(this.h,this.s,this.l*e,this.opacity)},rgb(){var e=this.h%360+(this.h<0)*360,t=isNaN(e)||isNaN(this.s)?0:this.s,r=this.l,i=r+(r<.5?r:1-r)*t,n=2*r-i;return new Mr(lm(e>=240?e-240:e+120,n,i),lm(e,n,i),lm(e<120?e+240:e-120,n,i),this.opacity)},clamp(){return new Ci(Jw(this.h),Mh(this.s),Mh(this.l),md(this.opacity))},displayable(){return(0<=this.s&&this.s<=1||isNaN(this.s))&&0<=this.l&&this.l<=1&&0<=this.opacity&&this.opacity<=1},formatHsl(){const e=md(this.opacity);return`${e===1?"hsl(":"hsla("}${Jw(this.h)}, ${Mh(this.s)*100}%, ${Mh(this.l)*100}%${e===1?")":`, ${e})`}`}}));function Jw(e){return e=(e||0)%360,e<0?e+360:e}function Mh(e){return Math.max(0,Math.min(1,e||0))}function lm(e,t,r){return(e<60?t+(r-t)*e/60:e<180?r:e<240?t+(r-t)*(240-e)/60:t)*255}const l0=e=>()=>e;function j2(e,t){return function(r){return e+r*t}}function $5(e,t,r){return e=Math.pow(e,r),t=Math.pow(t,r)-e,r=1/r,function(i){return Math.pow(e+i*t,r)}}function T7(e,t){var r=t-e;return r?j2(e,r>180||r<-180?r-360*Math.round(r/360):r):l0(isNaN(e)?t:e)}function z5(e){return(e=+e)==1?$2:function(t,r){return r-t?$5(t,r,e):l0(isNaN(t)?r:t)}}function $2(e,t){var r=t-e;return r?j2(e,r):l0(isNaN(e)?t:e)}const t1=(function e(t){var r=z5(t);function i(n,l){var o=r((n=Ym(n)).r,(l=Ym(l)).r),u=r(n.g,l.g),h=r(n.b,l.b),d=$2(n.opacity,l.opacity);return function(p){return n.r=o(p),n.g=u(p),n.b=h(p),n.opacity=d(p),n+""}}return i.gamma=e,i})(1);function on(e,t){return e=+e,t=+t,function(r){return e*(1-r)+t*r}}var Vm=/[-+]?(?:\d+\.?\d*|\.?\d+)(?:[eE][-+]?\d+)?/g,om=new RegExp(Vm.source,"g");function F5(e){return function(){return e}}function P5(e){return function(t){return e(t)+""}}function U5(e,t){var r=Vm.lastIndex=om.lastIndex=0,i,n,l,o=-1,u=[],h=[];for(e=e+"",t=t+"";(i=Vm.exec(e))&&(n=om.exec(t));)(l=n.index)>r&&(l=t.slice(r,l),u[o]?u[o]+=l:u[++o]=l),(i=i[0])===(n=n[0])?u[o]?u[o]+=n:u[++o]=n:(u[++o]=null,h.push({i:o,x:on(i,n)})),r=om.lastIndex;return r<t.length&&(l=t.slice(r),u[o]?u[o]+=l:u[++o]=l),u.length<2?h[0]?P5(h[0].x):F5(t):(t=h.length,function(d){for(var p=0,g;p<t;++p)u[(g=h[p]).i]=g.x(d);return u.join("")})}var e1=180/Math.PI,Xm={translateX:0,translateY:0,rotate:0,skewX:0,scaleX:1,scaleY:1};function z2(e,t,r,i,n,l){var o,u,h;return(o=Math.sqrt(e*e+t*t))&&(e/=o,t/=o),(h=e*r+t*i)&&(r-=e*h,i-=t*h),(u=Math.sqrt(r*r+i*i))&&(r/=u,i/=u,h/=u),e*i<t*r&&(e=-e,t=-t,h=-h,o=-o),{translateX:n,translateY:l,rotate:Math.atan2(t,e)*e1,skewX:Math.atan(h)*e1,scaleX:o,scaleY:u}}var Bh;function I5(e){const t=new(typeof DOMMatrix=="function"?DOMMatrix:WebKitCSSMatrix)(e+"");return t.isIdentity?Xm:z2(t.a,t.b,t.c,t.d,t.e,t.f)}function q5(e){return e==null||(Bh||(Bh=document.createElementNS("http://www.w3.org/2000/svg","g")),Bh.setAttribute("transform",e),!(e=Bh.transform.baseVal.consolidate()))?Xm:(e=e.matrix,z2(e.a,e.b,e.c,e.d,e.e,e.f))}function F2(e,t,r,i){function n(d){return d.length?d.pop()+" ":""}function l(d,p,g,y,x,v){if(d!==g||p!==y){var _=x.push("translate(",null,t,null,r);v.push({i:_-4,x:on(d,g)},{i:_-2,x:on(p,y)})}else(g||y)&&x.push("translate("+g+t+y+r)}function o(d,p,g,y){d!==p?(d-p>180?p+=360:p-d>180&&(d+=360),y.push({i:g.push(n(g)+"rotate(",null,i)-2,x:on(d,p)})):p&&g.push(n(g)+"rotate("+p+i)}function u(d,p,g,y){d!==p?y.push({i:g.push(n(g)+"skewX(",null,i)-2,x:on(d,p)}):p&&g.push(n(g)+"skewX("+p+i)}function h(d,p,g,y,x,v){if(d!==g||p!==y){var _=x.push(n(x)+"scale(",null,",",null,")");v.push({i:_-4,x:on(d,g)},{i:_-2,x:on(p,y)})}else(g!==1||y!==1)&&x.push(n(x)+"scale("+g+","+y+")")}return function(d,p){var g=[],y=[];return d=e(d),p=e(p),l(d.translateX,d.translateY,p.translateX,p.translateY,g,y),o(d.rotate,p.rotate,g,y),u(d.skewX,p.skewX,g,y),h(d.scaleX,d.scaleY,p.scaleX,p.scaleY,g,y),d=p=null,function(x){for(var v=-1,_=y.length,S;++v<_;)g[(S=y[v]).i]=S.x(x);return g.join("")}}}var H5=F2(I5,"px, ","px)","deg)"),W5=F2(q5,", ",")",")"),Rl=0,uc=0,tc=0,P2=1e3,yd,hc,bd=0,ss=0,rf=0,jc=typeof performance=="object"&&performance.now?performance:Date,U2=typeof window=="object"&&window.requestAnimationFrame?window.requestAnimationFrame.bind(window):function(e){setTimeout(e,17)};function o0(){return ss||(U2(G5),ss=jc.now()+rf)}function G5(){ss=0}function xd(){this._call=this._time=this._next=null}xd.prototype=I2.prototype={constructor:xd,restart:function(e,t,r){if(typeof e!="function")throw new TypeError("callback is not a function");r=(r==null?o0():+r)+(t==null?0:+t),!this._next&&hc!==this&&(hc?hc._next=this:yd=this,hc=this),this._call=e,this._time=r,Km()},stop:function(){this._call&&(this._call=null,this._time=1/0,Km())}};function I2(e,t,r){var i=new xd;return i.restart(e,t,r),i}function Y5(){o0(),++Rl;for(var e=yd,t;e;)(t=ss-e._time)>=0&&e._call.call(void 0,t),e=e._next;--Rl}function r1(){ss=(bd=jc.now())+rf,Rl=uc=0;try{Y5()}finally{Rl=0,X5(),ss=0}}function V5(){var e=jc.now(),t=e-bd;t>P2&&(rf-=t,bd=e)}function X5(){for(var e,t=yd,r,i=1/0;t;)t._call?(i>t._time&&(i=t._time),e=t,t=t._next):(r=t._next,t._next=null,t=e?e._next=r:yd=r);hc=e,Km(i)}function Km(e){if(!Rl){uc&&(uc=clearTimeout(uc));var t=e-ss;t>24?(e<1/0&&(uc=setTimeout(r1,e-jc.now()-rf)),tc&&(tc=clearInterval(tc))):(tc||(bd=jc.now(),tc=setInterval(V5,P2)),Rl=1,U2(r1))}}function i1(e,t,r){var i=new xd;return t=t==null?0:+t,i.restart(n=>{i.stop(),e(n+t)},t,r),i}var K5=_2("start","end","cancel","interrupt"),Q5=[],q2=0,a1=1,Qm=2,Xh=3,n1=4,Zm=5,Kh=6;function af(e,t,r,i,n,l){var o=e.__transition;if(!o)e.__transition={};else if(r in o)return;Z5(e,r,{name:t,index:i,group:n,on:K5,tween:Q5,time:l.time,delay:l.delay,duration:l.duration,ease:l.ease,timer:null,state:q2})}function c0(e,t){var r=Ri(e,t);if(r.state>q2)throw new Error("too late; already scheduled");return r}function Wi(e,t){var r=Ri(e,t);if(r.state>Xh)throw new Error("too late; already running");return r}function Ri(e,t){var r=e.__transition;if(!r||!(r=r[t]))throw new Error("transition not found");return r}function Z5(e,t,r){var i=e.__transition,n;i[t]=r,r.timer=I2(l,0,r.time);function l(d){r.state=a1,r.timer.restart(o,r.delay,r.time),r.delay<=d&&o(d-r.delay)}function o(d){var p,g,y,x;if(r.state!==a1)return h();for(p in i)if(x=i[p],x.name===r.name){if(x.state===Xh)return i1(o);x.state===n1?(x.state=Kh,x.timer.stop(),x.on.call("interrupt",e,e.__data__,x.index,x.group),delete i[p]):+p<t&&(x.state=Kh,x.timer.stop(),x.on.call("cancel",e,e.__data__,x.index,x.group),delete i[p])}if(i1(function(){r.state===Xh&&(r.state=n1,r.timer.restart(u,r.delay,r.time),u(d))}),r.state=Qm,r.on.call("start",e,e.__data__,r.index,r.group),r.state===Qm){for(r.state=Xh,n=new Array(y=r.tween.length),p=0,g=-1;p<y;++p)(x=r.tween[p].value.call(e,e.__data__,r.index,r.group))&&(n[++g]=x);n.length=g+1}}function u(d){for(var p=d<r.duration?r.ease.call(null,d/r.duration):(r.timer.restart(h),r.state=Zm,1),g=-1,y=n.length;++g<y;)n[g].call(e,p);r.state===Zm&&(r.on.call("end",e,e.__data__,r.index,r.group),h())}function h(){r.state=Kh,r.timer.stop(),delete i[t];for(var d in i)return;delete e.__transition}}function J5(e,t){var r=e.__transition,i,n,l=!0,o;if(r){t=t==null?null:t+"";for(o in r){if((i=r[o]).name!==t){l=!1;continue}n=i.state>Qm&&i.state<Zm,i.state=Kh,i.timer.stop(),i.on.call(n?"interrupt":"cancel",e,e.__data__,i.index,i.group),delete r[o]}l&&delete e.__transition}}function t4(e){return this.each(function(){J5(this,e)})}function e4(e,t){var r,i;return function(){var n=Wi(this,e),l=n.tween;if(l!==r){i=r=l;for(var o=0,u=i.length;o<u;++o)if(i[o].name===t){i=i.slice(),i.splice(o,1);break}}n.tween=i}}function r4(e,t,r){var i,n;if(typeof r!="function")throw new Error;return function(){var l=Wi(this,e),o=l.tween;if(o!==i){n=(i=o).slice();for(var u={name:t,value:r},h=0,d=n.length;h<d;++h)if(n[h].name===t){n[h]=u;break}h===d&&n.push(u)}l.tween=n}}function i4(e,t){var r=this._id;if(e+="",arguments.length<2){for(var i=Ri(this.node(),r).tween,n=0,l=i.length,o;n<l;++n)if((o=i[n]).name===e)return o.value;return null}return this.each((t==null?e4:r4)(r,e,t))}function u0(e,t,r){var i=e._id;return e.each(function(){var n=Wi(this,i);(n.value||(n.value={}))[t]=r.apply(this,arguments)}),function(n){return Ri(n,i).value[t]}}function H2(e,t){var r;return(typeof t=="number"?on:t instanceof Dc?t1:(r=Dc(t))?(t=r,t1):U5)(e,t)}function a4(e){return function(){this.removeAttribute(e)}}function n4(e){return function(){this.removeAttributeNS(e.space,e.local)}}function s4(e,t,r){var i,n=r+"",l;return function(){var o=this.getAttribute(e);return o===n?null:o===i?l:l=t(i=o,r)}}function l4(e,t,r){var i,n=r+"",l;return function(){var o=this.getAttributeNS(e.space,e.local);return o===n?null:o===i?l:l=t(i=o,r)}}function o4(e,t,r){var i,n,l;return function(){var o,u=r(this),h;return u==null?void this.removeAttribute(e):(o=this.getAttribute(e),h=u+"",o===h?null:o===i&&h===n?l:(n=h,l=t(i=o,u)))}}function c4(e,t,r){var i,n,l;return function(){var o,u=r(this),h;return u==null?void this.removeAttributeNS(e.space,e.local):(o=this.getAttributeNS(e.space,e.local),h=u+"",o===h?null:o===i&&h===n?l:(n=h,l=t(i=o,u)))}}function u4(e,t){var r=ef(e),i=r==="transform"?W5:H2;return this.attrTween(e,typeof t=="function"?(r.local?c4:o4)(r,i,u0(this,"attr."+e,t)):t==null?(r.local?n4:a4)(r):(r.local?l4:s4)(r,i,t))}function h4(e,t){return function(r){this.setAttribute(e,t.call(this,r))}}function d4(e,t){return function(r){this.setAttributeNS(e.space,e.local,t.call(this,r))}}function f4(e,t){var r,i;function n(){var l=t.apply(this,arguments);return l!==i&&(r=(i=l)&&d4(e,l)),r}return n._value=t,n}function p4(e,t){var r,i;function n(){var l=t.apply(this,arguments);return l!==i&&(r=(i=l)&&h4(e,l)),r}return n._value=t,n}function g4(e,t){var r="attr."+e;if(arguments.length<2)return(r=this.tween(r))&&r._value;if(t==null)return this.tween(r,null);if(typeof t!="function")throw new Error;var i=ef(e);return this.tween(r,(i.local?f4:p4)(i,t))}function m4(e,t){return function(){c0(this,e).delay=+t.apply(this,arguments)}}function y4(e,t){return t=+t,function(){c0(this,e).delay=t}}function b4(e){var t=this._id;return arguments.length?this.each((typeof e=="function"?m4:y4)(t,e)):Ri(this.node(),t).delay}function x4(e,t){return function(){Wi(this,e).duration=+t.apply(this,arguments)}}function v4(e,t){return t=+t,function(){Wi(this,e).duration=t}}function _4(e){var t=this._id;return arguments.length?this.each((typeof e=="function"?x4:v4)(t,e)):Ri(this.node(),t).duration}function w4(e,t){if(typeof t!="function")throw new Error;return function(){Wi(this,e).ease=t}}function S4(e){var t=this._id;return arguments.length?this.each(w4(t,e)):Ri(this.node(),t).ease}function k4(e,t){return function(){var r=t.apply(this,arguments);if(typeof r!="function")throw new Error;Wi(this,e).ease=r}}function C4(e){if(typeof e!="function")throw new Error;return this.each(k4(this._id,e))}function T4(e){typeof e!="function"&&(e=k2(e));for(var t=this._groups,r=t.length,i=new Array(r),n=0;n<r;++n)for(var l=t[n],o=l.length,u=i[n]=[],h,d=0;d<o;++d)(h=l[d])&&e.call(h,h.__data__,d,l)&&u.push(h);return new Ta(i,this._parents,this._name,this._id)}function E4(e){if(e._id!==this._id)throw new Error;for(var t=this._groups,r=e._groups,i=t.length,n=r.length,l=Math.min(i,n),o=new Array(i),u=0;u<l;++u)for(var h=t[u],d=r[u],p=h.length,g=o[u]=new Array(p),y,x=0;x<p;++x)(y=h[x]||d[x])&&(g[x]=y);for(;u<i;++u)o[u]=t[u];return new Ta(o,this._parents,this._name,this._id)}function A4(e){return(e+"").trim().split(/^|\s+/).every(function(t){var r=t.indexOf(".");return r>=0&&(t=t.slice(0,r)),!t||t==="start"})}function O4(e,t,r){var i,n,l=A4(t)?c0:Wi;return function(){var o=l(this,e),u=o.on;u!==i&&(n=(i=u).copy()).on(t,r),o.on=n}}function R4(e,t){var r=this._id;return arguments.length<2?Ri(this.node(),r).on.on(e):this.each(O4(r,e,t))}function L4(e){return function(){var t=this.parentNode;for(var r in this.__transition)if(+r!==e)return;t&&t.removeChild(this)}}function M4(){return this.on("end.remove",L4(this._id))}function B4(e){var t=this._name,r=this._id;typeof e!="function"&&(e=a0(e));for(var i=this._groups,n=i.length,l=new Array(n),o=0;o<n;++o)for(var u=i[o],h=u.length,d=l[o]=new Array(h),p,g,y=0;y<h;++y)(p=u[y])&&(g=e.call(p,p.__data__,y,u))&&("__data__"in p&&(g.__data__=p.__data__),d[y]=g,af(d[y],t,r,y,d,Ri(p,r)));return new Ta(l,this._parents,t,r)}function N4(e){var t=this._name,r=this._id;typeof e!="function"&&(e=S2(e));for(var i=this._groups,n=i.length,l=[],o=[],u=0;u<n;++u)for(var h=i[u],d=h.length,p,g=0;g<d;++g)if(p=h[g]){for(var y=e.call(p,p.__data__,g,h),x,v=Ri(p,r),_=0,S=y.length;_<S;++_)(x=y[_])&&af(x,t,r,_,y,v);l.push(y),o.push(p)}return new Ta(l,o,t,r)}var D4=Qc.prototype.constructor;function j4(){return new D4(this._groups,this._parents)}function $4(e,t){var r,i,n;return function(){var l=Ol(this,e),o=(this.style.removeProperty(e),Ol(this,e));return l===o?null:l===r&&o===i?n:n=t(r=l,i=o)}}function W2(e){return function(){this.style.removeProperty(e)}}function z4(e,t,r){var i,n=r+"",l;return function(){var o=Ol(this,e);return o===n?null:o===i?l:l=t(i=o,r)}}function F4(e,t,r){var i,n,l;return function(){var o=Ol(this,e),u=r(this),h=u+"";return u==null&&(h=u=(this.style.removeProperty(e),Ol(this,e))),o===h?null:o===i&&h===n?l:(n=h,l=t(i=o,u))}}function P4(e,t){var r,i,n,l="style."+t,o="end."+l,u;return function(){var h=Wi(this,e),d=h.on,p=h.value[l]==null?u||(u=W2(t)):void 0;(d!==r||n!==p)&&(i=(r=d).copy()).on(o,n=p),h.on=i}}function U4(e,t,r){var i=(e+="")=="transform"?H5:H2;return t==null?this.styleTween(e,$4(e,i)).on("end.style."+e,W2(e)):typeof t=="function"?this.styleTween(e,F4(e,i,u0(this,"style."+e,t))).each(P4(this._id,e)):this.styleTween(e,z4(e,i,t),r).on("end.style."+e,null)}function I4(e,t,r){return function(i){this.style.setProperty(e,t.call(this,i),r)}}function q4(e,t,r){var i,n;function l(){var o=t.apply(this,arguments);return o!==n&&(i=(n=o)&&I4(e,o,r)),i}return l._value=t,l}function H4(e,t,r){var i="style."+(e+="");if(arguments.length<2)return(i=this.tween(i))&&i._value;if(t==null)return this.tween(i,null);if(typeof t!="function")throw new Error;return this.tween(i,q4(e,t,r??""))}function W4(e){return function(){this.textContent=e}}function G4(e){return function(){var t=e(this);this.textContent=t??""}}function Y4(e){return this.tween("text",typeof e=="function"?G4(u0(this,"text",e)):W4(e==null?"":e+""))}function V4(e){return function(t){this.textContent=e.call(this,t)}}function X4(e){var t,r;function i(){var n=e.apply(this,arguments);return n!==r&&(t=(r=n)&&V4(n)),t}return i._value=e,i}function K4(e){var t="text";if(arguments.length<1)return(t=this.tween(t))&&t._value;if(e==null)return this.tween(t,null);if(typeof e!="function")throw new Error;return this.tween(t,X4(e))}function Q4(){for(var e=this._name,t=this._id,r=G2(),i=this._groups,n=i.length,l=0;l<n;++l)for(var o=i[l],u=o.length,h,d=0;d<u;++d)if(h=o[d]){var p=Ri(h,t);af(h,e,r,d,o,{time:p.time+p.delay+p.duration,delay:0,duration:p.duration,ease:p.ease})}return new Ta(i,this._parents,e,r)}function Z4(){var e,t,r=this,i=r._id,n=r.size();return new Promise(function(l,o){var u={value:o},h={value:function(){--n===0&&l()}};r.each(function(){var d=Wi(this,i),p=d.on;p!==e&&(t=(e=p).copy(),t._.cancel.push(u),t._.interrupt.push(u),t._.end.push(h)),d.on=t}),n===0&&l()})}var J4=0;function Ta(e,t,r,i){this._groups=e,this._parents=t,this._name=r,this._id=i}function G2(){return++J4}var ba=Qc.prototype;Ta.prototype={constructor:Ta,select:B4,selectAll:N4,selectChild:ba.selectChild,selectChildren:ba.selectChildren,filter:T4,merge:E4,selection:j4,transition:Q4,call:ba.call,nodes:ba.nodes,node:ba.node,size:ba.size,empty:ba.empty,each:ba.each,on:R4,attr:u4,attrTween:g4,style:U4,styleTween:H4,text:Y4,textTween:K4,remove:M4,tween:i4,delay:b4,duration:_4,ease:S4,easeVarying:C4,end:Z4,[Symbol.iterator]:ba[Symbol.iterator]};function t6(e){return((e*=2)<=1?e*e*e:(e-=2)*e*e+2)/2}var e6={time:null,delay:0,duration:250,ease:t6};function r6(e,t){for(var r;!(r=e.__transition)||!(r=r[t]);)if(!(e=e.parentNode))throw new Error(`transition ${t} not found`);return r}function i6(e){var t,r;e instanceof Ta?(t=e._id,e=e._name):(t=G2(),(r=e6).time=o0(),e=e==null?null:e+"");for(var i=this._groups,n=i.length,l=0;l<n;++l)for(var o=i[l],u=o.length,h,d=0;d<u;++d)(h=o[d])&&af(h,e,t,d,o,r||r6(h,t));return new Ta(i,this._parents,e,t)}Qc.prototype.interrupt=t4;Qc.prototype.transition=i6;const Jm=Math.PI,ty=2*Jm,Hn=1e-6,a6=ty-Hn;function Y2(e){this._+=e[0];for(let t=1,r=e.length;t<r;++t)this._+=arguments[t]+e[t]}function n6(e){let t=Math.floor(e);if(!(t>=0))throw new Error(`invalid digits: ${e}`);if(t>15)return Y2;const r=10**t;return function(i){this._+=i[0];for(let n=1,l=i.length;n<l;++n)this._+=Math.round(arguments[n]*r)/r+i[n]}}class s6{constructor(t){this._x0=this._y0=this._x1=this._y1=null,this._="",this._append=t==null?Y2:n6(t)}moveTo(t,r){this._append`M${this._x0=this._x1=+t},${this._y0=this._y1=+r}`}closePath(){this._x1!==null&&(this._x1=this._x0,this._y1=this._y0,this._append`Z`)}lineTo(t,r){this._append`L${this._x1=+t},${this._y1=+r}`}quadraticCurveTo(t,r,i,n){this._append`Q${+t},${+r},${this._x1=+i},${this._y1=+n}`}bezierCurveTo(t,r,i,n,l,o){this._append`C${+t},${+r},${+i},${+n},${this._x1=+l},${this._y1=+o}`}arcTo(t,r,i,n,l){if(t=+t,r=+r,i=+i,n=+n,l=+l,l<0)throw new Error(`negative radius: ${l}`);let o=this._x1,u=this._y1,h=i-t,d=n-r,p=o-t,g=u-r,y=p*p+g*g;if(this._x1===null)this._append`M${this._x1=t},${this._y1=r}`;else if(y>Hn)if(!(Math.abs(g*h-d*p)>Hn)||!l)this._append`L${this._x1=t},${this._y1=r}`;else{let x=i-o,v=n-u,_=h*h+d*d,S=x*x+v*v,T=Math.sqrt(_),E=Math.sqrt(y),O=l*Math.tan((Jm-Math.acos((_+y-S)/(2*T*E)))/2),L=O/E,B=O/T;Math.abs(L-1)>Hn&&this._append`L${t+L*p},${r+L*g}`,this._append`A${l},${l},0,0,${+(g*x>p*v)},${this._x1=t+B*h},${this._y1=r+B*d}`}}arc(t,r,i,n,l,o){if(t=+t,r=+r,i=+i,o=!!o,i<0)throw new Error(`negative radius: ${i}`);let u=i*Math.cos(n),h=i*Math.sin(n),d=t+u,p=r+h,g=1^o,y=o?n-l:l-n;this._x1===null?this._append`M${d},${p}`:(Math.abs(this._x1-d)>Hn||Math.abs(this._y1-p)>Hn)&&this._append`L${d},${p}`,i&&(y<0&&(y=y%ty+ty),y>a6?this._append`A${i},${i},0,1,${g},${t-u},${r-h}A${i},${i},0,1,${g},${this._x1=d},${this._y1=p}`:y>Hn&&this._append`A${i},${i},0,${+(y>=Jm)},${g},${this._x1=t+i*Math.cos(l)},${this._y1=r+i*Math.sin(l)}`)}rect(t,r,i,n){this._append`M${this._x0=this._x1=+t},${this._y0=this._y1=+r}h${i=+i}v${+n}h${-i}Z`}toString(){return this._}}function nl(e){return function(){return e}}const E7=Math.abs,A7=Math.atan2,O7=Math.cos,R7=Math.max,L7=Math.min,M7=Math.sin,B7=Math.sqrt,s1=1e-12,h0=Math.PI,l1=h0/2,N7=2*h0;function D7(e){return e>1?0:e<-1?h0:Math.acos(e)}function j7(e){return e>=1?l1:e<=-1?-l1:Math.asin(e)}function l6(e){let t=3;return e.digits=function(r){if(!arguments.length)return t;if(r==null)t=null;else{const i=Math.floor(r);if(!(i>=0))throw new RangeError(`invalid digits: ${r}`);t=i}return e},()=>new s6(t)}function o6(e){return typeof e=="object"&&"length"in e?e:Array.from(e)}function V2(e){this._context=e}V2.prototype={areaStart:function(){this._line=0},areaEnd:function(){this._line=NaN},lineStart:function(){this._point=0},lineEnd:function(){(this._line||this._line!==0&&this._point===1)&&this._context.closePath(),this._line=1-this._line},point:function(e,t){switch(e=+e,t=+t,this._point){case 0:this._point=1,this._line?this._context.lineTo(e,t):this._context.moveTo(e,t);break;case 1:this._point=2;default:this._context.lineTo(e,t);break}}};function vd(e){return new V2(e)}function c6(e){return e[0]}function u6(e){return e[1]}function h6(e,t){var r=nl(!0),i=null,n=vd,l=null,o=l6(u);e=typeof e=="function"?e:e===void 0?c6:nl(e),t=typeof t=="function"?t:t===void 0?u6:nl(t);function u(h){var d,p=(h=o6(h)).length,g,y=!1,x;for(i==null&&(l=n(x=o())),d=0;d<=p;++d)!(d<p&&r(g=h[d],d,h))===y&&((y=!y)?l.lineStart():l.lineEnd()),y&&l.point(+e(g,d,h),+t(g,d,h));if(x)return l=null,x+""||null}return u.x=function(h){return arguments.length?(e=typeof h=="function"?h:nl(+h),u):e},u.y=function(h){return arguments.length?(t=typeof h=="function"?h:nl(+h),u):t},u.defined=function(h){return arguments.length?(r=typeof h=="function"?h:nl(!!h),u):r},u.curve=function(h){return arguments.length?(n=h,i!=null&&(l=n(i)),u):n},u.context=function(h){return arguments.length?(h==null?i=l=null:l=n(i=h),u):i},u}class X2{constructor(t,r){this._context=t,this._x=r}areaStart(){this._line=0}areaEnd(){this._line=NaN}lineStart(){this._point=0}lineEnd(){(this._line||this._line!==0&&this._point===1)&&this._context.closePath(),this._line=1-this._line}point(t,r){switch(t=+t,r=+r,this._point){case 0:{this._point=1,this._line?this._context.lineTo(t,r):this._context.moveTo(t,r);break}case 1:this._point=2;default:{this._x?this._context.bezierCurveTo(this._x0=(this._x0+t)/2,this._y0,this._x0,r,t,r):this._context.bezierCurveTo(this._x0,this._y0=(this._y0+r)/2,t,this._y0,t,r);break}}this._x0=t,this._y0=r}}function K2(e){return new X2(e,!0)}function Q2(e){return new X2(e,!1)}function dn(){}function _d(e,t,r){e._context.bezierCurveTo((2*e._x0+e._x1)/3,(2*e._y0+e._y1)/3,(e._x0+2*e._x1)/3,(e._y0+2*e._y1)/3,(e._x0+4*e._x1+t)/6,(e._y0+4*e._y1+r)/6)}function nf(e){this._context=e}nf.prototype={areaStart:function(){this._line=0},areaEnd:function(){this._line=NaN},lineStart:function(){this._x0=this._x1=this._y0=this._y1=NaN,this._point=0},lineEnd:function(){switch(this._point){case 3:_d(this,this._x1,this._y1);case 2:this._context.lineTo(this._x1,this._y1);break}(this._line||this._line!==0&&this._point===1)&&this._context.closePath(),this._line=1-this._line},point:function(e,t){switch(e=+e,t=+t,this._point){case 0:this._point=1,this._line?this._context.lineTo(e,t):this._context.moveTo(e,t);break;case 1:this._point=2;break;case 2:this._point=3,this._context.lineTo((5*this._x0+this._x1)/6,(5*this._y0+this._y1)/6);default:_d(this,e,t);break}this._x0=this._x1,this._x1=e,this._y0=this._y1,this._y1=t}};function Qh(e){return new nf(e)}function Z2(e){this._context=e}Z2.prototype={areaStart:dn,areaEnd:dn,lineStart:function(){this._x0=this._x1=this._x2=this._x3=this._x4=this._y0=this._y1=this._y2=this._y3=this._y4=NaN,this._point=0},lineEnd:function(){switch(this._point){case 1:{this._context.moveTo(this._x2,this._y2),this._context.closePath();break}case 2:{this._context.moveTo((this._x2+2*this._x3)/3,(this._y2+2*this._y3)/3),this._context.lineTo((this._x3+2*this._x2)/3,(this._y3+2*this._y2)/3),this._context.closePath();break}case 3:{this.point(this._x2,this._y2),this.point(this._x3,this._y3),this.point(this._x4,this._y4);break}}},point:function(e,t){switch(e=+e,t=+t,this._point){case 0:this._point=1,this._x2=e,this._y2=t;break;case 1:this._point=2,this._x3=e,this._y3=t;break;case 2:this._point=3,this._x4=e,this._y4=t,this._context.moveTo((this._x0+4*this._x1+e)/6,(this._y0+4*this._y1+t)/6);break;default:_d(this,e,t);break}this._x0=this._x1,this._x1=e,this._y0=this._y1,this._y1=t}};function d6(e){return new Z2(e)}function J2(e){this._context=e}J2.prototype={areaStart:function(){this._line=0},areaEnd:function(){this._line=NaN},lineStart:function(){this._x0=this._x1=this._y0=this._y1=NaN,this._point=0},lineEnd:function(){(this._line||this._line!==0&&this._point===3)&&this._context.closePath(),this._line=1-this._line},point:function(e,t){switch(e=+e,t=+t,this._point){case 0:this._point=1;break;case 1:this._point=2;break;case 2:this._point=3;var r=(this._x0+4*this._x1+e)/6,i=(this._y0+4*this._y1+t)/6;this._line?this._context.lineTo(r,i):this._context.moveTo(r,i);break;case 3:this._point=4;default:_d(this,e,t);break}this._x0=this._x1,this._x1=e,this._y0=this._y1,this._y1=t}};function f6(e){return new J2(e)}function tk(e,t){this._basis=new nf(e),this._beta=t}tk.prototype={lineStart:function(){this._x=[],this._y=[],this._basis.lineStart()},lineEnd:function(){var e=this._x,t=this._y,r=e.length-1;if(r>0)for(var i=e[0],n=t[0],l=e[r]-i,o=t[r]-n,u=-1,h;++u<=r;)h=u/r,this._basis.point(this._beta*e[u]+(1-this._beta)*(i+h*l),this._beta*t[u]+(1-this._beta)*(n+h*o));this._x=this._y=null,this._basis.lineEnd()},point:function(e,t){this._x.push(+e),this._y.push(+t)}};const p6=(function e(t){function r(i){return t===1?new nf(i):new tk(i,t)}return r.beta=function(i){return e(+i)},r})(.85);function wd(e,t,r){e._context.bezierCurveTo(e._x1+e._k*(e._x2-e._x0),e._y1+e._k*(e._y2-e._y0),e._x2+e._k*(e._x1-t),e._y2+e._k*(e._y1-r),e._x2,e._y2)}function d0(e,t){this._context=e,this._k=(1-t)/6}d0.prototype={areaStart:function(){this._line=0},areaEnd:function(){this._line=NaN},lineStart:function(){this._x0=this._x1=this._x2=this._y0=this._y1=this._y2=NaN,this._point=0},lineEnd:function(){switch(this._point){case 2:this._context.lineTo(this._x2,this._y2);break;case 3:wd(this,this._x1,this._y1);break}(this._line||this._line!==0&&this._point===1)&&this._context.closePath(),this._line=1-this._line},point:function(e,t){switch(e=+e,t=+t,this._point){case 0:this._point=1,this._line?this._context.lineTo(e,t):this._context.moveTo(e,t);break;case 1:this._point=2,this._x1=e,this._y1=t;break;case 2:this._point=3;default:wd(this,e,t);break}this._x0=this._x1,this._x1=this._x2,this._x2=e,this._y0=this._y1,this._y1=this._y2,this._y2=t}};const ek=(function e(t){function r(i){return new d0(i,t)}return r.tension=function(i){return e(+i)},r})(0);function f0(e,t){this._context=e,this._k=(1-t)/6}f0.prototype={areaStart:dn,areaEnd:dn,lineStart:function(){this._x0=this._x1=this._x2=this._x3=this._x4=this._x5=this._y0=this._y1=this._y2=this._y3=this._y4=this._y5=NaN,this._point=0},lineEnd:function(){switch(this._point){case 1:{this._context.moveTo(this._x3,this._y3),this._context.closePath();break}case 2:{this._context.lineTo(this._x3,this._y3),this._context.closePath();break}case 3:{this.point(this._x3,this._y3),this.point(this._x4,this._y4),this.point(this._x5,this._y5);break}}},point:function(e,t){switch(e=+e,t=+t,this._point){case 0:this._point=1,this._x3=e,this._y3=t;break;case 1:this._point=2,this._context.moveTo(this._x4=e,this._y4=t);break;case 2:this._point=3,this._x5=e,this._y5=t;break;default:wd(this,e,t);break}this._x0=this._x1,this._x1=this._x2,this._x2=e,this._y0=this._y1,this._y1=this._y2,this._y2=t}};const g6=(function e(t){function r(i){return new f0(i,t)}return r.tension=function(i){return e(+i)},r})(0);function p0(e,t){this._context=e,this._k=(1-t)/6}p0.prototype={areaStart:function(){this._line=0},areaEnd:function(){this._line=NaN},lineStart:function(){this._x0=this._x1=this._x2=this._y0=this._y1=this._y2=NaN,this._point=0},lineEnd:function(){(this._line||this._line!==0&&this._point===3)&&this._context.closePath(),this._line=1-this._line},point:function(e,t){switch(e=+e,t=+t,this._point){case 0:this._point=1;break;case 1:this._point=2;break;case 2:this._point=3,this._line?this._context.lineTo(this._x2,this._y2):this._context.moveTo(this._x2,this._y2);break;case 3:this._point=4;default:wd(this,e,t);break}this._x0=this._x1,this._x1=this._x2,this._x2=e,this._y0=this._y1,this._y1=this._y2,this._y2=t}};const m6=(function e(t){function r(i){return new p0(i,t)}return r.tension=function(i){return e(+i)},r})(0);function g0(e,t,r){var i=e._x1,n=e._y1,l=e._x2,o=e._y2;if(e._l01_a>s1){var u=2*e._l01_2a+3*e._l01_a*e._l12_a+e._l12_2a,h=3*e._l01_a*(e._l01_a+e._l12_a);i=(i*u-e._x0*e._l12_2a+e._x2*e._l01_2a)/h,n=(n*u-e._y0*e._l12_2a+e._y2*e._l01_2a)/h}if(e._l23_a>s1){var d=2*e._l23_2a+3*e._l23_a*e._l12_a+e._l12_2a,p=3*e._l23_a*(e._l23_a+e._l12_a);l=(l*d+e._x1*e._l23_2a-t*e._l12_2a)/p,o=(o*d+e._y1*e._l23_2a-r*e._l12_2a)/p}e._context.bezierCurveTo(i,n,l,o,e._x2,e._y2)}function rk(e,t){this._context=e,this._alpha=t}rk.prototype={areaStart:function(){this._line=0},areaEnd:function(){this._line=NaN},lineStart:function(){this._x0=this._x1=this._x2=this._y0=this._y1=this._y2=NaN,this._l01_a=this._l12_a=this._l23_a=this._l01_2a=this._l12_2a=this._l23_2a=this._point=0},lineEnd:function(){switch(this._point){case 2:this._context.lineTo(this._x2,this._y2);break;case 3:this.point(this._x2,this._y2);break}(this._line||this._line!==0&&this._point===1)&&this._context.closePath(),this._line=1-this._line},point:function(e,t){if(e=+e,t=+t,this._point){var r=this._x2-e,i=this._y2-t;this._l23_a=Math.sqrt(this._l23_2a=Math.pow(r*r+i*i,this._alpha))}switch(this._point){case 0:this._point=1,this._line?this._context.lineTo(e,t):this._context.moveTo(e,t);break;case 1:this._point=2;break;case 2:this._point=3;default:g0(this,e,t);break}this._l01_a=this._l12_a,this._l12_a=this._l23_a,this._l01_2a=this._l12_2a,this._l12_2a=this._l23_2a,this._x0=this._x1,this._x1=this._x2,this._x2=e,this._y0=this._y1,this._y1=this._y2,this._y2=t}};const ik=(function e(t){function r(i){return t?new rk(i,t):new d0(i,0)}return r.alpha=function(i){return e(+i)},r})(.5);function ak(e,t){this._context=e,this._alpha=t}ak.prototype={areaStart:dn,areaEnd:dn,lineStart:function(){this._x0=this._x1=this._x2=this._x3=this._x4=this._x5=this._y0=this._y1=this._y2=this._y3=this._y4=this._y5=NaN,this._l01_a=this._l12_a=this._l23_a=this._l01_2a=this._l12_2a=this._l23_2a=this._point=0},lineEnd:function(){switch(this._point){case 1:{this._context.moveTo(this._x3,this._y3),this._context.closePath();break}case 2:{this._context.lineTo(this._x3,this._y3),this._context.closePath();break}case 3:{this.point(this._x3,this._y3),this.point(this._x4,this._y4),this.point(this._x5,this._y5);break}}},point:function(e,t){if(e=+e,t=+t,this._point){var r=this._x2-e,i=this._y2-t;this._l23_a=Math.sqrt(this._l23_2a=Math.pow(r*r+i*i,this._alpha))}switch(this._point){case 0:this._point=1,this._x3=e,this._y3=t;break;case 1:this._point=2,this._context.moveTo(this._x4=e,this._y4=t);break;case 2:this._point=3,this._x5=e,this._y5=t;break;default:g0(this,e,t);break}this._l01_a=this._l12_a,this._l12_a=this._l23_a,this._l01_2a=this._l12_2a,this._l12_2a=this._l23_2a,this._x0=this._x1,this._x1=this._x2,this._x2=e,this._y0=this._y1,this._y1=this._y2,this._y2=t}};const y6=(function e(t){function r(i){return t?new ak(i,t):new f0(i,0)}return r.alpha=function(i){return e(+i)},r})(.5);function nk(e,t){this._context=e,this._alpha=t}nk.prototype={areaStart:function(){this._line=0},areaEnd:function(){this._line=NaN},lineStart:function(){this._x0=this._x1=this._x2=this._y0=this._y1=this._y2=NaN,this._l01_a=this._l12_a=this._l23_a=this._l01_2a=this._l12_2a=this._l23_2a=this._point=0},lineEnd:function(){(this._line||this._line!==0&&this._point===3)&&this._context.closePath(),this._line=1-this._line},point:function(e,t){if(e=+e,t=+t,this._point){var r=this._x2-e,i=this._y2-t;this._l23_a=Math.sqrt(this._l23_2a=Math.pow(r*r+i*i,this._alpha))}switch(this._point){case 0:this._point=1;break;case 1:this._point=2;break;case 2:this._point=3,this._line?this._context.lineTo(this._x2,this._y2):this._context.moveTo(this._x2,this._y2);break;case 3:this._point=4;default:g0(this,e,t);break}this._l01_a=this._l12_a,this._l12_a=this._l23_a,this._l01_2a=this._l12_2a,this._l12_2a=this._l23_2a,this._x0=this._x1,this._x1=this._x2,this._x2=e,this._y0=this._y1,this._y1=this._y2,this._y2=t}};const b6=(function e(t){function r(i){return t?new nk(i,t):new p0(i,0)}return r.alpha=function(i){return e(+i)},r})(.5);function sk(e){this._context=e}sk.prototype={areaStart:dn,areaEnd:dn,lineStart:function(){this._point=0},lineEnd:function(){this._point&&this._context.closePath()},point:function(e,t){e=+e,t=+t,this._point?this._context.lineTo(e,t):(this._point=1,this._context.moveTo(e,t))}};function x6(e){return new sk(e)}function o1(e){return e<0?-1:1}function c1(e,t,r){var i=e._x1-e._x0,n=t-e._x1,l=(e._y1-e._y0)/(i||n<0&&-0),o=(r-e._y1)/(n||i<0&&-0),u=(l*n+o*i)/(i+n);return(o1(l)+o1(o))*Math.min(Math.abs(l),Math.abs(o),.5*Math.abs(u))||0}function u1(e,t){var r=e._x1-e._x0;return r?(3*(e._y1-e._y0)/r-t)/2:t}function cm(e,t,r){var i=e._x0,n=e._y0,l=e._x1,o=e._y1,u=(l-i)/3;e._context.bezierCurveTo(i+u,n+u*t,l-u,o-u*r,l,o)}function Sd(e){this._context=e}Sd.prototype={areaStart:function(){this._line=0},areaEnd:function(){this._line=NaN},lineStart:function(){this._x0=this._x1=this._y0=this._y1=this._t0=NaN,this._point=0},lineEnd:function(){switch(this._point){case 2:this._context.lineTo(this._x1,this._y1);break;case 3:cm(this,this._t0,u1(this,this._t0));break}(this._line||this._line!==0&&this._point===1)&&this._context.closePath(),this._line=1-this._line},point:function(e,t){var r=NaN;if(e=+e,t=+t,!(e===this._x1&&t===this._y1)){switch(this._point){case 0:this._point=1,this._line?this._context.lineTo(e,t):this._context.moveTo(e,t);break;case 1:this._point=2;break;case 2:this._point=3,cm(this,u1(this,r=c1(this,e,t)),r);break;default:cm(this,this._t0,r=c1(this,e,t));break}this._x0=this._x1,this._x1=e,this._y0=this._y1,this._y1=t,this._t0=r}}};function lk(e){this._context=new ok(e)}(lk.prototype=Object.create(Sd.prototype)).point=function(e,t){Sd.prototype.point.call(this,t,e)};function ok(e){this._context=e}ok.prototype={moveTo:function(e,t){this._context.moveTo(t,e)},closePath:function(){this._context.closePath()},lineTo:function(e,t){this._context.lineTo(t,e)},bezierCurveTo:function(e,t,r,i,n,l){this._context.bezierCurveTo(t,e,i,r,l,n)}};function ck(e){return new Sd(e)}function uk(e){return new lk(e)}function hk(e){this._context=e}hk.prototype={areaStart:function(){this._line=0},areaEnd:function(){this._line=NaN},lineStart:function(){this._x=[],this._y=[]},lineEnd:function(){var e=this._x,t=this._y,r=e.length;if(r)if(this._line?this._context.lineTo(e[0],t[0]):this._context.moveTo(e[0],t[0]),r===2)this._context.lineTo(e[1],t[1]);else for(var i=h1(e),n=h1(t),l=0,o=1;o<r;++l,++o)this._context.bezierCurveTo(i[0][l],n[0][l],i[1][l],n[1][l],e[o],t[o]);(this._line||this._line!==0&&r===1)&&this._context.closePath(),this._line=1-this._line,this._x=this._y=null},point:function(e,t){this._x.push(+e),this._y.push(+t)}};function h1(e){var t,r=e.length-1,i,n=new Array(r),l=new Array(r),o=new Array(r);for(n[0]=0,l[0]=2,o[0]=e[0]+2*e[1],t=1;t<r-1;++t)n[t]=1,l[t]=4,o[t]=4*e[t]+2*e[t+1];for(n[r-1]=2,l[r-1]=7,o[r-1]=8*e[r-1]+e[r],t=1;t<r;++t)i=n[t]/l[t-1],l[t]-=i,o[t]-=i*o[t-1];for(n[r-1]=o[r-1]/l[r-1],t=r-2;t>=0;--t)n[t]=(o[t]-n[t+1])/l[t];for(l[r-1]=(e[r]+n[r-1])/2,t=0;t<r-1;++t)l[t]=2*e[t+1]-n[t+1];return[n,l]}function dk(e){return new hk(e)}function sf(e,t){this._context=e,this._t=t}sf.prototype={areaStart:function(){this._line=0},areaEnd:function(){this._line=NaN},lineStart:function(){this._x=this._y=NaN,this._point=0},lineEnd:function(){0<this._t&&this._t<1&&this._point===2&&this._context.lineTo(this._x,this._y),(this._line||this._line!==0&&this._point===1)&&this._context.closePath(),this._line>=0&&(this._t=1-this._t,this._line=1-this._line)},point:function(e,t){switch(e=+e,t=+t,this._point){case 0:this._point=1,this._line?this._context.lineTo(e,t):this._context.moveTo(e,t);break;case 1:this._point=2;default:{if(this._t<=0)this._context.lineTo(this._x,t),this._context.lineTo(e,t);else{var r=this._x*(1-this._t)+e*this._t;this._context.lineTo(r,this._y),this._context.lineTo(r,t)}break}}this._x=e,this._y=t}};function fk(e){return new sf(e,.5)}function pk(e){return new sf(e,0)}function gk(e){return new sf(e,1)}function dc(e,t,r){this.k=e,this.x=t,this.y=r}dc.prototype={constructor:dc,scale:function(e){return e===1?this:new dc(this.k*e,this.x,this.y)},translate:function(e,t){return e===0&t===0?this:new dc(this.k,this.x+this.k*e,this.y+this.k*t)},apply:function(e){return[e[0]*this.k+this.x,e[1]*this.k+this.y]},applyX:function(e){return e*this.k+this.x},applyY:function(e){return e*this.k+this.y},invert:function(e){return[(e[0]-this.x)/this.k,(e[1]-this.y)/this.k]},invertX:function(e){return(e-this.x)/this.k},invertY:function(e){return(e-this.y)/this.k},rescaleX:function(e){return e.copy().domain(e.range().map(this.invertX,this).map(e.invert,e))},rescaleY:function(e){return e.copy().domain(e.range().map(this.invertY,this).map(e.invert,e))},toString:function(){return"translate("+this.x+","+this.y+") scale("+this.k+")"}};dc.prototype;var v6=w(e=>{const{securityLevel:t}=ie();let r=Xt("body");if(t==="sandbox"){const l=Xt(`#i${e}`).node()?.contentDocument??document;r=Xt(l.body)}return r.select(`#${e}`)},"selectSvgElement");function m0(e){return typeof e>"u"||e===null}w(m0,"isNothing");function mk(e){return typeof e=="object"&&e!==null}w(mk,"isObject");function yk(e){return Array.isArray(e)?e:m0(e)?[]:[e]}w(yk,"toArray");function bk(e,t){var r,i,n,l;if(t)for(l=Object.keys(t),r=0,i=l.length;r<i;r+=1)n=l[r],e[n]=t[n];return e}w(bk,"extend");function xk(e,t){var r="",i;for(i=0;i<t;i+=1)r+=e;return r}w(xk,"repeat");function vk(e){return e===0&&Number.NEGATIVE_INFINITY===1/e}w(vk,"isNegativeZero");var _6=m0,w6=mk,S6=yk,k6=xk,C6=vk,T6=bk,He={isNothing:_6,isObject:w6,toArray:S6,repeat:k6,isNegativeZero:C6,extend:T6};function y0(e,t){var r="",i=e.reason||"(unknown reason)";return e.mark?(e.mark.name&&(r+='in "'+e.mark.name+'" '),r+="("+(e.mark.line+1)+":"+(e.mark.column+1)+")",!t&&e.mark.snippet&&(r+=`

`+e.mark.snippet),i+" "+r):i}w(y0,"formatError");function Ll(e,t){Error.call(this),this.name="YAMLException",this.reason=e,this.mark=t,this.message=y0(this,!1),Error.captureStackTrace?Error.captureStackTrace(this,this.constructor):this.stack=new Error().stack||""}w(Ll,"YAMLException$1");Ll.prototype=Object.create(Error.prototype);Ll.prototype.constructor=Ll;Ll.prototype.toString=w(function(t){return this.name+": "+y0(this,t)},"toString");var Lr=Ll;function Zh(e,t,r,i,n){var l="",o="",u=Math.floor(n/2)-1;return i-t>u&&(l=" ... ",t=i-u+l.length),r-i>u&&(o=" ...",r=i+u-o.length),{str:l+e.slice(t,r).replace(/\t/g,"")+o,pos:i-t+l.length}}w(Zh,"getLine");function Jh(e,t){return He.repeat(" ",t-e.length)+e}w(Jh,"padStart");function _k(e,t){if(t=Object.create(t||null),!e.buffer)return null;t.maxLength||(t.maxLength=79),typeof t.indent!="number"&&(t.indent=1),typeof t.linesBefore!="number"&&(t.linesBefore=3),typeof t.linesAfter!="number"&&(t.linesAfter=2);for(var r=/\r?\n|\r|\0/g,i=[0],n=[],l,o=-1;l=r.exec(e.buffer);)n.push(l.index),i.push(l.index+l[0].length),e.position<=l.index&&o<0&&(o=i.length-2);o<0&&(o=i.length-1);var u="",h,d,p=Math.min(e.line+t.linesAfter,n.length).toString().length,g=t.maxLength-(t.indent+p+3);for(h=1;h<=t.linesBefore&&!(o-h<0);h++)d=Zh(e.buffer,i[o-h],n[o-h],e.position-(i[o]-i[o-h]),g),u=He.repeat(" ",t.indent)+Jh((e.line-h+1).toString(),p)+" | "+d.str+`
`+u;for(d=Zh(e.buffer,i[o],n[o],e.position,g),u+=He.repeat(" ",t.indent)+Jh((e.line+1).toString(),p)+" | "+d.str+`
`,u+=He.repeat("-",t.indent+p+3+d.pos)+`^
`,h=1;h<=t.linesAfter&&!(o+h>=n.length);h++)d=Zh(e.buffer,i[o+h],n[o+h],e.position-(i[o]-i[o+h]),g),u+=He.repeat(" ",t.indent)+Jh((e.line+h+1).toString(),p)+" | "+d.str+`
`;return u.replace(/\n$/,"")}w(_k,"makeSnippet");var E6=_k,A6=["kind","multi","resolve","construct","instanceOf","predicate","represent","representName","defaultStyle","styleAliases"],O6=["scalar","sequence","mapping"];function wk(e){var t={};return e!==null&&Object.keys(e).forEach(function(r){e[r].forEach(function(i){t[String(i)]=r})}),t}w(wk,"compileStyleAliases");function Sk(e,t){if(t=t||{},Object.keys(t).forEach(function(r){if(A6.indexOf(r)===-1)throw new Lr('Unknown option "'+r+'" is met in definition of "'+e+'" YAML type.')}),this.options=t,this.tag=e,this.kind=t.kind||null,this.resolve=t.resolve||function(){return!0},this.construct=t.construct||function(r){return r},this.instanceOf=t.instanceOf||null,this.predicate=t.predicate||null,this.represent=t.represent||null,this.representName=t.representName||null,this.defaultStyle=t.defaultStyle||null,this.multi=t.multi||!1,this.styleAliases=wk(t.styleAliases||null),O6.indexOf(this.kind)===-1)throw new Lr('Unknown kind "'+this.kind+'" is specified for "'+e+'" YAML type.')}w(Sk,"Type$1");var ur=Sk;function ey(e,t){var r=[];return e[t].forEach(function(i){var n=r.length;r.forEach(function(l,o){l.tag===i.tag&&l.kind===i.kind&&l.multi===i.multi&&(n=o)}),r[n]=i}),r}w(ey,"compileList");function kk(){var e={scalar:{},sequence:{},mapping:{},fallback:{},multi:{scalar:[],sequence:[],mapping:[],fallback:[]}},t,r;function i(n){n.multi?(e.multi[n.kind].push(n),e.multi.fallback.push(n)):e[n.kind][n.tag]=e.fallback[n.tag]=n}for(w(i,"collectType"),t=0,r=arguments.length;t<r;t+=1)arguments[t].forEach(i);return e}w(kk,"compileMap");function kd(e){return this.extend(e)}w(kd,"Schema$1");kd.prototype.extend=w(function(t){var r=[],i=[];if(t instanceof ur)i.push(t);else if(Array.isArray(t))i=i.concat(t);else if(t&&(Array.isArray(t.implicit)||Array.isArray(t.explicit)))t.implicit&&(r=r.concat(t.implicit)),t.explicit&&(i=i.concat(t.explicit));else throw new Lr("Schema.extend argument should be a Type, [ Type ], or a schema definition ({ implicit: [...], explicit: [...] })");r.forEach(function(l){if(!(l instanceof ur))throw new Lr("Specified list of YAML types (or a single Type object) contains a non-Type object.");if(l.loadKind&&l.loadKind!=="scalar")throw new Lr("There is a non-scalar type in the implicit list of a schema. Implicit resolving of such types is not supported.");if(l.multi)throw new Lr("There is a multi type in the implicit list of a schema. Multi tags can only be listed as explicit.")}),i.forEach(function(l){if(!(l instanceof ur))throw new Lr("Specified list of YAML types (or a single Type object) contains a non-Type object.")});var n=Object.create(kd.prototype);return n.implicit=(this.implicit||[]).concat(r),n.explicit=(this.explicit||[]).concat(i),n.compiledImplicit=ey(n,"implicit"),n.compiledExplicit=ey(n,"explicit"),n.compiledTypeMap=kk(n.compiledImplicit,n.compiledExplicit),n},"extend");var R6=kd,L6=new ur("tag:yaml.org,2002:str",{kind:"scalar",construct:w(function(e){return e!==null?e:""},"construct")}),M6=new ur("tag:yaml.org,2002:seq",{kind:"sequence",construct:w(function(e){return e!==null?e:[]},"construct")}),B6=new ur("tag:yaml.org,2002:map",{kind:"mapping",construct:w(function(e){return e!==null?e:{}},"construct")}),N6=new R6({explicit:[L6,M6,B6]});function Ck(e){if(e===null)return!0;var t=e.length;return t===1&&e==="~"||t===4&&(e==="null"||e==="Null"||e==="NULL")}w(Ck,"resolveYamlNull");function Tk(){return null}w(Tk,"constructYamlNull");function Ek(e){return e===null}w(Ek,"isNull");var D6=new ur("tag:yaml.org,2002:null",{kind:"scalar",resolve:Ck,construct:Tk,predicate:Ek,represent:{canonical:w(function(){return"~"},"canonical"),lowercase:w(function(){return"null"},"lowercase"),uppercase:w(function(){return"NULL"},"uppercase"),camelcase:w(function(){return"Null"},"camelcase"),empty:w(function(){return""},"empty")},defaultStyle:"lowercase"});function Ak(e){if(e===null)return!1;var t=e.length;return t===4&&(e==="true"||e==="True"||e==="TRUE")||t===5&&(e==="false"||e==="False"||e==="FALSE")}w(Ak,"resolveYamlBoolean");function Ok(e){return e==="true"||e==="True"||e==="TRUE"}w(Ok,"constructYamlBoolean");function Rk(e){return Object.prototype.toString.call(e)==="[object Boolean]"}w(Rk,"isBoolean");var j6=new ur("tag:yaml.org,2002:bool",{kind:"scalar",resolve:Ak,construct:Ok,predicate:Rk,represent:{lowercase:w(function(e){return e?"true":"false"},"lowercase"),uppercase:w(function(e){return e?"TRUE":"FALSE"},"uppercase"),camelcase:w(function(e){return e?"True":"False"},"camelcase")},defaultStyle:"lowercase"});function Lk(e){return 48<=e&&e<=57||65<=e&&e<=70||97<=e&&e<=102}w(Lk,"isHexCode");function Mk(e){return 48<=e&&e<=55}w(Mk,"isOctCode");function Bk(e){return 48<=e&&e<=57}w(Bk,"isDecCode");function Nk(e){if(e===null)return!1;var t=e.length,r=0,i=!1,n;if(!t)return!1;if(n=e[r],(n==="-"||n==="+")&&(n=e[++r]),n==="0"){if(r+1===t)return!0;if(n=e[++r],n==="b"){for(r++;r<t;r++)if(n=e[r],n!=="_"){if(n!=="0"&&n!=="1")return!1;i=!0}return i&&n!=="_"}if(n==="x"){for(r++;r<t;r++)if(n=e[r],n!=="_"){if(!Lk(e.charCodeAt(r)))return!1;i=!0}return i&&n!=="_"}if(n==="o"){for(r++;r<t;r++)if(n=e[r],n!=="_"){if(!Mk(e.charCodeAt(r)))return!1;i=!0}return i&&n!=="_"}}if(n==="_")return!1;for(;r<t;r++)if(n=e[r],n!=="_"){if(!Bk(e.charCodeAt(r)))return!1;i=!0}return!(!i||n==="_")}w(Nk,"resolveYamlInteger");function Dk(e){var t=e,r=1,i;if(t.indexOf("_")!==-1&&(t=t.replace(/_/g,"")),i=t[0],(i==="-"||i==="+")&&(i==="-"&&(r=-1),t=t.slice(1),i=t[0]),t==="0")return 0;if(i==="0"){if(t[1]==="b")return r*parseInt(t.slice(2),2);if(t[1]==="x")return r*parseInt(t.slice(2),16);if(t[1]==="o")return r*parseInt(t.slice(2),8)}return r*parseInt(t,10)}w(Dk,"constructYamlInteger");function jk(e){return Object.prototype.toString.call(e)==="[object Number]"&&e%1===0&&!He.isNegativeZero(e)}w(jk,"isInteger");var $6=new ur("tag:yaml.org,2002:int",{kind:"scalar",resolve:Nk,construct:Dk,predicate:jk,represent:{binary:w(function(e){return e>=0?"0b"+e.toString(2):"-0b"+e.toString(2).slice(1)},"binary"),octal:w(function(e){return e>=0?"0o"+e.toString(8):"-0o"+e.toString(8).slice(1)},"octal"),decimal:w(function(e){return e.toString(10)},"decimal"),hexadecimal:w(function(e){return e>=0?"0x"+e.toString(16).toUpperCase():"-0x"+e.toString(16).toUpperCase().slice(1)},"hexadecimal")},defaultStyle:"decimal",styleAliases:{binary:[2,"bin"],octal:[8,"oct"],decimal:[10,"dec"],hexadecimal:[16,"hex"]}}),z6=new RegExp("^(?:[-+]?(?:[0-9][0-9_]*)(?:\\.[0-9_]*)?(?:[eE][-+]?[0-9]+)?|\\.[0-9_]+(?:[eE][-+]?[0-9]+)?|[-+]?\\.(?:inf|Inf|INF)|\\.(?:nan|NaN|NAN))$");function $k(e){return!(e===null||!z6.test(e)||e[e.length-1]==="_")}w($k,"resolveYamlFloat");function zk(e){var t,r;return t=e.replace(/_/g,"").toLowerCase(),r=t[0]==="-"?-1:1,"+-".indexOf(t[0])>=0&&(t=t.slice(1)),t===".inf"?r===1?Number.POSITIVE_INFINITY:Number.NEGATIVE_INFINITY:t===".nan"?NaN:r*parseFloat(t,10)}w(zk,"constructYamlFloat");var F6=/^[-+]?[0-9]+e/;function Fk(e,t){var r;if(isNaN(e))switch(t){case"lowercase":return".nan";case"uppercase":return".NAN";case"camelcase":return".NaN"}else if(Number.POSITIVE_INFINITY===e)switch(t){case"lowercase":return".inf";case"uppercase":return".INF";case"camelcase":return".Inf"}else if(Number.NEGATIVE_INFINITY===e)switch(t){case"lowercase":return"-.inf";case"uppercase":return"-.INF";case"camelcase":return"-.Inf"}else if(He.isNegativeZero(e))return"-0.0";return r=e.toString(10),F6.test(r)?r.replace("e",".e"):r}w(Fk,"representYamlFloat");function Pk(e){return Object.prototype.toString.call(e)==="[object Number]"&&(e%1!==0||He.isNegativeZero(e))}w(Pk,"isFloat");var P6=new ur("tag:yaml.org,2002:float",{kind:"scalar",resolve:$k,construct:zk,predicate:Pk,represent:Fk,defaultStyle:"lowercase"}),Uk=N6.extend({implicit:[D6,j6,$6,P6]}),U6=Uk,Ik=new RegExp("^([0-9][0-9][0-9][0-9])-([0-9][0-9])-([0-9][0-9])$"),qk=new RegExp("^([0-9][0-9][0-9][0-9])-([0-9][0-9]?)-([0-9][0-9]?)(?:[Tt]|[ \\t]+)([0-9][0-9]?):([0-9][0-9]):([0-9][0-9])(?:\\.([0-9]*))?(?:[ \\t]*(Z|([-+])([0-9][0-9]?)(?::([0-9][0-9]))?))?$");function Hk(e){return e===null?!1:Ik.exec(e)!==null||qk.exec(e)!==null}w(Hk,"resolveYamlTimestamp");function Wk(e){var t,r,i,n,l,o,u,h=0,d=null,p,g,y;if(t=Ik.exec(e),t===null&&(t=qk.exec(e)),t===null)throw new Error("Date resolve error");if(r=+t[1],i=+t[2]-1,n=+t[3],!t[4])return new Date(Date.UTC(r,i,n));if(l=+t[4],o=+t[5],u=+t[6],t[7]){for(h=t[7].slice(0,3);h.length<3;)h+="0";h=+h}return t[9]&&(p=+t[10],g=+(t[11]||0),d=(p*60+g)*6e4,t[9]==="-"&&(d=-d)),y=new Date(Date.UTC(r,i,n,l,o,u,h)),d&&y.setTime(y.getTime()-d),y}w(Wk,"constructYamlTimestamp");function Gk(e){return e.toISOString()}w(Gk,"representYamlTimestamp");var I6=new ur("tag:yaml.org,2002:timestamp",{kind:"scalar",resolve:Hk,construct:Wk,instanceOf:Date,represent:Gk});function Yk(e){return e==="<<"||e===null}w(Yk,"resolveYamlMerge");var q6=new ur("tag:yaml.org,2002:merge",{kind:"scalar",resolve:Yk}),b0=`ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/=
\r`;function Vk(e){if(e===null)return!1;var t,r,i=0,n=e.length,l=b0;for(r=0;r<n;r++)if(t=l.indexOf(e.charAt(r)),!(t>64)){if(t<0)return!1;i+=6}return i%8===0}w(Vk,"resolveYamlBinary");function Xk(e){var t,r,i=e.replace(/[\r\n=]/g,""),n=i.length,l=b0,o=0,u=[];for(t=0;t<n;t++)t%4===0&&t&&(u.push(o>>16&255),u.push(o>>8&255),u.push(o&255)),o=o<<6|l.indexOf(i.charAt(t));return r=n%4*6,r===0?(u.push(o>>16&255),u.push(o>>8&255),u.push(o&255)):r===18?(u.push(o>>10&255),u.push(o>>2&255)):r===12&&u.push(o>>4&255),new Uint8Array(u)}w(Xk,"constructYamlBinary");function Kk(e){var t="",r=0,i,n,l=e.length,o=b0;for(i=0;i<l;i++)i%3===0&&i&&(t+=o[r>>18&63],t+=o[r>>12&63],t+=o[r>>6&63],t+=o[r&63]),r=(r<<8)+e[i];return n=l%3,n===0?(t+=o[r>>18&63],t+=o[r>>12&63],t+=o[r>>6&63],t+=o[r&63]):n===2?(t+=o[r>>10&63],t+=o[r>>4&63],t+=o[r<<2&63],t+=o[64]):n===1&&(t+=o[r>>2&63],t+=o[r<<4&63],t+=o[64],t+=o[64]),t}w(Kk,"representYamlBinary");function Qk(e){return Object.prototype.toString.call(e)==="[object Uint8Array]"}w(Qk,"isBinary");var H6=new ur("tag:yaml.org,2002:binary",{kind:"scalar",resolve:Vk,construct:Xk,predicate:Qk,represent:Kk}),W6=Object.prototype.hasOwnProperty,G6=Object.prototype.toString;function Zk(e){if(e===null)return!0;var t=[],r,i,n,l,o,u=e;for(r=0,i=u.length;r<i;r+=1){if(n=u[r],o=!1,G6.call(n)!=="[object Object]")return!1;for(l in n)if(W6.call(n,l))if(!o)o=!0;else return!1;if(!o)return!1;if(t.indexOf(l)===-1)t.push(l);else return!1}return!0}w(Zk,"resolveYamlOmap");function Jk(e){return e!==null?e:[]}w(Jk,"constructYamlOmap");var Y6=new ur("tag:yaml.org,2002:omap",{kind:"sequence",resolve:Zk,construct:Jk}),V6=Object.prototype.toString;function tC(e){if(e===null)return!0;var t,r,i,n,l,o=e;for(l=new Array(o.length),t=0,r=o.length;t<r;t+=1){if(i=o[t],V6.call(i)!=="[object Object]"||(n=Object.keys(i),n.length!==1))return!1;l[t]=[n[0],i[n[0]]]}return!0}w(tC,"resolveYamlPairs");function eC(e){if(e===null)return[];var t,r,i,n,l,o=e;for(l=new Array(o.length),t=0,r=o.length;t<r;t+=1)i=o[t],n=Object.keys(i),l[t]=[n[0],i[n[0]]];return l}w(eC,"constructYamlPairs");var X6=new ur("tag:yaml.org,2002:pairs",{kind:"sequence",resolve:tC,construct:eC}),K6=Object.prototype.hasOwnProperty;function rC(e){if(e===null)return!0;var t,r=e;for(t in r)if(K6.call(r,t)&&r[t]!==null)return!1;return!0}w(rC,"resolveYamlSet");function iC(e){return e!==null?e:{}}w(iC,"constructYamlSet");var Q6=new ur("tag:yaml.org,2002:set",{kind:"mapping",resolve:rC,construct:iC}),aC=U6.extend({implicit:[I6,q6],explicit:[H6,Y6,X6,Q6]}),fn=Object.prototype.hasOwnProperty,Cd=1,nC=2,sC=3,Td=4,um=1,Z6=2,d1=3,J6=/[\x00-\x08\x0B\x0C\x0E-\x1F\x7F-\x84\x86-\x9F\uFFFE\uFFFF]|[\uD800-\uDBFF](?![\uDC00-\uDFFF])|(?:[^\uD800-\uDBFF]|^)[\uDC00-\uDFFF]/,t8=/[\x85\u2028\u2029]/,e8=/[,\[\]\{\}]/,lC=/^(?:!|!!|![a-z\-]+!)$/i,oC=/^(?:!|[^,\[\]\{\}])(?:%[0-9a-f]{2}|[0-9a-z\-#;\/\?:@&=\+\$,_\.!~\*'\(\)\[\]])*$/i;function ry(e){return Object.prototype.toString.call(e)}w(ry,"_class");function Ei(e){return e===10||e===13}w(Ei,"is_EOL");function hn(e){return e===9||e===32}w(hn,"is_WHITE_SPACE");function mr(e){return e===9||e===32||e===10||e===13}w(mr,"is_WS_OR_EOL");function Zn(e){return e===44||e===91||e===93||e===123||e===125}w(Zn,"is_FLOW_INDICATOR");function cC(e){var t;return 48<=e&&e<=57?e-48:(t=e|32,97<=t&&t<=102?t-97+10:-1)}w(cC,"fromHexCode");function uC(e){return e===120?2:e===117?4:e===85?8:0}w(uC,"escapedHexLen");function hC(e){return 48<=e&&e<=57?e-48:-1}w(hC,"fromDecimalCode");function iy(e){return e===48?"\0":e===97?"\x07":e===98?"\b":e===116||e===9?"	":e===110?`
`:e===118?"\v":e===102?"\f":e===114?"\r":e===101?"\x1B":e===32?" ":e===34?'"':e===47?"/":e===92?"\\":e===78?"":e===95?"":e===76?"\u2028":e===80?"\u2029":""}w(iy,"simpleEscapeSequence");function dC(e){return e<=65535?String.fromCharCode(e):String.fromCharCode((e-65536>>10)+55296,(e-65536&1023)+56320)}w(dC,"charFromCodepoint");var fC=new Array(256),pC=new Array(256);for(Un=0;Un<256;Un++)fC[Un]=iy(Un)?1:0,pC[Un]=iy(Un);var Un;function gC(e,t){this.input=e,this.filename=t.filename||null,this.schema=t.schema||aC,this.onWarning=t.onWarning||null,this.legacy=t.legacy||!1,this.json=t.json||!1,this.listener=t.listener||null,this.implicitTypes=this.schema.compiledImplicit,this.typeMap=this.schema.compiledTypeMap,this.length=e.length,this.position=0,this.line=0,this.lineStart=0,this.lineIndent=0,this.firstTabInLine=-1,this.documents=[]}w(gC,"State$1");function x0(e,t){var r={name:e.filename,buffer:e.input.slice(0,-1),position:e.position,line:e.line,column:e.position-e.lineStart};return r.snippet=E6(r),new Lr(t,r)}w(x0,"generateError");function Et(e,t){throw x0(e,t)}w(Et,"throwError");function $c(e,t){e.onWarning&&e.onWarning.call(null,x0(e,t))}w($c,"throwWarning");var f1={YAML:w(function(t,r,i){var n,l,o;t.version!==null&&Et(t,"duplication of %YAML directive"),i.length!==1&&Et(t,"YAML directive accepts exactly one argument"),n=/^([0-9]+)\.([0-9]+)$/.exec(i[0]),n===null&&Et(t,"ill-formed argument of the YAML directive"),l=parseInt(n[1],10),o=parseInt(n[2],10),l!==1&&Et(t,"unacceptable YAML version of the document"),t.version=i[0],t.checkLineBreaks=o<2,o!==1&&o!==2&&$c(t,"unsupported YAML version of the document")},"handleYamlDirective"),TAG:w(function(t,r,i){var n,l;i.length!==2&&Et(t,"TAG directive accepts exactly two arguments"),n=i[0],l=i[1],lC.test(n)||Et(t,"ill-formed tag handle (first argument) of the TAG directive"),fn.call(t.tagMap,n)&&Et(t,'there is a previously declared suffix for "'+n+'" tag handle'),oC.test(l)||Et(t,"ill-formed tag prefix (second argument) of the TAG directive");try{l=decodeURIComponent(l)}catch{Et(t,"tag prefix is malformed: "+l)}t.tagMap[n]=l},"handleTagDirective")};function ka(e,t,r,i){var n,l,o,u;if(t<r){if(u=e.input.slice(t,r),i)for(n=0,l=u.length;n<l;n+=1)o=u.charCodeAt(n),o===9||32<=o&&o<=1114111||Et(e,"expected valid JSON character");else J6.test(u)&&Et(e,"the stream contains non-printable characters");e.result+=u}}w(ka,"captureSegment");function ay(e,t,r,i){var n,l,o,u;for(He.isObject(r)||Et(e,"cannot merge mappings; the provided source object is unacceptable"),n=Object.keys(r),o=0,u=n.length;o<u;o+=1)l=n[o],fn.call(t,l)||(t[l]=r[l],i[l]=!0)}w(ay,"mergeMappings");function Jn(e,t,r,i,n,l,o,u,h){var d,p;if(Array.isArray(n))for(n=Array.prototype.slice.call(n),d=0,p=n.length;d<p;d+=1)Array.isArray(n[d])&&Et(e,"nested arrays are not supported inside keys"),typeof n=="object"&&ry(n[d])==="[object Object]"&&(n[d]="[object Object]");if(typeof n=="object"&&ry(n)==="[object Object]"&&(n="[object Object]"),n=String(n),t===null&&(t={}),i==="tag:yaml.org,2002:merge")if(Array.isArray(l))for(d=0,p=l.length;d<p;d+=1)ay(e,t,l[d],r);else ay(e,t,l,r);else!e.json&&!fn.call(r,n)&&fn.call(t,n)&&(e.line=o||e.line,e.lineStart=u||e.lineStart,e.position=h||e.position,Et(e,"duplicated mapping key")),n==="__proto__"?Object.defineProperty(t,n,{configurable:!0,enumerable:!0,writable:!0,value:l}):t[n]=l,delete r[n];return t}w(Jn,"storeMappingPair");function lf(e){var t;t=e.input.charCodeAt(e.position),t===10?e.position++:t===13?(e.position++,e.input.charCodeAt(e.position)===10&&e.position++):Et(e,"a line break is expected"),e.line+=1,e.lineStart=e.position,e.firstTabInLine=-1}w(lf,"readLineBreak");function Oe(e,t,r){for(var i=0,n=e.input.charCodeAt(e.position);n!==0;){for(;hn(n);)n===9&&e.firstTabInLine===-1&&(e.firstTabInLine=e.position),n=e.input.charCodeAt(++e.position);if(t&&n===35)do n=e.input.charCodeAt(++e.position);while(n!==10&&n!==13&&n!==0);if(Ei(n))for(lf(e),n=e.input.charCodeAt(e.position),i++,e.lineIndent=0;n===32;)e.lineIndent++,n=e.input.charCodeAt(++e.position);else break}return r!==-1&&i!==0&&e.lineIndent<r&&$c(e,"deficient indentation"),i}w(Oe,"skipSeparationSpace");function Jc(e){var t=e.position,r;return r=e.input.charCodeAt(t),!!((r===45||r===46)&&r===e.input.charCodeAt(t+1)&&r===e.input.charCodeAt(t+2)&&(t+=3,r=e.input.charCodeAt(t),r===0||mr(r)))}w(Jc,"testDocumentSeparator");function of(e,t){t===1?e.result+=" ":t>1&&(e.result+=He.repeat(`
`,t-1))}w(of,"writeFoldedLines");function mC(e,t,r){var i,n,l,o,u,h,d,p,g=e.kind,y=e.result,x;if(x=e.input.charCodeAt(e.position),mr(x)||Zn(x)||x===35||x===38||x===42||x===33||x===124||x===62||x===39||x===34||x===37||x===64||x===96||(x===63||x===45)&&(n=e.input.charCodeAt(e.position+1),mr(n)||r&&Zn(n)))return!1;for(e.kind="scalar",e.result="",l=o=e.position,u=!1;x!==0;){if(x===58){if(n=e.input.charCodeAt(e.position+1),mr(n)||r&&Zn(n))break}else if(x===35){if(i=e.input.charCodeAt(e.position-1),mr(i))break}else{if(e.position===e.lineStart&&Jc(e)||r&&Zn(x))break;if(Ei(x))if(h=e.line,d=e.lineStart,p=e.lineIndent,Oe(e,!1,-1),e.lineIndent>=t){u=!0,x=e.input.charCodeAt(e.position);continue}else{e.position=o,e.line=h,e.lineStart=d,e.lineIndent=p;break}}u&&(ka(e,l,o,!1),of(e,e.line-h),l=o=e.position,u=!1),hn(x)||(o=e.position+1),x=e.input.charCodeAt(++e.position)}return ka(e,l,o,!1),e.result?!0:(e.kind=g,e.result=y,!1)}w(mC,"readPlainScalar");function yC(e,t){var r,i,n;if(r=e.input.charCodeAt(e.position),r!==39)return!1;for(e.kind="scalar",e.result="",e.position++,i=n=e.position;(r=e.input.charCodeAt(e.position))!==0;)if(r===39)if(ka(e,i,e.position,!0),r=e.input.charCodeAt(++e.position),r===39)i=e.position,e.position++,n=e.position;else return!0;else Ei(r)?(ka(e,i,n,!0),of(e,Oe(e,!1,t)),i=n=e.position):e.position===e.lineStart&&Jc(e)?Et(e,"unexpected end of the document within a single quoted scalar"):(e.position++,n=e.position);Et(e,"unexpected end of the stream within a single quoted scalar")}w(yC,"readSingleQuotedScalar");function bC(e,t){var r,i,n,l,o,u;if(u=e.input.charCodeAt(e.position),u!==34)return!1;for(e.kind="scalar",e.result="",e.position++,r=i=e.position;(u=e.input.charCodeAt(e.position))!==0;){if(u===34)return ka(e,r,e.position,!0),e.position++,!0;if(u===92){if(ka(e,r,e.position,!0),u=e.input.charCodeAt(++e.position),Ei(u))Oe(e,!1,t);else if(u<256&&fC[u])e.result+=pC[u],e.position++;else if((o=uC(u))>0){for(n=o,l=0;n>0;n--)u=e.input.charCodeAt(++e.position),(o=cC(u))>=0?l=(l<<4)+o:Et(e,"expected hexadecimal character");e.result+=dC(l),e.position++}else Et(e,"unknown escape sequence");r=i=e.position}else Ei(u)?(ka(e,r,i,!0),of(e,Oe(e,!1,t)),r=i=e.position):e.position===e.lineStart&&Jc(e)?Et(e,"unexpected end of the document within a double quoted scalar"):(e.position++,i=e.position)}Et(e,"unexpected end of the stream within a double quoted scalar")}w(bC,"readDoubleQuotedScalar");function xC(e,t){var r=!0,i,n,l,o=e.tag,u,h=e.anchor,d,p,g,y,x,v=Object.create(null),_,S,T,E;if(E=e.input.charCodeAt(e.position),E===91)p=93,x=!1,u=[];else if(E===123)p=125,x=!0,u={};else return!1;for(e.anchor!==null&&(e.anchorMap[e.anchor]=u),E=e.input.charCodeAt(++e.position);E!==0;){if(Oe(e,!0,t),E=e.input.charCodeAt(e.position),E===p)return e.position++,e.tag=o,e.anchor=h,e.kind=x?"mapping":"sequence",e.result=u,!0;r?E===44&&Et(e,"expected the node content, but found ','"):Et(e,"missed comma between flow collection entries"),S=_=T=null,g=y=!1,E===63&&(d=e.input.charCodeAt(e.position+1),mr(d)&&(g=y=!0,e.position++,Oe(e,!0,t))),i=e.line,n=e.lineStart,l=e.position,ls(e,t,Cd,!1,!0),S=e.tag,_=e.result,Oe(e,!0,t),E=e.input.charCodeAt(e.position),(y||e.line===i)&&E===58&&(g=!0,E=e.input.charCodeAt(++e.position),Oe(e,!0,t),ls(e,t,Cd,!1,!0),T=e.result),x?Jn(e,u,v,S,_,T,i,n,l):g?u.push(Jn(e,null,v,S,_,T,i,n,l)):u.push(_),Oe(e,!0,t),E=e.input.charCodeAt(e.position),E===44?(r=!0,E=e.input.charCodeAt(++e.position)):r=!1}Et(e,"unexpected end of the stream within a flow collection")}w(xC,"readFlowCollection");function vC(e,t){var r,i,n=um,l=!1,o=!1,u=t,h=0,d=!1,p,g;if(g=e.input.charCodeAt(e.position),g===124)i=!1;else if(g===62)i=!0;else return!1;for(e.kind="scalar",e.result="";g!==0;)if(g=e.input.charCodeAt(++e.position),g===43||g===45)um===n?n=g===43?d1:Z6:Et(e,"repeat of a chomping mode identifier");else if((p=hC(g))>=0)p===0?Et(e,"bad explicit indentation width of a block scalar; it cannot be less than one"):o?Et(e,"repeat of an indentation width identifier"):(u=t+p-1,o=!0);else break;if(hn(g)){do g=e.input.charCodeAt(++e.position);while(hn(g));if(g===35)do g=e.input.charCodeAt(++e.position);while(!Ei(g)&&g!==0)}for(;g!==0;){for(lf(e),e.lineIndent=0,g=e.input.charCodeAt(e.position);(!o||e.lineIndent<u)&&g===32;)e.lineIndent++,g=e.input.charCodeAt(++e.position);if(!o&&e.lineIndent>u&&(u=e.lineIndent),Ei(g)){h++;continue}if(e.lineIndent<u){n===d1?e.result+=He.repeat(`
`,l?1+h:h):n===um&&l&&(e.result+=`
`);break}for(i?hn(g)?(d=!0,e.result+=He.repeat(`
`,l?1+h:h)):d?(d=!1,e.result+=He.repeat(`
`,h+1)):h===0?l&&(e.result+=" "):e.result+=He.repeat(`
`,h):e.result+=He.repeat(`
`,l?1+h:h),l=!0,o=!0,h=0,r=e.position;!Ei(g)&&g!==0;)g=e.input.charCodeAt(++e.position);ka(e,r,e.position,!1)}return!0}w(vC,"readBlockScalar");function ny(e,t){var r,i=e.tag,n=e.anchor,l=[],o,u=!1,h;if(e.firstTabInLine!==-1)return!1;for(e.anchor!==null&&(e.anchorMap[e.anchor]=l),h=e.input.charCodeAt(e.position);h!==0&&(e.firstTabInLine!==-1&&(e.position=e.firstTabInLine,Et(e,"tab characters must not be used in indentation")),!(h!==45||(o=e.input.charCodeAt(e.position+1),!mr(o))));){if(u=!0,e.position++,Oe(e,!0,-1)&&e.lineIndent<=t){l.push(null),h=e.input.charCodeAt(e.position);continue}if(r=e.line,ls(e,t,sC,!1,!0),l.push(e.result),Oe(e,!0,-1),h=e.input.charCodeAt(e.position),(e.line===r||e.lineIndent>t)&&h!==0)Et(e,"bad indentation of a sequence entry");else if(e.lineIndent<t)break}return u?(e.tag=i,e.anchor=n,e.kind="sequence",e.result=l,!0):!1}w(ny,"readBlockSequence");function _C(e,t,r){var i,n,l,o,u,h,d=e.tag,p=e.anchor,g={},y=Object.create(null),x=null,v=null,_=null,S=!1,T=!1,E;if(e.firstTabInLine!==-1)return!1;for(e.anchor!==null&&(e.anchorMap[e.anchor]=g),E=e.input.charCodeAt(e.position);E!==0;){if(!S&&e.firstTabInLine!==-1&&(e.position=e.firstTabInLine,Et(e,"tab characters must not be used in indentation")),i=e.input.charCodeAt(e.position+1),l=e.line,(E===63||E===58)&&mr(i))E===63?(S&&(Jn(e,g,y,x,v,null,o,u,h),x=v=_=null),T=!0,S=!0,n=!0):S?(S=!1,n=!0):Et(e,"incomplete explicit mapping pair; a key node is missed; or followed by a non-tabulated empty line"),e.position+=1,E=i;else{if(o=e.line,u=e.lineStart,h=e.position,!ls(e,r,nC,!1,!0))break;if(e.line===l){for(E=e.input.charCodeAt(e.position);hn(E);)E=e.input.charCodeAt(++e.position);if(E===58)E=e.input.charCodeAt(++e.position),mr(E)||Et(e,"a whitespace character is expected after the key-value separator within a block mapping"),S&&(Jn(e,g,y,x,v,null,o,u,h),x=v=_=null),T=!0,S=!1,n=!1,x=e.tag,v=e.result;else if(T)Et(e,"can not read an implicit mapping pair; a colon is missed");else return e.tag=d,e.anchor=p,!0}else if(T)Et(e,"can not read a block mapping entry; a multiline key may not be an implicit key");else return e.tag=d,e.anchor=p,!0}if((e.line===l||e.lineIndent>t)&&(S&&(o=e.line,u=e.lineStart,h=e.position),ls(e,t,Td,!0,n)&&(S?v=e.result:_=e.result),S||(Jn(e,g,y,x,v,_,o,u,h),x=v=_=null),Oe(e,!0,-1),E=e.input.charCodeAt(e.position)),(e.line===l||e.lineIndent>t)&&E!==0)Et(e,"bad indentation of a mapping entry");else if(e.lineIndent<t)break}return S&&Jn(e,g,y,x,v,null,o,u,h),T&&(e.tag=d,e.anchor=p,e.kind="mapping",e.result=g),T}w(_C,"readBlockMapping");function wC(e){var t,r=!1,i=!1,n,l,o;if(o=e.input.charCodeAt(e.position),o!==33)return!1;if(e.tag!==null&&Et(e,"duplication of a tag property"),o=e.input.charCodeAt(++e.position),o===60?(r=!0,o=e.input.charCodeAt(++e.position)):o===33?(i=!0,n="!!",o=e.input.charCodeAt(++e.position)):n="!",t=e.position,r){do o=e.input.charCodeAt(++e.position);while(o!==0&&o!==62);e.position<e.length?(l=e.input.slice(t,e.position),o=e.input.charCodeAt(++e.position)):Et(e,"unexpected end of the stream within a verbatim tag")}else{for(;o!==0&&!mr(o);)o===33&&(i?Et(e,"tag suffix cannot contain exclamation marks"):(n=e.input.slice(t-1,e.position+1),lC.test(n)||Et(e,"named tag handle cannot contain such characters"),i=!0,t=e.position+1)),o=e.input.charCodeAt(++e.position);l=e.input.slice(t,e.position),e8.test(l)&&Et(e,"tag suffix cannot contain flow indicator characters")}l&&!oC.test(l)&&Et(e,"tag name cannot contain such characters: "+l);try{l=decodeURIComponent(l)}catch{Et(e,"tag name is malformed: "+l)}return r?e.tag=l:fn.call(e.tagMap,n)?e.tag=e.tagMap[n]+l:n==="!"?e.tag="!"+l:n==="!!"?e.tag="tag:yaml.org,2002:"+l:Et(e,'undeclared tag handle "'+n+'"'),!0}w(wC,"readTagProperty");function SC(e){var t,r;if(r=e.input.charCodeAt(e.position),r!==38)return!1;for(e.anchor!==null&&Et(e,"duplication of an anchor property"),r=e.input.charCodeAt(++e.position),t=e.position;r!==0&&!mr(r)&&!Zn(r);)r=e.input.charCodeAt(++e.position);return e.position===t&&Et(e,"name of an anchor node must contain at least one character"),e.anchor=e.input.slice(t,e.position),!0}w(SC,"readAnchorProperty");function kC(e){var t,r,i;if(i=e.input.charCodeAt(e.position),i!==42)return!1;for(i=e.input.charCodeAt(++e.position),t=e.position;i!==0&&!mr(i)&&!Zn(i);)i=e.input.charCodeAt(++e.position);return e.position===t&&Et(e,"name of an alias node must contain at least one character"),r=e.input.slice(t,e.position),fn.call(e.anchorMap,r)||Et(e,'unidentified alias "'+r+'"'),e.result=e.anchorMap[r],Oe(e,!0,-1),!0}w(kC,"readAlias");function ls(e,t,r,i,n){var l,o,u,h=1,d=!1,p=!1,g,y,x,v,_,S;if(e.listener!==null&&e.listener("open",e),e.tag=null,e.anchor=null,e.kind=null,e.result=null,l=o=u=Td===r||sC===r,i&&Oe(e,!0,-1)&&(d=!0,e.lineIndent>t?h=1:e.lineIndent===t?h=0:e.lineIndent<t&&(h=-1)),h===1)for(;wC(e)||SC(e);)Oe(e,!0,-1)?(d=!0,u=l,e.lineIndent>t?h=1:e.lineIndent===t?h=0:e.lineIndent<t&&(h=-1)):u=!1;if(u&&(u=d||n),(h===1||Td===r)&&(Cd===r||nC===r?_=t:_=t+1,S=e.position-e.lineStart,h===1?u&&(ny(e,S)||_C(e,S,_))||xC(e,_)?p=!0:(o&&vC(e,_)||yC(e,_)||bC(e,_)?p=!0:kC(e)?(p=!0,(e.tag!==null||e.anchor!==null)&&Et(e,"alias node should not have any properties")):mC(e,_,Cd===r)&&(p=!0,e.tag===null&&(e.tag="?")),e.anchor!==null&&(e.anchorMap[e.anchor]=e.result)):h===0&&(p=u&&ny(e,S))),e.tag===null)e.anchor!==null&&(e.anchorMap[e.anchor]=e.result);else if(e.tag==="?"){for(e.result!==null&&e.kind!=="scalar"&&Et(e,'unacceptable node kind for !<?> tag; it should be "scalar", not "'+e.kind+'"'),g=0,y=e.implicitTypes.length;g<y;g+=1)if(v=e.implicitTypes[g],v.resolve(e.result)){e.result=v.construct(e.result),e.tag=v.tag,e.anchor!==null&&(e.anchorMap[e.anchor]=e.result);break}}else if(e.tag!=="!"){if(fn.call(e.typeMap[e.kind||"fallback"],e.tag))v=e.typeMap[e.kind||"fallback"][e.tag];else for(v=null,x=e.typeMap.multi[e.kind||"fallback"],g=0,y=x.length;g<y;g+=1)if(e.tag.slice(0,x[g].tag.length)===x[g].tag){v=x[g];break}v||Et(e,"unknown tag !<"+e.tag+">"),e.result!==null&&v.kind!==e.kind&&Et(e,"unacceptable node kind for !<"+e.tag+'> tag; it should be "'+v.kind+'", not "'+e.kind+'"'),v.resolve(e.result,e.tag)?(e.result=v.construct(e.result,e.tag),e.anchor!==null&&(e.anchorMap[e.anchor]=e.result)):Et(e,"cannot resolve a node with !<"+e.tag+"> explicit tag")}return e.listener!==null&&e.listener("close",e),e.tag!==null||e.anchor!==null||p}w(ls,"composeNode");function CC(e){var t=e.position,r,i,n,l=!1,o;for(e.version=null,e.checkLineBreaks=e.legacy,e.tagMap=Object.create(null),e.anchorMap=Object.create(null);(o=e.input.charCodeAt(e.position))!==0&&(Oe(e,!0,-1),o=e.input.charCodeAt(e.position),!(e.lineIndent>0||o!==37));){for(l=!0,o=e.input.charCodeAt(++e.position),r=e.position;o!==0&&!mr(o);)o=e.input.charCodeAt(++e.position);for(i=e.input.slice(r,e.position),n=[],i.length<1&&Et(e,"directive name must not be less than one character in length");o!==0;){for(;hn(o);)o=e.input.charCodeAt(++e.position);if(o===35){do o=e.input.charCodeAt(++e.position);while(o!==0&&!Ei(o));break}if(Ei(o))break;for(r=e.position;o!==0&&!mr(o);)o=e.input.charCodeAt(++e.position);n.push(e.input.slice(r,e.position))}o!==0&&lf(e),fn.call(f1,i)?f1[i](e,i,n):$c(e,'unknown document directive "'+i+'"')}if(Oe(e,!0,-1),e.lineIndent===0&&e.input.charCodeAt(e.position)===45&&e.input.charCodeAt(e.position+1)===45&&e.input.charCodeAt(e.position+2)===45?(e.position+=3,Oe(e,!0,-1)):l&&Et(e,"directives end mark is expected"),ls(e,e.lineIndent-1,Td,!1,!0),Oe(e,!0,-1),e.checkLineBreaks&&t8.test(e.input.slice(t,e.position))&&$c(e,"non-ASCII line breaks are interpreted as content"),e.documents.push(e.result),e.position===e.lineStart&&Jc(e)){e.input.charCodeAt(e.position)===46&&(e.position+=3,Oe(e,!0,-1));return}if(e.position<e.length-1)Et(e,"end of the stream or a document separator is expected");else return}w(CC,"readDocument");function v0(e,t){e=String(e),t=t||{},e.length!==0&&(e.charCodeAt(e.length-1)!==10&&e.charCodeAt(e.length-1)!==13&&(e+=`
`),e.charCodeAt(0)===65279&&(e=e.slice(1)));var r=new gC(e,t),i=e.indexOf("\0");for(i!==-1&&(r.position=i,Et(r,"null byte is not allowed in input")),r.input+="\0";r.input.charCodeAt(r.position)===32;)r.lineIndent+=1,r.position+=1;for(;r.position<r.length-1;)CC(r);return r.documents}w(v0,"loadDocuments");function r8(e,t,r){t!==null&&typeof t=="object"&&typeof r>"u"&&(r=t,t=null);var i=v0(e,r);if(typeof t!="function")return i;for(var n=0,l=i.length;n<l;n+=1)t(i[n])}w(r8,"loadAll$1");function TC(e,t){var r=v0(e,t);if(r.length!==0){if(r.length===1)return r[0];throw new Lr("expected a single document in the stream, but found more")}}w(TC,"load$1");var i8=TC,a8={load:i8},EC=Object.prototype.toString,AC=Object.prototype.hasOwnProperty,_0=65279,n8=9,zc=10,s8=13,l8=32,o8=33,c8=34,sy=35,u8=37,h8=38,d8=39,f8=42,OC=44,p8=45,Ed=58,g8=61,m8=62,y8=63,b8=64,RC=91,LC=93,x8=96,MC=123,v8=124,BC=125,dr={};dr[0]="\\0";dr[7]="\\a";dr[8]="\\b";dr[9]="\\t";dr[10]="\\n";dr[11]="\\v";dr[12]="\\f";dr[13]="\\r";dr[27]="\\e";dr[34]='\\"';dr[92]="\\\\";dr[133]="\\N";dr[160]="\\_";dr[8232]="\\L";dr[8233]="\\P";var _8=["y","Y","yes","Yes","YES","on","On","ON","n","N","no","No","NO","off","Off","OFF"],w8=/^[-+]?[0-9_]+(?::[0-9_]+)+(?:\.[0-9_]*)?$/;function NC(e,t){var r,i,n,l,o,u,h;if(t===null)return{};for(r={},i=Object.keys(t),n=0,l=i.length;n<l;n+=1)o=i[n],u=String(t[o]),o.slice(0,2)==="!!"&&(o="tag:yaml.org,2002:"+o.slice(2)),h=e.compiledTypeMap.fallback[o],h&&AC.call(h.styleAliases,u)&&(u=h.styleAliases[u]),r[o]=u;return r}w(NC,"compileStyleMap");function DC(e){var t,r,i;if(t=e.toString(16).toUpperCase(),e<=255)r="x",i=2;else if(e<=65535)r="u",i=4;else if(e<=4294967295)r="U",i=8;else throw new Lr("code point within a string may not be greater than 0xFFFFFFFF");return"\\"+r+He.repeat("0",i-t.length)+t}w(DC,"encodeHex");var S8=1,Fc=2;function jC(e){this.schema=e.schema||aC,this.indent=Math.max(1,e.indent||2),this.noArrayIndent=e.noArrayIndent||!1,this.skipInvalid=e.skipInvalid||!1,this.flowLevel=He.isNothing(e.flowLevel)?-1:e.flowLevel,this.styleMap=NC(this.schema,e.styles||null),this.sortKeys=e.sortKeys||!1,this.lineWidth=e.lineWidth||80,this.noRefs=e.noRefs||!1,this.noCompatMode=e.noCompatMode||!1,this.condenseFlow=e.condenseFlow||!1,this.quotingType=e.quotingType==='"'?Fc:S8,this.forceQuotes=e.forceQuotes||!1,this.replacer=typeof e.replacer=="function"?e.replacer:null,this.implicitTypes=this.schema.compiledImplicit,this.explicitTypes=this.schema.compiledExplicit,this.tag=null,this.result="",this.duplicates=[],this.usedDuplicates=null}w(jC,"State");function ly(e,t){for(var r=He.repeat(" ",t),i=0,n=-1,l="",o,u=e.length;i<u;)n=e.indexOf(`
`,i),n===-1?(o=e.slice(i),i=u):(o=e.slice(i,n+1),i=n+1),o.length&&o!==`
`&&(l+=r),l+=o;return l}w(ly,"indentString");function Ad(e,t){return`
`+He.repeat(" ",e.indent*t)}w(Ad,"generateNextLine");function $C(e,t){var r,i,n;for(r=0,i=e.implicitTypes.length;r<i;r+=1)if(n=e.implicitTypes[r],n.resolve(t))return!0;return!1}w($C,"testImplicitResolving");function Pc(e){return e===l8||e===n8}w(Pc,"isWhitespace");function Ml(e){return 32<=e&&e<=126||161<=e&&e<=55295&&e!==8232&&e!==8233||57344<=e&&e<=65533&&e!==_0||65536<=e&&e<=1114111}w(Ml,"isPrintable");function oy(e){return Ml(e)&&e!==_0&&e!==s8&&e!==zc}w(oy,"isNsCharOrWhitespace");function cy(e,t,r){var i=oy(e),n=i&&!Pc(e);return(r?i:i&&e!==OC&&e!==RC&&e!==LC&&e!==MC&&e!==BC)&&e!==sy&&!(t===Ed&&!n)||oy(t)&&!Pc(t)&&e===sy||t===Ed&&n}w(cy,"isPlainSafe");function zC(e){return Ml(e)&&e!==_0&&!Pc(e)&&e!==p8&&e!==y8&&e!==Ed&&e!==OC&&e!==RC&&e!==LC&&e!==MC&&e!==BC&&e!==sy&&e!==h8&&e!==f8&&e!==o8&&e!==v8&&e!==g8&&e!==m8&&e!==d8&&e!==c8&&e!==u8&&e!==b8&&e!==x8}w(zC,"isPlainSafeFirst");function FC(e){return!Pc(e)&&e!==Ed}w(FC,"isPlainSafeLast");function fl(e,t){var r=e.charCodeAt(t),i;return r>=55296&&r<=56319&&t+1<e.length&&(i=e.charCodeAt(t+1),i>=56320&&i<=57343)?(r-55296)*1024+i-56320+65536:r}w(fl,"codePointAt");function w0(e){var t=/^\n* /;return t.test(e)}w(w0,"needIndentIndicator");var PC=1,uy=2,UC=3,IC=4,ul=5;function qC(e,t,r,i,n,l,o,u){var h,d=0,p=null,g=!1,y=!1,x=i!==-1,v=-1,_=zC(fl(e,0))&&FC(fl(e,e.length-1));if(t||o)for(h=0;h<e.length;d>=65536?h+=2:h++){if(d=fl(e,h),!Ml(d))return ul;_=_&&cy(d,p,u),p=d}else{for(h=0;h<e.length;d>=65536?h+=2:h++){if(d=fl(e,h),d===zc)g=!0,x&&(y=y||h-v-1>i&&e[v+1]!==" ",v=h);else if(!Ml(d))return ul;_=_&&cy(d,p,u),p=d}y=y||x&&h-v-1>i&&e[v+1]!==" "}return!g&&!y?_&&!o&&!n(e)?PC:l===Fc?ul:uy:r>9&&w0(e)?ul:o?l===Fc?ul:uy:y?IC:UC}w(qC,"chooseScalarStyle");function HC(e,t,r,i,n){e.dump=(function(){if(t.length===0)return e.quotingType===Fc?'""':"''";if(!e.noCompatMode&&(_8.indexOf(t)!==-1||w8.test(t)))return e.quotingType===Fc?'"'+t+'"':"'"+t+"'";var l=e.indent*Math.max(1,r),o=e.lineWidth===-1?-1:Math.max(Math.min(e.lineWidth,40),e.lineWidth-l),u=i||e.flowLevel>-1&&r>=e.flowLevel;function h(d){return $C(e,d)}switch(w(h,"testAmbiguity"),qC(t,u,e.indent,o,h,e.quotingType,e.forceQuotes&&!i,n)){case PC:return t;case uy:return"'"+t.replace(/'/g,"''")+"'";case UC:return"|"+hy(t,e.indent)+dy(ly(t,l));case IC:return">"+hy(t,e.indent)+dy(ly(WC(t,o),l));case ul:return'"'+GC(t)+'"';default:throw new Lr("impossible error: invalid scalar style")}})()}w(HC,"writeScalar");function hy(e,t){var r=w0(e)?String(t):"",i=e[e.length-1]===`
`,n=i&&(e[e.length-2]===`
`||e===`
`),l=n?"+":i?"":"-";return r+l+`
`}w(hy,"blockHeader");function dy(e){return e[e.length-1]===`
`?e.slice(0,-1):e}w(dy,"dropEndingNewline");function WC(e,t){for(var r=/(\n+)([^\n]*)/g,i=(function(){var d=e.indexOf(`
`);return d=d!==-1?d:e.length,r.lastIndex=d,fy(e.slice(0,d),t)})(),n=e[0]===`
`||e[0]===" ",l,o;o=r.exec(e);){var u=o[1],h=o[2];l=h[0]===" ",i+=u+(!n&&!l&&h!==""?`
`:"")+fy(h,t),n=l}return i}w(WC,"foldString");function fy(e,t){if(e===""||e[0]===" ")return e;for(var r=/ [^ ]/g,i,n=0,l,o=0,u=0,h="";i=r.exec(e);)u=i.index,u-n>t&&(l=o>n?o:u,h+=`
`+e.slice(n,l),n=l+1),o=u;return h+=`
`,e.length-n>t&&o>n?h+=e.slice(n,o)+`
`+e.slice(o+1):h+=e.slice(n),h.slice(1)}w(fy,"foldLine");function GC(e){for(var t="",r=0,i,n=0;n<e.length;r>=65536?n+=2:n++)r=fl(e,n),i=dr[r],!i&&Ml(r)?(t+=e[n],r>=65536&&(t+=e[n+1])):t+=i||DC(r);return t}w(GC,"escapeString");function YC(e,t,r){var i="",n=e.tag,l,o,u;for(l=0,o=r.length;l<o;l+=1)u=r[l],e.replacer&&(u=e.replacer.call(r,String(l),u)),(Hi(e,t,u,!1,!1)||typeof u>"u"&&Hi(e,t,null,!1,!1))&&(i!==""&&(i+=","+(e.condenseFlow?"":" ")),i+=e.dump);e.tag=n,e.dump="["+i+"]"}w(YC,"writeFlowSequence");function py(e,t,r,i){var n="",l=e.tag,o,u,h;for(o=0,u=r.length;o<u;o+=1)h=r[o],e.replacer&&(h=e.replacer.call(r,String(o),h)),(Hi(e,t+1,h,!0,!0,!1,!0)||typeof h>"u"&&Hi(e,t+1,null,!0,!0,!1,!0))&&((!i||n!=="")&&(n+=Ad(e,t)),e.dump&&zc===e.dump.charCodeAt(0)?n+="-":n+="- ",n+=e.dump);e.tag=l,e.dump=n||"[]"}w(py,"writeBlockSequence");function VC(e,t,r){var i="",n=e.tag,l=Object.keys(r),o,u,h,d,p;for(o=0,u=l.length;o<u;o+=1)p="",i!==""&&(p+=", "),e.condenseFlow&&(p+='"'),h=l[o],d=r[h],e.replacer&&(d=e.replacer.call(r,h,d)),Hi(e,t,h,!1,!1)&&(e.dump.length>1024&&(p+="? "),p+=e.dump+(e.condenseFlow?'"':"")+":"+(e.condenseFlow?"":" "),Hi(e,t,d,!1,!1)&&(p+=e.dump,i+=p));e.tag=n,e.dump="{"+i+"}"}w(VC,"writeFlowMapping");function XC(e,t,r,i){var n="",l=e.tag,o=Object.keys(r),u,h,d,p,g,y;if(e.sortKeys===!0)o.sort();else if(typeof e.sortKeys=="function")o.sort(e.sortKeys);else if(e.sortKeys)throw new Lr("sortKeys must be a boolean or a function");for(u=0,h=o.length;u<h;u+=1)y="",(!i||n!=="")&&(y+=Ad(e,t)),d=o[u],p=r[d],e.replacer&&(p=e.replacer.call(r,d,p)),Hi(e,t+1,d,!0,!0,!0)&&(g=e.tag!==null&&e.tag!=="?"||e.dump&&e.dump.length>1024,g&&(e.dump&&zc===e.dump.charCodeAt(0)?y+="?":y+="? "),y+=e.dump,g&&(y+=Ad(e,t)),Hi(e,t+1,p,!0,g)&&(e.dump&&zc===e.dump.charCodeAt(0)?y+=":":y+=": ",y+=e.dump,n+=y));e.tag=l,e.dump=n||"{}"}w(XC,"writeBlockMapping");function gy(e,t,r){var i,n,l,o,u,h;for(n=r?e.explicitTypes:e.implicitTypes,l=0,o=n.length;l<o;l+=1)if(u=n[l],(u.instanceOf||u.predicate)&&(!u.instanceOf||typeof t=="object"&&t instanceof u.instanceOf)&&(!u.predicate||u.predicate(t))){if(r?u.multi&&u.representName?e.tag=u.representName(t):e.tag=u.tag:e.tag="?",u.represent){if(h=e.styleMap[u.tag]||u.defaultStyle,EC.call(u.represent)==="[object Function]")i=u.represent(t,h);else if(AC.call(u.represent,h))i=u.represent[h](t,h);else throw new Lr("!<"+u.tag+'> tag resolver accepts not "'+h+'" style');e.dump=i}return!0}return!1}w(gy,"detectType");function Hi(e,t,r,i,n,l,o){e.tag=null,e.dump=r,gy(e,r,!1)||gy(e,r,!0);var u=EC.call(e.dump),h=i,d;i&&(i=e.flowLevel<0||e.flowLevel>t);var p=u==="[object Object]"||u==="[object Array]",g,y;if(p&&(g=e.duplicates.indexOf(r),y=g!==-1),(e.tag!==null&&e.tag!=="?"||y||e.indent!==2&&t>0)&&(n=!1),y&&e.usedDuplicates[g])e.dump="*ref_"+g;else{if(p&&y&&!e.usedDuplicates[g]&&(e.usedDuplicates[g]=!0),u==="[object Object]")i&&Object.keys(e.dump).length!==0?(XC(e,t,e.dump,n),y&&(e.dump="&ref_"+g+e.dump)):(VC(e,t,e.dump),y&&(e.dump="&ref_"+g+" "+e.dump));else if(u==="[object Array]")i&&e.dump.length!==0?(e.noArrayIndent&&!o&&t>0?py(e,t-1,e.dump,n):py(e,t,e.dump,n),y&&(e.dump="&ref_"+g+e.dump)):(YC(e,t,e.dump),y&&(e.dump="&ref_"+g+" "+e.dump));else if(u==="[object String]")e.tag!=="?"&&HC(e,e.dump,t,l,h);else{if(u==="[object Undefined]")return!1;if(e.skipInvalid)return!1;throw new Lr("unacceptable kind of an object to dump "+u)}e.tag!==null&&e.tag!=="?"&&(d=encodeURI(e.tag[0]==="!"?e.tag.slice(1):e.tag).replace(/!/g,"%21"),e.tag[0]==="!"?d="!"+d:d.slice(0,18)==="tag:yaml.org,2002:"?d="!!"+d.slice(18):d="!<"+d+">",e.dump=d+" "+e.dump)}return!0}w(Hi,"writeNode");function KC(e,t){var r=[],i=[],n,l;for(Od(e,r,i),n=0,l=i.length;n<l;n+=1)t.duplicates.push(r[i[n]]);t.usedDuplicates=new Array(l)}w(KC,"getDuplicateReferences");function Od(e,t,r){var i,n,l;if(e!==null&&typeof e=="object")if(n=t.indexOf(e),n!==-1)r.indexOf(n)===-1&&r.push(n);else if(t.push(e),Array.isArray(e))for(n=0,l=e.length;n<l;n+=1)Od(e[n],t,r);else for(i=Object.keys(e),n=0,l=i.length;n<l;n+=1)Od(e[i[n]],t,r)}w(Od,"inspectNode");function k8(e,t){t=t||{};var r=new jC(t);r.noRefs||KC(e,r);var i=e;return r.replacer&&(i=r.replacer.call({"":i},"",i)),Hi(r,0,i,!0,!0)?r.dump+`
`:""}w(k8,"dump$1");function C8(e,t){return function(){throw new Error("Function yaml."+e+" is removed in js-yaml 4. Use yaml."+t+" instead, which is now safe by default.")}}w(C8,"renamed");var T8=Uk,E8=a8.load;var or={aggregation:17.25,extension:17.25,composition:17.25,dependency:6,lollipop:13.5,arrow_point:4},p1={arrow_point:9,arrow_cross:12.5,arrow_circle:12.5};function fc(e,t){if(e===void 0||t===void 0)return{angle:0,deltaX:0,deltaY:0};e=xe(e),t=xe(t);const[r,i]=[e.x,e.y],[n,l]=[t.x,t.y],o=n-r,u=l-i;return{angle:Math.atan(u/o),deltaX:o,deltaY:u}}w(fc,"calculateDeltaAndAngle");var xe=w(e=>Array.isArray(e)?{x:e[0],y:e[1]}:e,"pointTransformer"),A8=w(e=>({x:w(function(t,r,i){let n=0;const l=xe(i[0]).x<xe(i[i.length-1]).x?"left":"right";if(r===0&&Object.hasOwn(or,e.arrowTypeStart)){const{angle:x,deltaX:v}=fc(i[0],i[1]);n=or[e.arrowTypeStart]*Math.cos(x)*(v>=0?1:-1)}else if(r===i.length-1&&Object.hasOwn(or,e.arrowTypeEnd)){const{angle:x,deltaX:v}=fc(i[i.length-1],i[i.length-2]);n=or[e.arrowTypeEnd]*Math.cos(x)*(v>=0?1:-1)}const o=Math.abs(xe(t).x-xe(i[i.length-1]).x),u=Math.abs(xe(t).y-xe(i[i.length-1]).y),h=Math.abs(xe(t).x-xe(i[0]).x),d=Math.abs(xe(t).y-xe(i[0]).y),p=or[e.arrowTypeStart],g=or[e.arrowTypeEnd],y=1;if(o<g&&o>0&&u<g){let x=g+y-o;x*=l==="right"?-1:1,n-=x}if(h<p&&h>0&&d<p){let x=p+y-h;x*=l==="right"?-1:1,n+=x}return xe(t).x+n},"x"),y:w(function(t,r,i){let n=0;const l=xe(i[0]).y<xe(i[i.length-1]).y?"down":"up";if(r===0&&Object.hasOwn(or,e.arrowTypeStart)){const{angle:x,deltaY:v}=fc(i[0],i[1]);n=or[e.arrowTypeStart]*Math.abs(Math.sin(x))*(v>=0?1:-1)}else if(r===i.length-1&&Object.hasOwn(or,e.arrowTypeEnd)){const{angle:x,deltaY:v}=fc(i[i.length-1],i[i.length-2]);n=or[e.arrowTypeEnd]*Math.abs(Math.sin(x))*(v>=0?1:-1)}const o=Math.abs(xe(t).y-xe(i[i.length-1]).y),u=Math.abs(xe(t).x-xe(i[i.length-1]).x),h=Math.abs(xe(t).y-xe(i[0]).y),d=Math.abs(xe(t).x-xe(i[0]).x),p=or[e.arrowTypeStart],g=or[e.arrowTypeEnd],y=1;if(o<g&&o>0&&u<g){let x=g+y-o;x*=l==="up"?-1:1,n-=x}if(h<p&&h>0&&d<p){let x=p+y-h;x*=l==="up"?-1:1,n+=x}return xe(t).y+n},"y")}),"getLineFunctionsWithOffset"),S0=w(({flowchart:e})=>{const t=e?.subGraphTitleMargin?.top??0,r=e?.subGraphTitleMargin?.bottom??0,i=t+r;return{subGraphTitleTopMargin:t,subGraphTitleBottomMargin:r,subGraphTitleTotalMargin:i}},"getSubGraphTitleMargins"),O8=w(e=>{const{handDrawnSeed:t}=ie();return{fill:e,hachureAngle:120,hachureGap:4,fillWeight:2,roughness:.7,stroke:e,seed:t}},"solidStateFill"),Pl=w(e=>{const t=R8([...e.cssCompiledStyles||[],...e.cssStyles||[],...e.labelStyle||[]]);return{stylesMap:t,stylesArray:[...t]}},"compileStyles"),R8=w(e=>{const t=new Map;return e.forEach(r=>{const[i,n]=r.split(":");t.set(i.trim(),n?.trim())}),t},"styles2Map"),QC=w(e=>e==="color"||e==="font-size"||e==="font-family"||e==="font-weight"||e==="font-style"||e==="text-decoration"||e==="text-align"||e==="text-transform"||e==="line-height"||e==="letter-spacing"||e==="word-spacing"||e==="text-shadow"||e==="text-overflow"||e==="white-space"||e==="word-wrap"||e==="word-break"||e==="overflow-wrap"||e==="hyphens","isLabelStyle"),_t=w(e=>{const{stylesArray:t}=Pl(e),r=[],i=[],n=[],l=[];return t.forEach(o=>{const u=o[0];QC(u)?r.push(o.join(":")+" !important"):(i.push(o.join(":")+" !important"),u.includes("stroke")&&n.push(o.join(":")+" !important"),u==="fill"&&l.push(o.join(":")+" !important"))}),{labelStyles:r.join(";"),nodeStyles:i.join(";"),stylesArray:t,borderStyles:n,backgroundStyles:l}},"styles2String"),vt=w((e,t)=>{const{themeVariables:r,handDrawnSeed:i}=ie(),{nodeBorder:n,mainBkg:l}=r,{stylesMap:o}=Pl(e);return Object.assign({roughness:.7,fill:o.get("fill")||l,fillStyle:"hachure",fillWeight:4,hachureGap:5.2,stroke:o.get("stroke")||n,seed:i,strokeWidth:o.get("stroke-width")?.replace("px","")||1.3,fillLineDash:[0,0],strokeLineDash:L8(o.get("stroke-dasharray"))},t)},"userNodeOverrides"),L8=w(e=>{if(!e)return[0,0];const t=e.trim().split(/\s+/).map(Number);if(t.length===1){const n=isNaN(t[0])?0:t[0];return[n,n]}const r=isNaN(t[0])?0:t[0],i=isNaN(t[1])?0:t[1];return[r,i]},"getStrokeDashArray"),ec={},Pe={},g1;function M8(){return g1||(g1=1,Object.defineProperty(Pe,"__esModule",{value:!0}),Pe.BLANK_URL=Pe.relativeFirstCharacters=Pe.whitespaceEscapeCharsRegex=Pe.urlSchemeRegex=Pe.ctrlCharactersRegex=Pe.htmlCtrlEntityRegex=Pe.htmlEntitiesRegex=Pe.invalidProtocolRegex=void 0,Pe.invalidProtocolRegex=/^([^\w]*)(javascript|data|vbscript)/im,Pe.htmlEntitiesRegex=/&#(\w+)(^\w|;)?/g,Pe.htmlCtrlEntityRegex=/&(newline|tab);/gi,Pe.ctrlCharactersRegex=/[\u0000-\u001F\u007F-\u009F\u2000-\u200D\uFEFF]/gim,Pe.urlSchemeRegex=/^.+(:|&colon;)/gim,Pe.whitespaceEscapeCharsRegex=/(\\|%5[cC])((%(6[eE]|72|74))|[nrt])/g,Pe.relativeFirstCharacters=[".","/"],Pe.BLANK_URL="about:blank"),Pe}var m1;function B8(){if(m1)return ec;m1=1,Object.defineProperty(ec,"__esModule",{value:!0}),ec.sanitizeUrl=void 0;var e=M8();function t(o){return e.relativeFirstCharacters.indexOf(o[0])>-1}function r(o){var u=o.replace(e.ctrlCharactersRegex,"");return u.replace(e.htmlEntitiesRegex,function(h,d){return String.fromCharCode(d)})}function i(o){return URL.canParse(o)}function n(o){try{return decodeURIComponent(o)}catch{return o}}function l(o){if(!o)return e.BLANK_URL;var u,h=n(o.trim());do h=r(h).replace(e.htmlCtrlEntityRegex,"").replace(e.ctrlCharactersRegex,"").replace(e.whitespaceEscapeCharsRegex,"").trim(),h=n(h),u=h.match(e.ctrlCharactersRegex)||h.match(e.htmlEntitiesRegex)||h.match(e.htmlCtrlEntityRegex)||h.match(e.whitespaceEscapeCharsRegex);while(u&&u.length>0);var d=h;if(!d)return e.BLANK_URL;if(t(d))return d;var p=d.trimStart(),g=p.match(e.urlSchemeRegex);if(!g)return d;var y=g[0].toLowerCase().trim();if(e.invalidProtocolRegex.test(y))return e.BLANK_URL;var x=p.replace(/\\/g,"/");if(y==="mailto:"||y.includes("://"))return x;if(y==="http:"||y==="https:"){if(!i(x))return e.BLANK_URL;var v=new URL(x);return v.protocol=v.protocol.toLowerCase(),v.hostname=v.hostname.toLowerCase(),v.toString()}return x}return ec.sanitizeUrl=l,ec}var N8=B8(),ZC=typeof global=="object"&&global&&global.Object===Object&&global,D8=typeof self=="object"&&self&&self.Object===Object&&self,Gi=ZC||D8||Function("return this")(),Rd=Gi.Symbol,JC=Object.prototype,j8=JC.hasOwnProperty,$8=JC.toString,rc=Rd?Rd.toStringTag:void 0;function z8(e){var t=j8.call(e,rc),r=e[rc];try{e[rc]=void 0;var i=!0}catch{}var n=$8.call(e);return i&&(t?e[rc]=r:delete e[rc]),n}var F8=Object.prototype,P8=F8.toString;function U8(e){return P8.call(e)}var I8="[object Null]",q8="[object Undefined]",y1=Rd?Rd.toStringTag:void 0;function Ul(e){return e==null?e===void 0?q8:I8:y1&&y1 in Object(e)?z8(e):U8(e)}function hs(e){var t=typeof e;return e!=null&&(t=="object"||t=="function")}var H8="[object AsyncFunction]",W8="[object Function]",G8="[object GeneratorFunction]",Y8="[object Proxy]";function k0(e){if(!hs(e))return!1;var t=Ul(e);return t==W8||t==G8||t==H8||t==Y8}var hm=Gi["__core-js_shared__"],b1=(function(){var e=/[^.]+$/.exec(hm&&hm.keys&&hm.keys.IE_PROTO||"");return e?"Symbol(src)_1."+e:""})();function V8(e){return!!b1&&b1 in e}var X8=Function.prototype,K8=X8.toString;function ds(e){if(e!=null){try{return K8.call(e)}catch{}try{return e+""}catch{}}return""}var Q8=/[\\^$.*+?()[\]{}|]/g,Z8=/^\[object .+?Constructor\]$/,J8=Function.prototype,tz=Object.prototype,ez=J8.toString,rz=tz.hasOwnProperty,iz=RegExp("^"+ez.call(rz).replace(Q8,"\\$&").replace(/hasOwnProperty|(function).*?(?=\\\()| for .+?(?=\\\])/g,"$1.*?")+"$");function az(e){if(!hs(e)||V8(e))return!1;var t=k0(e)?iz:Z8;return t.test(ds(e))}function nz(e,t){return e?.[t]}function fs(e,t){var r=nz(e,t);return az(r)?r:void 0}var Uc=fs(Object,"create");function sz(){this.__data__=Uc?Uc(null):{},this.size=0}function lz(e){var t=this.has(e)&&delete this.__data__[e];return this.size-=t?1:0,t}var oz="__lodash_hash_undefined__",cz=Object.prototype,uz=cz.hasOwnProperty;function hz(e){var t=this.__data__;if(Uc){var r=t[e];return r===oz?void 0:r}return uz.call(t,e)?t[e]:void 0}var dz=Object.prototype,fz=dz.hasOwnProperty;function pz(e){var t=this.__data__;return Uc?t[e]!==void 0:fz.call(t,e)}var gz="__lodash_hash_undefined__";function mz(e,t){var r=this.__data__;return this.size+=this.has(e)?0:1,r[e]=Uc&&t===void 0?gz:t,this}function os(e){var t=-1,r=e==null?0:e.length;for(this.clear();++t<r;){var i=e[t];this.set(i[0],i[1])}}os.prototype.clear=sz;os.prototype.delete=lz;os.prototype.get=hz;os.prototype.has=pz;os.prototype.set=mz;function yz(){this.__data__=[],this.size=0}function cf(e,t){return e===t||e!==e&&t!==t}function uf(e,t){for(var r=e.length;r--;)if(cf(e[r][0],t))return r;return-1}var bz=Array.prototype,xz=bz.splice;function vz(e){var t=this.__data__,r=uf(t,e);if(r<0)return!1;var i=t.length-1;return r==i?t.pop():xz.call(t,r,1),--this.size,!0}function _z(e){var t=this.__data__,r=uf(t,e);return r<0?void 0:t[r][1]}function wz(e){return uf(this.__data__,e)>-1}function Sz(e,t){var r=this.__data__,i=uf(r,e);return i<0?(++this.size,r.push([e,t])):r[i][1]=t,this}function La(e){var t=-1,r=e==null?0:e.length;for(this.clear();++t<r;){var i=e[t];this.set(i[0],i[1])}}La.prototype.clear=yz;La.prototype.delete=vz;La.prototype.get=_z;La.prototype.has=wz;La.prototype.set=Sz;var Ic=fs(Gi,"Map");function kz(){this.size=0,this.__data__={hash:new os,map:new(Ic||La),string:new os}}function Cz(e){var t=typeof e;return t=="string"||t=="number"||t=="symbol"||t=="boolean"?e!=="__proto__":e===null}function hf(e,t){var r=e.__data__;return Cz(t)?r[typeof t=="string"?"string":"hash"]:r.map}function Tz(e){var t=hf(this,e).delete(e);return this.size-=t?1:0,t}function Ez(e){return hf(this,e).get(e)}function Az(e){return hf(this,e).has(e)}function Oz(e,t){var r=hf(this,e),i=r.size;return r.set(e,t),this.size+=r.size==i?0:1,this}function mn(e){var t=-1,r=e==null?0:e.length;for(this.clear();++t<r;){var i=e[t];this.set(i[0],i[1])}}mn.prototype.clear=kz;mn.prototype.delete=Tz;mn.prototype.get=Ez;mn.prototype.has=Az;mn.prototype.set=Oz;var Rz="Expected a function";function tu(e,t){if(typeof e!="function"||t!=null&&typeof t!="function")throw new TypeError(Rz);var r=function(){var i=arguments,n=t?t.apply(this,i):i[0],l=r.cache;if(l.has(n))return l.get(n);var o=e.apply(this,i);return r.cache=l.set(n,o)||l,o};return r.cache=new(tu.Cache||mn),r}tu.Cache=mn;function Lz(){this.__data__=new La,this.size=0}function Mz(e){var t=this.__data__,r=t.delete(e);return this.size=t.size,r}function Bz(e){return this.__data__.get(e)}function Nz(e){return this.__data__.has(e)}var Dz=200;function jz(e,t){var r=this.__data__;if(r instanceof La){var i=r.__data__;if(!Ic||i.length<Dz-1)return i.push([e,t]),this.size=++r.size,this;r=this.__data__=new mn(i)}return r.set(e,t),this.size=r.size,this}function Il(e){var t=this.__data__=new La(e);this.size=t.size}Il.prototype.clear=Lz;Il.prototype.delete=Mz;Il.prototype.get=Bz;Il.prototype.has=Nz;Il.prototype.set=jz;var Ld=(function(){try{var e=fs(Object,"defineProperty");return e({},"",{}),e}catch{}})();function C0(e,t,r){t=="__proto__"&&Ld?Ld(e,t,{configurable:!0,enumerable:!0,value:r,writable:!0}):e[t]=r}function my(e,t,r){(r!==void 0&&!cf(e[t],r)||r===void 0&&!(t in e))&&C0(e,t,r)}function $z(e){return function(t,r,i){for(var n=-1,l=Object(t),o=i(t),u=o.length;u--;){var h=o[++n];if(r(l[h],h,l)===!1)break}return t}}var zz=$z(),tT=typeof exports=="object"&&exports&&!exports.nodeType&&exports,x1=tT&&typeof module=="object"&&module&&!module.nodeType&&module,Fz=x1&&x1.exports===tT,v1=Fz?Gi.Buffer:void 0,_1=v1?v1.allocUnsafe:void 0;function Pz(e,t){if(t)return e.slice();var r=e.length,i=_1?_1(r):new e.constructor(r);return e.copy(i),i}var w1=Gi.Uint8Array;function Uz(e){var t=new e.constructor(e.byteLength);return new w1(t).set(new w1(e)),t}function Iz(e,t){var r=t?Uz(e.buffer):e.buffer;return new e.constructor(r,e.byteOffset,e.length)}function qz(e,t){var r=-1,i=e.length;for(t||(t=Array(i));++r<i;)t[r]=e[r];return t}var S1=Object.create,Hz=(function(){function e(){}return function(t){if(!hs(t))return{};if(S1)return S1(t);e.prototype=t;var r=new e;return e.prototype=void 0,r}})();function eT(e,t){return function(r){return e(t(r))}}var rT=eT(Object.getPrototypeOf,Object),Wz=Object.prototype;function df(e){var t=e&&e.constructor,r=typeof t=="function"&&t.prototype||Wz;return e===r}function Gz(e){return typeof e.constructor=="function"&&!df(e)?Hz(rT(e)):{}}function eu(e){return e!=null&&typeof e=="object"}var Yz="[object Arguments]";function k1(e){return eu(e)&&Ul(e)==Yz}var iT=Object.prototype,Vz=iT.hasOwnProperty,Xz=iT.propertyIsEnumerable,Md=k1((function(){return arguments})())?k1:function(e){return eu(e)&&Vz.call(e,"callee")&&!Xz.call(e,"callee")},Bd=Array.isArray,Kz=9007199254740991;function aT(e){return typeof e=="number"&&e>-1&&e%1==0&&e<=Kz}function ff(e){return e!=null&&aT(e.length)&&!k0(e)}function Qz(e){return eu(e)&&ff(e)}function Zz(){return!1}var nT=typeof exports=="object"&&exports&&!exports.nodeType&&exports,C1=nT&&typeof module=="object"&&module&&!module.nodeType&&module,Jz=C1&&C1.exports===nT,T1=Jz?Gi.Buffer:void 0,tF=T1?T1.isBuffer:void 0,T0=tF||Zz,eF="[object Object]",rF=Function.prototype,iF=Object.prototype,sT=rF.toString,aF=iF.hasOwnProperty,nF=sT.call(Object);function sF(e){if(!eu(e)||Ul(e)!=eF)return!1;var t=rT(e);if(t===null)return!0;var r=aF.call(t,"constructor")&&t.constructor;return typeof r=="function"&&r instanceof r&&sT.call(r)==nF}var lF="[object Arguments]",oF="[object Array]",cF="[object Boolean]",uF="[object Date]",hF="[object Error]",dF="[object Function]",fF="[object Map]",pF="[object Number]",gF="[object Object]",mF="[object RegExp]",yF="[object Set]",bF="[object String]",xF="[object WeakMap]",vF="[object ArrayBuffer]",_F="[object DataView]",wF="[object Float32Array]",SF="[object Float64Array]",kF="[object Int8Array]",CF="[object Int16Array]",TF="[object Int32Array]",EF="[object Uint8Array]",AF="[object Uint8ClampedArray]",OF="[object Uint16Array]",RF="[object Uint32Array]",me={};me[wF]=me[SF]=me[kF]=me[CF]=me[TF]=me[EF]=me[AF]=me[OF]=me[RF]=!0;me[lF]=me[oF]=me[vF]=me[cF]=me[_F]=me[uF]=me[hF]=me[dF]=me[fF]=me[pF]=me[gF]=me[mF]=me[yF]=me[bF]=me[xF]=!1;function LF(e){return eu(e)&&aT(e.length)&&!!me[Ul(e)]}function MF(e){return function(t){return e(t)}}var lT=typeof exports=="object"&&exports&&!exports.nodeType&&exports,kc=lT&&typeof module=="object"&&module&&!module.nodeType&&module,BF=kc&&kc.exports===lT,dm=BF&&ZC.process,E1=(function(){try{var e=kc&&kc.require&&kc.require("util").types;return e||dm&&dm.binding&&dm.binding("util")}catch{}})(),A1=E1&&E1.isTypedArray,E0=A1?MF(A1):LF;function yy(e,t){if(!(t==="constructor"&&typeof e[t]=="function")&&t!="__proto__")return e[t]}var NF=Object.prototype,DF=NF.hasOwnProperty;function jF(e,t,r){var i=e[t];(!(DF.call(e,t)&&cf(i,r))||r===void 0&&!(t in e))&&C0(e,t,r)}function $F(e,t,r,i){var n=!r;r||(r={});for(var l=-1,o=t.length;++l<o;){var u=t[l],h=void 0;h===void 0&&(h=e[u]),n?C0(r,u,h):jF(r,u,h)}return r}function zF(e,t){for(var r=-1,i=Array(e);++r<e;)i[r]=t(r);return i}var FF=9007199254740991,PF=/^(?:0|[1-9]\d*)$/;function oT(e,t){var r=typeof e;return t=t??FF,!!t&&(r=="number"||r!="symbol"&&PF.test(e))&&e>-1&&e%1==0&&e<t}var UF=Object.prototype,IF=UF.hasOwnProperty;function qF(e,t){var r=Bd(e),i=!r&&Md(e),n=!r&&!i&&T0(e),l=!r&&!i&&!n&&E0(e),o=r||i||n||l,u=o?zF(e.length,String):[],h=u.length;for(var d in e)(t||IF.call(e,d))&&!(o&&(d=="length"||n&&(d=="offset"||d=="parent")||l&&(d=="buffer"||d=="byteLength"||d=="byteOffset")||oT(d,h)))&&u.push(d);return u}function HF(e){var t=[];if(e!=null)for(var r in Object(e))t.push(r);return t}var WF=Object.prototype,GF=WF.hasOwnProperty;function YF(e){if(!hs(e))return HF(e);var t=df(e),r=[];for(var i in e)i=="constructor"&&(t||!GF.call(e,i))||r.push(i);return r}function cT(e){return ff(e)?qF(e,!0):YF(e)}function VF(e){return $F(e,cT(e))}function XF(e,t,r,i,n,l,o){var u=yy(e,r),h=yy(t,r),d=o.get(h);if(d){my(e,r,d);return}var p=l?l(u,h,r+"",e,t,o):void 0,g=p===void 0;if(g){var y=Bd(h),x=!y&&T0(h),v=!y&&!x&&E0(h);p=h,y||x||v?Bd(u)?p=u:Qz(u)?p=qz(u):x?(g=!1,p=Pz(h,!0)):v?(g=!1,p=Iz(h,!0)):p=[]:sF(h)||Md(h)?(p=u,Md(u)?p=VF(u):(!hs(u)||k0(u))&&(p=Gz(h))):g=!1}g&&(o.set(h,p),n(p,h,i,l,o),o.delete(h)),my(e,r,p)}function uT(e,t,r,i,n){e!==t&&zz(t,function(l,o){if(n||(n=new Il),hs(l))XF(e,t,o,r,uT,i,n);else{var u=i?i(yy(e,o),l,o+"",e,t,n):void 0;u===void 0&&(u=l),my(e,o,u)}},cT)}function hT(e){return e}function KF(e,t,r){switch(r.length){case 0:return e.call(t);case 1:return e.call(t,r[0]);case 2:return e.call(t,r[0],r[1]);case 3:return e.call(t,r[0],r[1],r[2])}return e.apply(t,r)}var O1=Math.max;function QF(e,t,r){return t=O1(t===void 0?e.length-1:t,0),function(){for(var i=arguments,n=-1,l=O1(i.length-t,0),o=Array(l);++n<l;)o[n]=i[t+n];n=-1;for(var u=Array(t+1);++n<t;)u[n]=i[n];return u[t]=r(o),KF(e,this,u)}}function ZF(e){return function(){return e}}var JF=Ld?function(e,t){return Ld(e,"toString",{configurable:!0,enumerable:!1,value:ZF(t),writable:!0})}:hT,tP=800,eP=16,rP=Date.now;function iP(e){var t=0,r=0;return function(){var i=rP(),n=eP-(i-r);if(r=i,n>0){if(++t>=tP)return arguments[0]}else t=0;return e.apply(void 0,arguments)}}var aP=iP(JF);function nP(e,t){return aP(QF(e,t,hT),e+"")}function sP(e,t,r){if(!hs(r))return!1;var i=typeof t;return(i=="number"?ff(r)&&oT(t,r.length):i=="string"&&t in r)?cf(r[t],e):!1}function lP(e){return nP(function(t,r){var i=-1,n=r.length,l=n>1?r[n-1]:void 0,o=n>2?r[2]:void 0;for(l=e.length>3&&typeof l=="function"?(n--,l):void 0,o&&sP(r[0],r[1],o)&&(l=n<3?void 0:l,n=1),t=Object(t);++i<n;){var u=r[i];u&&e(t,u,i,l)}return t})}var oP=lP(function(e,t,r){uT(e,t,r)}),cP="",uP={curveBasis:Qh,curveBasisClosed:d6,curveBasisOpen:f6,curveBumpX:K2,curveBumpY:Q2,curveBundle:p6,curveCardinalClosed:g6,curveCardinalOpen:m6,curveCardinal:ek,curveCatmullRomClosed:y6,curveCatmullRomOpen:b6,curveCatmullRom:ik,curveLinear:vd,curveLinearClosed:x6,curveMonotoneX:ck,curveMonotoneY:uk,curveNatural:dk,curveStep:fk,curveStepAfter:gk,curveStepBefore:pk},hP=/\s*(?:(\w+)(?=:):|(\w+))\s*(?:(\w+)|((?:(?!}%{2}).|\r?\n)*))?\s*(?:}%{2})?/gi,dP=w(function(e,t){const r=dT(e,/(?:init\b)|(?:initialize\b)/);let i={};if(Array.isArray(r)){const o=r.map(u=>u.args);cd(o),i=qe(i,[...o])}else i=r.args;if(!i)return;let n=Qy(e,t);const l="config";return i[l]!==void 0&&(n==="flowchart-v2"&&(n="flowchart"),i[n]=i[l],delete i[l]),i},"detectInit"),dT=w(function(e,t=null){try{const r=new RegExp(`[%]{2}(?![{]${hP.source})(?=[}][%]{2}).*
`,"ig");e=e.trim().replace(r,"").replace(/'/gm,'"'),lt.debug(`Detecting diagram directive${t!==null?" type:"+t:""} based on the text:${e}`);let i;const n=[];for(;(i=wc.exec(e))!==null;)if(i.index===wc.lastIndex&&wc.lastIndex++,i&&!t||t&&i[1]?.match(t)||t&&i[2]?.match(t)){const l=i[1]?i[1]:i[2],o=i[3]?i[3].trim():i[4]?JSON.parse(i[4].trim()):null;n.push({type:l,args:o})}return n.length===0?{type:e,args:null}:n.length===1?n[0]:n}catch(r){return lt.error(`ERROR: ${r.message} - Unable to parse directive type: '${t}' based on the text: '${e}'`),{type:void 0,args:null}}},"detectDirective"),fP=w(function(e){return e.replace(wc,"")},"removeDirectives"),pP=w(function(e,t){for(const[r,i]of t.entries())if(i.match(e))return r;return-1},"isSubstringInArray");function A0(e,t){if(!e)return t;const r=`curve${e.charAt(0).toUpperCase()+e.slice(1)}`;return uP[r]??t}w(A0,"interpolateToCurve");function fT(e,t){const r=e.trim();if(r)return t.securityLevel!=="loose"?N8.sanitizeUrl(r):r}w(fT,"formatUrl");var gP=w((e,...t)=>{const r=e.split("."),i=r.length-1,n=r[i];let l=window;for(let o=0;o<i;o++)if(l=l[r[o]],!l){lt.error(`Function name: ${e} not found in window`);return}l[n](...t)},"runFunc");function O0(e,t){return!e||!t?0:Math.sqrt(Math.pow(t.x-e.x,2)+Math.pow(t.y-e.y,2))}w(O0,"distance");function pT(e){let t,r=0;e.forEach(n=>{r+=O0(n,t),t=n});const i=r/2;return R0(e,i)}w(pT,"traverseEdge");function gT(e){return e.length===1?e[0]:pT(e)}w(gT,"calcLabelPosition");var R1=w((e,t=2)=>{const r=Math.pow(10,t);return Math.round(e*r)/r},"roundNumber"),R0=w((e,t)=>{let r,i=t;for(const n of e){if(r){const l=O0(n,r);if(l===0)return r;if(l<i)i-=l;else{const o=i/l;if(o<=0)return r;if(o>=1)return{x:n.x,y:n.y};if(o>0&&o<1)return{x:R1((1-o)*r.x+o*n.x,5),y:R1((1-o)*r.y+o*n.y,5)}}}r=n}throw new Error("Could not find a suitable point for the given distance")},"calculatePoint"),mP=w((e,t,r)=>{lt.info(`our points ${JSON.stringify(t)}`),t[0]!==r&&(t=t.reverse());const n=R0(t,25),l=e?10:5,o=Math.atan2(t[0].y-n.y,t[0].x-n.x),u={x:0,y:0};return u.x=Math.sin(o)*l+(t[0].x+n.x)/2,u.y=-Math.cos(o)*l+(t[0].y+n.y)/2,u},"calcCardinalityPosition");function mT(e,t,r){const i=structuredClone(r);lt.info("our points",i),t!=="start_left"&&t!=="start_right"&&i.reverse();const n=25+e,l=R0(i,n),o=10+e*.5,u=Math.atan2(i[0].y-l.y,i[0].x-l.x),h={x:0,y:0};return t==="start_left"?(h.x=Math.sin(u+Math.PI)*o+(i[0].x+l.x)/2,h.y=-Math.cos(u+Math.PI)*o+(i[0].y+l.y)/2):t==="end_right"?(h.x=Math.sin(u-Math.PI)*o+(i[0].x+l.x)/2-5,h.y=-Math.cos(u-Math.PI)*o+(i[0].y+l.y)/2-5):t==="end_left"?(h.x=Math.sin(u)*o+(i[0].x+l.x)/2-5,h.y=-Math.cos(u)*o+(i[0].y+l.y)/2-5):(h.x=Math.sin(u)*o+(i[0].x+l.x)/2,h.y=-Math.cos(u)*o+(i[0].y+l.y)/2),h}w(mT,"calcTerminalLabelPosition");function yT(e){let t="",r="";for(const i of e)i!==void 0&&(i.startsWith("color:")||i.startsWith("text-align:")?r=r+i+";":t=t+i+";");return{style:t,labelStyle:r}}w(yT,"getStylesFromArray");var L1=0,yP=w(()=>(L1++,"id-"+Math.random().toString(36).substr(2,12)+"-"+L1),"generateId");function bT(e){let t="";const r="0123456789abcdef",i=r.length;for(let n=0;n<e;n++)t+=r.charAt(Math.floor(Math.random()*i));return t}w(bT,"makeRandomHex");var bP=w(e=>bT(e.length),"random"),xP=w(function(){return{x:0,y:0,fill:void 0,anchor:"start",style:"#666",width:100,height:100,textMargin:0,rx:0,ry:0,valign:void 0,text:""}},"getTextObj"),vP=w(function(e,t){const r=t.text.replace(Fl.lineBreakRegex," "),[,i]=pf(t.fontSize),n=e.append("text");n.attr("x",t.x),n.attr("y",t.y),n.style("text-anchor",t.anchor),n.style("font-family",t.fontFamily),n.style("font-size",i),n.style("font-weight",t.fontWeight),n.attr("fill",t.fill),t.class!==void 0&&n.attr("class",t.class);const l=n.append("tspan");return l.attr("x",t.x+t.textMargin*2),l.attr("fill",t.fill),l.text(r),n},"drawSimpleText"),_P=tu((e,t,r)=>{if(!e||(r=Object.assign({fontSize:12,fontWeight:400,fontFamily:"Arial",joinWith:"<br/>"},r),Fl.lineBreakRegex.test(e)))return e;const i=e.split(" ").filter(Boolean),n=[];let l="";return i.forEach((o,u)=>{const h=Ea(`${o} `,r),d=Ea(l,r);if(h>t){const{hyphenatedStrings:y,remainingWord:x}=wP(o,t,"-",r);n.push(l,...y),l=x}else d+h>=t?(n.push(l),l=o):l=[l,o].filter(Boolean).join(" ");u+1===i.length&&n.push(l)}),n.filter(o=>o!=="").join(r.joinWith)},(e,t,r)=>`${e}${t}${r.fontSize}${r.fontWeight}${r.fontFamily}${r.joinWith}`),wP=tu((e,t,r="-",i)=>{i=Object.assign({fontSize:12,fontWeight:400,fontFamily:"Arial",margin:0},i);const n=[...e],l=[];let o="";return n.forEach((u,h)=>{const d=`${o}${u}`;if(Ea(d,i)>=t){const g=h+1,y=n.length===g,x=`${d}${r}`;l.push(y?d:x),o=""}else o=d}),{hyphenatedStrings:l,remainingWord:o}},(e,t,r="-",i)=>`${e}${t}${r}${i.fontSize}${i.fontWeight}${i.fontFamily}`);function xT(e,t){return L0(e,t).height}w(xT,"calculateTextHeight");function Ea(e,t){return L0(e,t).width}w(Ea,"calculateTextWidth");var L0=tu((e,t)=>{const{fontSize:r=12,fontFamily:i="Arial",fontWeight:n=400}=t;if(!e)return{width:0,height:0};const[,l]=pf(r),o=["sans-serif",i],u=e.split(Fl.lineBreakRegex),h=[],d=Xt("body");if(!d.remove)return{width:0,height:0,lineHeight:0};const p=d.append("svg");for(const y of o){let x=0;const v={width:0,height:0,lineHeight:0};for(const _ of u){const S=xP();S.text=_||cP;const T=vP(p,S).style("font-size",l).style("font-weight",n).style("font-family",y),E=(T._groups||T)[0][0].getBBox();if(E.width===0&&E.height===0)throw new Error("svg element not in render tree");v.width=Math.round(Math.max(v.width,E.width)),x=Math.round(E.height),v.height+=x,v.lineHeight=Math.round(Math.max(v.lineHeight,x))}h.push(v)}p.remove();const g=isNaN(h[1].height)||isNaN(h[1].width)||isNaN(h[1].lineHeight)||h[0].height>h[1].height&&h[0].width>h[1].width&&h[0].lineHeight>h[1].lineHeight?0:1;return h[g]},(e,t)=>`${e}${t.fontSize}${t.fontWeight}${t.fontFamily}`),Cl,SP=(Cl=class{constructor(t=!1,r){this.count=0,this.count=r?r.length:0,this.next=t?()=>this.count++:()=>Date.now()}},w(Cl,"InitIDGenerator"),Cl),Nh,kP=w(function(e){return Nh=Nh||document.createElement("div"),e=escape(e).replace(/%26/g,"&").replace(/%23/g,"#").replace(/%3B/g,";"),Nh.innerHTML=e,unescape(Nh.textContent)},"entityDecode");function M0(e){return"str"in e}w(M0,"isDetailedError");var CP=w((e,t,r,i)=>{if(!i)return;const n=e.node()?.getBBox();n&&e.append("text").text(i).attr("text-anchor","middle").attr("x",n.x+n.width/2).attr("y",-r).attr("class",t)},"insertTitle"),pf=w(e=>{if(typeof e=="number")return[e,e+"px"];const t=parseInt(e??"",10);return Number.isNaN(t)?[void 0,void 0]:e===String(t)?[t,e+"px"]:[t,e]},"parseFontSize");function B0(e,t){return oP({},e,t)}w(B0,"cleanAndMerge");var Ti={assignWithDepth:qe,wrapLabel:_P,calculateTextHeight:xT,calculateTextWidth:Ea,calculateTextDimensions:L0,cleanAndMerge:B0,detectInit:dP,detectDirective:dT,isSubstringInArray:pP,interpolateToCurve:A0,calcLabelPosition:gT,calcCardinalityPosition:mP,calcTerminalLabelPosition:mT,formatUrl:fT,getStylesFromArray:yT,generateId:yP,random:bP,runFunc:gP,entityDecode:kP,insertTitle:CP,isLabelCoordinateInPath:vT,parseFontSize:pf,InitIDGenerator:SP},TP=w(function(e){let t=e;return t=t.replace(/style.*:\S*#.*;/g,function(r){return r.substring(0,r.length-1)}),t=t.replace(/classDef.*:\S*#.*;/g,function(r){return r.substring(0,r.length-1)}),t=t.replace(/#\w+;/g,function(r){const i=r.substring(1,r.length-1);return/^\+?\d+$/.test(i)?""+i+"":""+i+""}),t},"encodeEntities"),ps=w(function(e){return e.replace(//g,"&#").replace(//g,"&").replace(//g,";")},"decodeEntities"),$7=w((e,t,{counter:r=0,prefix:i,suffix:n},l)=>l||`${i?`${i}_`:""}${e}_${t}_${r}${n?`_${n}`:""}`,"getEdgeId");function hr(e){return e??null}w(hr,"handleUndefinedAttr");function vT(e,t){const r=Math.round(e.x),i=Math.round(e.y),n=t.replace(/(\d+\.\d+)/g,l=>Math.round(parseFloat(l)).toString());return n.includes(r.toString())||n.includes(i.toString())}w(vT,"isLabelCoordinateInPath");const EP=Object.freeze({left:0,top:0,width:16,height:16}),Nd=Object.freeze({rotate:0,vFlip:!1,hFlip:!1}),_T=Object.freeze({...EP,...Nd}),AP=Object.freeze({..._T,body:"",hidden:!1}),OP=Object.freeze({width:null,height:null}),RP=Object.freeze({...OP,...Nd}),LP=(e,t,r,i="")=>{const n=e.split(":");if(e.slice(0,1)==="@"){if(n.length<2||n.length>3)return null;i=n.shift().slice(1)}if(n.length>3||!n.length)return null;if(n.length>1){const u=n.pop(),h=n.pop(),d={provider:n.length>0?n[0]:i,prefix:h,name:u};return fm(d)?d:null}const l=n[0],o=l.split("-");if(o.length>1){const u={provider:i,prefix:o.shift(),name:o.join("-")};return fm(u)?u:null}if(r&&i===""){const u={provider:i,prefix:"",name:l};return fm(u,r)?u:null}return null},fm=(e,t)=>e?!!((t&&e.prefix===""||e.prefix)&&e.name):!1;function MP(e,t){const r={};!e.hFlip!=!t.hFlip&&(r.hFlip=!0),!e.vFlip!=!t.vFlip&&(r.vFlip=!0);const i=((e.rotate||0)+(t.rotate||0))%4;return i&&(r.rotate=i),r}function M1(e,t){const r=MP(e,t);for(const i in AP)i in Nd?i in e&&!(i in r)&&(r[i]=Nd[i]):i in t?r[i]=t[i]:i in e&&(r[i]=e[i]);return r}function BP(e,t){const r=e.icons,i=e.aliases||Object.create(null),n=Object.create(null);function l(o){if(r[o])return n[o]=[];if(!(o in n)){n[o]=null;const u=i[o]&&i[o].parent,h=u&&l(u);h&&(n[o]=[u].concat(h))}return n[o]}return(t||Object.keys(r).concat(Object.keys(i))).forEach(l),n}function B1(e,t,r){const i=e.icons,n=e.aliases||Object.create(null);let l={};function o(u){l=M1(i[u]||n[u],l)}return o(t),r.forEach(o),M1(e,l)}function NP(e,t){if(e.icons[t])return B1(e,t,[]);const r=BP(e,[t])[t];return r?B1(e,t,r):null}const DP=/(-?[0-9.]*[0-9]+[0-9.]*)/g,jP=/^-?[0-9.]*[0-9]+[0-9.]*$/g;function N1(e,t,r){if(t===1)return e;if(r=r||100,typeof e=="number")return Math.ceil(e*t*r)/r;if(typeof e!="string")return e;const i=e.split(DP);if(i===null||!i.length)return e;const n=[];let l=i.shift(),o=jP.test(l);for(;;){if(o){const u=parseFloat(l);isNaN(u)?n.push(l):n.push(Math.ceil(u*t*r)/r)}else n.push(l);if(l=i.shift(),l===void 0)return n.join("");o=!o}}function $P(e,t="defs"){let r="";const i=e.indexOf("<"+t);for(;i>=0;){const n=e.indexOf(">",i),l=e.indexOf("</"+t);if(n===-1||l===-1)break;const o=e.indexOf(">",l);if(o===-1)break;r+=e.slice(n+1,l).trim(),e=e.slice(0,i).trim()+e.slice(o+1)}return{defs:r,content:e}}function zP(e,t){return e?"<defs>"+e+"</defs>"+t:t}function FP(e,t,r){const i=$P(e);return zP(i.defs,t+i.content+r)}const PP=e=>e==="unset"||e==="undefined"||e==="none";function UP(e,t){const r={..._T,...e},i={...RP,...t},n={left:r.left,top:r.top,width:r.width,height:r.height};let l=r.body;[r,i].forEach(_=>{const S=[],T=_.hFlip,E=_.vFlip;let O=_.rotate;T?E?O+=2:(S.push("translate("+(n.width+n.left).toString()+" "+(0-n.top).toString()+")"),S.push("scale(-1 1)"),n.top=n.left=0):E&&(S.push("translate("+(0-n.left).toString()+" "+(n.height+n.top).toString()+")"),S.push("scale(1 -1)"),n.top=n.left=0);let L;switch(O<0&&(O-=Math.floor(O/4)*4),O=O%4,O){case 1:L=n.height/2+n.top,S.unshift("rotate(90 "+L.toString()+" "+L.toString()+")");break;case 2:S.unshift("rotate(180 "+(n.width/2+n.left).toString()+" "+(n.height/2+n.top).toString()+")");break;case 3:L=n.width/2+n.left,S.unshift("rotate(-90 "+L.toString()+" "+L.toString()+")");break}O%2===1&&(n.left!==n.top&&(L=n.left,n.left=n.top,n.top=L),n.width!==n.height&&(L=n.width,n.width=n.height,n.height=L)),S.length&&(l=FP(l,'<g transform="'+S.join(" ")+'">',"</g>"))});const o=i.width,u=i.height,h=n.width,d=n.height;let p,g;o===null?(g=u===null?"1em":u==="auto"?d:u,p=N1(g,h/d)):(p=o==="auto"?h:o,g=u===null?N1(p,d/h):u==="auto"?d:u);const y={},x=(_,S)=>{PP(S)||(y[_]=S.toString())};x("width",p),x("height",g);const v=[n.left,n.top,h,d];return y.viewBox=v.join(" "),{attributes:y,viewBox:v,body:l}}const IP=/\sid="(\S+)"/g,D1=new Map;function qP(e){e=e.replace(/[0-9]+$/,"")||"a";const t=D1.get(e)||0;return D1.set(e,t+1),t?`${e}${t}`:e}function HP(e){const t=[];let r;for(;r=IP.exec(e);)t.push(r[1]);if(!t.length)return e;const i="suffix"+(Math.random()*16777216|Date.now()).toString(16);return t.forEach(n=>{const l=qP(n),o=n.replace(/[.*+?^${}()|[\]\\]/g,"\\$&");e=e.replace(new RegExp('([#;"])('+o+')([")]|\\.[a-z])',"g"),"$1"+l+i+"$3")}),e=e.replace(new RegExp(i,"g"),""),e}function WP(e,t){let r=e.indexOf("xlink:")===-1?"":' xmlns:xlink="http://www.w3.org/1999/xlink"';for(const i in t)r+=" "+i+'="'+t[i]+'"';return'<svg xmlns="http://www.w3.org/2000/svg"'+r+">"+e+"</svg>"}function N0(){return{async:!1,breaks:!1,extensions:null,gfm:!0,hooks:null,pedantic:!1,renderer:null,silent:!1,tokenizer:null,walkTokens:null}}var gs=N0();function wT(e){gs=e}var Cc={exec:()=>null};function Jt(e,t=""){let r=typeof e=="string"?e:e.source,i={replace:(n,l)=>{let o=typeof l=="string"?l:l.source;return o=o.replace(yr.caret,"$1"),r=r.replace(n,o),i},getRegex:()=>new RegExp(r,t)};return i}var GP=(()=>{try{return!!new RegExp("(?<=1)(?<!1)")}catch{return!1}})(),yr={codeRemoveIndent:/^(?: {1,4}| {0,3}\t)/gm,outputLinkReplace:/\\([\[\]])/g,indentCodeCompensation:/^(\s+)(?:```)/,beginningSpace:/^\s+/,endingHash:/#$/,startingSpaceChar:/^ /,endingSpaceChar:/ $/,nonSpaceChar:/[^ ]/,newLineCharGlobal:/\n/g,tabCharGlobal:/\t/g,multipleSpaceGlobal:/\s+/g,blankLine:/^[ \t]*$/,doubleBlankLine:/\n[ \t]*\n[ \t]*$/,blockquoteStart:/^ {0,3}>/,blockquoteSetextReplace:/\n {0,3}((?:=+|-+) *)(?=\n|$)/g,blockquoteSetextReplace2:/^ {0,3}>[ \t]?/gm,listReplaceTabs:/^\t+/,listReplaceNesting:/^ {1,4}(?=( {4})*[^ ])/g,listIsTask:/^\[[ xX]\] /,listReplaceTask:/^\[[ xX]\] +/,anyLine:/\n.*\n/,hrefBrackets:/^<(.*)>$/,tableDelimiter:/[:|]/,tableAlignChars:/^\||\| *$/g,tableRowBlankLine:/\n[ \t]*$/,tableAlignRight:/^ *-+: *$/,tableAlignCenter:/^ *:-+: *$/,tableAlignLeft:/^ *:-+ *$/,startATag:/^<a /i,endATag:/^<\/a>/i,startPreScriptTag:/^<(pre|code|kbd|script)(\s|>)/i,endPreScriptTag:/^<\/(pre|code|kbd|script)(\s|>)/i,startAngleBracket:/^</,endAngleBracket:/>$/,pedanticHrefTitle:/^([^'"]*[^\s])\s+(['"])(.*)\2/,unicodeAlphaNumeric:/[\p{L}\p{N}]/u,escapeTest:/[&<>"']/,escapeReplace:/[&<>"']/g,escapeTestNoEncode:/[<>"']|&(?!(#\d{1,7}|#[Xx][a-fA-F0-9]{1,6}|\w+);)/,escapeReplaceNoEncode:/[<>"']|&(?!(#\d{1,7}|#[Xx][a-fA-F0-9]{1,6}|\w+);)/g,unescapeTest:/&(#(?:\d+)|(?:#x[0-9A-Fa-f]+)|(?:\w+));?/ig,caret:/(^|[^\[])\^/g,percentDecode:/%25/g,findPipe:/\|/g,splitPipe:/ \|/,slashPipe:/\\\|/g,carriageReturn:/\r\n|\r/g,spaceLine:/^ +$/gm,notSpaceStart:/^\S*/,endingNewline:/\n$/,listItemRegex:e=>new RegExp(`^( {0,3}${e})((?:[	 ][^\\n]*)?(?:\\n|$))`),nextBulletRegex:e=>new RegExp(`^ {0,${Math.min(3,e-1)}}(?:[*+-]|\\d{1,9}[.)])((?:[ 	][^\\n]*)?(?:\\n|$))`),hrRegex:e=>new RegExp(`^ {0,${Math.min(3,e-1)}}((?:- *){3,}|(?:_ *){3,}|(?:\\* *){3,})(?:\\n+|$)`),fencesBeginRegex:e=>new RegExp(`^ {0,${Math.min(3,e-1)}}(?:\`\`\`|~~~)`),headingBeginRegex:e=>new RegExp(`^ {0,${Math.min(3,e-1)}}#`),htmlBeginRegex:e=>new RegExp(`^ {0,${Math.min(3,e-1)}}<(?:[a-z].*>|!--)`,"i")},YP=/^(?:[ \t]*(?:\n|$))+/,VP=/^((?: {4}| {0,3}\t)[^\n]+(?:\n(?:[ \t]*(?:\n|$))*)?)+/,XP=/^ {0,3}(`{3,}(?=[^`\n]*(?:\n|$))|~{3,})([^\n]*)(?:\n|$)(?:|([\s\S]*?)(?:\n|$))(?: {0,3}\1[~`]* *(?=\n|$)|$)/,ru=/^ {0,3}((?:-[\t ]*){3,}|(?:_[ \t]*){3,}|(?:\*[ \t]*){3,})(?:\n+|$)/,KP=/^ {0,3}(#{1,6})(?=\s|$)(.*)(?:\n+|$)/,D0=/(?:[*+-]|\d{1,9}[.)])/,ST=/^(?!bull |blockCode|fences|blockquote|heading|html|table)((?:.|\n(?!\s*?\n|bull |blockCode|fences|blockquote|heading|html|table))+?)\n {0,3}(=+|-+) *(?:\n+|$)/,kT=Jt(ST).replace(/bull/g,D0).replace(/blockCode/g,/(?: {4}| {0,3}\t)/).replace(/fences/g,/ {0,3}(?:`{3,}|~{3,})/).replace(/blockquote/g,/ {0,3}>/).replace(/heading/g,/ {0,3}#{1,6}/).replace(/html/g,/ {0,3}<[^\n>]+>\n/).replace(/\|table/g,"").getRegex(),QP=Jt(ST).replace(/bull/g,D0).replace(/blockCode/g,/(?: {4}| {0,3}\t)/).replace(/fences/g,/ {0,3}(?:`{3,}|~{3,})/).replace(/blockquote/g,/ {0,3}>/).replace(/heading/g,/ {0,3}#{1,6}/).replace(/html/g,/ {0,3}<[^\n>]+>\n/).replace(/table/g,/ {0,3}\|?(?:[:\- ]*\|)+[\:\- ]*\n/).getRegex(),j0=/^([^\n]+(?:\n(?!hr|heading|lheading|blockquote|fences|list|html|table| +\n)[^\n]+)*)/,ZP=/^[^\n]+/,$0=/(?!\s*\])(?:\\[\s\S]|[^\[\]\\])+/,JP=Jt(/^ {0,3}\[(label)\]: *(?:\n[ \t]*)?([^<\s][^\s]*|<.*?>)(?:(?: +(?:\n[ \t]*)?| *\n[ \t]*)(title))? *(?:\n+|$)/).replace("label",$0).replace("title",/(?:"(?:\\"?|[^"\\])*"|'[^'\n]*(?:\n[^'\n]+)*\n?'|\([^()]*\))/).getRegex(),tU=Jt(/^( {0,3}bull)([ \t][^\n]+?)?(?:\n|$)/).replace(/bull/g,D0).getRegex(),gf="address|article|aside|base|basefont|blockquote|body|caption|center|col|colgroup|dd|details|dialog|dir|div|dl|dt|fieldset|figcaption|figure|footer|form|frame|frameset|h[1-6]|head|header|hr|html|iframe|legend|li|link|main|menu|menuitem|meta|nav|noframes|ol|optgroup|option|p|param|search|section|summary|table|tbody|td|tfoot|th|thead|title|tr|track|ul",z0=/<!--(?:-?>|[\s\S]*?(?:-->|$))/,eU=Jt("^ {0,3}(?:<(script|pre|style|textarea)[\\s>][\\s\\S]*?(?:</\\1>[^\\n]*\\n+|$)|comment[^\\n]*(\\n+|$)|<\\?[\\s\\S]*?(?:\\?>\\n*|$)|<![A-Z][\\s\\S]*?(?:>\\n*|$)|<!\\[CDATA\\[[\\s\\S]*?(?:\\]\\]>\\n*|$)|</?(tag)(?: +|\\n|/?>)[\\s\\S]*?(?:(?:\\n[ 	]*)+\\n|$)|<(?!script|pre|style|textarea)([a-z][\\w-]*)(?:attribute)*? */?>(?=[ \\t]*(?:\\n|$))[\\s\\S]*?(?:(?:\\n[ 	]*)+\\n|$)|</(?!script|pre|style|textarea)[a-z][\\w-]*\\s*>(?=[ \\t]*(?:\\n|$))[\\s\\S]*?(?:(?:\\n[ 	]*)+\\n|$))","i").replace("comment",z0).replace("tag",gf).replace("attribute",/ +[a-zA-Z:_][\w.:-]*(?: *= *"[^"\n]*"| *= *'[^'\n]*'| *= *[^\s"'=<>`]+)?/).getRegex(),CT=Jt(j0).replace("hr",ru).replace("heading"," {0,3}#{1,6}(?:\\s|$)").replace("|lheading","").replace("|table","").replace("blockquote"," {0,3}>").replace("fences"," {0,3}(?:`{3,}(?=[^`\\n]*\\n)|~{3,})[^\\n]*\\n").replace("list"," {0,3}(?:[*+-]|1[.)]) ").replace("html","</?(?:tag)(?: +|\\n|/?>)|<(?:script|pre|style|textarea|!--)").replace("tag",gf).getRegex(),rU=Jt(/^( {0,3}> ?(paragraph|[^\n]*)(?:\n|$))+/).replace("paragraph",CT).getRegex(),F0={blockquote:rU,code:VP,def:JP,fences:XP,heading:KP,hr:ru,html:eU,lheading:kT,list:tU,newline:YP,paragraph:CT,table:Cc,text:ZP},j1=Jt("^ *([^\\n ].*)\\n {0,3}((?:\\| *)?:?-+:? *(?:\\| *:?-+:? *)*(?:\\| *)?)(?:\\n((?:(?! *\\n|hr|heading|blockquote|code|fences|list|html).*(?:\\n|$))*)\\n*|$)").replace("hr",ru).replace("heading"," {0,3}#{1,6}(?:\\s|$)").replace("blockquote"," {0,3}>").replace("code","(?: {4}| {0,3}	)[^\\n]").replace("fences"," {0,3}(?:`{3,}(?=[^`\\n]*\\n)|~{3,})[^\\n]*\\n").replace("list"," {0,3}(?:[*+-]|1[.)]) ").replace("html","</?(?:tag)(?: +|\\n|/?>)|<(?:script|pre|style|textarea|!--)").replace("tag",gf).getRegex(),iU={...F0,lheading:QP,table:j1,paragraph:Jt(j0).replace("hr",ru).replace("heading"," {0,3}#{1,6}(?:\\s|$)").replace("|lheading","").replace("table",j1).replace("blockquote"," {0,3}>").replace("fences"," {0,3}(?:`{3,}(?=[^`\\n]*\\n)|~{3,})[^\\n]*\\n").replace("list"," {0,3}(?:[*+-]|1[.)]) ").replace("html","</?(?:tag)(?: +|\\n|/?>)|<(?:script|pre|style|textarea|!--)").replace("tag",gf).getRegex()},aU={...F0,html:Jt(`^ *(?:comment *(?:\\n|\\s*$)|<(tag)[\\s\\S]+?</\\1> *(?:\\n{2,}|\\s*$)|<tag(?:"[^"]*"|'[^']*'|\\s[^'"/>\\s]*)*?/?> *(?:\\n{2,}|\\s*$))`).replace("comment",z0).replace(/tag/g,"(?!(?:a|em|strong|small|s|cite|q|dfn|abbr|data|time|code|var|samp|kbd|sub|sup|i|b|u|mark|ruby|rt|rp|bdi|bdo|span|br|wbr|ins|del|img)\\b)\\w+(?!:|[^\\w\\s@]*@)\\b").getRegex(),def:/^ *\[([^\]]+)\]: *<?([^\s>]+)>?(?: +(["(][^\n]+[")]))? *(?:\n+|$)/,heading:/^(#{1,6})(.*)(?:\n+|$)/,fences:Cc,lheading:/^(.+?)\n {0,3}(=+|-+) *(?:\n+|$)/,paragraph:Jt(j0).replace("hr",ru).replace("heading",` *#{1,6} *[^
]`).replace("lheading",kT).replace("|table","").replace("blockquote"," {0,3}>").replace("|fences","").replace("|list","").replace("|html","").replace("|tag","").getRegex()},nU=/^\\([!"#$%&'()*+,\-./:;<=>?@\[\]\\^_`{|}~])/,sU=/^(`+)([^`]|[^`][\s\S]*?[^`])\1(?!`)/,TT=/^( {2,}|\\)\n(?!\s*$)/,lU=/^(`+|[^`])(?:(?= {2,}\n)|[\s\S]*?(?:(?=[\\<!\[`*_]|\b_|$)|[^ ](?= {2,}\n)))/,mf=/[\p{P}\p{S}]/u,P0=/[\s\p{P}\p{S}]/u,ET=/[^\s\p{P}\p{S}]/u,oU=Jt(/^((?![*_])punctSpace)/,"u").replace(/punctSpace/g,P0).getRegex(),AT=/(?!~)[\p{P}\p{S}]/u,cU=/(?!~)[\s\p{P}\p{S}]/u,uU=/(?:[^\s\p{P}\p{S}]|~)/u,hU=Jt(/link|precode-code|html/,"g").replace("link",/\[(?:[^\[\]`]|(?<a>`+)[^`]+\k<a>(?!`))*?\]\((?:\\[\s\S]|[^\\\(\)]|\((?:\\[\s\S]|[^\\\(\)])*\))*\)/).replace("precode-",GP?"(?<!`)()":"(^^|[^`])").replace("code",/(?<b>`+)[^`]+\k<b>(?!`)/).replace("html",/<(?! )[^<>]*?>/).getRegex(),OT=/^(?:\*+(?:((?!\*)punct)|[^\s*]))|^_+(?:((?!_)punct)|([^\s_]))/,dU=Jt(OT,"u").replace(/punct/g,mf).getRegex(),fU=Jt(OT,"u").replace(/punct/g,AT).getRegex(),RT="^[^_*]*?__[^_*]*?\\*[^_*]*?(?=__)|[^*]+(?=[^*])|(?!\\*)punct(\\*+)(?=[\\s]|$)|notPunctSpace(\\*+)(?!\\*)(?=punctSpace|$)|(?!\\*)punctSpace(\\*+)(?=notPunctSpace)|[\\s](\\*+)(?!\\*)(?=punct)|(?!\\*)punct(\\*+)(?!\\*)(?=punct)|notPunctSpace(\\*+)(?=notPunctSpace)",pU=Jt(RT,"gu").replace(/notPunctSpace/g,ET).replace(/punctSpace/g,P0).replace(/punct/g,mf).getRegex(),gU=Jt(RT,"gu").replace(/notPunctSpace/g,uU).replace(/punctSpace/g,cU).replace(/punct/g,AT).getRegex(),mU=Jt("^[^_*]*?\\*\\*[^_*]*?_[^_*]*?(?=\\*\\*)|[^_]+(?=[^_])|(?!_)punct(_+)(?=[\\s]|$)|notPunctSpace(_+)(?!_)(?=punctSpace|$)|(?!_)punctSpace(_+)(?=notPunctSpace)|[\\s](_+)(?!_)(?=punct)|(?!_)punct(_+)(?!_)(?=punct)","gu").replace(/notPunctSpace/g,ET).replace(/punctSpace/g,P0).replace(/punct/g,mf).getRegex(),yU=Jt(/\\(punct)/,"gu").replace(/punct/g,mf).getRegex(),bU=Jt(/^<(scheme:[^\s\x00-\x1f<>]*|email)>/).replace("scheme",/[a-zA-Z][a-zA-Z0-9+.-]{1,31}/).replace("email",/[a-zA-Z0-9.!#$%&'*+/=?^_`{|}~-]+(@)[a-zA-Z0-9](?:[a-zA-Z0-9-]{0,61}[a-zA-Z0-9])?(?:\.[a-zA-Z0-9](?:[a-zA-Z0-9-]{0,61}[a-zA-Z0-9])?)+(?![-_])/).getRegex(),xU=Jt(z0).replace("(?:-->|$)","-->").getRegex(),vU=Jt("^comment|^</[a-zA-Z][\\w:-]*\\s*>|^<[a-zA-Z][\\w-]*(?:attribute)*?\\s*/?>|^<\\?[\\s\\S]*?\\?>|^<![a-zA-Z]+\\s[\\s\\S]*?>|^<!\\[CDATA\\[[\\s\\S]*?\\]\\]>").replace("comment",xU).replace("attribute",/\s+[a-zA-Z:_][\w.:-]*(?:\s*=\s*"[^"]*"|\s*=\s*'[^']*'|\s*=\s*[^\s"'=<>`]+)?/).getRegex(),Dd=/(?:\[(?:\\[\s\S]|[^\[\]\\])*\]|\\[\s\S]|`+[^`]*?`+(?!`)|[^\[\]\\`])*?/,_U=Jt(/^!?\[(label)\]\(\s*(href)(?:(?:[ \t]*(?:\n[ \t]*)?)(title))?\s*\)/).replace("label",Dd).replace("href",/<(?:\\.|[^\n<>\\])+>|[^ \t\n\x00-\x1f]*/).replace("title",/"(?:\\"?|[^"\\])*"|'(?:\\'?|[^'\\])*'|\((?:\\\)?|[^)\\])*\)/).getRegex(),LT=Jt(/^!?\[(label)\]\[(ref)\]/).replace("label",Dd).replace("ref",$0).getRegex(),MT=Jt(/^!?\[(ref)\](?:\[\])?/).replace("ref",$0).getRegex(),wU=Jt("reflink|nolink(?!\\()","g").replace("reflink",LT).replace("nolink",MT).getRegex(),$1=/[hH][tT][tT][pP][sS]?|[fF][tT][pP]/,U0={_backpedal:Cc,anyPunctuation:yU,autolink:bU,blockSkip:hU,br:TT,code:sU,del:Cc,emStrongLDelim:dU,emStrongRDelimAst:pU,emStrongRDelimUnd:mU,escape:nU,link:_U,nolink:MT,punctuation:oU,reflink:LT,reflinkSearch:wU,tag:vU,text:lU,url:Cc},SU={...U0,link:Jt(/^!?\[(label)\]\((.*?)\)/).replace("label",Dd).getRegex(),reflink:Jt(/^!?\[(label)\]\s*\[([^\]]*)\]/).replace("label",Dd).getRegex()},by={...U0,emStrongRDelimAst:gU,emStrongLDelim:fU,url:Jt(/^((?:protocol):\/\/|www\.)(?:[a-zA-Z0-9\-]+\.?)+[^\s<]*|^email/).replace("protocol",$1).replace("email",/[A-Za-z0-9._+-]+(@)[a-zA-Z0-9-_]+(?:\.[a-zA-Z0-9-_]*[a-zA-Z0-9])+(?![-_])/).getRegex(),_backpedal:/(?:[^?!.,:;*_'"~()&]+|\([^)]*\)|&(?![a-zA-Z0-9]+;$)|[?!.,:;*_'"~)]+(?!$))+/,del:/^(~~?)(?=[^\s~])((?:\\[\s\S]|[^\\])*?(?:\\[\s\S]|[^\s~\\]))\1(?=[^~]|$)/,text:Jt(/^([`~]+|[^`~])(?:(?= {2,}\n)|(?=[a-zA-Z0-9.!#$%&'*+\/=?_`{\|}~-]+@)|[\s\S]*?(?:(?=[\\<!\[`*~_]|\b_|protocol:\/\/|www\.|$)|[^ ](?= {2,}\n)|[^a-zA-Z0-9.!#$%&'*+\/=?_`{\|}~-](?=[a-zA-Z0-9.!#$%&'*+\/=?_`{\|}~-]+@)))/).replace("protocol",$1).getRegex()},kU={...by,br:Jt(TT).replace("{2,}","*").getRegex(),text:Jt(by.text).replace("\\b_","\\b_| {2,}\\n").replace(/\{2,\}/g,"*").getRegex()},Dh={normal:F0,gfm:iU,pedantic:aU},ic={normal:U0,gfm:by,breaks:kU,pedantic:SU},CU={"&":"&amp;","<":"&lt;",">":"&gt;",'"':"&quot;","'":"&#39;"},z1=e=>CU[e];function Fi(e,t){if(t){if(yr.escapeTest.test(e))return e.replace(yr.escapeReplace,z1)}else if(yr.escapeTestNoEncode.test(e))return e.replace(yr.escapeReplaceNoEncode,z1);return e}function F1(e){try{e=encodeURI(e).replace(yr.percentDecode,"%")}catch{return null}return e}function P1(e,t){let r=e.replace(yr.findPipe,(l,o,u)=>{let h=!1,d=o;for(;--d>=0&&u[d]==="\\";)h=!h;return h?"|":" |"}),i=r.split(yr.splitPipe),n=0;if(i[0].trim()||i.shift(),i.length>0&&!i.at(-1)?.trim()&&i.pop(),t)if(i.length>t)i.splice(t);else for(;i.length<t;)i.push("");for(;n<i.length;n++)i[n]=i[n].trim().replace(yr.slashPipe,"|");return i}function ac(e,t,r){let i=e.length;if(i===0)return"";let n=0;for(;n<i&&e.charAt(i-n-1)===t;)n++;return e.slice(0,i-n)}function TU(e,t){if(e.indexOf(t[1])===-1)return-1;let r=0;for(let i=0;i<e.length;i++)if(e[i]==="\\")i++;else if(e[i]===t[0])r++;else if(e[i]===t[1]&&(r--,r<0))return i;return r>0?-2:-1}function U1(e,t,r,i,n){let l=t.href,o=t.title||null,u=e[1].replace(n.other.outputLinkReplace,"$1");i.state.inLink=!0;let h={type:e[0].charAt(0)==="!"?"image":"link",raw:r,href:l,title:o,text:u,tokens:i.inlineTokens(u)};return i.state.inLink=!1,h}function EU(e,t,r){let i=e.match(r.other.indentCodeCompensation);if(i===null)return t;let n=i[1];return t.split(`
`).map(l=>{let o=l.match(r.other.beginningSpace);if(o===null)return l;let[u]=o;return u.length>=n.length?l.slice(n.length):l}).join(`
`)}var jd=class{options;rules;lexer;constructor(t){this.options=t||gs}space(t){let r=this.rules.block.newline.exec(t);if(r&&r[0].length>0)return{type:"space",raw:r[0]}}code(t){let r=this.rules.block.code.exec(t);if(r){let i=r[0].replace(this.rules.other.codeRemoveIndent,"");return{type:"code",raw:r[0],codeBlockStyle:"indented",text:this.options.pedantic?i:ac(i,`
`)}}}fences(t){let r=this.rules.block.fences.exec(t);if(r){let i=r[0],n=EU(i,r[3]||"",this.rules);return{type:"code",raw:i,lang:r[2]?r[2].trim().replace(this.rules.inline.anyPunctuation,"$1"):r[2],text:n}}}heading(t){let r=this.rules.block.heading.exec(t);if(r){let i=r[2].trim();if(this.rules.other.endingHash.test(i)){let n=ac(i,"#");(this.options.pedantic||!n||this.rules.other.endingSpaceChar.test(n))&&(i=n.trim())}return{type:"heading",raw:r[0],depth:r[1].length,text:i,tokens:this.lexer.inline(i)}}}hr(t){let r=this.rules.block.hr.exec(t);if(r)return{type:"hr",raw:ac(r[0],`
`)}}blockquote(t){let r=this.rules.block.blockquote.exec(t);if(r){let i=ac(r[0],`
`).split(`
`),n="",l="",o=[];for(;i.length>0;){let u=!1,h=[],d;for(d=0;d<i.length;d++)if(this.rules.other.blockquoteStart.test(i[d]))h.push(i[d]),u=!0;else if(!u)h.push(i[d]);else break;i=i.slice(d);let p=h.join(`
`),g=p.replace(this.rules.other.blockquoteSetextReplace,`
    $1`).replace(this.rules.other.blockquoteSetextReplace2,"");n=n?`${n}
${p}`:p,l=l?`${l}
${g}`:g;let y=this.lexer.state.top;if(this.lexer.state.top=!0,this.lexer.blockTokens(g,o,!0),this.lexer.state.top=y,i.length===0)break;let x=o.at(-1);if(x?.type==="code")break;if(x?.type==="blockquote"){let v=x,_=v.raw+`
`+i.join(`
`),S=this.blockquote(_);o[o.length-1]=S,n=n.substring(0,n.length-v.raw.length)+S.raw,l=l.substring(0,l.length-v.text.length)+S.text;break}else if(x?.type==="list"){let v=x,_=v.raw+`
`+i.join(`
`),S=this.list(_);o[o.length-1]=S,n=n.substring(0,n.length-x.raw.length)+S.raw,l=l.substring(0,l.length-v.raw.length)+S.raw,i=_.substring(o.at(-1).raw.length).split(`
`);continue}}return{type:"blockquote",raw:n,tokens:o,text:l}}}list(t){let r=this.rules.block.list.exec(t);if(r){let i=r[1].trim(),n=i.length>1,l={type:"list",raw:"",ordered:n,start:n?+i.slice(0,-1):"",loose:!1,items:[]};i=n?`\\d{1,9}\\${i.slice(-1)}`:`\\${i}`,this.options.pedantic&&(i=n?i:"[*+-]");let o=this.rules.other.listItemRegex(i),u=!1;for(;t;){let d=!1,p="",g="";if(!(r=o.exec(t))||this.rules.block.hr.test(t))break;p=r[0],t=t.substring(p.length);let y=r[2].split(`
`,1)[0].replace(this.rules.other.listReplaceTabs,E=>" ".repeat(3*E.length)),x=t.split(`
`,1)[0],v=!y.trim(),_=0;if(this.options.pedantic?(_=2,g=y.trimStart()):v?_=r[1].length+1:(_=r[2].search(this.rules.other.nonSpaceChar),_=_>4?1:_,g=y.slice(_),_+=r[1].length),v&&this.rules.other.blankLine.test(x)&&(p+=x+`
`,t=t.substring(x.length+1),d=!0),!d){let E=this.rules.other.nextBulletRegex(_),O=this.rules.other.hrRegex(_),L=this.rules.other.fencesBeginRegex(_),B=this.rules.other.headingBeginRegex(_),I=this.rules.other.htmlBeginRegex(_);for(;t;){let j=t.split(`
`,1)[0],Z;if(x=j,this.options.pedantic?(x=x.replace(this.rules.other.listReplaceNesting,"  "),Z=x):Z=x.replace(this.rules.other.tabCharGlobal,"    "),L.test(x)||B.test(x)||I.test(x)||E.test(x)||O.test(x))break;if(Z.search(this.rules.other.nonSpaceChar)>=_||!x.trim())g+=`
`+Z.slice(_);else{if(v||y.replace(this.rules.other.tabCharGlobal,"    ").search(this.rules.other.nonSpaceChar)>=4||L.test(y)||B.test(y)||O.test(y))break;g+=`
`+x}!v&&!x.trim()&&(v=!0),p+=j+`
`,t=t.substring(j.length+1),y=Z.slice(_)}}l.loose||(u?l.loose=!0:this.rules.other.doubleBlankLine.test(p)&&(u=!0));let S=null,T;this.options.gfm&&(S=this.rules.other.listIsTask.exec(g),S&&(T=S[0]!=="[ ] ",g=g.replace(this.rules.other.listReplaceTask,""))),l.items.push({type:"list_item",raw:p,task:!!S,checked:T,loose:!1,text:g,tokens:[]}),l.raw+=p}let h=l.items.at(-1);if(h)h.raw=h.raw.trimEnd(),h.text=h.text.trimEnd();else return;l.raw=l.raw.trimEnd();for(let d=0;d<l.items.length;d++)if(this.lexer.state.top=!1,l.items[d].tokens=this.lexer.blockTokens(l.items[d].text,[]),!l.loose){let p=l.items[d].tokens.filter(y=>y.type==="space"),g=p.length>0&&p.some(y=>this.rules.other.anyLine.test(y.raw));l.loose=g}if(l.loose)for(let d=0;d<l.items.length;d++)l.items[d].loose=!0;return l}}html(t){let r=this.rules.block.html.exec(t);if(r)return{type:"html",block:!0,raw:r[0],pre:r[1]==="pre"||r[1]==="script"||r[1]==="style",text:r[0]}}def(t){let r=this.rules.block.def.exec(t);if(r){let i=r[1].toLowerCase().replace(this.rules.other.multipleSpaceGlobal," "),n=r[2]?r[2].replace(this.rules.other.hrefBrackets,"$1").replace(this.rules.inline.anyPunctuation,"$1"):"",l=r[3]?r[3].substring(1,r[3].length-1).replace(this.rules.inline.anyPunctuation,"$1"):r[3];return{type:"def",tag:i,raw:r[0],href:n,title:l}}}table(t){let r=this.rules.block.table.exec(t);if(!r||!this.rules.other.tableDelimiter.test(r[2]))return;let i=P1(r[1]),n=r[2].replace(this.rules.other.tableAlignChars,"").split("|"),l=r[3]?.trim()?r[3].replace(this.rules.other.tableRowBlankLine,"").split(`
`):[],o={type:"table",raw:r[0],header:[],align:[],rows:[]};if(i.length===n.length){for(let u of n)this.rules.other.tableAlignRight.test(u)?o.align.push("right"):this.rules.other.tableAlignCenter.test(u)?o.align.push("center"):this.rules.other.tableAlignLeft.test(u)?o.align.push("left"):o.align.push(null);for(let u=0;u<i.length;u++)o.header.push({text:i[u],tokens:this.lexer.inline(i[u]),header:!0,align:o.align[u]});for(let u of l)o.rows.push(P1(u,o.header.length).map((h,d)=>({text:h,tokens:this.lexer.inline(h),header:!1,align:o.align[d]})));return o}}lheading(t){let r=this.rules.block.lheading.exec(t);if(r)return{type:"heading",raw:r[0],depth:r[2].charAt(0)==="="?1:2,text:r[1],tokens:this.lexer.inline(r[1])}}paragraph(t){let r=this.rules.block.paragraph.exec(t);if(r){let i=r[1].charAt(r[1].length-1)===`
`?r[1].slice(0,-1):r[1];return{type:"paragraph",raw:r[0],text:i,tokens:this.lexer.inline(i)}}}text(t){let r=this.rules.block.text.exec(t);if(r)return{type:"text",raw:r[0],text:r[0],tokens:this.lexer.inline(r[0])}}escape(t){let r=this.rules.inline.escape.exec(t);if(r)return{type:"escape",raw:r[0],text:r[1]}}tag(t){let r=this.rules.inline.tag.exec(t);if(r)return!this.lexer.state.inLink&&this.rules.other.startATag.test(r[0])?this.lexer.state.inLink=!0:this.lexer.state.inLink&&this.rules.other.endATag.test(r[0])&&(this.lexer.state.inLink=!1),!this.lexer.state.inRawBlock&&this.rules.other.startPreScriptTag.test(r[0])?this.lexer.state.inRawBlock=!0:this.lexer.state.inRawBlock&&this.rules.other.endPreScriptTag.test(r[0])&&(this.lexer.state.inRawBlock=!1),{type:"html",raw:r[0],inLink:this.lexer.state.inLink,inRawBlock:this.lexer.state.inRawBlock,block:!1,text:r[0]}}link(t){let r=this.rules.inline.link.exec(t);if(r){let i=r[2].trim();if(!this.options.pedantic&&this.rules.other.startAngleBracket.test(i)){if(!this.rules.other.endAngleBracket.test(i))return;let o=ac(i.slice(0,-1),"\\");if((i.length-o.length)%2===0)return}else{let o=TU(r[2],"()");if(o===-2)return;if(o>-1){let u=(r[0].indexOf("!")===0?5:4)+r[1].length+o;r[2]=r[2].substring(0,o),r[0]=r[0].substring(0,u).trim(),r[3]=""}}let n=r[2],l="";if(this.options.pedantic){let o=this.rules.other.pedanticHrefTitle.exec(n);o&&(n=o[1],l=o[3])}else l=r[3]?r[3].slice(1,-1):"";return n=n.trim(),this.rules.other.startAngleBracket.test(n)&&(this.options.pedantic&&!this.rules.other.endAngleBracket.test(i)?n=n.slice(1):n=n.slice(1,-1)),U1(r,{href:n&&n.replace(this.rules.inline.anyPunctuation,"$1"),title:l&&l.replace(this.rules.inline.anyPunctuation,"$1")},r[0],this.lexer,this.rules)}}reflink(t,r){let i;if((i=this.rules.inline.reflink.exec(t))||(i=this.rules.inline.nolink.exec(t))){let n=(i[2]||i[1]).replace(this.rules.other.multipleSpaceGlobal," "),l=r[n.toLowerCase()];if(!l){let o=i[0].charAt(0);return{type:"text",raw:o,text:o}}return U1(i,l,i[0],this.lexer,this.rules)}}emStrong(t,r,i=""){let n=this.rules.inline.emStrongLDelim.exec(t);if(!(!n||n[3]&&i.match(this.rules.other.unicodeAlphaNumeric))&&(!(n[1]||n[2])||!i||this.rules.inline.punctuation.exec(i))){let l=[...n[0]].length-1,o,u,h=l,d=0,p=n[0][0]==="*"?this.rules.inline.emStrongRDelimAst:this.rules.inline.emStrongRDelimUnd;for(p.lastIndex=0,r=r.slice(-1*t.length+l);(n=p.exec(r))!=null;){if(o=n[1]||n[2]||n[3]||n[4]||n[5]||n[6],!o)continue;if(u=[...o].length,n[3]||n[4]){h+=u;continue}else if((n[5]||n[6])&&l%3&&!((l+u)%3)){d+=u;continue}if(h-=u,h>0)continue;u=Math.min(u,u+h+d);let g=[...n[0]][0].length,y=t.slice(0,l+n.index+g+u);if(Math.min(l,u)%2){let v=y.slice(1,-1);return{type:"em",raw:y,text:v,tokens:this.lexer.inlineTokens(v)}}let x=y.slice(2,-2);return{type:"strong",raw:y,text:x,tokens:this.lexer.inlineTokens(x)}}}}codespan(t){let r=this.rules.inline.code.exec(t);if(r){let i=r[2].replace(this.rules.other.newLineCharGlobal," "),n=this.rules.other.nonSpaceChar.test(i),l=this.rules.other.startingSpaceChar.test(i)&&this.rules.other.endingSpaceChar.test(i);return n&&l&&(i=i.substring(1,i.length-1)),{type:"codespan",raw:r[0],text:i}}}br(t){let r=this.rules.inline.br.exec(t);if(r)return{type:"br",raw:r[0]}}del(t){let r=this.rules.inline.del.exec(t);if(r)return{type:"del",raw:r[0],text:r[2],tokens:this.lexer.inlineTokens(r[2])}}autolink(t){let r=this.rules.inline.autolink.exec(t);if(r){let i,n;return r[2]==="@"?(i=r[1],n="mailto:"+i):(i=r[1],n=i),{type:"link",raw:r[0],text:i,href:n,tokens:[{type:"text",raw:i,text:i}]}}}url(t){let r;if(r=this.rules.inline.url.exec(t)){let i,n;if(r[2]==="@")i=r[0],n="mailto:"+i;else{let l;do l=r[0],r[0]=this.rules.inline._backpedal.exec(r[0])?.[0]??"";while(l!==r[0]);i=r[0],r[1]==="www."?n="http://"+r[0]:n=r[0]}return{type:"link",raw:r[0],text:i,href:n,tokens:[{type:"text",raw:i,text:i}]}}}inlineText(t){let r=this.rules.inline.text.exec(t);if(r){let i=this.lexer.state.inRawBlock;return{type:"text",raw:r[0],text:r[0],escaped:i}}}},Si=class xy{tokens;options;state;tokenizer;inlineQueue;constructor(t){this.tokens=[],this.tokens.links=Object.create(null),this.options=t||gs,this.options.tokenizer=this.options.tokenizer||new jd,this.tokenizer=this.options.tokenizer,this.tokenizer.options=this.options,this.tokenizer.lexer=this,this.inlineQueue=[],this.state={inLink:!1,inRawBlock:!1,top:!0};let r={other:yr,block:Dh.normal,inline:ic.normal};this.options.pedantic?(r.block=Dh.pedantic,r.inline=ic.pedantic):this.options.gfm&&(r.block=Dh.gfm,this.options.breaks?r.inline=ic.breaks:r.inline=ic.gfm),this.tokenizer.rules=r}static get rules(){return{block:Dh,inline:ic}}static lex(t,r){return new xy(r).lex(t)}static lexInline(t,r){return new xy(r).inlineTokens(t)}lex(t){t=t.replace(yr.carriageReturn,`
`),this.blockTokens(t,this.tokens);for(let r=0;r<this.inlineQueue.length;r++){let i=this.inlineQueue[r];this.inlineTokens(i.src,i.tokens)}return this.inlineQueue=[],this.tokens}blockTokens(t,r=[],i=!1){for(this.options.pedantic&&(t=t.replace(yr.tabCharGlobal,"    ").replace(yr.spaceLine,""));t;){let n;if(this.options.extensions?.block?.some(o=>(n=o.call({lexer:this},t,r))?(t=t.substring(n.raw.length),r.push(n),!0):!1))continue;if(n=this.tokenizer.space(t)){t=t.substring(n.raw.length);let o=r.at(-1);n.raw.length===1&&o!==void 0?o.raw+=`
`:r.push(n);continue}if(n=this.tokenizer.code(t)){t=t.substring(n.raw.length);let o=r.at(-1);o?.type==="paragraph"||o?.type==="text"?(o.raw+=(o.raw.endsWith(`
`)?"":`
`)+n.raw,o.text+=`
`+n.text,this.inlineQueue.at(-1).src=o.text):r.push(n);continue}if(n=this.tokenizer.fences(t)){t=t.substring(n.raw.length),r.push(n);continue}if(n=this.tokenizer.heading(t)){t=t.substring(n.raw.length),r.push(n);continue}if(n=this.tokenizer.hr(t)){t=t.substring(n.raw.length),r.push(n);continue}if(n=this.tokenizer.blockquote(t)){t=t.substring(n.raw.length),r.push(n);continue}if(n=this.tokenizer.list(t)){t=t.substring(n.raw.length),r.push(n);continue}if(n=this.tokenizer.html(t)){t=t.substring(n.raw.length),r.push(n);continue}if(n=this.tokenizer.def(t)){t=t.substring(n.raw.length);let o=r.at(-1);o?.type==="paragraph"||o?.type==="text"?(o.raw+=(o.raw.endsWith(`
`)?"":`
`)+n.raw,o.text+=`
`+n.raw,this.inlineQueue.at(-1).src=o.text):this.tokens.links[n.tag]||(this.tokens.links[n.tag]={href:n.href,title:n.title},r.push(n));continue}if(n=this.tokenizer.table(t)){t=t.substring(n.raw.length),r.push(n);continue}if(n=this.tokenizer.lheading(t)){t=t.substring(n.raw.length),r.push(n);continue}let l=t;if(this.options.extensions?.startBlock){let o=1/0,u=t.slice(1),h;this.options.extensions.startBlock.forEach(d=>{h=d.call({lexer:this},u),typeof h=="number"&&h>=0&&(o=Math.min(o,h))}),o<1/0&&o>=0&&(l=t.substring(0,o+1))}if(this.state.top&&(n=this.tokenizer.paragraph(l))){let o=r.at(-1);i&&o?.type==="paragraph"?(o.raw+=(o.raw.endsWith(`
`)?"":`
`)+n.raw,o.text+=`
`+n.text,this.inlineQueue.pop(),this.inlineQueue.at(-1).src=o.text):r.push(n),i=l.length!==t.length,t=t.substring(n.raw.length);continue}if(n=this.tokenizer.text(t)){t=t.substring(n.raw.length);let o=r.at(-1);o?.type==="text"?(o.raw+=(o.raw.endsWith(`
`)?"":`
`)+n.raw,o.text+=`
`+n.text,this.inlineQueue.pop(),this.inlineQueue.at(-1).src=o.text):r.push(n);continue}if(t){let o="Infinite loop on byte: "+t.charCodeAt(0);if(this.options.silent){console.error(o);break}else throw new Error(o)}}return this.state.top=!0,r}inline(t,r=[]){return this.inlineQueue.push({src:t,tokens:r}),r}inlineTokens(t,r=[]){let i=t,n=null;if(this.tokens.links){let h=Object.keys(this.tokens.links);if(h.length>0)for(;(n=this.tokenizer.rules.inline.reflinkSearch.exec(i))!=null;)h.includes(n[0].slice(n[0].lastIndexOf("[")+1,-1))&&(i=i.slice(0,n.index)+"["+"a".repeat(n[0].length-2)+"]"+i.slice(this.tokenizer.rules.inline.reflinkSearch.lastIndex))}for(;(n=this.tokenizer.rules.inline.anyPunctuation.exec(i))!=null;)i=i.slice(0,n.index)+"++"+i.slice(this.tokenizer.rules.inline.anyPunctuation.lastIndex);let l;for(;(n=this.tokenizer.rules.inline.blockSkip.exec(i))!=null;)l=n[2]?n[2].length:0,i=i.slice(0,n.index+l)+"["+"a".repeat(n[0].length-l-2)+"]"+i.slice(this.tokenizer.rules.inline.blockSkip.lastIndex);i=this.options.hooks?.emStrongMask?.call({lexer:this},i)??i;let o=!1,u="";for(;t;){o||(u=""),o=!1;let h;if(this.options.extensions?.inline?.some(p=>(h=p.call({lexer:this},t,r))?(t=t.substring(h.raw.length),r.push(h),!0):!1))continue;if(h=this.tokenizer.escape(t)){t=t.substring(h.raw.length),r.push(h);continue}if(h=this.tokenizer.tag(t)){t=t.substring(h.raw.length),r.push(h);continue}if(h=this.tokenizer.link(t)){t=t.substring(h.raw.length),r.push(h);continue}if(h=this.tokenizer.reflink(t,this.tokens.links)){t=t.substring(h.raw.length);let p=r.at(-1);h.type==="text"&&p?.type==="text"?(p.raw+=h.raw,p.text+=h.text):r.push(h);continue}if(h=this.tokenizer.emStrong(t,i,u)){t=t.substring(h.raw.length),r.push(h);continue}if(h=this.tokenizer.codespan(t)){t=t.substring(h.raw.length),r.push(h);continue}if(h=this.tokenizer.br(t)){t=t.substring(h.raw.length),r.push(h);continue}if(h=this.tokenizer.del(t)){t=t.substring(h.raw.length),r.push(h);continue}if(h=this.tokenizer.autolink(t)){t=t.substring(h.raw.length),r.push(h);continue}if(!this.state.inLink&&(h=this.tokenizer.url(t))){t=t.substring(h.raw.length),r.push(h);continue}let d=t;if(this.options.extensions?.startInline){let p=1/0,g=t.slice(1),y;this.options.extensions.startInline.forEach(x=>{y=x.call({lexer:this},g),typeof y=="number"&&y>=0&&(p=Math.min(p,y))}),p<1/0&&p>=0&&(d=t.substring(0,p+1))}if(h=this.tokenizer.inlineText(d)){t=t.substring(h.raw.length),h.raw.slice(-1)!=="_"&&(u=h.raw.slice(-1)),o=!0;let p=r.at(-1);p?.type==="text"?(p.raw+=h.raw,p.text+=h.text):r.push(h);continue}if(t){let p="Infinite loop on byte: "+t.charCodeAt(0);if(this.options.silent){console.error(p);break}else throw new Error(p)}}return r}},$d=class{options;parser;constructor(t){this.options=t||gs}space(t){return""}code({text:t,lang:r,escaped:i}){let n=(r||"").match(yr.notSpaceStart)?.[0],l=t.replace(yr.endingNewline,"")+`
`;return n?'<pre><code class="language-'+Fi(n)+'">'+(i?l:Fi(l,!0))+`</code></pre>
`:"<pre><code>"+(i?l:Fi(l,!0))+`</code></pre>
`}blockquote({tokens:t}){return`<blockquote>
${this.parser.parse(t)}</blockquote>
`}html({text:t}){return t}def(t){return""}heading({tokens:t,depth:r}){return`<h${r}>${this.parser.parseInline(t)}</h${r}>
`}hr(t){return`<hr>
`}list(t){let r=t.ordered,i=t.start,n="";for(let u=0;u<t.items.length;u++){let h=t.items[u];n+=this.listitem(h)}let l=r?"ol":"ul",o=r&&i!==1?' start="'+i+'"':"";return"<"+l+o+`>
`+n+"</"+l+`>
`}listitem(t){let r="";if(t.task){let i=this.checkbox({checked:!!t.checked});t.loose?t.tokens[0]?.type==="paragraph"?(t.tokens[0].text=i+" "+t.tokens[0].text,t.tokens[0].tokens&&t.tokens[0].tokens.length>0&&t.tokens[0].tokens[0].type==="text"&&(t.tokens[0].tokens[0].text=i+" "+Fi(t.tokens[0].tokens[0].text),t.tokens[0].tokens[0].escaped=!0)):t.tokens.unshift({type:"text",raw:i+" ",text:i+" ",escaped:!0}):r+=i+" "}return r+=this.parser.parse(t.tokens,!!t.loose),`<li>${r}</li>
`}checkbox({checked:t}){return"<input "+(t?'checked="" ':"")+'disabled="" type="checkbox">'}paragraph({tokens:t}){return`<p>${this.parser.parseInline(t)}</p>
`}table(t){let r="",i="";for(let l=0;l<t.header.length;l++)i+=this.tablecell(t.header[l]);r+=this.tablerow({text:i});let n="";for(let l=0;l<t.rows.length;l++){let o=t.rows[l];i="";for(let u=0;u<o.length;u++)i+=this.tablecell(o[u]);n+=this.tablerow({text:i})}return n&&(n=`<tbody>${n}</tbody>`),`<table>
<thead>
`+r+`</thead>
`+n+`</table>
`}tablerow({text:t}){return`<tr>
${t}</tr>
`}tablecell(t){let r=this.parser.parseInline(t.tokens),i=t.header?"th":"td";return(t.align?`<${i} align="${t.align}">`:`<${i}>`)+r+`</${i}>
`}strong({tokens:t}){return`<strong>${this.parser.parseInline(t)}</strong>`}em({tokens:t}){return`<em>${this.parser.parseInline(t)}</em>`}codespan({text:t}){return`<code>${Fi(t,!0)}</code>`}br(t){return"<br>"}del({tokens:t}){return`<del>${this.parser.parseInline(t)}</del>`}link({href:t,title:r,tokens:i}){let n=this.parser.parseInline(i),l=F1(t);if(l===null)return n;t=l;let o='<a href="'+t+'"';return r&&(o+=' title="'+Fi(r)+'"'),o+=">"+n+"</a>",o}image({href:t,title:r,text:i,tokens:n}){n&&(i=this.parser.parseInline(n,this.parser.textRenderer));let l=F1(t);if(l===null)return Fi(i);t=l;let o=`<img src="${t}" alt="${i}"`;return r&&(o+=` title="${Fi(r)}"`),o+=">",o}text(t){return"tokens"in t&&t.tokens?this.parser.parseInline(t.tokens):"escaped"in t&&t.escaped?t.text:Fi(t.text)}},I0=class{strong({text:t}){return t}em({text:t}){return t}codespan({text:t}){return t}del({text:t}){return t}html({text:t}){return t}text({text:t}){return t}link({text:t}){return""+t}image({text:t}){return""+t}br(){return""}},ki=class vy{options;renderer;textRenderer;constructor(t){this.options=t||gs,this.options.renderer=this.options.renderer||new $d,this.renderer=this.options.renderer,this.renderer.options=this.options,this.renderer.parser=this,this.textRenderer=new I0}static parse(t,r){return new vy(r).parse(t)}static parseInline(t,r){return new vy(r).parseInline(t)}parse(t,r=!0){let i="";for(let n=0;n<t.length;n++){let l=t[n];if(this.options.extensions?.renderers?.[l.type]){let u=l,h=this.options.extensions.renderers[u.type].call({parser:this},u);if(h!==!1||!["space","hr","heading","code","table","blockquote","list","html","def","paragraph","text"].includes(u.type)){i+=h||"";continue}}let o=l;switch(o.type){case"space":{i+=this.renderer.space(o);continue}case"hr":{i+=this.renderer.hr(o);continue}case"heading":{i+=this.renderer.heading(o);continue}case"code":{i+=this.renderer.code(o);continue}case"table":{i+=this.renderer.table(o);continue}case"blockquote":{i+=this.renderer.blockquote(o);continue}case"list":{i+=this.renderer.list(o);continue}case"html":{i+=this.renderer.html(o);continue}case"def":{i+=this.renderer.def(o);continue}case"paragraph":{i+=this.renderer.paragraph(o);continue}case"text":{let u=o,h=this.renderer.text(u);for(;n+1<t.length&&t[n+1].type==="text";)u=t[++n],h+=`
`+this.renderer.text(u);r?i+=this.renderer.paragraph({type:"paragraph",raw:h,text:h,tokens:[{type:"text",raw:h,text:h,escaped:!0}]}):i+=h;continue}default:{let u='Token with "'+o.type+'" type was not found.';if(this.options.silent)return console.error(u),"";throw new Error(u)}}}return i}parseInline(t,r=this.renderer){let i="";for(let n=0;n<t.length;n++){let l=t[n];if(this.options.extensions?.renderers?.[l.type]){let u=this.options.extensions.renderers[l.type].call({parser:this},l);if(u!==!1||!["escape","html","link","image","strong","em","codespan","br","del","text"].includes(l.type)){i+=u||"";continue}}let o=l;switch(o.type){case"escape":{i+=r.text(o);break}case"html":{i+=r.html(o);break}case"link":{i+=r.link(o);break}case"image":{i+=r.image(o);break}case"strong":{i+=r.strong(o);break}case"em":{i+=r.em(o);break}case"codespan":{i+=r.codespan(o);break}case"br":{i+=r.br(o);break}case"del":{i+=r.del(o);break}case"text":{i+=r.text(o);break}default:{let u='Token with "'+o.type+'" type was not found.';if(this.options.silent)return console.error(u),"";throw new Error(u)}}}return i}},pc=class{options;block;constructor(t){this.options=t||gs}static passThroughHooks=new Set(["preprocess","postprocess","processAllTokens","emStrongMask"]);static passThroughHooksRespectAsync=new Set(["preprocess","postprocess","processAllTokens"]);preprocess(t){return t}postprocess(t){return t}processAllTokens(t){return t}emStrongMask(t){return t}provideLexer(){return this.block?Si.lex:Si.lexInline}provideParser(){return this.block?ki.parse:ki.parseInline}},AU=class{defaults=N0();options=this.setOptions;parse=this.parseMarkdown(!0);parseInline=this.parseMarkdown(!1);Parser=ki;Renderer=$d;TextRenderer=I0;Lexer=Si;Tokenizer=jd;Hooks=pc;constructor(...t){this.use(...t)}walkTokens(t,r){let i=[];for(let n of t)switch(i=i.concat(r.call(this,n)),n.type){case"table":{let l=n;for(let o of l.header)i=i.concat(this.walkTokens(o.tokens,r));for(let o of l.rows)for(let u of o)i=i.concat(this.walkTokens(u.tokens,r));break}case"list":{let l=n;i=i.concat(this.walkTokens(l.items,r));break}default:{let l=n;this.defaults.extensions?.childTokens?.[l.type]?this.defaults.extensions.childTokens[l.type].forEach(o=>{let u=l[o].flat(1/0);i=i.concat(this.walkTokens(u,r))}):l.tokens&&(i=i.concat(this.walkTokens(l.tokens,r)))}}return i}use(...t){let r=this.defaults.extensions||{renderers:{},childTokens:{}};return t.forEach(i=>{let n={...i};if(n.async=this.defaults.async||n.async||!1,i.extensions&&(i.extensions.forEach(l=>{if(!l.name)throw new Error("extension name required");if("renderer"in l){let o=r.renderers[l.name];o?r.renderers[l.name]=function(...u){let h=l.renderer.apply(this,u);return h===!1&&(h=o.apply(this,u)),h}:r.renderers[l.name]=l.renderer}if("tokenizer"in l){if(!l.level||l.level!=="block"&&l.level!=="inline")throw new Error("extension level must be 'block' or 'inline'");let o=r[l.level];o?o.unshift(l.tokenizer):r[l.level]=[l.tokenizer],l.start&&(l.level==="block"?r.startBlock?r.startBlock.push(l.start):r.startBlock=[l.start]:l.level==="inline"&&(r.startInline?r.startInline.push(l.start):r.startInline=[l.start]))}"childTokens"in l&&l.childTokens&&(r.childTokens[l.name]=l.childTokens)}),n.extensions=r),i.renderer){let l=this.defaults.renderer||new $d(this.defaults);for(let o in i.renderer){if(!(o in l))throw new Error(`renderer '${o}' does not exist`);if(["options","parser"].includes(o))continue;let u=o,h=i.renderer[u],d=l[u];l[u]=(...p)=>{let g=h.apply(l,p);return g===!1&&(g=d.apply(l,p)),g||""}}n.renderer=l}if(i.tokenizer){let l=this.defaults.tokenizer||new jd(this.defaults);for(let o in i.tokenizer){if(!(o in l))throw new Error(`tokenizer '${o}' does not exist`);if(["options","rules","lexer"].includes(o))continue;let u=o,h=i.tokenizer[u],d=l[u];l[u]=(...p)=>{let g=h.apply(l,p);return g===!1&&(g=d.apply(l,p)),g}}n.tokenizer=l}if(i.hooks){let l=this.defaults.hooks||new pc;for(let o in i.hooks){if(!(o in l))throw new Error(`hook '${o}' does not exist`);if(["options","block"].includes(o))continue;let u=o,h=i.hooks[u],d=l[u];pc.passThroughHooks.has(o)?l[u]=p=>{if(this.defaults.async&&pc.passThroughHooksRespectAsync.has(o))return(async()=>{let y=await h.call(l,p);return d.call(l,y)})();let g=h.call(l,p);return d.call(l,g)}:l[u]=(...p)=>{if(this.defaults.async)return(async()=>{let y=await h.apply(l,p);return y===!1&&(y=await d.apply(l,p)),y})();let g=h.apply(l,p);return g===!1&&(g=d.apply(l,p)),g}}n.hooks=l}if(i.walkTokens){let l=this.defaults.walkTokens,o=i.walkTokens;n.walkTokens=function(u){let h=[];return h.push(o.call(this,u)),l&&(h=h.concat(l.call(this,u))),h}}this.defaults={...this.defaults,...n}}),this}setOptions(t){return this.defaults={...this.defaults,...t},this}lexer(t,r){return Si.lex(t,r??this.defaults)}parser(t,r){return ki.parse(t,r??this.defaults)}parseMarkdown(t){return(r,i)=>{let n={...i},l={...this.defaults,...n},o=this.onError(!!l.silent,!!l.async);if(this.defaults.async===!0&&n.async===!1)return o(new Error("marked(): The async option was set to true by an extension. Remove async: false from the parse options object to return a Promise."));if(typeof r>"u"||r===null)return o(new Error("marked(): input parameter is undefined or null"));if(typeof r!="string")return o(new Error("marked(): input parameter is of type "+Object.prototype.toString.call(r)+", string expected"));if(l.hooks&&(l.hooks.options=l,l.hooks.block=t),l.async)return(async()=>{let u=l.hooks?await l.hooks.preprocess(r):r,h=await(l.hooks?await l.hooks.provideLexer():t?Si.lex:Si.lexInline)(u,l),d=l.hooks?await l.hooks.processAllTokens(h):h;l.walkTokens&&await Promise.all(this.walkTokens(d,l.walkTokens));let p=await(l.hooks?await l.hooks.provideParser():t?ki.parse:ki.parseInline)(d,l);return l.hooks?await l.hooks.postprocess(p):p})().catch(o);try{l.hooks&&(r=l.hooks.preprocess(r));let u=(l.hooks?l.hooks.provideLexer():t?Si.lex:Si.lexInline)(r,l);l.hooks&&(u=l.hooks.processAllTokens(u)),l.walkTokens&&this.walkTokens(u,l.walkTokens);let h=(l.hooks?l.hooks.provideParser():t?ki.parse:ki.parseInline)(u,l);return l.hooks&&(h=l.hooks.postprocess(h)),h}catch(u){return o(u)}}}onError(t,r){return i=>{if(i.message+=`
Please report this to https://github.com/markedjs/marked.`,t){let n="<p>An error occurred:</p><pre>"+Fi(i.message+"",!0)+"</pre>";return r?Promise.resolve(n):n}if(r)return Promise.reject(i);throw i}}},cs=new AU;function ae(e,t){return cs.parse(e,t)}ae.options=ae.setOptions=function(e){return cs.setOptions(e),ae.defaults=cs.defaults,wT(ae.defaults),ae};ae.getDefaults=N0;ae.defaults=gs;ae.use=function(...e){return cs.use(...e),ae.defaults=cs.defaults,wT(ae.defaults),ae};ae.walkTokens=function(e,t){return cs.walkTokens(e,t)};ae.parseInline=cs.parseInline;ae.Parser=ki;ae.parser=ki.parse;ae.Renderer=$d;ae.TextRenderer=I0;ae.Lexer=Si;ae.lexer=Si.lex;ae.Tokenizer=jd;ae.Hooks=pc;ae.parse=ae;ae.options;ae.setOptions;ae.use;ae.walkTokens;ae.parseInline;ki.parse;Si.lex;function BT(e){for(var t=[],r=1;r<arguments.length;r++)t[r-1]=arguments[r];var i=Array.from(typeof e=="string"?[e]:e);i[i.length-1]=i[i.length-1].replace(/\r?\n([\t ]*)$/,"");var n=i.reduce(function(u,h){var d=h.match(/\n([\t ]+|(?!\s).)/g);return d?u.concat(d.map(function(p){var g,y;return(y=(g=p.match(/[\t ]/g))===null||g===void 0?void 0:g.length)!==null&&y!==void 0?y:0})):u},[]);if(n.length){var l=new RegExp(`
[	 ]{`+Math.min.apply(Math,n)+"}","g");i=i.map(function(u){return u.replace(l,`
`)})}i[0]=i[0].replace(/^\r?\n/,"");var o=i[0];return t.forEach(function(u,h){var d=o.match(/(?:^|\n)( *)$/),p=d?d[1]:"",g=u;typeof u=="string"&&u.includes(`
`)&&(g=String(u).split(`
`).map(function(y,x){return x===0?y:""+p+y}).join(`
`)),o+=g+i[h+1]}),o}var OU={body:'<g><rect width="80" height="80" style="fill: #087ebf; stroke-width: 0px;"/><text transform="translate(21.16 64.67)" style="fill: #fff; font-family: ArialMT, Arial; font-size: 67.75px;"><tspan x="0" y="0">?</tspan></text></g>',height:80,width:80},_y=new Map,NT=new Map,RU=w(e=>{for(const t of e){if(!t.name)throw new Error('Invalid icon loader. Must have a "name" property with non-empty string value.');if(lt.debug("Registering icon pack:",t.name),"loader"in t)NT.set(t.name,t.loader);else if("icons"in t)_y.set(t.name,t.icons);else throw lt.error("Invalid icon loader:",t),new Error('Invalid icon loader. Must have either "icons" or "loader" property.')}},"registerIconPacks"),DT=w(async(e,t)=>{const r=LP(e,!0,t!==void 0);if(!r)throw new Error(`Invalid icon name: ${e}`);const i=r.prefix||t;if(!i)throw new Error(`Icon name must contain a prefix: ${e}`);let n=_y.get(i);if(!n){const o=NT.get(i);if(!o)throw new Error(`Icon set not found: ${r.prefix}`);try{n={...await o(),prefix:i},_y.set(i,n)}catch(u){throw lt.error(u),new Error(`Failed to load icon set: ${r.prefix}`)}}const l=NP(n,r.name);if(!l)throw new Error(`Icon not found: ${e}`);return l},"getRegisteredIconData"),LU=w(async e=>{try{return await DT(e),!0}catch{return!1}},"isIconAvailable"),iu=w(async(e,t,r)=>{let i;try{i=await DT(e,t?.fallbackPrefix)}catch(o){lt.error(o),i=OU}const n=UP(i,t),l=WP(HP(n.body),{...n.attributes,...r});return di(l,cr())},"getIconSVG");function jT(e,{markdownAutoWrap:t}){const i=e.replace(/<br\/>/g,`
`).replace(/\n{2,}/g,`
`),n=BT(i);return t===!1?n.replace(/ /g,"&nbsp;"):n}w(jT,"preprocessMarkdown");function $T(e,t={}){const r=jT(e,t),i=ae.lexer(r),n=[[]];let l=0;function o(u,h="normal"){u.type==="text"?u.text.split(`
`).forEach((p,g)=>{g!==0&&(l++,n.push([])),p.split(" ").forEach(y=>{y=y.replace(/&#39;/g,"'"),y&&n[l].push({content:y,type:h})})}):u.type==="strong"||u.type==="em"?u.tokens.forEach(d=>{o(d,u.type)}):u.type==="html"&&n[l].push({content:u.text,type:"normal"})}return w(o,"processNode"),i.forEach(u=>{u.type==="paragraph"?u.tokens?.forEach(h=>{o(h)}):u.type==="html"?n[l].push({content:u.text,type:"normal"}):n[l].push({content:u.raw,type:"normal"})}),n}w($T,"markdownToLines");function zT(e,{markdownAutoWrap:t}={}){const r=ae.lexer(e);function i(n){return n.type==="text"?t===!1?n.text.replace(/\n */g,"<br/>").replace(/ /g,"&nbsp;"):n.text.replace(/\n */g,"<br/>"):n.type==="strong"?`<strong>${n.tokens?.map(i).join("")}</strong>`:n.type==="em"?`<em>${n.tokens?.map(i).join("")}</em>`:n.type==="paragraph"?`<p>${n.tokens?.map(i).join("")}</p>`:n.type==="space"?"":n.type==="html"?`${n.text}`:n.type==="escape"?n.text:(lt.warn(`Unsupported markdown: ${n.type}`),n.raw)}return w(i,"output"),r.map(i).join("")}w(zT,"markdownToHTML");function FT(e){return Intl.Segmenter?[...new Intl.Segmenter().segment(e)].map(t=>t.segment):[...e]}w(FT,"splitTextToChars");function PT(e,t){const r=FT(t.content);return q0(e,[],r,t.type)}w(PT,"splitWordToFitWidth");function q0(e,t,r,i){if(r.length===0)return[{content:t.join(""),type:i},{content:"",type:i}];const[n,...l]=r,o=[...t,n];return e([{content:o.join(""),type:i}])?q0(e,o,l,i):(t.length===0&&n&&(t.push(n),r.shift()),[{content:t.join(""),type:i},{content:r.join(""),type:i}])}w(q0,"splitWordToFitWidthRecursion");function UT(e,t){if(e.some(({content:r})=>r.includes(`
`)))throw new Error("splitLineToFitWidth does not support newlines in the line");return zd(e,t)}w(UT,"splitLineToFitWidth");function zd(e,t,r=[],i=[]){if(e.length===0)return i.length>0&&r.push(i),r.length>0?r:[];let n="";e[0].content===" "&&(n=" ",e.shift());const l=e.shift()??{content:" ",type:"normal"},o=[...i];if(n!==""&&o.push({content:n,type:"normal"}),o.push(l),t(o))return zd(e,t,r,o);if(i.length>0)r.push(i),e.unshift(l);else if(l.content){const[u,h]=PT(t,l);r.push([u]),h.content&&e.unshift(h)}return zd(e,t,r)}w(zd,"splitLineToFitWidthRecursion");function wy(e,t){t&&e.attr("style",t)}w(wy,"applyStyle");async function IT(e,t,r,i,n=!1,l=cr()){const o=e.append("foreignObject");o.attr("width",`${10*r}px`),o.attr("height",`${10*r}px`);const u=o.append("xhtml:div"),h=Al(t.label)?await Zy(t.label.replace(Fl.lineBreakRegex,`
`),l):di(t.label,l),d=t.isNode?"nodeLabel":"edgeLabel",p=u.append("span");p.html(h),wy(p,t.labelStyle),p.attr("class",`${d} ${i}`),wy(u,t.labelStyle),u.style("display","table-cell"),u.style("white-space","nowrap"),u.style("line-height","1.5"),u.style("max-width",r+"px"),u.style("text-align","center"),u.attr("xmlns","http://www.w3.org/1999/xhtml"),n&&u.attr("class","labelBkg");let g=u.node().getBoundingClientRect();return g.width===r&&(u.style("display","table"),u.style("white-space","break-spaces"),u.style("width",r+"px"),g=u.node().getBoundingClientRect()),o.node()}w(IT,"addHtmlSpan");function yf(e,t,r){return e.append("tspan").attr("class","text-outer-tspan").attr("x",0).attr("y",t*r-.1+"em").attr("dy",r+"em")}w(yf,"createTspan");function qT(e,t,r){const i=e.append("text"),n=yf(i,1,t);bf(n,r);const l=n.node().getComputedTextLength();return i.remove(),l}w(qT,"computeWidthOfText");function MU(e,t,r){const i=e.append("text"),n=yf(i,1,t);bf(n,[{content:r,type:"normal"}]);const l=n.node()?.getBoundingClientRect();return l&&i.remove(),l}w(MU,"computeDimensionOfText");function HT(e,t,r,i=!1){const l=t.append("g"),o=l.insert("rect").attr("class","background").attr("style","stroke: none"),u=l.append("text").attr("y","-10.1");let h=0;for(const d of r){const p=w(y=>qT(l,1.1,y)<=e,"checkWidth"),g=p(d)?[d]:UT(d,p);for(const y of g){const x=yf(u,h,1.1);bf(x,y),h++}}if(i){const d=u.node().getBBox(),p=2;return o.attr("x",d.x-p).attr("y",d.y-p).attr("width",d.width+2*p).attr("height",d.height+2*p),l.node()}else return u.node()}w(HT,"createFormattedText");function bf(e,t){e.text(""),t.forEach((r,i)=>{const n=e.append("tspan").attr("font-style",r.type==="em"?"italic":"normal").attr("class","text-inner-tspan").attr("font-weight",r.type==="strong"?"bold":"normal");i===0?n.text(r.content):n.text(" "+r.content)})}w(bf,"updateTextContentAndStyles");async function WT(e,t={}){const r=[];e.replace(/(fa[bklrs]?):fa-([\w-]+)/g,(n,l,o)=>(r.push((async()=>{const u=`${l}:${o}`;return await LU(u)?await iu(u,void 0,{class:"label-icon"}):`<i class='${di(n,t).replace(":"," ")}'></i>`})()),n));const i=await Promise.all(r);return e.replace(/(fa[bklrs]?):fa-([\w-]+)/g,()=>i.shift()??"")}w(WT,"replaceIconSubstring");var yn=w(async(e,t="",{style:r="",isTitle:i=!1,classes:n="",useHtmlLabels:l=!0,isNode:o=!0,width:u=200,addSvgBackground:h=!1}={},d)=>{if(lt.debug("XYZ createText",t,r,i,n,l,o,"addSvgBackground: ",h),l){const p=zT(t,d),g=await WT(ps(p),d),y=t.replace(/\\\\/g,"\\"),x={isNode:o,label:Al(t)?y:g,labelStyle:r.replace("fill:","color:")};return await IT(e,x,u,n,h,d)}else{const p=t.replace(/<br\s*\/?>/g,"<br/>"),g=$T(p.replace("<br>","<br/>"),d),y=HT(u,e,g,t?h:!1);if(o){/stroke:/.exec(r)&&(r=r.replace("stroke:","lineColor:"));const x=r.replace(/stroke:[^;]+;?/g,"").replace(/stroke-width:[^;]+;?/g,"").replace(/fill:[^;]+;?/g,"").replace(/color:/g,"fill:");Xt(y).attr("style",x)}else{const x=r.replace(/stroke:[^;]+;?/g,"").replace(/stroke-width:[^;]+;?/g,"").replace(/fill:[^;]+;?/g,"").replace(/background:/g,"fill:");Xt(y).select("rect").attr("style",x.replace(/background:/g,"fill:"));const v=r.replace(/stroke:[^;]+;?/g,"").replace(/stroke-width:[^;]+;?/g,"").replace(/fill:[^;]+;?/g,"").replace(/color:/g,"fill:");Xt(y).select("text").attr("style",v)}return y}},"createText");function pm(e,t,r){if(e&&e.length){const[i,n]=t,l=Math.PI/180*r,o=Math.cos(l),u=Math.sin(l);for(const h of e){const[d,p]=h;h[0]=(d-i)*o-(p-n)*u+i,h[1]=(d-i)*u+(p-n)*o+n}}}function BU(e,t){return e[0]===t[0]&&e[1]===t[1]}function NU(e,t,r,i=1){const n=r,l=Math.max(t,.1),o=e[0]&&e[0][0]&&typeof e[0][0]=="number"?[e]:e,u=[0,0];if(n)for(const d of o)pm(d,u,n);const h=(function(d,p,g){const y=[];for(const E of d){const O=[...E];BU(O[0],O[O.length-1])||O.push([O[0][0],O[0][1]]),O.length>2&&y.push(O)}const x=[];p=Math.max(p,.1);const v=[];for(const E of y)for(let O=0;O<E.length-1;O++){const L=E[O],B=E[O+1];if(L[1]!==B[1]){const I=Math.min(L[1],B[1]);v.push({ymin:I,ymax:Math.max(L[1],B[1]),x:I===L[1]?L[0]:B[0],islope:(B[0]-L[0])/(B[1]-L[1])})}}if(v.sort(((E,O)=>E.ymin<O.ymin?-1:E.ymin>O.ymin?1:E.x<O.x?-1:E.x>O.x?1:E.ymax===O.ymax?0:(E.ymax-O.ymax)/Math.abs(E.ymax-O.ymax))),!v.length)return x;let _=[],S=v[0].ymin,T=0;for(;_.length||v.length;){if(v.length){let E=-1;for(let O=0;O<v.length&&!(v[O].ymin>S);O++)E=O;v.splice(0,E+1).forEach((O=>{_.push({s:S,edge:O})}))}if(_=_.filter((E=>!(E.edge.ymax<=S))),_.sort(((E,O)=>E.edge.x===O.edge.x?0:(E.edge.x-O.edge.x)/Math.abs(E.edge.x-O.edge.x))),(g!==1||T%p==0)&&_.length>1)for(let E=0;E<_.length;E+=2){const O=E+1;if(O>=_.length)break;const L=_[E].edge,B=_[O].edge;x.push([[Math.round(L.x),S],[Math.round(B.x),S]])}S+=g,_.forEach((E=>{E.edge.x=E.edge.x+g*E.edge.islope})),T++}return x})(o,l,i);if(n){for(const d of o)pm(d,u,-n);(function(d,p,g){const y=[];d.forEach((x=>y.push(...x))),pm(y,p,g)})(h,u,-n)}return h}function au(e,t){var r;const i=t.hachureAngle+90;let n=t.hachureGap;n<0&&(n=4*t.strokeWidth),n=Math.round(Math.max(n,.1));let l=1;return t.roughness>=1&&(((r=t.randomizer)===null||r===void 0?void 0:r.next())||Math.random())>.7&&(l=n),NU(e,n,i,l||1)}class H0{constructor(t){this.helper=t}fillPolygons(t,r){return this._fillPolygons(t,r)}_fillPolygons(t,r){const i=au(t,r);return{type:"fillSketch",ops:this.renderLines(i,r)}}renderLines(t,r){const i=[];for(const n of t)i.push(...this.helper.doubleLineOps(n[0][0],n[0][1],n[1][0],n[1][1],r));return i}}function xf(e){const t=e[0],r=e[1];return Math.sqrt(Math.pow(t[0]-r[0],2)+Math.pow(t[1]-r[1],2))}class DU extends H0{fillPolygons(t,r){let i=r.hachureGap;i<0&&(i=4*r.strokeWidth),i=Math.max(i,.1);const n=au(t,Object.assign({},r,{hachureGap:i})),l=Math.PI/180*r.hachureAngle,o=[],u=.5*i*Math.cos(l),h=.5*i*Math.sin(l);for(const[d,p]of n)xf([d,p])&&o.push([[d[0]-u,d[1]+h],[...p]],[[d[0]+u,d[1]-h],[...p]]);return{type:"fillSketch",ops:this.renderLines(o,r)}}}class jU extends H0{fillPolygons(t,r){const i=this._fillPolygons(t,r),n=Object.assign({},r,{hachureAngle:r.hachureAngle+90}),l=this._fillPolygons(t,n);return i.ops=i.ops.concat(l.ops),i}}class $U{constructor(t){this.helper=t}fillPolygons(t,r){const i=au(t,r=Object.assign({},r,{hachureAngle:0}));return this.dotsOnLines(i,r)}dotsOnLines(t,r){const i=[];let n=r.hachureGap;n<0&&(n=4*r.strokeWidth),n=Math.max(n,.1);let l=r.fillWeight;l<0&&(l=r.strokeWidth/2);const o=n/4;for(const u of t){const h=xf(u),d=h/n,p=Math.ceil(d)-1,g=h-p*n,y=(u[0][0]+u[1][0])/2-n/4,x=Math.min(u[0][1],u[1][1]);for(let v=0;v<p;v++){const _=x+g+v*n,S=y-o+2*Math.random()*o,T=_-o+2*Math.random()*o,E=this.helper.ellipse(S,T,l,l,r);i.push(...E.ops)}}return{type:"fillSketch",ops:i}}}class zU{constructor(t){this.helper=t}fillPolygons(t,r){const i=au(t,r);return{type:"fillSketch",ops:this.dashedLine(i,r)}}dashedLine(t,r){const i=r.dashOffset<0?r.hachureGap<0?4*r.strokeWidth:r.hachureGap:r.dashOffset,n=r.dashGap<0?r.hachureGap<0?4*r.strokeWidth:r.hachureGap:r.dashGap,l=[];return t.forEach((o=>{const u=xf(o),h=Math.floor(u/(i+n)),d=(u+n-h*(i+n))/2;let p=o[0],g=o[1];p[0]>g[0]&&(p=o[1],g=o[0]);const y=Math.atan((g[1]-p[1])/(g[0]-p[0]));for(let x=0;x<h;x++){const v=x*(i+n),_=v+i,S=[p[0]+v*Math.cos(y)+d*Math.cos(y),p[1]+v*Math.sin(y)+d*Math.sin(y)],T=[p[0]+_*Math.cos(y)+d*Math.cos(y),p[1]+_*Math.sin(y)+d*Math.sin(y)];l.push(...this.helper.doubleLineOps(S[0],S[1],T[0],T[1],r))}})),l}}class FU{constructor(t){this.helper=t}fillPolygons(t,r){const i=r.hachureGap<0?4*r.strokeWidth:r.hachureGap,n=r.zigzagOffset<0?i:r.zigzagOffset,l=au(t,r=Object.assign({},r,{hachureGap:i+n}));return{type:"fillSketch",ops:this.zigzagLines(l,n,r)}}zigzagLines(t,r,i){const n=[];return t.forEach((l=>{const o=xf(l),u=Math.round(o/(2*r));let h=l[0],d=l[1];h[0]>d[0]&&(h=l[1],d=l[0]);const p=Math.atan((d[1]-h[1])/(d[0]-h[0]));for(let g=0;g<u;g++){const y=2*g*r,x=2*(g+1)*r,v=Math.sqrt(2*Math.pow(r,2)),_=[h[0]+y*Math.cos(p),h[1]+y*Math.sin(p)],S=[h[0]+x*Math.cos(p),h[1]+x*Math.sin(p)],T=[_[0]+v*Math.cos(p+Math.PI/4),_[1]+v*Math.sin(p+Math.PI/4)];n.push(...this.helper.doubleLineOps(_[0],_[1],T[0],T[1],i),...this.helper.doubleLineOps(T[0],T[1],S[0],S[1],i))}})),n}}const Or={};class PU{constructor(t){this.seed=t}next(){return this.seed?(2**31-1&(this.seed=Math.imul(48271,this.seed)))/2**31:Math.random()}}const UU=0,gm=1,I1=2,jh={A:7,a:7,C:6,c:6,H:1,h:1,L:2,l:2,M:2,m:2,Q:4,q:4,S:4,s:4,T:2,t:2,V:1,v:1,Z:0,z:0};function mm(e,t){return e.type===t}function W0(e){const t=[],r=(function(o){const u=new Array;for(;o!=="";)if(o.match(/^([ \t\r\n,]+)/))o=o.substr(RegExp.$1.length);else if(o.match(/^([aAcChHlLmMqQsStTvVzZ])/))u[u.length]={type:UU,text:RegExp.$1},o=o.substr(RegExp.$1.length);else{if(!o.match(/^(([-+]?[0-9]+(\.[0-9]*)?|[-+]?\.[0-9]+)([eE][-+]?[0-9]+)?)/))return[];u[u.length]={type:gm,text:`${parseFloat(RegExp.$1)}`},o=o.substr(RegExp.$1.length)}return u[u.length]={type:I1,text:""},u})(e);let i="BOD",n=0,l=r[n];for(;!mm(l,I1);){let o=0;const u=[];if(i==="BOD"){if(l.text!=="M"&&l.text!=="m")return W0("M0,0"+e);n++,o=jh[l.text],i=l.text}else mm(l,gm)?o=jh[i]:(n++,o=jh[l.text],i=l.text);if(!(n+o<r.length))throw new Error("Path data ended short");for(let h=n;h<n+o;h++){const d=r[h];if(!mm(d,gm))throw new Error("Param not a number: "+i+","+d.text);u[u.length]=+d.text}if(typeof jh[i]!="number")throw new Error("Bad segment: "+i);{const h={key:i,data:u};t.push(h),n+=o,l=r[n],i==="M"&&(i="L"),i==="m"&&(i="l")}}return t}function GT(e){let t=0,r=0,i=0,n=0;const l=[];for(const{key:o,data:u}of e)switch(o){case"M":l.push({key:"M",data:[...u]}),[t,r]=u,[i,n]=u;break;case"m":t+=u[0],r+=u[1],l.push({key:"M",data:[t,r]}),i=t,n=r;break;case"L":l.push({key:"L",data:[...u]}),[t,r]=u;break;case"l":t+=u[0],r+=u[1],l.push({key:"L",data:[t,r]});break;case"C":l.push({key:"C",data:[...u]}),t=u[4],r=u[5];break;case"c":{const h=u.map(((d,p)=>p%2?d+r:d+t));l.push({key:"C",data:h}),t=h[4],r=h[5];break}case"Q":l.push({key:"Q",data:[...u]}),t=u[2],r=u[3];break;case"q":{const h=u.map(((d,p)=>p%2?d+r:d+t));l.push({key:"Q",data:h}),t=h[2],r=h[3];break}case"A":l.push({key:"A",data:[...u]}),t=u[5],r=u[6];break;case"a":t+=u[5],r+=u[6],l.push({key:"A",data:[u[0],u[1],u[2],u[3],u[4],t,r]});break;case"H":l.push({key:"H",data:[...u]}),t=u[0];break;case"h":t+=u[0],l.push({key:"H",data:[t]});break;case"V":l.push({key:"V",data:[...u]}),r=u[0];break;case"v":r+=u[0],l.push({key:"V",data:[r]});break;case"S":l.push({key:"S",data:[...u]}),t=u[2],r=u[3];break;case"s":{const h=u.map(((d,p)=>p%2?d+r:d+t));l.push({key:"S",data:h}),t=h[2],r=h[3];break}case"T":l.push({key:"T",data:[...u]}),t=u[0],r=u[1];break;case"t":t+=u[0],r+=u[1],l.push({key:"T",data:[t,r]});break;case"Z":case"z":l.push({key:"Z",data:[]}),t=i,r=n}return l}function YT(e){const t=[];let r="",i=0,n=0,l=0,o=0,u=0,h=0;for(const{key:d,data:p}of e){switch(d){case"M":t.push({key:"M",data:[...p]}),[i,n]=p,[l,o]=p;break;case"C":t.push({key:"C",data:[...p]}),i=p[4],n=p[5],u=p[2],h=p[3];break;case"L":t.push({key:"L",data:[...p]}),[i,n]=p;break;case"H":i=p[0],t.push({key:"L",data:[i,n]});break;case"V":n=p[0],t.push({key:"L",data:[i,n]});break;case"S":{let g=0,y=0;r==="C"||r==="S"?(g=i+(i-u),y=n+(n-h)):(g=i,y=n),t.push({key:"C",data:[g,y,...p]}),u=p[0],h=p[1],i=p[2],n=p[3];break}case"T":{const[g,y]=p;let x=0,v=0;r==="Q"||r==="T"?(x=i+(i-u),v=n+(n-h)):(x=i,v=n);const _=i+2*(x-i)/3,S=n+2*(v-n)/3,T=g+2*(x-g)/3,E=y+2*(v-y)/3;t.push({key:"C",data:[_,S,T,E,g,y]}),u=x,h=v,i=g,n=y;break}case"Q":{const[g,y,x,v]=p,_=i+2*(g-i)/3,S=n+2*(y-n)/3,T=x+2*(g-x)/3,E=v+2*(y-v)/3;t.push({key:"C",data:[_,S,T,E,x,v]}),u=g,h=y,i=x,n=v;break}case"A":{const g=Math.abs(p[0]),y=Math.abs(p[1]),x=p[2],v=p[3],_=p[4],S=p[5],T=p[6];g===0||y===0?(t.push({key:"C",data:[i,n,S,T,S,T]}),i=S,n=T):(i!==S||n!==T)&&(VT(i,n,S,T,g,y,x,v,_).forEach((function(E){t.push({key:"C",data:E})})),i=S,n=T);break}case"Z":t.push({key:"Z",data:[]}),i=l,n=o}r=d}return t}function nc(e,t,r){return[e*Math.cos(r)-t*Math.sin(r),e*Math.sin(r)+t*Math.cos(r)]}function VT(e,t,r,i,n,l,o,u,h,d){const p=(g=o,Math.PI*g/180);var g;let y=[],x=0,v=0,_=0,S=0;if(d)[x,v,_,S]=d;else{[e,t]=nc(e,t,-p),[r,i]=nc(r,i,-p);const N=(e-r)/2,z=(t-i)/2;let P=N*N/(n*n)+z*z/(l*l);P>1&&(P=Math.sqrt(P),n*=P,l*=P);const R=n*n,$=l*l,H=R*$-R*z*z-$*N*N,ot=R*z*z+$*N*N,ht=(u===h?-1:1)*Math.sqrt(Math.abs(H/ot));_=ht*n*z/l+(e+r)/2,S=ht*-l*N/n+(t+i)/2,x=Math.asin(parseFloat(((t-S)/l).toFixed(9))),v=Math.asin(parseFloat(((i-S)/l).toFixed(9))),e<_&&(x=Math.PI-x),r<_&&(v=Math.PI-v),x<0&&(x=2*Math.PI+x),v<0&&(v=2*Math.PI+v),h&&x>v&&(x-=2*Math.PI),!h&&v>x&&(v-=2*Math.PI)}let T=v-x;if(Math.abs(T)>120*Math.PI/180){const N=v,z=r,P=i;v=h&&v>x?x+120*Math.PI/180*1:x+120*Math.PI/180*-1,y=VT(r=_+n*Math.cos(v),i=S+l*Math.sin(v),z,P,n,l,o,0,h,[v,N,_,S])}T=v-x;const E=Math.cos(x),O=Math.sin(x),L=Math.cos(v),B=Math.sin(v),I=Math.tan(T/4),j=4/3*n*I,Z=4/3*l*I,rt=[e,t],at=[e+j*O,t-Z*E],J=[r+j*B,i-Z*L],q=[r,i];if(at[0]=2*rt[0]-at[0],at[1]=2*rt[1]-at[1],d)return[at,J,q].concat(y);{y=[at,J,q].concat(y);const N=[];for(let z=0;z<y.length;z+=3){const P=nc(y[z][0],y[z][1],p),R=nc(y[z+1][0],y[z+1][1],p),$=nc(y[z+2][0],y[z+2][1],p);N.push([P[0],P[1],R[0],R[1],$[0],$[1]])}return N}}const IU={randOffset:function(e,t){return jt(e,t)},randOffsetWithRange:function(e,t,r){return Fd(e,t,r)},ellipse:function(e,t,r,i,n){const l=KT(r,i,n);return Sy(e,t,n,l).opset},doubleLineOps:function(e,t,r,i,n){return pn(e,t,r,i,n,!0)}};function XT(e,t,r,i,n){return{type:"path",ops:pn(e,t,r,i,n)}}function td(e,t,r){const i=(e||[]).length;if(i>2){const n=[];for(let l=0;l<i-1;l++)n.push(...pn(e[l][0],e[l][1],e[l+1][0],e[l+1][1],r));return t&&n.push(...pn(e[i-1][0],e[i-1][1],e[0][0],e[0][1],r)),{type:"path",ops:n}}return i===2?XT(e[0][0],e[0][1],e[1][0],e[1][1],r):{type:"path",ops:[]}}function qU(e,t,r,i,n){return(function(l,o){return td(l,!0,o)})([[e,t],[e+r,t],[e+r,t+i],[e,t+i]],n)}function q1(e,t){if(e.length){const r=typeof e[0][0]=="number"?[e]:e,i=$h(r[0],1*(1+.2*t.roughness),t),n=t.disableMultiStroke?[]:$h(r[0],1.5*(1+.22*t.roughness),G1(t));for(let l=1;l<r.length;l++){const o=r[l];if(o.length){const u=$h(o,1*(1+.2*t.roughness),t),h=t.disableMultiStroke?[]:$h(o,1.5*(1+.22*t.roughness),G1(t));for(const d of u)d.op!=="move"&&i.push(d);for(const d of h)d.op!=="move"&&n.push(d)}}return{type:"path",ops:i.concat(n)}}return{type:"path",ops:[]}}function KT(e,t,r){const i=Math.sqrt(2*Math.PI*Math.sqrt((Math.pow(e/2,2)+Math.pow(t/2,2))/2)),n=Math.ceil(Math.max(r.curveStepCount,r.curveStepCount/Math.sqrt(200)*i)),l=2*Math.PI/n;let o=Math.abs(e/2),u=Math.abs(t/2);const h=1-r.curveFitting;return o+=jt(o*h,r),u+=jt(u*h,r),{increment:l,rx:o,ry:u}}function Sy(e,t,r,i){const[n,l]=Y1(i.increment,e,t,i.rx,i.ry,1,i.increment*Fd(.1,Fd(.4,1,r),r),r);let o=Pd(n,null,r);if(!r.disableMultiStroke&&r.roughness!==0){const[u]=Y1(i.increment,e,t,i.rx,i.ry,1.5,0,r),h=Pd(u,null,r);o=o.concat(h)}return{estimatedPoints:l,opset:{type:"path",ops:o}}}function H1(e,t,r,i,n,l,o,u,h){const d=e,p=t;let g=Math.abs(r/2),y=Math.abs(i/2);g+=jt(.01*g,h),y+=jt(.01*y,h);let x=n,v=l;for(;x<0;)x+=2*Math.PI,v+=2*Math.PI;v-x>2*Math.PI&&(x=0,v=2*Math.PI);const _=2*Math.PI/h.curveStepCount,S=Math.min(_/2,(v-x)/2),T=V1(S,d,p,g,y,x,v,1,h);if(!h.disableMultiStroke){const E=V1(S,d,p,g,y,x,v,1.5,h);T.push(...E)}return o&&(u?T.push(...pn(d,p,d+g*Math.cos(x),p+y*Math.sin(x),h),...pn(d,p,d+g*Math.cos(v),p+y*Math.sin(v),h)):T.push({op:"lineTo",data:[d,p]},{op:"lineTo",data:[d+g*Math.cos(x),p+y*Math.sin(x)]})),{type:"path",ops:T}}function W1(e,t){const r=YT(GT(W0(e))),i=[];let n=[0,0],l=[0,0];for(const{key:o,data:u}of r)switch(o){case"M":l=[u[0],u[1]],n=[u[0],u[1]];break;case"L":i.push(...pn(l[0],l[1],u[0],u[1],t)),l=[u[0],u[1]];break;case"C":{const[h,d,p,g,y,x]=u;i.push(...HU(h,d,p,g,y,x,l,t)),l=[y,x];break}case"Z":i.push(...pn(l[0],l[1],n[0],n[1],t)),l=[n[0],n[1]]}return{type:"path",ops:i}}function ym(e,t){const r=[];for(const i of e)if(i.length){const n=t.maxRandomnessOffset||0,l=i.length;if(l>2){r.push({op:"move",data:[i[0][0]+jt(n,t),i[0][1]+jt(n,t)]});for(let o=1;o<l;o++)r.push({op:"lineTo",data:[i[o][0]+jt(n,t),i[o][1]+jt(n,t)]})}}return{type:"fillPath",ops:r}}function sl(e,t){return(function(r,i){let n=r.fillStyle||"hachure";if(!Or[n])switch(n){case"zigzag":Or[n]||(Or[n]=new DU(i));break;case"cross-hatch":Or[n]||(Or[n]=new jU(i));break;case"dots":Or[n]||(Or[n]=new $U(i));break;case"dashed":Or[n]||(Or[n]=new zU(i));break;case"zigzag-line":Or[n]||(Or[n]=new FU(i));break;default:n="hachure",Or[n]||(Or[n]=new H0(i))}return Or[n]})(t,IU).fillPolygons(e,t)}function G1(e){const t=Object.assign({},e);return t.randomizer=void 0,e.seed&&(t.seed=e.seed+1),t}function QT(e){return e.randomizer||(e.randomizer=new PU(e.seed||0)),e.randomizer.next()}function Fd(e,t,r,i=1){return r.roughness*i*(QT(r)*(t-e)+e)}function jt(e,t,r=1){return Fd(-e,e,t,r)}function pn(e,t,r,i,n,l=!1){const o=l?n.disableMultiStrokeFill:n.disableMultiStroke,u=ky(e,t,r,i,n,!0,!1);if(o)return u;const h=ky(e,t,r,i,n,!0,!0);return u.concat(h)}function ky(e,t,r,i,n,l,o){const u=Math.pow(e-r,2)+Math.pow(t-i,2),h=Math.sqrt(u);let d=1;d=h<200?1:h>500?.4:-.0016668*h+1.233334;let p=n.maxRandomnessOffset||0;p*p*100>u&&(p=h/10);const g=p/2,y=.2+.2*QT(n);let x=n.bowing*n.maxRandomnessOffset*(i-t)/200,v=n.bowing*n.maxRandomnessOffset*(e-r)/200;x=jt(x,n,d),v=jt(v,n,d);const _=[],S=()=>jt(g,n,d),T=()=>jt(p,n,d),E=n.preserveVertices;return o?_.push({op:"move",data:[e+(E?0:S()),t+(E?0:S())]}):_.push({op:"move",data:[e+(E?0:jt(p,n,d)),t+(E?0:jt(p,n,d))]}),o?_.push({op:"bcurveTo",data:[x+e+(r-e)*y+S(),v+t+(i-t)*y+S(),x+e+2*(r-e)*y+S(),v+t+2*(i-t)*y+S(),r+(E?0:S()),i+(E?0:S())]}):_.push({op:"bcurveTo",data:[x+e+(r-e)*y+T(),v+t+(i-t)*y+T(),x+e+2*(r-e)*y+T(),v+t+2*(i-t)*y+T(),r+(E?0:T()),i+(E?0:T())]}),_}function $h(e,t,r){if(!e.length)return[];const i=[];i.push([e[0][0]+jt(t,r),e[0][1]+jt(t,r)]),i.push([e[0][0]+jt(t,r),e[0][1]+jt(t,r)]);for(let n=1;n<e.length;n++)i.push([e[n][0]+jt(t,r),e[n][1]+jt(t,r)]),n===e.length-1&&i.push([e[n][0]+jt(t,r),e[n][1]+jt(t,r)]);return Pd(i,null,r)}function Pd(e,t,r){const i=e.length,n=[];if(i>3){const l=[],o=1-r.curveTightness;n.push({op:"move",data:[e[1][0],e[1][1]]});for(let u=1;u+2<i;u++){const h=e[u];l[0]=[h[0],h[1]],l[1]=[h[0]+(o*e[u+1][0]-o*e[u-1][0])/6,h[1]+(o*e[u+1][1]-o*e[u-1][1])/6],l[2]=[e[u+1][0]+(o*e[u][0]-o*e[u+2][0])/6,e[u+1][1]+(o*e[u][1]-o*e[u+2][1])/6],l[3]=[e[u+1][0],e[u+1][1]],n.push({op:"bcurveTo",data:[l[1][0],l[1][1],l[2][0],l[2][1],l[3][0],l[3][1]]})}}else i===3?(n.push({op:"move",data:[e[1][0],e[1][1]]}),n.push({op:"bcurveTo",data:[e[1][0],e[1][1],e[2][0],e[2][1],e[2][0],e[2][1]]})):i===2&&n.push(...ky(e[0][0],e[0][1],e[1][0],e[1][1],r,!0,!0));return n}function Y1(e,t,r,i,n,l,o,u){const h=[],d=[];if(u.roughness===0){e/=4,d.push([t+i*Math.cos(-e),r+n*Math.sin(-e)]);for(let p=0;p<=2*Math.PI;p+=e){const g=[t+i*Math.cos(p),r+n*Math.sin(p)];h.push(g),d.push(g)}d.push([t+i*Math.cos(0),r+n*Math.sin(0)]),d.push([t+i*Math.cos(e),r+n*Math.sin(e)])}else{const p=jt(.5,u)-Math.PI/2;d.push([jt(l,u)+t+.9*i*Math.cos(p-e),jt(l,u)+r+.9*n*Math.sin(p-e)]);const g=2*Math.PI+p-.01;for(let y=p;y<g;y+=e){const x=[jt(l,u)+t+i*Math.cos(y),jt(l,u)+r+n*Math.sin(y)];h.push(x),d.push(x)}d.push([jt(l,u)+t+i*Math.cos(p+2*Math.PI+.5*o),jt(l,u)+r+n*Math.sin(p+2*Math.PI+.5*o)]),d.push([jt(l,u)+t+.98*i*Math.cos(p+o),jt(l,u)+r+.98*n*Math.sin(p+o)]),d.push([jt(l,u)+t+.9*i*Math.cos(p+.5*o),jt(l,u)+r+.9*n*Math.sin(p+.5*o)])}return[d,h]}function V1(e,t,r,i,n,l,o,u,h){const d=l+jt(.1,h),p=[];p.push([jt(u,h)+t+.9*i*Math.cos(d-e),jt(u,h)+r+.9*n*Math.sin(d-e)]);for(let g=d;g<=o;g+=e)p.push([jt(u,h)+t+i*Math.cos(g),jt(u,h)+r+n*Math.sin(g)]);return p.push([t+i*Math.cos(o),r+n*Math.sin(o)]),p.push([t+i*Math.cos(o),r+n*Math.sin(o)]),Pd(p,null,h)}function HU(e,t,r,i,n,l,o,u){const h=[],d=[u.maxRandomnessOffset||1,(u.maxRandomnessOffset||1)+.3];let p=[0,0];const g=u.disableMultiStroke?1:2,y=u.preserveVertices;for(let x=0;x<g;x++)x===0?h.push({op:"move",data:[o[0],o[1]]}):h.push({op:"move",data:[o[0]+(y?0:jt(d[0],u)),o[1]+(y?0:jt(d[0],u))]}),p=y?[n,l]:[n+jt(d[x],u),l+jt(d[x],u)],h.push({op:"bcurveTo",data:[e+jt(d[x],u),t+jt(d[x],u),r+jt(d[x],u),i+jt(d[x],u),p[0],p[1]]});return h}function sc(e){return[...e]}function X1(e,t=0){const r=e.length;if(r<3)throw new Error("A curve must have at least three points.");const i=[];if(r===3)i.push(sc(e[0]),sc(e[1]),sc(e[2]),sc(e[2]));else{const n=[];n.push(e[0],e[0]);for(let u=1;u<e.length;u++)n.push(e[u]),u===e.length-1&&n.push(e[u]);const l=[],o=1-t;i.push(sc(n[0]));for(let u=1;u+2<n.length;u++){const h=n[u];l[0]=[h[0],h[1]],l[1]=[h[0]+(o*n[u+1][0]-o*n[u-1][0])/6,h[1]+(o*n[u+1][1]-o*n[u-1][1])/6],l[2]=[n[u+1][0]+(o*n[u][0]-o*n[u+2][0])/6,n[u+1][1]+(o*n[u][1]-o*n[u+2][1])/6],l[3]=[n[u+1][0],n[u+1][1]],i.push(l[1],l[2],l[3])}}return i}function ed(e,t){return Math.pow(e[0]-t[0],2)+Math.pow(e[1]-t[1],2)}function WU(e,t,r){const i=ed(t,r);if(i===0)return ed(e,t);let n=((e[0]-t[0])*(r[0]-t[0])+(e[1]-t[1])*(r[1]-t[1]))/i;return n=Math.max(0,Math.min(1,n)),ed(e,Wn(t,r,n))}function Wn(e,t,r){return[e[0]+(t[0]-e[0])*r,e[1]+(t[1]-e[1])*r]}function Cy(e,t,r,i){const n=i||[];if((function(u,h){const d=u[h+0],p=u[h+1],g=u[h+2],y=u[h+3];let x=3*p[0]-2*d[0]-y[0];x*=x;let v=3*p[1]-2*d[1]-y[1];v*=v;let _=3*g[0]-2*y[0]-d[0];_*=_;let S=3*g[1]-2*y[1]-d[1];return S*=S,x<_&&(x=_),v<S&&(v=S),x+v})(e,t)<r){const u=e[t+0];n.length?(l=n[n.length-1],o=u,Math.sqrt(ed(l,o))>1&&n.push(u)):n.push(u),n.push(e[t+3])}else{const h=e[t+0],d=e[t+1],p=e[t+2],g=e[t+3],y=Wn(h,d,.5),x=Wn(d,p,.5),v=Wn(p,g,.5),_=Wn(y,x,.5),S=Wn(x,v,.5),T=Wn(_,S,.5);Cy([h,y,_,T],0,r,n),Cy([T,S,v,g],0,r,n)}var l,o;return n}function GU(e,t){return Ud(e,0,e.length,t)}function Ud(e,t,r,i,n){const l=n||[],o=e[t],u=e[r-1];let h=0,d=1;for(let p=t+1;p<r-1;++p){const g=WU(e[p],o,u);g>h&&(h=g,d=p)}return Math.sqrt(h)>i?(Ud(e,t,d+1,i,l),Ud(e,d,r,i,l)):(l.length||l.push(o),l.push(u)),l}function bm(e,t=.15,r){const i=[],n=(e.length-1)/3;for(let l=0;l<n;l++)Cy(e,3*l,t,i);return r&&r>0?Ud(i,0,i.length,r):i}const qr="none";class Id{constructor(t){this.defaultOptions={maxRandomnessOffset:2,roughness:1,bowing:1,stroke:"#000",strokeWidth:1,curveTightness:0,curveFitting:.95,curveStepCount:9,fillStyle:"hachure",fillWeight:-1,hachureAngle:-41,hachureGap:-1,dashOffset:-1,dashGap:-1,zigzagOffset:-1,seed:0,disableMultiStroke:!1,disableMultiStrokeFill:!1,preserveVertices:!1,fillShapeRoughnessGain:.8},this.config=t||{},this.config.options&&(this.defaultOptions=this._o(this.config.options))}static newSeed(){return Math.floor(Math.random()*2**31)}_o(t){return t?Object.assign({},this.defaultOptions,t):this.defaultOptions}_d(t,r,i){return{shape:t,sets:r||[],options:i||this.defaultOptions}}line(t,r,i,n,l){const o=this._o(l);return this._d("line",[XT(t,r,i,n,o)],o)}rectangle(t,r,i,n,l){const o=this._o(l),u=[],h=qU(t,r,i,n,o);if(o.fill){const d=[[t,r],[t+i,r],[t+i,r+n],[t,r+n]];o.fillStyle==="solid"?u.push(ym([d],o)):u.push(sl([d],o))}return o.stroke!==qr&&u.push(h),this._d("rectangle",u,o)}ellipse(t,r,i,n,l){const o=this._o(l),u=[],h=KT(i,n,o),d=Sy(t,r,o,h);if(o.fill)if(o.fillStyle==="solid"){const p=Sy(t,r,o,h).opset;p.type="fillPath",u.push(p)}else u.push(sl([d.estimatedPoints],o));return o.stroke!==qr&&u.push(d.opset),this._d("ellipse",u,o)}circle(t,r,i,n){const l=this.ellipse(t,r,i,i,n);return l.shape="circle",l}linearPath(t,r){const i=this._o(r);return this._d("linearPath",[td(t,!1,i)],i)}arc(t,r,i,n,l,o,u=!1,h){const d=this._o(h),p=[],g=H1(t,r,i,n,l,o,u,!0,d);if(u&&d.fill)if(d.fillStyle==="solid"){const y=Object.assign({},d);y.disableMultiStroke=!0;const x=H1(t,r,i,n,l,o,!0,!1,y);x.type="fillPath",p.push(x)}else p.push((function(y,x,v,_,S,T,E){const O=y,L=x;let B=Math.abs(v/2),I=Math.abs(_/2);B+=jt(.01*B,E),I+=jt(.01*I,E);let j=S,Z=T;for(;j<0;)j+=2*Math.PI,Z+=2*Math.PI;Z-j>2*Math.PI&&(j=0,Z=2*Math.PI);const rt=(Z-j)/E.curveStepCount,at=[];for(let J=j;J<=Z;J+=rt)at.push([O+B*Math.cos(J),L+I*Math.sin(J)]);return at.push([O+B*Math.cos(Z),L+I*Math.sin(Z)]),at.push([O,L]),sl([at],E)})(t,r,i,n,l,o,d));return d.stroke!==qr&&p.push(g),this._d("arc",p,d)}curve(t,r){const i=this._o(r),n=[],l=q1(t,i);if(i.fill&&i.fill!==qr)if(i.fillStyle==="solid"){const o=q1(t,Object.assign(Object.assign({},i),{disableMultiStroke:!0,roughness:i.roughness?i.roughness+i.fillShapeRoughnessGain:0}));n.push({type:"fillPath",ops:this._mergedShape(o.ops)})}else{const o=[],u=t;if(u.length){const h=typeof u[0][0]=="number"?[u]:u;for(const d of h)d.length<3?o.push(...d):d.length===3?o.push(...bm(X1([d[0],d[0],d[1],d[2]]),10,(1+i.roughness)/2)):o.push(...bm(X1(d),10,(1+i.roughness)/2))}o.length&&n.push(sl([o],i))}return i.stroke!==qr&&n.push(l),this._d("curve",n,i)}polygon(t,r){const i=this._o(r),n=[],l=td(t,!0,i);return i.fill&&(i.fillStyle==="solid"?n.push(ym([t],i)):n.push(sl([t],i))),i.stroke!==qr&&n.push(l),this._d("polygon",n,i)}path(t,r){const i=this._o(r),n=[];if(!t)return this._d("path",n,i);t=(t||"").replace(/\n/g," ").replace(/(-\s)/g,"-").replace("/(ss)/g"," ");const l=i.fill&&i.fill!=="transparent"&&i.fill!==qr,o=i.stroke!==qr,u=!!(i.simplification&&i.simplification<1),h=(function(p,g,y){const x=YT(GT(W0(p))),v=[];let _=[],S=[0,0],T=[];const E=()=>{T.length>=4&&_.push(...bm(T,g)),T=[]},O=()=>{E(),_.length&&(v.push(_),_=[])};for(const{key:B,data:I}of x)switch(B){case"M":O(),S=[I[0],I[1]],_.push(S);break;case"L":E(),_.push([I[0],I[1]]);break;case"C":if(!T.length){const j=_.length?_[_.length-1]:S;T.push([j[0],j[1]])}T.push([I[0],I[1]]),T.push([I[2],I[3]]),T.push([I[4],I[5]]);break;case"Z":E(),_.push([S[0],S[1]])}if(O(),!y)return v;const L=[];for(const B of v){const I=GU(B,y);I.length&&L.push(I)}return L})(t,1,u?4-4*(i.simplification||1):(1+i.roughness)/2),d=W1(t,i);if(l)if(i.fillStyle==="solid")if(h.length===1){const p=W1(t,Object.assign(Object.assign({},i),{disableMultiStroke:!0,roughness:i.roughness?i.roughness+i.fillShapeRoughnessGain:0}));n.push({type:"fillPath",ops:this._mergedShape(p.ops)})}else n.push(ym(h,i));else n.push(sl(h,i));return o&&(u?h.forEach((p=>{n.push(td(p,!1,i))})):n.push(d)),this._d("path",n,i)}opsToPath(t,r){let i="";for(const n of t.ops){const l=typeof r=="number"&&r>=0?n.data.map((o=>+o.toFixed(r))):n.data;switch(n.op){case"move":i+=`M${l[0]} ${l[1]} `;break;case"bcurveTo":i+=`C${l[0]} ${l[1]}, ${l[2]} ${l[3]}, ${l[4]} ${l[5]} `;break;case"lineTo":i+=`L${l[0]} ${l[1]} `}}return i.trim()}toPaths(t){const r=t.sets||[],i=t.options||this.defaultOptions,n=[];for(const l of r){let o=null;switch(l.type){case"path":o={d:this.opsToPath(l),stroke:i.stroke,strokeWidth:i.strokeWidth,fill:qr};break;case"fillPath":o={d:this.opsToPath(l),stroke:qr,strokeWidth:0,fill:i.fill||qr};break;case"fillSketch":o=this.fillSketch(l,i)}o&&n.push(o)}return n}fillSketch(t,r){let i=r.fillWeight;return i<0&&(i=r.strokeWidth/2),{d:this.opsToPath(t),stroke:r.fill||qr,strokeWidth:i,fill:qr}}_mergedShape(t){return t.filter(((r,i)=>i===0||r.op!=="move"))}}class YU{constructor(t,r){this.canvas=t,this.ctx=this.canvas.getContext("2d"),this.gen=new Id(r)}draw(t){const r=t.sets||[],i=t.options||this.getDefaultOptions(),n=this.ctx,l=t.options.fixedDecimalPlaceDigits;for(const o of r)switch(o.type){case"path":n.save(),n.strokeStyle=i.stroke==="none"?"transparent":i.stroke,n.lineWidth=i.strokeWidth,i.strokeLineDash&&n.setLineDash(i.strokeLineDash),i.strokeLineDashOffset&&(n.lineDashOffset=i.strokeLineDashOffset),this._drawToContext(n,o,l),n.restore();break;case"fillPath":{n.save(),n.fillStyle=i.fill||"";const u=t.shape==="curve"||t.shape==="polygon"||t.shape==="path"?"evenodd":"nonzero";this._drawToContext(n,o,l,u),n.restore();break}case"fillSketch":this.fillSketch(n,o,i)}}fillSketch(t,r,i){let n=i.fillWeight;n<0&&(n=i.strokeWidth/2),t.save(),i.fillLineDash&&t.setLineDash(i.fillLineDash),i.fillLineDashOffset&&(t.lineDashOffset=i.fillLineDashOffset),t.strokeStyle=i.fill||"",t.lineWidth=n,this._drawToContext(t,r,i.fixedDecimalPlaceDigits),t.restore()}_drawToContext(t,r,i,n="nonzero"){t.beginPath();for(const l of r.ops){const o=typeof i=="number"&&i>=0?l.data.map((u=>+u.toFixed(i))):l.data;switch(l.op){case"move":t.moveTo(o[0],o[1]);break;case"bcurveTo":t.bezierCurveTo(o[0],o[1],o[2],o[3],o[4],o[5]);break;case"lineTo":t.lineTo(o[0],o[1])}}r.type==="fillPath"?t.fill(n):t.stroke()}get generator(){return this.gen}getDefaultOptions(){return this.gen.defaultOptions}line(t,r,i,n,l){const o=this.gen.line(t,r,i,n,l);return this.draw(o),o}rectangle(t,r,i,n,l){const o=this.gen.rectangle(t,r,i,n,l);return this.draw(o),o}ellipse(t,r,i,n,l){const o=this.gen.ellipse(t,r,i,n,l);return this.draw(o),o}circle(t,r,i,n){const l=this.gen.circle(t,r,i,n);return this.draw(l),l}linearPath(t,r){const i=this.gen.linearPath(t,r);return this.draw(i),i}polygon(t,r){const i=this.gen.polygon(t,r);return this.draw(i),i}arc(t,r,i,n,l,o,u=!1,h){const d=this.gen.arc(t,r,i,n,l,o,u,h);return this.draw(d),d}curve(t,r){const i=this.gen.curve(t,r);return this.draw(i),i}path(t,r){const i=this.gen.path(t,r);return this.draw(i),i}}const zh="http://www.w3.org/2000/svg";class VU{constructor(t,r){this.svg=t,this.gen=new Id(r)}draw(t){const r=t.sets||[],i=t.options||this.getDefaultOptions(),n=this.svg.ownerDocument||window.document,l=n.createElementNS(zh,"g"),o=t.options.fixedDecimalPlaceDigits;for(const u of r){let h=null;switch(u.type){case"path":h=n.createElementNS(zh,"path"),h.setAttribute("d",this.opsToPath(u,o)),h.setAttribute("stroke",i.stroke),h.setAttribute("stroke-width",i.strokeWidth+""),h.setAttribute("fill","none"),i.strokeLineDash&&h.setAttribute("stroke-dasharray",i.strokeLineDash.join(" ").trim()),i.strokeLineDashOffset&&h.setAttribute("stroke-dashoffset",`${i.strokeLineDashOffset}`);break;case"fillPath":h=n.createElementNS(zh,"path"),h.setAttribute("d",this.opsToPath(u,o)),h.setAttribute("stroke","none"),h.setAttribute("stroke-width","0"),h.setAttribute("fill",i.fill||""),t.shape!=="curve"&&t.shape!=="polygon"||h.setAttribute("fill-rule","evenodd");break;case"fillSketch":h=this.fillSketch(n,u,i)}h&&l.appendChild(h)}return l}fillSketch(t,r,i){let n=i.fillWeight;n<0&&(n=i.strokeWidth/2);const l=t.createElementNS(zh,"path");return l.setAttribute("d",this.opsToPath(r,i.fixedDecimalPlaceDigits)),l.setAttribute("stroke",i.fill||""),l.setAttribute("stroke-width",n+""),l.setAttribute("fill","none"),i.fillLineDash&&l.setAttribute("stroke-dasharray",i.fillLineDash.join(" ").trim()),i.fillLineDashOffset&&l.setAttribute("stroke-dashoffset",`${i.fillLineDashOffset}`),l}get generator(){return this.gen}getDefaultOptions(){return this.gen.defaultOptions}opsToPath(t,r){return this.gen.opsToPath(t,r)}line(t,r,i,n,l){const o=this.gen.line(t,r,i,n,l);return this.draw(o)}rectangle(t,r,i,n,l){const o=this.gen.rectangle(t,r,i,n,l);return this.draw(o)}ellipse(t,r,i,n,l){const o=this.gen.ellipse(t,r,i,n,l);return this.draw(o)}circle(t,r,i,n){const l=this.gen.circle(t,r,i,n);return this.draw(l)}linearPath(t,r){const i=this.gen.linearPath(t,r);return this.draw(i)}polygon(t,r){const i=this.gen.polygon(t,r);return this.draw(i)}arc(t,r,i,n,l,o,u=!1,h){const d=this.gen.arc(t,r,i,n,l,o,u,h);return this.draw(d)}curve(t,r){const i=this.gen.curve(t,r);return this.draw(i)}path(t,r){const i=this.gen.path(t,r);return this.draw(i)}}var xt={canvas:(e,t)=>new YU(e,t),svg:(e,t)=>new VU(e,t),generator:e=>new Id(e),newSeed:()=>Id.newSeed()},Bt=w(async(e,t,r)=>{let i;const n=t.useHtmlLabels||We(ie()?.htmlLabels);r?i=r:i="node default";const l=e.insert("g").attr("class",i).attr("id",t.domId||t.id),o=l.insert("g").attr("class","label").attr("style",hr(t.labelStyle));let u;t.label===void 0?u="":u=typeof t.label=="string"?t.label:t.label[0];const h=await yn(o,di(ps(u),ie()),{useHtmlLabels:n,width:t.width||ie().flowchart?.wrappingWidth,cssClasses:"markdown-node-label",style:t.labelStyle,addSvgBackground:!!t.icon||!!t.img});let d=h.getBBox();const p=(t?.padding??0)/2;if(n){const g=h.children[0],y=Xt(h),x=g.getElementsByTagName("img");if(x){const v=u.replace(/<img[^>]*>/g,"").trim()==="";await Promise.all([...x].map(_=>new Promise(S=>{function T(){if(_.style.display="flex",_.style.flexDirection="column",v){const E=ie().fontSize?ie().fontSize:window.getComputedStyle(document.body).fontSize,O=5,[L=h2.fontSize]=pf(E),B=L*O+"px";_.style.minWidth=B,_.style.maxWidth=B}else _.style.width="100%";S(_)}w(T,"setupImage"),setTimeout(()=>{_.complete&&T()}),_.addEventListener("error",T),_.addEventListener("load",T)})))}d=g.getBoundingClientRect(),y.attr("width",d.width),y.attr("height",d.height)}return n?o.attr("transform","translate("+-d.width/2+", "+-d.height/2+")"):o.attr("transform","translate(0, "+-d.height/2+")"),t.centerLabel&&o.attr("transform","translate("+-d.width/2+", "+-d.height/2+")"),o.insert("rect",":first-child"),{shapeSvg:l,bbox:d,halfPadding:p,label:o}},"labelHelper"),xm=w(async(e,t,r)=>{const i=r.useHtmlLabels||We(ie()?.flowchart?.htmlLabels),n=e.insert("g").attr("class","label").attr("style",r.labelStyle||""),l=await yn(n,di(ps(t),ie()),{useHtmlLabels:i,width:r.width||ie()?.flowchart?.wrappingWidth,style:r.labelStyle,addSvgBackground:!!r.icon||!!r.img});let o=l.getBBox();const u=r.padding/2;if(We(ie()?.flowchart?.htmlLabels)){const h=l.children[0],d=Xt(l);o=h.getBoundingClientRect(),d.attr("width",o.width),d.attr("height",o.height)}return i?n.attr("transform","translate("+-o.width/2+", "+-o.height/2+")"):n.attr("transform","translate(0, "+-o.height/2+")"),r.centerLabel&&n.attr("transform","translate("+-o.width/2+", "+-o.height/2+")"),n.insert("rect",":first-child"),{shapeSvg:e,bbox:o,halfPadding:u,label:n}},"insertLabel"),wt=w((e,t)=>{const r=t.node().getBBox();e.width=r.width,e.height=r.height},"updateNodeBounds"),Rt=w((e,t)=>(e.look==="handDrawn"?"rough-node":"node")+" "+e.cssClasses+" "+(t||""),"getNodeClasses");function Wt(e){const t=e.map((r,i)=>`${i===0?"M":"L"}${r.x},${r.y}`);return t.push("Z"),t.join(" ")}w(Wt,"createPathFromPoints");function gn(e,t,r,i,n,l){const o=[],h=r-e,d=i-t,p=h/l,g=2*Math.PI/p,y=t+d/2;for(let x=0;x<=50;x++){const v=x/50,_=e+v*h,S=y+n*Math.sin(g*(_-e));o.push({x:_,y:S})}return o}w(gn,"generateFullSineWavePoints");function qc(e,t,r,i,n,l){const o=[],u=n*Math.PI/180,p=(l*Math.PI/180-u)/(i-1);for(let g=0;g<i;g++){const y=u+g*p,x=e+r*Math.cos(y),v=t+r*Math.sin(y);o.push({x:-x,y:-v})}return o}w(qc,"generateCirclePoints");var XU=w((e,t)=>{var r=e.x,i=e.y,n=t.x-r,l=t.y-i,o=e.width/2,u=e.height/2,h,d;return Math.abs(l)*o>Math.abs(n)*u?(l<0&&(u=-u),h=l===0?0:u*n/l,d=u):(n<0&&(o=-o),h=o,d=n===0?0:o*l/n),{x:r+h,y:i+d}},"intersectRect"),ql=XU;function ZT(e,t){t&&e.attr("style",t)}w(ZT,"applyStyle");async function JT(e){const t=Xt(document.createElementNS("http://www.w3.org/2000/svg","foreignObject")),r=t.append("xhtml:div"),i=ie();let n=e.label;e.label&&Al(e.label)&&(n=await Zy(e.label.replace(Fl.lineBreakRegex,`
`),i));const o='<span class="'+(e.isNode?"nodeLabel":"edgeLabel")+'" '+(e.labelStyle?'style="'+e.labelStyle+'"':"")+">"+n+"</span>";return r.html(di(o,i)),ZT(r,e.labelStyle),r.style("display","inline-block"),r.style("padding-right","1px"),r.style("white-space","nowrap"),r.attr("xmlns","http://www.w3.org/1999/xhtml"),t.node()}w(JT,"addHtmlLabel");var KU=w(async(e,t,r,i)=>{let n=e||"";if(typeof n=="object"&&(n=n[0]),We(ie().flowchart.htmlLabels)){n=n.replace(/\\n|\n/g,"<br />"),lt.info("vertexText"+n);const l={isNode:i,label:ps(n).replace(/fa[blrs]?:fa-[\w-]+/g,u=>`<i class='${u.replace(":"," ")}'></i>`),labelStyle:t&&t.replace("fill:","color:")};return await JT(l)}else{const l=document.createElementNS("http://www.w3.org/2000/svg","text");l.setAttribute("style",t.replace("color:","fill:"));let o=[];typeof n=="string"?o=n.split(/\\n|\n|<br\s*\/?>/gi):Array.isArray(n)?o=n:o=[];for(const u of o){const h=document.createElementNS("http://www.w3.org/2000/svg","tspan");h.setAttributeNS("http://www.w3.org/XML/1998/namespace","xml:space","preserve"),h.setAttribute("dy","1em"),h.setAttribute("x","0"),r?h.setAttribute("class","title-row"):h.setAttribute("class","row"),h.textContent=u.trim(),l.appendChild(h)}return l}},"createLabel"),ts=KU,bn=w((e,t,r,i,n)=>["M",e+n,t,"H",e+r-n,"A",n,n,0,0,1,e+r,t+n,"V",t+i-n,"A",n,n,0,0,1,e+r-n,t+i,"H",e+n,"A",n,n,0,0,1,e,t+i-n,"V",t+n,"A",n,n,0,0,1,e+n,t,"Z"].join(" "),"createRoundedRectPathD"),tE=w(async(e,t)=>{lt.info("Creating subgraph rect for ",t.id,t);const r=ie(),{themeVariables:i,handDrawnSeed:n}=r,{clusterBkg:l,clusterBorder:o}=i,{labelStyles:u,nodeStyles:h,borderStyles:d,backgroundStyles:p}=_t(t),g=e.insert("g").attr("class","cluster "+t.cssClasses).attr("id",t.id).attr("data-look",t.look),y=We(r.flowchart.htmlLabels),x=g.insert("g").attr("class","cluster-label "),v=await yn(x,t.label,{style:t.labelStyle,useHtmlLabels:y,isNode:!0});let _=v.getBBox();if(We(r.flowchart.htmlLabels)){const j=v.children[0],Z=Xt(v);_=j.getBoundingClientRect(),Z.attr("width",_.width),Z.attr("height",_.height)}const S=t.width<=_.width+t.padding?_.width+t.padding:t.width;t.width<=_.width+t.padding?t.diff=(S-t.width)/2-t.padding:t.diff=-t.padding;const T=t.height,E=t.x-S/2,O=t.y-T/2;lt.trace("Data ",t,JSON.stringify(t));let L;if(t.look==="handDrawn"){const j=xt.svg(g),Z=vt(t,{roughness:.7,fill:l,stroke:o,fillWeight:3,seed:n}),rt=j.path(bn(E,O,S,T,0),Z);L=g.insert(()=>(lt.debug("Rough node insert CXC",rt),rt),":first-child"),L.select("path:nth-child(2)").attr("style",d.join(";")),L.select("path").attr("style",p.join(";").replace("fill","stroke"))}else L=g.insert("rect",":first-child"),L.attr("style",h).attr("rx",t.rx).attr("ry",t.ry).attr("x",E).attr("y",O).attr("width",S).attr("height",T);const{subGraphTitleTopMargin:B}=S0(r);if(x.attr("transform",`translate(${t.x-_.width/2}, ${t.y-t.height/2+B})`),u){const j=x.select("span");j&&j.attr("style",u)}const I=L.node().getBBox();return t.offsetX=0,t.width=I.width,t.height=I.height,t.offsetY=_.height-t.padding/2,t.intersect=function(j){return ql(t,j)},{cluster:g,labelBBox:_}},"rect"),QU=w((e,t)=>{const r=e.insert("g").attr("class","note-cluster").attr("id",t.id),i=r.insert("rect",":first-child"),n=0*t.padding,l=n/2;i.attr("rx",t.rx).attr("ry",t.ry).attr("x",t.x-t.width/2-l).attr("y",t.y-t.height/2-l).attr("width",t.width+n).attr("height",t.height+n).attr("fill","none");const o=i.node().getBBox();return t.width=o.width,t.height=o.height,t.intersect=function(u){return ql(t,u)},{cluster:r,labelBBox:{width:0,height:0}}},"noteGroup"),ZU=w(async(e,t)=>{const r=ie(),{themeVariables:i,handDrawnSeed:n}=r,{altBackground:l,compositeBackground:o,compositeTitleBackground:u,nodeBorder:h}=i,d=e.insert("g").attr("class",t.cssClasses).attr("id",t.id).attr("data-id",t.id).attr("data-look",t.look),p=d.insert("g",":first-child"),g=d.insert("g").attr("class","cluster-label");let y=d.append("rect");const x=g.node().appendChild(await ts(t.label,t.labelStyle,void 0,!0));let v=x.getBBox();if(We(r.flowchart.htmlLabels)){const rt=x.children[0],at=Xt(x);v=rt.getBoundingClientRect(),at.attr("width",v.width),at.attr("height",v.height)}const _=0*t.padding,S=_/2,T=(t.width<=v.width+t.padding?v.width+t.padding:t.width)+_;t.width<=v.width+t.padding?t.diff=(T-t.width)/2-t.padding:t.diff=-t.padding;const E=t.height+_,O=t.height+_-v.height-6,L=t.x-T/2,B=t.y-E/2;t.width=T;const I=t.y-t.height/2-S+v.height+2;let j;if(t.look==="handDrawn"){const rt=t.cssClasses.includes("statediagram-cluster-alt"),at=xt.svg(d),J=t.rx||t.ry?at.path(bn(L,B,T,E,10),{roughness:.7,fill:u,fillStyle:"solid",stroke:h,seed:n}):at.rectangle(L,B,T,E,{seed:n});j=d.insert(()=>J,":first-child");const q=at.rectangle(L,I,T,O,{fill:rt?l:o,fillStyle:rt?"hachure":"solid",stroke:h,seed:n});j=d.insert(()=>J,":first-child"),y=d.insert(()=>q)}else j=p.insert("rect",":first-child"),j.attr("class","outer").attr("x",L).attr("y",B).attr("width",T).attr("height",E).attr("data-look",t.look),y.attr("class","inner").attr("x",L).attr("y",I).attr("width",T).attr("height",O);g.attr("transform",`translate(${t.x-v.width/2}, ${B+1-(We(r.flowchart.htmlLabels)?0:3)})`);const Z=j.node().getBBox();return t.height=Z.height,t.offsetX=0,t.offsetY=v.height-t.padding/2,t.labelBBox=v,t.intersect=function(rt){return ql(t,rt)},{cluster:d,labelBBox:v}},"roundedWithTitle"),JU=w(async(e,t)=>{lt.info("Creating subgraph rect for ",t.id,t);const r=ie(),{themeVariables:i,handDrawnSeed:n}=r,{clusterBkg:l,clusterBorder:o}=i,{labelStyles:u,nodeStyles:h,borderStyles:d,backgroundStyles:p}=_t(t),g=e.insert("g").attr("class","cluster "+t.cssClasses).attr("id",t.id).attr("data-look",t.look),y=We(r.flowchart.htmlLabels),x=g.insert("g").attr("class","cluster-label "),v=await yn(x,t.label,{style:t.labelStyle,useHtmlLabels:y,isNode:!0,width:t.width});let _=v.getBBox();if(We(r.flowchart.htmlLabels)){const j=v.children[0],Z=Xt(v);_=j.getBoundingClientRect(),Z.attr("width",_.width),Z.attr("height",_.height)}const S=t.width<=_.width+t.padding?_.width+t.padding:t.width;t.width<=_.width+t.padding?t.diff=(S-t.width)/2-t.padding:t.diff=-t.padding;const T=t.height,E=t.x-S/2,O=t.y-T/2;lt.trace("Data ",t,JSON.stringify(t));let L;if(t.look==="handDrawn"){const j=xt.svg(g),Z=vt(t,{roughness:.7,fill:l,stroke:o,fillWeight:4,seed:n}),rt=j.path(bn(E,O,S,T,t.rx),Z);L=g.insert(()=>(lt.debug("Rough node insert CXC",rt),rt),":first-child"),L.select("path:nth-child(2)").attr("style",d.join(";")),L.select("path").attr("style",p.join(";").replace("fill","stroke"))}else L=g.insert("rect",":first-child"),L.attr("style",h).attr("rx",t.rx).attr("ry",t.ry).attr("x",E).attr("y",O).attr("width",S).attr("height",T);const{subGraphTitleTopMargin:B}=S0(r);if(x.attr("transform",`translate(${t.x-_.width/2}, ${t.y-t.height/2+B})`),u){const j=x.select("span");j&&j.attr("style",u)}const I=L.node().getBBox();return t.offsetX=0,t.width=I.width,t.height=I.height,t.offsetY=_.height-t.padding/2,t.intersect=function(j){return ql(t,j)},{cluster:g,labelBBox:_}},"kanbanSection"),tI=w((e,t)=>{const r=ie(),{themeVariables:i,handDrawnSeed:n}=r,{nodeBorder:l}=i,o=e.insert("g").attr("class",t.cssClasses).attr("id",t.id).attr("data-look",t.look),u=o.insert("g",":first-child"),h=0*t.padding,d=t.width+h;t.diff=-t.padding;const p=t.height+h,g=t.x-d/2,y=t.y-p/2;t.width=d;let x;if(t.look==="handDrawn"){const S=xt.svg(o).rectangle(g,y,d,p,{fill:"lightgrey",roughness:.5,strokeLineDash:[5],stroke:l,seed:n});x=o.insert(()=>S,":first-child")}else x=u.insert("rect",":first-child"),x.attr("class","divider").attr("x",g).attr("y",y).attr("width",d).attr("height",p).attr("data-look",t.look);const v=x.node().getBBox();return t.height=v.height,t.offsetX=0,t.offsetY=0,t.intersect=function(_){return ql(t,_)},{cluster:o,labelBBox:{}}},"divider"),eI=tE,rI={rect:tE,squareRect:eI,roundedWithTitle:ZU,noteGroup:QU,divider:tI,kanbanSection:JU},eE=new Map,iI=w(async(e,t)=>{const r=t.shape||"rect",i=await rI[r](e,t);return eE.set(t.id,i),i},"insertCluster"),q7=w(()=>{eE=new Map},"clear");function rE(e,t){return e.intersect(t)}w(rE,"intersectNode");var aI=rE;function iE(e,t,r,i){var n=e.x,l=e.y,o=n-i.x,u=l-i.y,h=Math.sqrt(t*t*u*u+r*r*o*o),d=Math.abs(t*r*o/h);i.x<n&&(d=-d);var p=Math.abs(t*r*u/h);return i.y<l&&(p=-p),{x:n+d,y:l+p}}w(iE,"intersectEllipse");var aE=iE;function nE(e,t,r){return aE(e,t,t,r)}w(nE,"intersectCircle");var nI=nE;function sE(e,t,r,i){{const n=t.y-e.y,l=e.x-t.x,o=t.x*e.y-e.x*t.y,u=n*r.x+l*r.y+o,h=n*i.x+l*i.y+o,d=1e-6;if(u!==0&&h!==0&&Ty(u,h))return;const p=i.y-r.y,g=r.x-i.x,y=i.x*r.y-r.x*i.y,x=p*e.x+g*e.y+y,v=p*t.x+g*t.y+y;if(Math.abs(x)<d&&Math.abs(v)<d&&Ty(x,v))return;const _=n*g-p*l;if(_===0)return;const S=Math.abs(_/2);let T=l*y-g*o;const E=T<0?(T-S)/_:(T+S)/_;T=p*o-n*y;const O=T<0?(T-S)/_:(T+S)/_;return{x:E,y:O}}}w(sE,"intersectLine");function Ty(e,t){return e*t>0}w(Ty,"sameSign");var sI=sE;function lE(e,t,r){let i=e.x,n=e.y,l=[],o=Number.POSITIVE_INFINITY,u=Number.POSITIVE_INFINITY;typeof t.forEach=="function"?t.forEach(function(p){o=Math.min(o,p.x),u=Math.min(u,p.y)}):(o=Math.min(o,t.x),u=Math.min(u,t.y));let h=i-e.width/2-o,d=n-e.height/2-u;for(let p=0;p<t.length;p++){let g=t[p],y=t[p<t.length-1?p+1:0],x=sI(e,r,{x:h+g.x,y:d+g.y},{x:h+y.x,y:d+y.y});x&&l.push(x)}return l.length?(l.length>1&&l.sort(function(p,g){let y=p.x-r.x,x=p.y-r.y,v=Math.sqrt(y*y+x*x),_=g.x-r.x,S=g.y-r.y,T=Math.sqrt(_*_+S*S);return v<T?-1:v===T?0:1}),l[0]):e}w(lE,"intersectPolygon");var lI=lE,pt={node:aI,circle:nI,ellipse:aE,polygon:lI,rect:ql};function oE(e,t){const{labelStyles:r}=_t(t);t.labelStyle=r;const i=Rt(t);let n=i;i||(n="anchor");const l=e.insert("g").attr("class",n).attr("id",t.domId||t.id),o=1,{cssStyles:u}=t,h=xt.svg(l),d=vt(t,{fill:"black",stroke:"none",fillStyle:"solid"});t.look!=="handDrawn"&&(d.roughness=0);const p=h.circle(0,0,o*2,d),g=l.insert(()=>p,":first-child");return g.attr("class","anchor").attr("style",hr(u)),wt(t,g),t.intersect=function(y){return lt.info("Circle intersect",t,o,y),pt.circle(t,o,y)},l}w(oE,"anchor");function Ey(e,t,r,i,n,l,o){const h=(e+r)/2,d=(t+i)/2,p=Math.atan2(i-t,r-e),g=(r-e)/2,y=(i-t)/2,x=g/n,v=y/l,_=Math.sqrt(x**2+v**2);if(_>1)throw new Error("The given radii are too small to create an arc between the points.");const S=Math.sqrt(1-_**2),T=h+S*l*Math.sin(p)*(o?-1:1),E=d-S*n*Math.cos(p)*(o?-1:1),O=Math.atan2((t-E)/l,(e-T)/n);let B=Math.atan2((i-E)/l,(r-T)/n)-O;o&&B<0&&(B+=2*Math.PI),!o&&B>0&&(B-=2*Math.PI);const I=[];for(let j=0;j<20;j++){const Z=j/19,rt=O+Z*B,at=T+n*Math.cos(rt),J=E+l*Math.sin(rt);I.push({x:at,y:J})}return I}w(Ey,"generateArcPoints");async function cE(e,t){const{labelStyles:r,nodeStyles:i}=_t(t);t.labelStyle=r;const{shapeSvg:n,bbox:l}=await Bt(e,t,Rt(t)),o=l.width+t.padding+20,u=l.height+t.padding,h=u/2,d=h/(2.5+u/50),{cssStyles:p}=t,g=[{x:o/2,y:-u/2},{x:-o/2,y:-u/2},...Ey(-o/2,-u/2,-o/2,u/2,d,h,!1),{x:o/2,y:u/2},...Ey(o/2,u/2,o/2,-u/2,d,h,!0)],y=xt.svg(n),x=vt(t,{});t.look!=="handDrawn"&&(x.roughness=0,x.fillStyle="solid");const v=Wt(g),_=y.path(v,x),S=n.insert(()=>_,":first-child");return S.attr("class","basic label-container"),p&&t.look!=="handDrawn"&&S.selectAll("path").attr("style",p),i&&t.look!=="handDrawn"&&S.selectAll("path").attr("style",i),S.attr("transform",`translate(${d/2}, 0)`),wt(t,S),t.intersect=function(T){return pt.polygon(t,g,T)},n}w(cE,"bowTieRect");function xn(e,t,r,i){return e.insert("polygon",":first-child").attr("points",i.map(function(n){return n.x+","+n.y}).join(" ")).attr("class","label-container").attr("transform","translate("+-t/2+","+r/2+")")}w(xn,"insertPolygonShape");async function uE(e,t){const{labelStyles:r,nodeStyles:i}=_t(t);t.labelStyle=r;const{shapeSvg:n,bbox:l}=await Bt(e,t,Rt(t)),o=l.height+t.padding,u=12,h=l.width+t.padding+u,d=0,p=h,g=-o,y=0,x=[{x:d+u,y:g},{x:p,y:g},{x:p,y},{x:d,y},{x:d,y:g+u},{x:d+u,y:g}];let v;const{cssStyles:_}=t;if(t.look==="handDrawn"){const S=xt.svg(n),T=vt(t,{}),E=Wt(x),O=S.path(E,T);v=n.insert(()=>O,":first-child").attr("transform",`translate(${-h/2}, ${o/2})`),_&&v.attr("style",_)}else v=xn(n,h,o,x);return i&&v.attr("style",i),wt(t,v),t.intersect=function(S){return pt.polygon(t,x,S)},n}w(uE,"card");function hE(e,t){const{nodeStyles:r}=_t(t);t.label="";const i=e.insert("g").attr("class",Rt(t)).attr("id",t.domId??t.id),{cssStyles:n}=t,l=Math.max(28,t.width??0),o=[{x:0,y:l/2},{x:l/2,y:0},{x:0,y:-l/2},{x:-l/2,y:0}],u=xt.svg(i),h=vt(t,{});t.look!=="handDrawn"&&(h.roughness=0,h.fillStyle="solid");const d=Wt(o),p=u.path(d,h),g=i.insert(()=>p,":first-child");return n&&t.look!=="handDrawn"&&g.selectAll("path").attr("style",n),r&&t.look!=="handDrawn"&&g.selectAll("path").attr("style",r),t.width=28,t.height=28,t.intersect=function(y){return pt.polygon(t,o,y)},i}w(hE,"choice");async function G0(e,t,r){const{labelStyles:i,nodeStyles:n}=_t(t);t.labelStyle=i;const{shapeSvg:l,bbox:o,halfPadding:u}=await Bt(e,t,Rt(t)),h=r?.padding??u,d=o.width/2+h;let p;const{cssStyles:g}=t;if(t.look==="handDrawn"){const y=xt.svg(l),x=vt(t,{}),v=y.circle(0,0,d*2,x);p=l.insert(()=>v,":first-child"),p.attr("class","basic label-container").attr("style",hr(g))}else p=l.insert("circle",":first-child").attr("class","basic label-container").attr("style",n).attr("r",d).attr("cx",0).attr("cy",0);return wt(t,p),t.calcIntersect=function(y,x){const v=y.width/2;return pt.circle(y,v,x)},t.intersect=function(y){return lt.info("Circle intersect",t,d,y),pt.circle(t,d,y)},l}w(G0,"circle");function dE(e){const t=Math.cos(Math.PI/4),r=Math.sin(Math.PI/4),i=e*2,n={x:i/2*t,y:i/2*r},l={x:-(i/2)*t,y:i/2*r},o={x:-(i/2)*t,y:-(i/2)*r},u={x:i/2*t,y:-(i/2)*r};return`M ${l.x},${l.y} L ${u.x},${u.y}
                   M ${n.x},${n.y} L ${o.x},${o.y}`}w(dE,"createLine");function fE(e,t){const{labelStyles:r,nodeStyles:i}=_t(t);t.labelStyle=r,t.label="";const n=e.insert("g").attr("class",Rt(t)).attr("id",t.domId??t.id),l=Math.max(30,t?.width??0),{cssStyles:o}=t,u=xt.svg(n),h=vt(t,{});t.look!=="handDrawn"&&(h.roughness=0,h.fillStyle="solid");const d=u.circle(0,0,l*2,h),p=dE(l),g=u.path(p,h),y=n.insert(()=>d,":first-child");return y.insert(()=>g),o&&t.look!=="handDrawn"&&y.selectAll("path").attr("style",o),i&&t.look!=="handDrawn"&&y.selectAll("path").attr("style",i),wt(t,y),t.intersect=function(x){return lt.info("crossedCircle intersect",t,{radius:l,point:x}),pt.circle(t,l,x)},n}w(fE,"crossedCircle");function xa(e,t,r,i=100,n=0,l=180){const o=[],u=n*Math.PI/180,p=(l*Math.PI/180-u)/(i-1);for(let g=0;g<i;g++){const y=u+g*p,x=e+r*Math.cos(y),v=t+r*Math.sin(y);o.push({x:-x,y:-v})}return o}w(xa,"generateCirclePoints");async function pE(e,t){const{labelStyles:r,nodeStyles:i}=_t(t);t.labelStyle=r;const{shapeSvg:n,bbox:l,label:o}=await Bt(e,t,Rt(t)),u=l.width+(t.padding??0),h=l.height+(t.padding??0),d=Math.max(5,h*.1),{cssStyles:p}=t,g=[...xa(u/2,-h/2,d,30,-90,0),{x:-u/2-d,y:d},...xa(u/2+d*2,-d,d,20,-180,-270),...xa(u/2+d*2,d,d,20,-90,-180),{x:-u/2-d,y:-h/2},...xa(u/2,h/2,d,20,0,90)],y=[{x:u/2,y:-h/2-d},{x:-u/2,y:-h/2-d},...xa(u/2,-h/2,d,20,-90,0),{x:-u/2-d,y:-d},...xa(u/2+u*.1,-d,d,20,-180,-270),...xa(u/2+u*.1,d,d,20,-90,-180),{x:-u/2-d,y:h/2},...xa(u/2,h/2,d,20,0,90),{x:-u/2,y:h/2+d},{x:u/2,y:h/2+d}],x=xt.svg(n),v=vt(t,{fill:"none"});t.look!=="handDrawn"&&(v.roughness=0,v.fillStyle="solid");const S=Wt(g).replace("Z",""),T=x.path(S,v),E=Wt(y),O=x.path(E,{...v}),L=n.insert("g",":first-child");return L.insert(()=>O,":first-child").attr("stroke-opacity",0),L.insert(()=>T,":first-child"),L.attr("class","text"),p&&t.look!=="handDrawn"&&L.selectAll("path").attr("style",p),i&&t.look!=="handDrawn"&&L.selectAll("path").attr("style",i),L.attr("transform",`translate(${d}, 0)`),o.attr("transform",`translate(${-u/2+d-(l.x-(l.left??0))},${-h/2+(t.padding??0)/2-(l.y-(l.top??0))})`),wt(t,L),t.intersect=function(B){return pt.polygon(t,y,B)},n}w(pE,"curlyBraceLeft");function va(e,t,r,i=100,n=0,l=180){const o=[],u=n*Math.PI/180,p=(l*Math.PI/180-u)/(i-1);for(let g=0;g<i;g++){const y=u+g*p,x=e+r*Math.cos(y),v=t+r*Math.sin(y);o.push({x,y:v})}return o}w(va,"generateCirclePoints");async function gE(e,t){const{labelStyles:r,nodeStyles:i}=_t(t);t.labelStyle=r;const{shapeSvg:n,bbox:l,label:o}=await Bt(e,t,Rt(t)),u=l.width+(t.padding??0),h=l.height+(t.padding??0),d=Math.max(5,h*.1),{cssStyles:p}=t,g=[...va(u/2,-h/2,d,20,-90,0),{x:u/2+d,y:-d},...va(u/2+d*2,-d,d,20,-180,-270),...va(u/2+d*2,d,d,20,-90,-180),{x:u/2+d,y:h/2},...va(u/2,h/2,d,20,0,90)],y=[{x:-u/2,y:-h/2-d},{x:u/2,y:-h/2-d},...va(u/2,-h/2,d,20,-90,0),{x:u/2+d,y:-d},...va(u/2+d*2,-d,d,20,-180,-270),...va(u/2+d*2,d,d,20,-90,-180),{x:u/2+d,y:h/2},...va(u/2,h/2,d,20,0,90),{x:u/2,y:h/2+d},{x:-u/2,y:h/2+d}],x=xt.svg(n),v=vt(t,{fill:"none"});t.look!=="handDrawn"&&(v.roughness=0,v.fillStyle="solid");const S=Wt(g).replace("Z",""),T=x.path(S,v),E=Wt(y),O=x.path(E,{...v}),L=n.insert("g",":first-child");return L.insert(()=>O,":first-child").attr("stroke-opacity",0),L.insert(()=>T,":first-child"),L.attr("class","text"),p&&t.look!=="handDrawn"&&L.selectAll("path").attr("style",p),i&&t.look!=="handDrawn"&&L.selectAll("path").attr("style",i),L.attr("transform",`translate(${-d}, 0)`),o.attr("transform",`translate(${-u/2+(t.padding??0)/2-(l.x-(l.left??0))},${-h/2+(t.padding??0)/2-(l.y-(l.top??0))})`),wt(t,L),t.intersect=function(B){return pt.polygon(t,y,B)},n}w(gE,"curlyBraceRight");function rr(e,t,r,i=100,n=0,l=180){const o=[],u=n*Math.PI/180,p=(l*Math.PI/180-u)/(i-1);for(let g=0;g<i;g++){const y=u+g*p,x=e+r*Math.cos(y),v=t+r*Math.sin(y);o.push({x:-x,y:-v})}return o}w(rr,"generateCirclePoints");async function mE(e,t){const{labelStyles:r,nodeStyles:i}=_t(t);t.labelStyle=r;const{shapeSvg:n,bbox:l,label:o}=await Bt(e,t,Rt(t)),u=l.width+(t.padding??0),h=l.height+(t.padding??0),d=Math.max(5,h*.1),{cssStyles:p}=t,g=[...rr(u/2,-h/2,d,30,-90,0),{x:-u/2-d,y:d},...rr(u/2+d*2,-d,d,20,-180,-270),...rr(u/2+d*2,d,d,20,-90,-180),{x:-u/2-d,y:-h/2},...rr(u/2,h/2,d,20,0,90)],y=[...rr(-u/2+d+d/2,-h/2,d,20,-90,-180),{x:u/2-d/2,y:d},...rr(-u/2-d/2,-d,d,20,0,90),...rr(-u/2-d/2,d,d,20,-90,0),{x:u/2-d/2,y:-d},...rr(-u/2+d+d/2,h/2,d,30,-180,-270)],x=[{x:u/2,y:-h/2-d},{x:-u/2,y:-h/2-d},...rr(u/2,-h/2,d,20,-90,0),{x:-u/2-d,y:-d},...rr(u/2+d*2,-d,d,20,-180,-270),...rr(u/2+d*2,d,d,20,-90,-180),{x:-u/2-d,y:h/2},...rr(u/2,h/2,d,20,0,90),{x:-u/2,y:h/2+d},{x:u/2-d-d/2,y:h/2+d},...rr(-u/2+d+d/2,-h/2,d,20,-90,-180),{x:u/2-d/2,y:d},...rr(-u/2-d/2,-d,d,20,0,90),...rr(-u/2-d/2,d,d,20,-90,0),{x:u/2-d/2,y:-d},...rr(-u/2+d+d/2,h/2,d,30,-180,-270)],v=xt.svg(n),_=vt(t,{fill:"none"});t.look!=="handDrawn"&&(_.roughness=0,_.fillStyle="solid");const T=Wt(g).replace("Z",""),E=v.path(T,_),L=Wt(y).replace("Z",""),B=v.path(L,_),I=Wt(x),j=v.path(I,{..._}),Z=n.insert("g",":first-child");return Z.insert(()=>j,":first-child").attr("stroke-opacity",0),Z.insert(()=>E,":first-child"),Z.insert(()=>B,":first-child"),Z.attr("class","text"),p&&t.look!=="handDrawn"&&Z.selectAll("path").attr("style",p),i&&t.look!=="handDrawn"&&Z.selectAll("path").attr("style",i),Z.attr("transform",`translate(${d-d/4}, 0)`),o.attr("transform",`translate(${-u/2+(t.padding??0)/2-(l.x-(l.left??0))},${-h/2+(t.padding??0)/2-(l.y-(l.top??0))})`),wt(t,Z),t.intersect=function(rt){return pt.polygon(t,x,rt)},n}w(mE,"curlyBraces");async function yE(e,t){const{labelStyles:r,nodeStyles:i}=_t(t);t.labelStyle=r;const{shapeSvg:n,bbox:l}=await Bt(e,t,Rt(t)),o=80,u=20,h=Math.max(o,(l.width+(t.padding??0)*2)*1.25,t?.width??0),d=Math.max(u,l.height+(t.padding??0)*2,t?.height??0),p=d/2,{cssStyles:g}=t,y=xt.svg(n),x=vt(t,{});t.look!=="handDrawn"&&(x.roughness=0,x.fillStyle="solid");const v=h,_=d,S=v-p,T=_/4,E=[{x:S,y:0},{x:T,y:0},{x:0,y:_/2},{x:T,y:_},{x:S,y:_},...qc(-S,-_/2,p,50,270,90)],O=Wt(E),L=y.path(O,x),B=n.insert(()=>L,":first-child");return B.attr("class","basic label-container"),g&&t.look!=="handDrawn"&&B.selectChildren("path").attr("style",g),i&&t.look!=="handDrawn"&&B.selectChildren("path").attr("style",i),B.attr("transform",`translate(${-h/2}, ${-d/2})`),wt(t,B),t.intersect=function(I){return pt.polygon(t,E,I)},n}w(yE,"curvedTrapezoid");var oI=w((e,t,r,i,n,l)=>[`M${e},${t+l}`,`a${n},${l} 0,0,0 ${r},0`,`a${n},${l} 0,0,0 ${-r},0`,`l0,${i}`,`a${n},${l} 0,0,0 ${r},0`,`l0,${-i}`].join(" "),"createCylinderPathD"),cI=w((e,t,r,i,n,l)=>[`M${e},${t+l}`,`M${e+r},${t+l}`,`a${n},${l} 0,0,0 ${-r},0`,`l0,${i}`,`a${n},${l} 0,0,0 ${r},0`,`l0,${-i}`].join(" "),"createOuterCylinderPathD"),uI=w((e,t,r,i,n,l)=>[`M${e-r/2},${-i/2}`,`a${n},${l} 0,0,0 ${r},0`].join(" "),"createInnerCylinderPathD");async function bE(e,t){const{labelStyles:r,nodeStyles:i}=_t(t);t.labelStyle=r;const{shapeSvg:n,bbox:l,label:o}=await Bt(e,t,Rt(t)),u=Math.max(l.width+t.padding,t.width??0),h=u/2,d=h/(2.5+u/50),p=Math.max(l.height+d+t.padding,t.height??0);let g;const{cssStyles:y}=t;if(t.look==="handDrawn"){const x=xt.svg(n),v=cI(0,0,u,p,h,d),_=uI(0,d,u,p,h,d),S=x.path(v,vt(t,{})),T=x.path(_,vt(t,{fill:"none"}));g=n.insert(()=>T,":first-child"),g=n.insert(()=>S,":first-child"),g.attr("class","basic label-container"),y&&g.attr("style",y)}else{const x=oI(0,0,u,p,h,d);g=n.insert("path",":first-child").attr("d",x).attr("class","basic label-container").attr("style",hr(y)).attr("style",i)}return g.attr("label-offset-y",d),g.attr("transform",`translate(${-u/2}, ${-(p/2+d)})`),wt(t,g),o.attr("transform",`translate(${-(l.width/2)-(l.x-(l.left??0))}, ${-(l.height/2)+(t.padding??0)/1.5-(l.y-(l.top??0))})`),t.intersect=function(x){const v=pt.rect(t,x),_=v.x-(t.x??0);if(h!=0&&(Math.abs(_)<(t.width??0)/2||Math.abs(_)==(t.width??0)/2&&Math.abs(v.y-(t.y??0))>(t.height??0)/2-d)){let S=d*d*(1-_*_/(h*h));S>0&&(S=Math.sqrt(S)),S=d-S,x.y-(t.y??0)>0&&(S=-S),v.y+=S}return v},n}w(bE,"cylinder");async function xE(e,t){const{labelStyles:r,nodeStyles:i}=_t(t);t.labelStyle=r;const{shapeSvg:n,bbox:l,label:o}=await Bt(e,t,Rt(t)),u=l.width+t.padding,h=l.height+t.padding,d=h*.2,p=-u/2,g=-h/2-d/2,{cssStyles:y}=t,x=xt.svg(n),v=vt(t,{});t.look!=="handDrawn"&&(v.roughness=0,v.fillStyle="solid");const _=[{x:p,y:g+d},{x:-p,y:g+d},{x:-p,y:-g},{x:p,y:-g},{x:p,y:g},{x:-p,y:g},{x:-p,y:g+d}],S=x.polygon(_.map(E=>[E.x,E.y]),v),T=n.insert(()=>S,":first-child");return T.attr("class","basic label-container"),y&&t.look!=="handDrawn"&&T.selectAll("path").attr("style",y),i&&t.look!=="handDrawn"&&T.selectAll("path").attr("style",i),o.attr("transform",`translate(${p+(t.padding??0)/2-(l.x-(l.left??0))}, ${g+d+(t.padding??0)/2-(l.y-(l.top??0))})`),wt(t,T),t.intersect=function(E){return pt.rect(t,E)},n}w(xE,"dividedRectangle");async function vE(e,t){const{labelStyles:r,nodeStyles:i}=_t(t);t.labelStyle=r;const{shapeSvg:n,bbox:l,halfPadding:o}=await Bt(e,t,Rt(t)),h=l.width/2+o+5,d=l.width/2+o;let p;const{cssStyles:g}=t;if(t.look==="handDrawn"){const y=xt.svg(n),x=vt(t,{roughness:.2,strokeWidth:2.5}),v=vt(t,{roughness:.2,strokeWidth:1.5}),_=y.circle(0,0,h*2,x),S=y.circle(0,0,d*2,v);p=n.insert("g",":first-child"),p.attr("class",hr(t.cssClasses)).attr("style",hr(g)),p.node()?.appendChild(_),p.node()?.appendChild(S)}else{p=n.insert("g",":first-child");const y=p.insert("circle",":first-child"),x=p.insert("circle");p.attr("class","basic label-container").attr("style",i),y.attr("class","outer-circle").attr("style",i).attr("r",h).attr("cx",0).attr("cy",0),x.attr("class","inner-circle").attr("style",i).attr("r",d).attr("cx",0).attr("cy",0)}return wt(t,p),t.intersect=function(y){return lt.info("DoubleCircle intersect",t,h,y),pt.circle(t,h,y)},n}w(vE,"doublecircle");function _E(e,t,{config:{themeVariables:r}}){const{labelStyles:i,nodeStyles:n}=_t(t);t.label="",t.labelStyle=i;const l=e.insert("g").attr("class",Rt(t)).attr("id",t.domId??t.id),o=7,{cssStyles:u}=t,h=xt.svg(l),{nodeBorder:d}=r,p=vt(t,{fillStyle:"solid"});t.look!=="handDrawn"&&(p.roughness=0);const g=h.circle(0,0,o*2,p),y=l.insert(()=>g,":first-child");return y.selectAll("path").attr("style",`fill: ${d} !important;`),u&&u.length>0&&t.look!=="handDrawn"&&y.selectAll("path").attr("style",u),n&&t.look!=="handDrawn"&&y.selectAll("path").attr("style",n),wt(t,y),t.intersect=function(x){return lt.info("filledCircle intersect",t,{radius:o,point:x}),pt.circle(t,o,x)},l}w(_E,"filledCircle");async function wE(e,t){const{labelStyles:r,nodeStyles:i}=_t(t);t.labelStyle=r;const{shapeSvg:n,bbox:l,label:o}=await Bt(e,t,Rt(t)),u=l.width+(t.padding??0),h=u+l.height,d=u+l.height,p=[{x:0,y:-h},{x:d,y:-h},{x:d/2,y:0}],{cssStyles:g}=t,y=xt.svg(n),x=vt(t,{});t.look!=="handDrawn"&&(x.roughness=0,x.fillStyle="solid");const v=Wt(p),_=y.path(v,x),S=n.insert(()=>_,":first-child").attr("transform",`translate(${-h/2}, ${h/2})`);return g&&t.look!=="handDrawn"&&S.selectChildren("path").attr("style",g),i&&t.look!=="handDrawn"&&S.selectChildren("path").attr("style",i),t.width=u,t.height=h,wt(t,S),o.attr("transform",`translate(${-l.width/2-(l.x-(l.left??0))}, ${-h/2+(t.padding??0)/2+(l.y-(l.top??0))})`),t.intersect=function(T){return lt.info("Triangle intersect",t,p,T),pt.polygon(t,p,T)},n}w(wE,"flippedTriangle");function SE(e,t,{dir:r,config:{state:i,themeVariables:n}}){const{nodeStyles:l}=_t(t);t.label="";const o=e.insert("g").attr("class",Rt(t)).attr("id",t.domId??t.id),{cssStyles:u}=t;let h=Math.max(70,t?.width??0),d=Math.max(10,t?.height??0);r==="LR"&&(h=Math.max(10,t?.width??0),d=Math.max(70,t?.height??0));const p=-1*h/2,g=-1*d/2,y=xt.svg(o),x=vt(t,{stroke:n.lineColor,fill:n.lineColor});t.look!=="handDrawn"&&(x.roughness=0,x.fillStyle="solid");const v=y.rectangle(p,g,h,d,x),_=o.insert(()=>v,":first-child");u&&t.look!=="handDrawn"&&_.selectAll("path").attr("style",u),l&&t.look!=="handDrawn"&&_.selectAll("path").attr("style",l),wt(t,_);const S=i?.padding??0;return t.width&&t.height&&(t.width+=S/2||0,t.height+=S/2||0),t.intersect=function(T){return pt.rect(t,T)},o}w(SE,"forkJoin");async function kE(e,t){const{labelStyles:r,nodeStyles:i}=_t(t);t.labelStyle=r;const n=80,l=50,{shapeSvg:o,bbox:u}=await Bt(e,t,Rt(t)),h=Math.max(n,u.width+(t.padding??0)*2,t?.width??0),d=Math.max(l,u.height+(t.padding??0)*2,t?.height??0),p=d/2,{cssStyles:g}=t,y=xt.svg(o),x=vt(t,{});t.look!=="handDrawn"&&(x.roughness=0,x.fillStyle="solid");const v=[{x:-h/2,y:-d/2},{x:h/2-p,y:-d/2},...qc(-h/2+p,0,p,50,90,270),{x:h/2-p,y:d/2},{x:-h/2,y:d/2}],_=Wt(v),S=y.path(_,x),T=o.insert(()=>S,":first-child");return T.attr("class","basic label-container"),g&&t.look!=="handDrawn"&&T.selectChildren("path").attr("style",g),i&&t.look!=="handDrawn"&&T.selectChildren("path").attr("style",i),wt(t,T),t.intersect=function(E){return lt.info("Pill intersect",t,{radius:p,point:E}),pt.polygon(t,v,E)},o}w(kE,"halfRoundedRectangle");async function CE(e,t){const{labelStyles:r,nodeStyles:i}=_t(t);t.labelStyle=r;const{shapeSvg:n,bbox:l}=await Bt(e,t,Rt(t)),o=l.height+(t.padding??0),u=l.width+(t.padding??0)*2.5,{cssStyles:h}=t,d=xt.svg(n),p=vt(t,{});t.look!=="handDrawn"&&(p.roughness=0,p.fillStyle="solid");let g=u/2;const y=g/6;g=g+y;const x=o/2,v=x/2,_=g-v,S=[{x:-_,y:-x},{x:0,y:-x},{x:_,y:-x},{x:g,y:0},{x:_,y:x},{x:0,y:x},{x:-_,y:x},{x:-g,y:0}],T=Wt(S),E=d.path(T,p),O=n.insert(()=>E,":first-child");return O.attr("class","basic label-container"),h&&t.look!=="handDrawn"&&O.selectChildren("path").attr("style",h),i&&t.look!=="handDrawn"&&O.selectChildren("path").attr("style",i),t.width=u,t.height=o,wt(t,O),t.intersect=function(L){return pt.polygon(t,S,L)},n}w(CE,"hexagon");async function TE(e,t){const{labelStyles:r,nodeStyles:i}=_t(t);t.label="",t.labelStyle=r;const{shapeSvg:n}=await Bt(e,t,Rt(t)),l=Math.max(30,t?.width??0),o=Math.max(30,t?.height??0),{cssStyles:u}=t,h=xt.svg(n),d=vt(t,{});t.look!=="handDrawn"&&(d.roughness=0,d.fillStyle="solid");const p=[{x:0,y:0},{x:l,y:0},{x:0,y:o},{x:l,y:o}],g=Wt(p),y=h.path(g,d),x=n.insert(()=>y,":first-child");return x.attr("class","basic label-container"),u&&t.look!=="handDrawn"&&x.selectChildren("path").attr("style",u),i&&t.look!=="handDrawn"&&x.selectChildren("path").attr("style",i),x.attr("transform",`translate(${-l/2}, ${-o/2})`),wt(t,x),t.intersect=function(v){return lt.info("Pill intersect",t,{points:p}),pt.polygon(t,p,v)},n}w(TE,"hourglass");async function EE(e,t,{config:{themeVariables:r,flowchart:i}}){const{labelStyles:n}=_t(t);t.labelStyle=n;const l=t.assetHeight??48,o=t.assetWidth??48,u=Math.max(l,o),h=i?.wrappingWidth;t.width=Math.max(u,h??0);const{shapeSvg:d,bbox:p,label:g}=await Bt(e,t,"icon-shape default"),y=t.pos==="t",x=u,v=u,{nodeBorder:_}=r,{stylesMap:S}=Pl(t),T=-v/2,E=-x/2,O=t.label?8:0,L=xt.svg(d),B=vt(t,{stroke:"none",fill:"none"});t.look!=="handDrawn"&&(B.roughness=0,B.fillStyle="solid");const I=L.rectangle(T,E,v,x,B),j=Math.max(v,p.width),Z=x+p.height+O,rt=L.rectangle(-j/2,-Z/2,j,Z,{...B,fill:"transparent",stroke:"none"}),at=d.insert(()=>I,":first-child"),J=d.insert(()=>rt);if(t.icon){const q=d.append("g");q.html(`<g>${await iu(t.icon,{height:u,width:u,fallbackPrefix:""})}</g>`);const N=q.node().getBBox(),z=N.width,P=N.height,R=N.x,$=N.y;q.attr("transform",`translate(${-z/2-R},${y?p.height/2+O/2-P/2-$:-p.height/2-O/2-P/2-$})`),q.attr("style",`color: ${S.get("stroke")??_};`)}return g.attr("transform",`translate(${-p.width/2-(p.x-(p.left??0))},${y?-Z/2:Z/2-p.height})`),at.attr("transform",`translate(0,${y?p.height/2+O/2:-p.height/2-O/2})`),wt(t,J),t.intersect=function(q){if(lt.info("iconSquare intersect",t,q),!t.label)return pt.rect(t,q);const N=t.x??0,z=t.y??0,P=t.height??0;let R=[];return y?R=[{x:N-p.width/2,y:z-P/2},{x:N+p.width/2,y:z-P/2},{x:N+p.width/2,y:z-P/2+p.height+O},{x:N+v/2,y:z-P/2+p.height+O},{x:N+v/2,y:z+P/2},{x:N-v/2,y:z+P/2},{x:N-v/2,y:z-P/2+p.height+O},{x:N-p.width/2,y:z-P/2+p.height+O}]:R=[{x:N-v/2,y:z-P/2},{x:N+v/2,y:z-P/2},{x:N+v/2,y:z-P/2+x},{x:N+p.width/2,y:z-P/2+x},{x:N+p.width/2/2,y:z+P/2},{x:N-p.width/2,y:z+P/2},{x:N-p.width/2,y:z-P/2+x},{x:N-v/2,y:z-P/2+x}],pt.polygon(t,R,q)},d}w(EE,"icon");async function AE(e,t,{config:{themeVariables:r,flowchart:i}}){const{labelStyles:n}=_t(t);t.labelStyle=n;const l=t.assetHeight??48,o=t.assetWidth??48,u=Math.max(l,o),h=i?.wrappingWidth;t.width=Math.max(u,h??0);const{shapeSvg:d,bbox:p,label:g}=await Bt(e,t,"icon-shape default"),y=20,x=t.label?8:0,v=t.pos==="t",{nodeBorder:_,mainBkg:S}=r,{stylesMap:T}=Pl(t),E=xt.svg(d),O=vt(t,{});t.look!=="handDrawn"&&(O.roughness=0,O.fillStyle="solid");const L=T.get("fill");O.stroke=L??S;const B=d.append("g");t.icon&&B.html(`<g>${await iu(t.icon,{height:u,width:u,fallbackPrefix:""})}</g>`);const I=B.node().getBBox(),j=I.width,Z=I.height,rt=I.x,at=I.y,J=Math.max(j,Z)*Math.SQRT2+y*2,q=E.circle(0,0,J,O),N=Math.max(J,p.width),z=J+p.height+x,P=E.rectangle(-N/2,-z/2,N,z,{...O,fill:"transparent",stroke:"none"}),R=d.insert(()=>q,":first-child"),$=d.insert(()=>P);return B.attr("transform",`translate(${-j/2-rt},${v?p.height/2+x/2-Z/2-at:-p.height/2-x/2-Z/2-at})`),B.attr("style",`color: ${T.get("stroke")??_};`),g.attr("transform",`translate(${-p.width/2-(p.x-(p.left??0))},${v?-z/2:z/2-p.height})`),R.attr("transform",`translate(0,${v?p.height/2+x/2:-p.height/2-x/2})`),wt(t,$),t.intersect=function(H){return lt.info("iconSquare intersect",t,H),pt.rect(t,H)},d}w(AE,"iconCircle");async function OE(e,t,{config:{themeVariables:r,flowchart:i}}){const{labelStyles:n}=_t(t);t.labelStyle=n;const l=t.assetHeight??48,o=t.assetWidth??48,u=Math.max(l,o),h=i?.wrappingWidth;t.width=Math.max(u,h??0);const{shapeSvg:d,bbox:p,halfPadding:g,label:y}=await Bt(e,t,"icon-shape default"),x=t.pos==="t",v=u+g*2,_=u+g*2,{nodeBorder:S,mainBkg:T}=r,{stylesMap:E}=Pl(t),O=-_/2,L=-v/2,B=t.label?8:0,I=xt.svg(d),j=vt(t,{});t.look!=="handDrawn"&&(j.roughness=0,j.fillStyle="solid");const Z=E.get("fill");j.stroke=Z??T;const rt=I.path(bn(O,L,_,v,5),j),at=Math.max(_,p.width),J=v+p.height+B,q=I.rectangle(-at/2,-J/2,at,J,{...j,fill:"transparent",stroke:"none"}),N=d.insert(()=>rt,":first-child").attr("class","icon-shape2"),z=d.insert(()=>q);if(t.icon){const P=d.append("g");P.html(`<g>${await iu(t.icon,{height:u,width:u,fallbackPrefix:""})}</g>`);const R=P.node().getBBox(),$=R.width,H=R.height,ot=R.x,ht=R.y;P.attr("transform",`translate(${-$/2-ot},${x?p.height/2+B/2-H/2-ht:-p.height/2-B/2-H/2-ht})`),P.attr("style",`color: ${E.get("stroke")??S};`)}return y.attr("transform",`translate(${-p.width/2-(p.x-(p.left??0))},${x?-J/2:J/2-p.height})`),N.attr("transform",`translate(0,${x?p.height/2+B/2:-p.height/2-B/2})`),wt(t,z),t.intersect=function(P){if(lt.info("iconSquare intersect",t,P),!t.label)return pt.rect(t,P);const R=t.x??0,$=t.y??0,H=t.height??0;let ot=[];return x?ot=[{x:R-p.width/2,y:$-H/2},{x:R+p.width/2,y:$-H/2},{x:R+p.width/2,y:$-H/2+p.height+B},{x:R+_/2,y:$-H/2+p.height+B},{x:R+_/2,y:$+H/2},{x:R-_/2,y:$+H/2},{x:R-_/2,y:$-H/2+p.height+B},{x:R-p.width/2,y:$-H/2+p.height+B}]:ot=[{x:R-_/2,y:$-H/2},{x:R+_/2,y:$-H/2},{x:R+_/2,y:$-H/2+v},{x:R+p.width/2,y:$-H/2+v},{x:R+p.width/2/2,y:$+H/2},{x:R-p.width/2,y:$+H/2},{x:R-p.width/2,y:$-H/2+v},{x:R-_/2,y:$-H/2+v}],pt.polygon(t,ot,P)},d}w(OE,"iconRounded");async function RE(e,t,{config:{themeVariables:r,flowchart:i}}){const{labelStyles:n}=_t(t);t.labelStyle=n;const l=t.assetHeight??48,o=t.assetWidth??48,u=Math.max(l,o),h=i?.wrappingWidth;t.width=Math.max(u,h??0);const{shapeSvg:d,bbox:p,halfPadding:g,label:y}=await Bt(e,t,"icon-shape default"),x=t.pos==="t",v=u+g*2,_=u+g*2,{nodeBorder:S,mainBkg:T}=r,{stylesMap:E}=Pl(t),O=-_/2,L=-v/2,B=t.label?8:0,I=xt.svg(d),j=vt(t,{});t.look!=="handDrawn"&&(j.roughness=0,j.fillStyle="solid");const Z=E.get("fill");j.stroke=Z??T;const rt=I.path(bn(O,L,_,v,.1),j),at=Math.max(_,p.width),J=v+p.height+B,q=I.rectangle(-at/2,-J/2,at,J,{...j,fill:"transparent",stroke:"none"}),N=d.insert(()=>rt,":first-child"),z=d.insert(()=>q);if(t.icon){const P=d.append("g");P.html(`<g>${await iu(t.icon,{height:u,width:u,fallbackPrefix:""})}</g>`);const R=P.node().getBBox(),$=R.width,H=R.height,ot=R.x,ht=R.y;P.attr("transform",`translate(${-$/2-ot},${x?p.height/2+B/2-H/2-ht:-p.height/2-B/2-H/2-ht})`),P.attr("style",`color: ${E.get("stroke")??S};`)}return y.attr("transform",`translate(${-p.width/2-(p.x-(p.left??0))},${x?-J/2:J/2-p.height})`),N.attr("transform",`translate(0,${x?p.height/2+B/2:-p.height/2-B/2})`),wt(t,z),t.intersect=function(P){if(lt.info("iconSquare intersect",t,P),!t.label)return pt.rect(t,P);const R=t.x??0,$=t.y??0,H=t.height??0;let ot=[];return x?ot=[{x:R-p.width/2,y:$-H/2},{x:R+p.width/2,y:$-H/2},{x:R+p.width/2,y:$-H/2+p.height+B},{x:R+_/2,y:$-H/2+p.height+B},{x:R+_/2,y:$+H/2},{x:R-_/2,y:$+H/2},{x:R-_/2,y:$-H/2+p.height+B},{x:R-p.width/2,y:$-H/2+p.height+B}]:ot=[{x:R-_/2,y:$-H/2},{x:R+_/2,y:$-H/2},{x:R+_/2,y:$-H/2+v},{x:R+p.width/2,y:$-H/2+v},{x:R+p.width/2/2,y:$+H/2},{x:R-p.width/2,y:$+H/2},{x:R-p.width/2,y:$-H/2+v},{x:R-_/2,y:$-H/2+v}],pt.polygon(t,ot,P)},d}w(RE,"iconSquare");async function LE(e,t,{config:{flowchart:r}}){const i=new Image;i.src=t?.img??"",await i.decode();const n=Number(i.naturalWidth.toString().replace("px","")),l=Number(i.naturalHeight.toString().replace("px",""));t.imageAspectRatio=n/l;const{labelStyles:o}=_t(t);t.labelStyle=o;const u=r?.wrappingWidth;t.defaultWidth=r?.wrappingWidth;const h=Math.max(t.label?u??0:0,t?.assetWidth??n),d=t.constraint==="on"&&t?.assetHeight?t.assetHeight*t.imageAspectRatio:h,p=t.constraint==="on"?d/t.imageAspectRatio:t?.assetHeight??l;t.width=Math.max(d,u??0);const{shapeSvg:g,bbox:y,label:x}=await Bt(e,t,"image-shape default"),v=t.pos==="t",_=-d/2,S=-p/2,T=t.label?8:0,E=xt.svg(g),O=vt(t,{});t.look!=="handDrawn"&&(O.roughness=0,O.fillStyle="solid");const L=E.rectangle(_,S,d,p,O),B=Math.max(d,y.width),I=p+y.height+T,j=E.rectangle(-B/2,-I/2,B,I,{...O,fill:"none",stroke:"none"}),Z=g.insert(()=>L,":first-child"),rt=g.insert(()=>j);if(t.img){const at=g.append("image");at.attr("href",t.img),at.attr("width",d),at.attr("height",p),at.attr("preserveAspectRatio","none"),at.attr("transform",`translate(${-d/2},${v?I/2-p:-I/2})`)}return x.attr("transform",`translate(${-y.width/2-(y.x-(y.left??0))},${v?-p/2-y.height/2-T/2:p/2-y.height/2+T/2})`),Z.attr("transform",`translate(0,${v?y.height/2+T/2:-y.height/2-T/2})`),wt(t,rt),t.intersect=function(at){if(lt.info("iconSquare intersect",t,at),!t.label)return pt.rect(t,at);const J=t.x??0,q=t.y??0,N=t.height??0;let z=[];return v?z=[{x:J-y.width/2,y:q-N/2},{x:J+y.width/2,y:q-N/2},{x:J+y.width/2,y:q-N/2+y.height+T},{x:J+d/2,y:q-N/2+y.height+T},{x:J+d/2,y:q+N/2},{x:J-d/2,y:q+N/2},{x:J-d/2,y:q-N/2+y.height+T},{x:J-y.width/2,y:q-N/2+y.height+T}]:z=[{x:J-d/2,y:q-N/2},{x:J+d/2,y:q-N/2},{x:J+d/2,y:q-N/2+p},{x:J+y.width/2,y:q-N/2+p},{x:J+y.width/2/2,y:q+N/2},{x:J-y.width/2,y:q+N/2},{x:J-y.width/2,y:q-N/2+p},{x:J-d/2,y:q-N/2+p}],pt.polygon(t,z,at)},g}w(LE,"imageSquare");async function ME(e,t){const{labelStyles:r,nodeStyles:i}=_t(t);t.labelStyle=r;const{shapeSvg:n,bbox:l}=await Bt(e,t,Rt(t)),o=Math.max(l.width+(t.padding??0)*2,t?.width??0),u=Math.max(l.height+(t.padding??0)*2,t?.height??0),h=[{x:0,y:0},{x:o,y:0},{x:o+3*u/6,y:-u},{x:-3*u/6,y:-u}];let d;const{cssStyles:p}=t;if(t.look==="handDrawn"){const g=xt.svg(n),y=vt(t,{}),x=Wt(h),v=g.path(x,y);d=n.insert(()=>v,":first-child").attr("transform",`translate(${-o/2}, ${u/2})`),p&&d.attr("style",p)}else d=xn(n,o,u,h);return i&&d.attr("style",i),t.width=o,t.height=u,wt(t,d),t.intersect=function(g){return pt.polygon(t,h,g)},n}w(ME,"inv_trapezoid");async function vf(e,t,r){const{labelStyles:i,nodeStyles:n}=_t(t);t.labelStyle=i;const{shapeSvg:l,bbox:o}=await Bt(e,t,Rt(t)),u=Math.max(o.width+r.labelPaddingX*2,t?.width||0),h=Math.max(o.height+r.labelPaddingY*2,t?.height||0),d=-u/2,p=-h/2;let g,{rx:y,ry:x}=t;const{cssStyles:v}=t;if(r?.rx&&r.ry&&(y=r.rx,x=r.ry),t.look==="handDrawn"){const _=xt.svg(l),S=vt(t,{}),T=y||x?_.path(bn(d,p,u,h,y||0),S):_.rectangle(d,p,u,h,S);g=l.insert(()=>T,":first-child"),g.attr("class","basic label-container").attr("style",hr(v))}else g=l.insert("rect",":first-child"),g.attr("class","basic label-container").attr("style",n).attr("rx",hr(y)).attr("ry",hr(x)).attr("x",d).attr("y",p).attr("width",u).attr("height",h);return wt(t,g),t.calcIntersect=function(_,S){return pt.rect(_,S)},t.intersect=function(_){return pt.rect(t,_)},l}w(vf,"drawRect");async function BE(e,t){const{shapeSvg:r,bbox:i,label:n}=await Bt(e,t,"label"),l=r.insert("rect",":first-child");return l.attr("width",.1).attr("height",.1),r.attr("class","label edgeLabel"),n.attr("transform",`translate(${-(i.width/2)-(i.x-(i.left??0))}, ${-(i.height/2)-(i.y-(i.top??0))})`),wt(t,l),t.intersect=function(h){return pt.rect(t,h)},r}w(BE,"labelRect");async function NE(e,t){const{labelStyles:r,nodeStyles:i}=_t(t);t.labelStyle=r;const{shapeSvg:n,bbox:l}=await Bt(e,t,Rt(t)),o=Math.max(l.width+(t.padding??0),t?.width??0),u=Math.max(l.height+(t.padding??0),t?.height??0),h=[{x:0,y:0},{x:o+3*u/6,y:0},{x:o,y:-u},{x:-(3*u)/6,y:-u}];let d;const{cssStyles:p}=t;if(t.look==="handDrawn"){const g=xt.svg(n),y=vt(t,{}),x=Wt(h),v=g.path(x,y);d=n.insert(()=>v,":first-child").attr("transform",`translate(${-o/2}, ${u/2})`),p&&d.attr("style",p)}else d=xn(n,o,u,h);return i&&d.attr("style",i),t.width=o,t.height=u,wt(t,d),t.intersect=function(g){return pt.polygon(t,h,g)},n}w(NE,"lean_left");async function DE(e,t){const{labelStyles:r,nodeStyles:i}=_t(t);t.labelStyle=r;const{shapeSvg:n,bbox:l}=await Bt(e,t,Rt(t)),o=Math.max(l.width+(t.padding??0),t?.width??0),u=Math.max(l.height+(t.padding??0),t?.height??0),h=[{x:-3*u/6,y:0},{x:o,y:0},{x:o+3*u/6,y:-u},{x:0,y:-u}];let d;const{cssStyles:p}=t;if(t.look==="handDrawn"){const g=xt.svg(n),y=vt(t,{}),x=Wt(h),v=g.path(x,y);d=n.insert(()=>v,":first-child").attr("transform",`translate(${-o/2}, ${u/2})`),p&&d.attr("style",p)}else d=xn(n,o,u,h);return i&&d.attr("style",i),t.width=o,t.height=u,wt(t,d),t.intersect=function(g){return pt.polygon(t,h,g)},n}w(DE,"lean_right");function jE(e,t){const{labelStyles:r,nodeStyles:i}=_t(t);t.label="",t.labelStyle=r;const n=e.insert("g").attr("class",Rt(t)).attr("id",t.domId??t.id),{cssStyles:l}=t,o=Math.max(35,t?.width??0),u=Math.max(35,t?.height??0),h=7,d=[{x:o,y:0},{x:0,y:u+h/2},{x:o-2*h,y:u+h/2},{x:0,y:2*u},{x:o,y:u-h/2},{x:2*h,y:u-h/2}],p=xt.svg(n),g=vt(t,{});t.look!=="handDrawn"&&(g.roughness=0,g.fillStyle="solid");const y=Wt(d),x=p.path(y,g),v=n.insert(()=>x,":first-child");return l&&t.look!=="handDrawn"&&v.selectAll("path").attr("style",l),i&&t.look!=="handDrawn"&&v.selectAll("path").attr("style",i),v.attr("transform",`translate(-${o/2},${-u})`),wt(t,v),t.intersect=function(_){return lt.info("lightningBolt intersect",t,_),pt.polygon(t,d,_)},n}w(jE,"lightningBolt");var hI=w((e,t,r,i,n,l,o)=>[`M${e},${t+l}`,`a${n},${l} 0,0,0 ${r},0`,`a${n},${l} 0,0,0 ${-r},0`,`l0,${i}`,`a${n},${l} 0,0,0 ${r},0`,`l0,${-i}`,`M${e},${t+l+o}`,`a${n},${l} 0,0,0 ${r},0`].join(" "),"createCylinderPathD"),dI=w((e,t,r,i,n,l,o)=>[`M${e},${t+l}`,`M${e+r},${t+l}`,`a${n},${l} 0,0,0 ${-r},0`,`l0,${i}`,`a${n},${l} 0,0,0 ${r},0`,`l0,${-i}`,`M${e},${t+l+o}`,`a${n},${l} 0,0,0 ${r},0`].join(" "),"createOuterCylinderPathD"),fI=w((e,t,r,i,n,l)=>[`M${e-r/2},${-i/2}`,`a${n},${l} 0,0,0 ${r},0`].join(" "),"createInnerCylinderPathD");async function $E(e,t){const{labelStyles:r,nodeStyles:i}=_t(t);t.labelStyle=r;const{shapeSvg:n,bbox:l,label:o}=await Bt(e,t,Rt(t)),u=Math.max(l.width+(t.padding??0),t.width??0),h=u/2,d=h/(2.5+u/50),p=Math.max(l.height+d+(t.padding??0),t.height??0),g=p*.1;let y;const{cssStyles:x}=t;if(t.look==="handDrawn"){const v=xt.svg(n),_=dI(0,0,u,p,h,d,g),S=fI(0,d,u,p,h,d),T=vt(t,{}),E=v.path(_,T),O=v.path(S,T);n.insert(()=>O,":first-child").attr("class","line"),y=n.insert(()=>E,":first-child"),y.attr("class","basic label-container"),x&&y.attr("style",x)}else{const v=hI(0,0,u,p,h,d,g);y=n.insert("path",":first-child").attr("d",v).attr("class","basic label-container").attr("style",hr(x)).attr("style",i)}return y.attr("label-offset-y",d),y.attr("transform",`translate(${-u/2}, ${-(p/2+d)})`),wt(t,y),o.attr("transform",`translate(${-(l.width/2)-(l.x-(l.left??0))}, ${-(l.height/2)+d-(l.y-(l.top??0))})`),t.intersect=function(v){const _=pt.rect(t,v),S=_.x-(t.x??0);if(h!=0&&(Math.abs(S)<(t.width??0)/2||Math.abs(S)==(t.width??0)/2&&Math.abs(_.y-(t.y??0))>(t.height??0)/2-d)){let T=d*d*(1-S*S/(h*h));T>0&&(T=Math.sqrt(T)),T=d-T,v.y-(t.y??0)>0&&(T=-T),_.y+=T}return _},n}w($E,"linedCylinder");async function zE(e,t){const{labelStyles:r,nodeStyles:i}=_t(t);t.labelStyle=r;const{shapeSvg:n,bbox:l,label:o}=await Bt(e,t,Rt(t)),u=Math.max(l.width+(t.padding??0)*2,t?.width??0),h=Math.max(l.height+(t.padding??0)*2,t?.height??0),d=h/4,p=h+d,{cssStyles:g}=t,y=xt.svg(n),x=vt(t,{});t.look!=="handDrawn"&&(x.roughness=0,x.fillStyle="solid");const v=[{x:-u/2-u/2*.1,y:-p/2},{x:-u/2-u/2*.1,y:p/2},...gn(-u/2-u/2*.1,p/2,u/2+u/2*.1,p/2,d,.8),{x:u/2+u/2*.1,y:-p/2},{x:-u/2-u/2*.1,y:-p/2},{x:-u/2,y:-p/2},{x:-u/2,y:p/2*1.1},{x:-u/2,y:-p/2}],_=y.polygon(v.map(T=>[T.x,T.y]),x),S=n.insert(()=>_,":first-child");return S.attr("class","basic label-container"),g&&t.look!=="handDrawn"&&S.selectAll("path").attr("style",g),i&&t.look!=="handDrawn"&&S.selectAll("path").attr("style",i),S.attr("transform",`translate(0,${-d/2})`),o.attr("transform",`translate(${-u/2+(t.padding??0)+u/2*.1/2-(l.x-(l.left??0))},${-h/2+(t.padding??0)-d/2-(l.y-(l.top??0))})`),wt(t,S),t.intersect=function(T){return pt.polygon(t,v,T)},n}w(zE,"linedWaveEdgedRect");async function FE(e,t){const{labelStyles:r,nodeStyles:i}=_t(t);t.labelStyle=r;const{shapeSvg:n,bbox:l,label:o}=await Bt(e,t,Rt(t)),u=Math.max(l.width+(t.padding??0)*2,t?.width??0),h=Math.max(l.height+(t.padding??0)*2,t?.height??0),d=5,p=-u/2,g=-h/2,{cssStyles:y}=t,x=xt.svg(n),v=vt(t,{}),_=[{x:p-d,y:g+d},{x:p-d,y:g+h+d},{x:p+u-d,y:g+h+d},{x:p+u-d,y:g+h},{x:p+u,y:g+h},{x:p+u,y:g+h-d},{x:p+u+d,y:g+h-d},{x:p+u+d,y:g-d},{x:p+d,y:g-d},{x:p+d,y:g},{x:p,y:g},{x:p,y:g+d}],S=[{x:p,y:g+d},{x:p+u-d,y:g+d},{x:p+u-d,y:g+h},{x:p+u,y:g+h},{x:p+u,y:g},{x:p,y:g}];t.look!=="handDrawn"&&(v.roughness=0,v.fillStyle="solid");const T=Wt(_),E=x.path(T,v),O=Wt(S),L=x.path(O,{...v,fill:"none"}),B=n.insert(()=>L,":first-child");return B.insert(()=>E,":first-child"),B.attr("class","basic label-container"),y&&t.look!=="handDrawn"&&B.selectAll("path").attr("style",y),i&&t.look!=="handDrawn"&&B.selectAll("path").attr("style",i),o.attr("transform",`translate(${-(l.width/2)-d-(l.x-(l.left??0))}, ${-(l.height/2)+d-(l.y-(l.top??0))})`),wt(t,B),t.intersect=function(I){return pt.polygon(t,_,I)},n}w(FE,"multiRect");async function PE(e,t){const{labelStyles:r,nodeStyles:i}=_t(t);t.labelStyle=r;const{shapeSvg:n,bbox:l,label:o}=await Bt(e,t,Rt(t)),u=Math.max(l.width+(t.padding??0)*2,t?.width??0),h=Math.max(l.height+(t.padding??0)*2,t?.height??0),d=h/4,p=h+d,g=-u/2,y=-p/2,x=5,{cssStyles:v}=t,_=gn(g-x,y+p+x,g+u-x,y+p+x,d,.8),S=_?.[_.length-1],T=[{x:g-x,y:y+x},{x:g-x,y:y+p+x},..._,{x:g+u-x,y:S.y-x},{x:g+u,y:S.y-x},{x:g+u,y:S.y-2*x},{x:g+u+x,y:S.y-2*x},{x:g+u+x,y:y-x},{x:g+x,y:y-x},{x:g+x,y},{x:g,y},{x:g,y:y+x}],E=[{x:g,y:y+x},{x:g+u-x,y:y+x},{x:g+u-x,y:S.y-x},{x:g+u,y:S.y-x},{x:g+u,y},{x:g,y}],O=xt.svg(n),L=vt(t,{});t.look!=="handDrawn"&&(L.roughness=0,L.fillStyle="solid");const B=Wt(T),I=O.path(B,L),j=Wt(E),Z=O.path(j,L),rt=n.insert(()=>I,":first-child");return rt.insert(()=>Z),rt.attr("class","basic label-container"),v&&t.look!=="handDrawn"&&rt.selectAll("path").attr("style",v),i&&t.look!=="handDrawn"&&rt.selectAll("path").attr("style",i),rt.attr("transform",`translate(0,${-d/2})`),o.attr("transform",`translate(${-(l.width/2)-x-(l.x-(l.left??0))}, ${-(l.height/2)+x-d/2-(l.y-(l.top??0))})`),wt(t,rt),t.intersect=function(at){return pt.polygon(t,T,at)},n}w(PE,"multiWaveEdgedRectangle");async function UE(e,t,{config:{themeVariables:r}}){const{labelStyles:i,nodeStyles:n}=_t(t);t.labelStyle=i,t.useHtmlLabels||cr().flowchart?.htmlLabels!==!1||(t.centerLabel=!0);const{shapeSvg:o,bbox:u,label:h}=await Bt(e,t,Rt(t)),d=Math.max(u.width+(t.padding??0)*2,t?.width??0),p=Math.max(u.height+(t.padding??0)*2,t?.height??0),g=-d/2,y=-p/2,{cssStyles:x}=t,v=xt.svg(o),_=vt(t,{fill:r.noteBkgColor,stroke:r.noteBorderColor});t.look!=="handDrawn"&&(_.roughness=0,_.fillStyle="solid");const S=v.rectangle(g,y,d,p,_),T=o.insert(()=>S,":first-child");return T.attr("class","basic label-container"),x&&t.look!=="handDrawn"&&T.selectAll("path").attr("style",x),n&&t.look!=="handDrawn"&&T.selectAll("path").attr("style",n),h.attr("transform",`translate(${-u.width/2-(u.x-(u.left??0))}, ${-(u.height/2)-(u.y-(u.top??0))})`),wt(t,T),t.intersect=function(E){return pt.rect(t,E)},o}w(UE,"note");var pI=w((e,t,r)=>[`M${e+r/2},${t}`,`L${e+r},${t-r/2}`,`L${e+r/2},${t-r}`,`L${e},${t-r/2}`,"Z"].join(" "),"createDecisionBoxPathD");async function IE(e,t){const{labelStyles:r,nodeStyles:i}=_t(t);t.labelStyle=r;const{shapeSvg:n,bbox:l}=await Bt(e,t,Rt(t)),o=l.width+t.padding,u=l.height+t.padding,h=o+u,d=.5,p=[{x:h/2,y:0},{x:h,y:-h/2},{x:h/2,y:-h},{x:0,y:-h/2}];let g;const{cssStyles:y}=t;if(t.look==="handDrawn"){const x=xt.svg(n),v=vt(t,{}),_=pI(0,0,h),S=x.path(_,v);g=n.insert(()=>S,":first-child").attr("transform",`translate(${-h/2+d}, ${h/2})`),y&&g.attr("style",y)}else g=xn(n,h,h,p),g.attr("transform",`translate(${-h/2+d}, ${h/2})`);return i&&g.attr("style",i),wt(t,g),t.calcIntersect=function(x,v){const _=x.width,S=[{x:_/2,y:0},{x:_,y:-_/2},{x:_/2,y:-_},{x:0,y:-_/2}],T=pt.polygon(x,S,v);return{x:T.x-.5,y:T.y-.5}},t.intersect=function(x){return this.calcIntersect(t,x)},n}w(IE,"question");async function qE(e,t){const{labelStyles:r,nodeStyles:i}=_t(t);t.labelStyle=r;const{shapeSvg:n,bbox:l,label:o}=await Bt(e,t,Rt(t)),u=Math.max(l.width+(t.padding??0),t?.width??0),h=Math.max(l.height+(t.padding??0),t?.height??0),d=-u/2,p=-h/2,g=p/2,y=[{x:d+g,y:p},{x:d,y:0},{x:d+g,y:-p},{x:-d,y:-p},{x:-d,y:p}],{cssStyles:x}=t,v=xt.svg(n),_=vt(t,{});t.look!=="handDrawn"&&(_.roughness=0,_.fillStyle="solid");const S=Wt(y),T=v.path(S,_),E=n.insert(()=>T,":first-child");return E.attr("class","basic label-container"),x&&t.look!=="handDrawn"&&E.selectAll("path").attr("style",x),i&&t.look!=="handDrawn"&&E.selectAll("path").attr("style",i),E.attr("transform",`translate(${-g/2},0)`),o.attr("transform",`translate(${-g/2-l.width/2-(l.x-(l.left??0))}, ${-(l.height/2)-(l.y-(l.top??0))})`),wt(t,E),t.intersect=function(O){return pt.polygon(t,y,O)},n}w(qE,"rect_left_inv_arrow");async function HE(e,t){const{labelStyles:r,nodeStyles:i}=_t(t);t.labelStyle=r;let n;t.cssClasses?n="node "+t.cssClasses:n="node default";const l=e.insert("g").attr("class",n).attr("id",t.domId||t.id),o=l.insert("g"),u=l.insert("g").attr("class","label").attr("style",i),h=t.description,d=t.label,p=u.node().appendChild(await ts(d,t.labelStyle,!0,!0));let g={width:0,height:0};if(We(ie()?.flowchart?.htmlLabels)){const Z=p.children[0],rt=Xt(p);g=Z.getBoundingClientRect(),rt.attr("width",g.width),rt.attr("height",g.height)}lt.info("Text 2",h);const y=h||[],x=p.getBBox(),v=u.node().appendChild(await ts(y.join?y.join("<br/>"):y,t.labelStyle,!0,!0)),_=v.children[0],S=Xt(v);g=_.getBoundingClientRect(),S.attr("width",g.width),S.attr("height",g.height);const T=(t.padding||0)/2;Xt(v).attr("transform","translate( "+(g.width>x.width?0:(x.width-g.width)/2)+", "+(x.height+T+5)+")"),Xt(p).attr("transform","translate( "+(g.width<x.width?0:-(x.width-g.width)/2)+", 0)"),g=u.node().getBBox(),u.attr("transform","translate("+-g.width/2+", "+(-g.height/2-T+3)+")");const E=g.width+(t.padding||0),O=g.height+(t.padding||0),L=-g.width/2-T,B=-g.height/2-T;let I,j;if(t.look==="handDrawn"){const Z=xt.svg(l),rt=vt(t,{}),at=Z.path(bn(L,B,E,O,t.rx||0),rt),J=Z.line(-g.width/2-T,-g.height/2-T+x.height+T,g.width/2+T,-g.height/2-T+x.height+T,rt);j=l.insert(()=>(lt.debug("Rough node insert CXC",at),J),":first-child"),I=l.insert(()=>(lt.debug("Rough node insert CXC",at),at),":first-child")}else I=o.insert("rect",":first-child"),j=o.insert("line"),I.attr("class","outer title-state").attr("style",i).attr("x",-g.width/2-T).attr("y",-g.height/2-T).attr("width",g.width+(t.padding||0)).attr("height",g.height+(t.padding||0)),j.attr("class","divider").attr("x1",-g.width/2-T).attr("x2",g.width/2+T).attr("y1",-g.height/2-T+x.height+T).attr("y2",-g.height/2-T+x.height+T);return wt(t,I),t.intersect=function(Z){return pt.rect(t,Z)},l}w(HE,"rectWithTitle");function gc(e,t,r,i,n,l,o){const h=(e+r)/2,d=(t+i)/2,p=Math.atan2(i-t,r-e),g=(r-e)/2,y=(i-t)/2,x=g/n,v=y/l,_=Math.sqrt(x**2+v**2);if(_>1)throw new Error("The given radii are too small to create an arc between the points.");const S=Math.sqrt(1-_**2),T=h+S*l*Math.sin(p)*(o?-1:1),E=d-S*n*Math.cos(p)*(o?-1:1),O=Math.atan2((t-E)/l,(e-T)/n);let B=Math.atan2((i-E)/l,(r-T)/n)-O;o&&B<0&&(B+=2*Math.PI),!o&&B>0&&(B-=2*Math.PI);const I=[];for(let j=0;j<20;j++){const Z=j/19,rt=O+Z*B,at=T+n*Math.cos(rt),J=E+l*Math.sin(rt);I.push({x:at,y:J})}return I}w(gc,"generateArcPoints");async function WE(e,t){const{labelStyles:r,nodeStyles:i}=_t(t);t.labelStyle=r;const{shapeSvg:n,bbox:l}=await Bt(e,t,Rt(t)),o=t?.padding??0,u=t?.padding??0,h=(t?.width?t?.width:l.width)+o*2,d=(t?.height?t?.height:l.height)+u*2,p=t.radius||5,g=t.taper||5,{cssStyles:y}=t,x=xt.svg(n),v=vt(t,{});t.stroke&&(v.stroke=t.stroke),t.look!=="handDrawn"&&(v.roughness=0,v.fillStyle="solid");const _=[{x:-h/2+g,y:-d/2},{x:h/2-g,y:-d/2},...gc(h/2-g,-d/2,h/2,-d/2+g,p,p,!0),{x:h/2,y:-d/2+g},{x:h/2,y:d/2-g},...gc(h/2,d/2-g,h/2-g,d/2,p,p,!0),{x:h/2-g,y:d/2},{x:-h/2+g,y:d/2},...gc(-h/2+g,d/2,-h/2,d/2-g,p,p,!0),{x:-h/2,y:d/2-g},{x:-h/2,y:-d/2+g},...gc(-h/2,-d/2+g,-h/2+g,-d/2,p,p,!0)],S=Wt(_),T=x.path(S,v),E=n.insert(()=>T,":first-child");return E.attr("class","basic label-container outer-path"),y&&t.look!=="handDrawn"&&E.selectChildren("path").attr("style",y),i&&t.look!=="handDrawn"&&E.selectChildren("path").attr("style",i),wt(t,E),t.intersect=function(O){return pt.polygon(t,_,O)},n}w(WE,"roundedRect");async function GE(e,t){const{labelStyles:r,nodeStyles:i}=_t(t);t.labelStyle=r;const{shapeSvg:n,bbox:l,label:o}=await Bt(e,t,Rt(t)),u=t?.padding??0,h=Math.max(l.width+(t.padding??0)*2,t?.width??0),d=Math.max(l.height+(t.padding??0)*2,t?.height??0),p=-l.width/2-u,g=-l.height/2-u,{cssStyles:y}=t,x=xt.svg(n),v=vt(t,{});t.look!=="handDrawn"&&(v.roughness=0,v.fillStyle="solid");const _=[{x:p,y:g},{x:p+h+8,y:g},{x:p+h+8,y:g+d},{x:p-8,y:g+d},{x:p-8,y:g},{x:p,y:g},{x:p,y:g+d}],S=x.polygon(_.map(E=>[E.x,E.y]),v),T=n.insert(()=>S,":first-child");return T.attr("class","basic label-container").attr("style",hr(y)),i&&t.look!=="handDrawn"&&T.selectAll("path").attr("style",i),y&&t.look!=="handDrawn"&&T.selectAll("path").attr("style",i),o.attr("transform",`translate(${-h/2+4+(t.padding??0)-(l.x-(l.left??0))},${-d/2+(t.padding??0)-(l.y-(l.top??0))})`),wt(t,T),t.intersect=function(E){return pt.rect(t,E)},n}w(GE,"shadedProcess");async function YE(e,t){const{labelStyles:r,nodeStyles:i}=_t(t);t.labelStyle=r;const{shapeSvg:n,bbox:l,label:o}=await Bt(e,t,Rt(t)),u=Math.max(l.width+(t.padding??0)*2,t?.width??0),h=Math.max(l.height+(t.padding??0)*2,t?.height??0),d=-u/2,p=-h/2,{cssStyles:g}=t,y=xt.svg(n),x=vt(t,{});t.look!=="handDrawn"&&(x.roughness=0,x.fillStyle="solid");const v=[{x:d,y:p},{x:d,y:p+h},{x:d+u,y:p+h},{x:d+u,y:p-h/2}],_=Wt(v),S=y.path(_,x),T=n.insert(()=>S,":first-child");return T.attr("class","basic label-container"),g&&t.look!=="handDrawn"&&T.selectChildren("path").attr("style",g),i&&t.look!=="handDrawn"&&T.selectChildren("path").attr("style",i),T.attr("transform",`translate(0, ${h/4})`),o.attr("transform",`translate(${-u/2+(t.padding??0)-(l.x-(l.left??0))}, ${-h/4+(t.padding??0)-(l.y-(l.top??0))})`),wt(t,T),t.intersect=function(E){return pt.polygon(t,v,E)},n}w(YE,"slopedRect");async function VE(e,t){const r={rx:0,ry:0,labelPaddingX:t.labelPaddingX??(t?.padding||0)*2,labelPaddingY:(t?.padding||0)*1};return vf(e,t,r)}w(VE,"squareRect");async function XE(e,t){const{labelStyles:r,nodeStyles:i}=_t(t);t.labelStyle=r;const{shapeSvg:n,bbox:l}=await Bt(e,t,Rt(t)),o=l.height+t.padding,u=l.width+o/4+t.padding,h=o/2,{cssStyles:d}=t,p=xt.svg(n),g=vt(t,{});t.look!=="handDrawn"&&(g.roughness=0,g.fillStyle="solid");const y=[{x:-u/2+h,y:-o/2},{x:u/2-h,y:-o/2},...qc(-u/2+h,0,h,50,90,270),{x:u/2-h,y:o/2},...qc(u/2-h,0,h,50,270,450)],x=Wt(y),v=p.path(x,g),_=n.insert(()=>v,":first-child");return _.attr("class","basic label-container outer-path"),d&&t.look!=="handDrawn"&&_.selectChildren("path").attr("style",d),i&&t.look!=="handDrawn"&&_.selectChildren("path").attr("style",i),wt(t,_),t.intersect=function(S){return pt.polygon(t,y,S)},n}w(XE,"stadium");async function KE(e,t){return vf(e,t,{rx:5,ry:5})}w(KE,"state");function QE(e,t,{config:{themeVariables:r}}){const{labelStyles:i,nodeStyles:n}=_t(t);t.labelStyle=i;const{cssStyles:l}=t,{lineColor:o,stateBorder:u,nodeBorder:h}=r,d=e.insert("g").attr("class","node default").attr("id",t.domId||t.id),p=xt.svg(d),g=vt(t,{});t.look!=="handDrawn"&&(g.roughness=0,g.fillStyle="solid");const y=p.circle(0,0,14,{...g,stroke:o,strokeWidth:2}),x=u??h,v=p.circle(0,0,5,{...g,fill:x,stroke:x,strokeWidth:2,fillStyle:"solid"}),_=d.insert(()=>y,":first-child");return _.insert(()=>v),l&&_.selectAll("path").attr("style",l),n&&_.selectAll("path").attr("style",n),wt(t,_),t.intersect=function(S){return pt.circle(t,7,S)},d}w(QE,"stateEnd");function ZE(e,t,{config:{themeVariables:r}}){const{lineColor:i}=r,n=e.insert("g").attr("class","node default").attr("id",t.domId||t.id);let l;if(t.look==="handDrawn"){const u=xt.svg(n).circle(0,0,14,O8(i));l=n.insert(()=>u),l.attr("class","state-start").attr("r",7).attr("width",14).attr("height",14)}else l=n.insert("circle",":first-child"),l.attr("class","state-start").attr("r",7).attr("width",14).attr("height",14);return wt(t,l),t.intersect=function(o){return pt.circle(t,7,o)},n}w(ZE,"stateStart");async function JE(e,t){const{labelStyles:r,nodeStyles:i}=_t(t);t.labelStyle=r;const{shapeSvg:n,bbox:l}=await Bt(e,t,Rt(t)),o=(t?.padding||0)/2,u=l.width+t.padding,h=l.height+t.padding,d=-l.width/2-o,p=-l.height/2-o,g=[{x:0,y:0},{x:u,y:0},{x:u,y:-h},{x:0,y:-h},{x:0,y:0},{x:-8,y:0},{x:u+8,y:0},{x:u+8,y:-h},{x:-8,y:-h},{x:-8,y:0}];if(t.look==="handDrawn"){const y=xt.svg(n),x=vt(t,{}),v=y.rectangle(d-8,p,u+16,h,x),_=y.line(d,p,d,p+h,x),S=y.line(d+u,p,d+u,p+h,x);n.insert(()=>_,":first-child"),n.insert(()=>S,":first-child");const T=n.insert(()=>v,":first-child"),{cssStyles:E}=t;T.attr("class","basic label-container").attr("style",hr(E)),wt(t,T)}else{const y=xn(n,u,h,g);i&&y.attr("style",i),wt(t,y)}return t.intersect=function(y){return pt.polygon(t,g,y)},n}w(JE,"subroutine");async function tA(e,t){const{labelStyles:r,nodeStyles:i}=_t(t);t.labelStyle=r;const{shapeSvg:n,bbox:l}=await Bt(e,t,Rt(t)),o=Math.max(l.width+(t.padding??0)*2,t?.width??0),u=Math.max(l.height+(t.padding??0)*2,t?.height??0),h=-o/2,d=-u/2,p=.2*u,g=.2*u,{cssStyles:y}=t,x=xt.svg(n),v=vt(t,{}),_=[{x:h-p/2,y:d},{x:h+o+p/2,y:d},{x:h+o+p/2,y:d+u},{x:h-p/2,y:d+u}],S=[{x:h+o-p/2,y:d+u},{x:h+o+p/2,y:d+u},{x:h+o+p/2,y:d+u-g}];t.look!=="handDrawn"&&(v.roughness=0,v.fillStyle="solid");const T=Wt(_),E=x.path(T,v),O=Wt(S),L=x.path(O,{...v,fillStyle:"solid"}),B=n.insert(()=>L,":first-child");return B.insert(()=>E,":first-child"),B.attr("class","basic label-container"),y&&t.look!=="handDrawn"&&B.selectAll("path").attr("style",y),i&&t.look!=="handDrawn"&&B.selectAll("path").attr("style",i),wt(t,B),t.intersect=function(I){return pt.polygon(t,_,I)},n}w(tA,"taggedRect");async function eA(e,t){const{labelStyles:r,nodeStyles:i}=_t(t);t.labelStyle=r;const{shapeSvg:n,bbox:l,label:o}=await Bt(e,t,Rt(t)),u=Math.max(l.width+(t.padding??0)*2,t?.width??0),h=Math.max(l.height+(t.padding??0)*2,t?.height??0),d=h/4,p=.2*u,g=.2*h,y=h+d,{cssStyles:x}=t,v=xt.svg(n),_=vt(t,{});t.look!=="handDrawn"&&(_.roughness=0,_.fillStyle="solid");const S=[{x:-u/2-u/2*.1,y:y/2},...gn(-u/2-u/2*.1,y/2,u/2+u/2*.1,y/2,d,.8),{x:u/2+u/2*.1,y:-y/2},{x:-u/2-u/2*.1,y:-y/2}],T=-u/2+u/2*.1,E=-y/2-g*.4,O=[{x:T+u-p,y:(E+h)*1.4},{x:T+u,y:E+h-g},{x:T+u,y:(E+h)*.9},...gn(T+u,(E+h)*1.3,T+u-p,(E+h)*1.5,-h*.03,.5)],L=Wt(S),B=v.path(L,_),I=Wt(O),j=v.path(I,{..._,fillStyle:"solid"}),Z=n.insert(()=>j,":first-child");return Z.insert(()=>B,":first-child"),Z.attr("class","basic label-container"),x&&t.look!=="handDrawn"&&Z.selectAll("path").attr("style",x),i&&t.look!=="handDrawn"&&Z.selectAll("path").attr("style",i),Z.attr("transform",`translate(0,${-d/2})`),o.attr("transform",`translate(${-u/2+(t.padding??0)-(l.x-(l.left??0))},${-h/2+(t.padding??0)-d/2-(l.y-(l.top??0))})`),wt(t,Z),t.intersect=function(rt){return pt.polygon(t,S,rt)},n}w(eA,"taggedWaveEdgedRectangle");async function rA(e,t){const{labelStyles:r,nodeStyles:i}=_t(t);t.labelStyle=r;const{shapeSvg:n,bbox:l}=await Bt(e,t,Rt(t)),o=Math.max(l.width+t.padding,t?.width||0),u=Math.max(l.height+t.padding,t?.height||0),h=-o/2,d=-u/2,p=n.insert("rect",":first-child");return p.attr("class","text").attr("style",i).attr("rx",0).attr("ry",0).attr("x",h).attr("y",d).attr("width",o).attr("height",u),wt(t,p),t.intersect=function(g){return pt.rect(t,g)},n}w(rA,"text");var gI=w((e,t,r,i,n,l)=>`M${e},${t}
    a${n},${l} 0,0,1 0,${-i}
    l${r},0
    a${n},${l} 0,0,1 0,${i}
    M${r},${-i}
    a${n},${l} 0,0,0 0,${i}
    l${-r},0`,"createCylinderPathD"),mI=w((e,t,r,i,n,l)=>[`M${e},${t}`,`M${e+r},${t}`,`a${n},${l} 0,0,0 0,${-i}`,`l${-r},0`,`a${n},${l} 0,0,0 0,${i}`,`l${r},0`].join(" "),"createOuterCylinderPathD"),yI=w((e,t,r,i,n,l)=>[`M${e+r/2},${-i/2}`,`a${n},${l} 0,0,0 0,${i}`].join(" "),"createInnerCylinderPathD");async function iA(e,t){const{labelStyles:r,nodeStyles:i}=_t(t);t.labelStyle=r;const{shapeSvg:n,bbox:l,label:o,halfPadding:u}=await Bt(e,t,Rt(t)),h=t.look==="neo"?u*2:u,d=l.height+h,p=d/2,g=p/(2.5+d/50),y=l.width+g+h,{cssStyles:x}=t;let v;if(t.look==="handDrawn"){const _=xt.svg(n),S=mI(0,0,y,d,g,p),T=yI(0,0,y,d,g,p),E=_.path(S,vt(t,{})),O=_.path(T,vt(t,{fill:"none"}));v=n.insert(()=>O,":first-child"),v=n.insert(()=>E,":first-child"),v.attr("class","basic label-container"),x&&v.attr("style",x)}else{const _=gI(0,0,y,d,g,p);v=n.insert("path",":first-child").attr("d",_).attr("class","basic label-container").attr("style",hr(x)).attr("style",i),v.attr("class","basic label-container"),x&&v.selectAll("path").attr("style",x),i&&v.selectAll("path").attr("style",i)}return v.attr("label-offset-x",g),v.attr("transform",`translate(${-y/2}, ${d/2} )`),o.attr("transform",`translate(${-(l.width/2)-g-(l.x-(l.left??0))}, ${-(l.height/2)-(l.y-(l.top??0))})`),wt(t,v),t.intersect=function(_){const S=pt.rect(t,_),T=S.y-(t.y??0);if(p!=0&&(Math.abs(T)<(t.height??0)/2||Math.abs(T)==(t.height??0)/2&&Math.abs(S.x-(t.x??0))>(t.width??0)/2-g)){let E=g*g*(1-T*T/(p*p));E!=0&&(E=Math.sqrt(Math.abs(E))),E=g-E,_.x-(t.x??0)>0&&(E=-E),S.x+=E}return S},n}w(iA,"tiltedCylinder");async function aA(e,t){const{labelStyles:r,nodeStyles:i}=_t(t);t.labelStyle=r;const{shapeSvg:n,bbox:l}=await Bt(e,t,Rt(t)),o=l.width+t.padding,u=l.height+t.padding,h=[{x:-3*u/6,y:0},{x:o+3*u/6,y:0},{x:o,y:-u},{x:0,y:-u}];let d;const{cssStyles:p}=t;if(t.look==="handDrawn"){const g=xt.svg(n),y=vt(t,{}),x=Wt(h),v=g.path(x,y);d=n.insert(()=>v,":first-child").attr("transform",`translate(${-o/2}, ${u/2})`),p&&d.attr("style",p)}else d=xn(n,o,u,h);return i&&d.attr("style",i),t.width=o,t.height=u,wt(t,d),t.intersect=function(g){return pt.polygon(t,h,g)},n}w(aA,"trapezoid");async function nA(e,t){const{labelStyles:r,nodeStyles:i}=_t(t);t.labelStyle=r;const{shapeSvg:n,bbox:l}=await Bt(e,t,Rt(t)),o=60,u=20,h=Math.max(o,l.width+(t.padding??0)*2,t?.width??0),d=Math.max(u,l.height+(t.padding??0)*2,t?.height??0),{cssStyles:p}=t,g=xt.svg(n),y=vt(t,{});t.look!=="handDrawn"&&(y.roughness=0,y.fillStyle="solid");const x=[{x:-h/2*.8,y:-d/2},{x:h/2*.8,y:-d/2},{x:h/2,y:-d/2*.6},{x:h/2,y:d/2},{x:-h/2,y:d/2},{x:-h/2,y:-d/2*.6}],v=Wt(x),_=g.path(v,y),S=n.insert(()=>_,":first-child");return S.attr("class","basic label-container"),p&&t.look!=="handDrawn"&&S.selectChildren("path").attr("style",p),i&&t.look!=="handDrawn"&&S.selectChildren("path").attr("style",i),wt(t,S),t.intersect=function(T){return pt.polygon(t,x,T)},n}w(nA,"trapezoidalPentagon");async function sA(e,t){const{labelStyles:r,nodeStyles:i}=_t(t);t.labelStyle=r;const{shapeSvg:n,bbox:l,label:o}=await Bt(e,t,Rt(t)),u=We(ie().flowchart?.htmlLabels),h=l.width+(t.padding??0),d=h+l.height,p=h+l.height,g=[{x:0,y:0},{x:p,y:0},{x:p/2,y:-d}],{cssStyles:y}=t,x=xt.svg(n),v=vt(t,{});t.look!=="handDrawn"&&(v.roughness=0,v.fillStyle="solid");const _=Wt(g),S=x.path(_,v),T=n.insert(()=>S,":first-child").attr("transform",`translate(${-d/2}, ${d/2})`);return y&&t.look!=="handDrawn"&&T.selectChildren("path").attr("style",y),i&&t.look!=="handDrawn"&&T.selectChildren("path").attr("style",i),t.width=h,t.height=d,wt(t,T),o.attr("transform",`translate(${-l.width/2-(l.x-(l.left??0))}, ${d/2-(l.height+(t.padding??0)/(u?2:1)-(l.y-(l.top??0)))})`),t.intersect=function(E){return lt.info("Triangle intersect",t,g,E),pt.polygon(t,g,E)},n}w(sA,"triangle");async function lA(e,t){const{labelStyles:r,nodeStyles:i}=_t(t);t.labelStyle=r;const{shapeSvg:n,bbox:l,label:o}=await Bt(e,t,Rt(t)),u=Math.max(l.width+(t.padding??0)*2,t?.width??0),h=Math.max(l.height+(t.padding??0)*2,t?.height??0),d=h/8,p=h+d,{cssStyles:g}=t,x=70-u,v=x>0?x/2:0,_=xt.svg(n),S=vt(t,{});t.look!=="handDrawn"&&(S.roughness=0,S.fillStyle="solid");const T=[{x:-u/2-v,y:p/2},...gn(-u/2-v,p/2,u/2+v,p/2,d,.8),{x:u/2+v,y:-p/2},{x:-u/2-v,y:-p/2}],E=Wt(T),O=_.path(E,S),L=n.insert(()=>O,":first-child");return L.attr("class","basic label-container"),g&&t.look!=="handDrawn"&&L.selectAll("path").attr("style",g),i&&t.look!=="handDrawn"&&L.selectAll("path").attr("style",i),L.attr("transform",`translate(0,${-d/2})`),o.attr("transform",`translate(${-u/2+(t.padding??0)-(l.x-(l.left??0))},${-h/2+(t.padding??0)-d-(l.y-(l.top??0))})`),wt(t,L),t.intersect=function(B){return pt.polygon(t,T,B)},n}w(lA,"waveEdgedRectangle");async function oA(e,t){const{labelStyles:r,nodeStyles:i}=_t(t);t.labelStyle=r;const{shapeSvg:n,bbox:l}=await Bt(e,t,Rt(t)),o=100,u=50,h=Math.max(l.width+(t.padding??0)*2,t?.width??0),d=Math.max(l.height+(t.padding??0)*2,t?.height??0),p=h/d;let g=h,y=d;g>y*p?y=g/p:g=y*p,g=Math.max(g,o),y=Math.max(y,u);const x=Math.min(y*.2,y/4),v=y+x*2,{cssStyles:_}=t,S=xt.svg(n),T=vt(t,{});t.look!=="handDrawn"&&(T.roughness=0,T.fillStyle="solid");const E=[{x:-g/2,y:v/2},...gn(-g/2,v/2,g/2,v/2,x,1),{x:g/2,y:-v/2},...gn(g/2,-v/2,-g/2,-v/2,x,-1)],O=Wt(E),L=S.path(O,T),B=n.insert(()=>L,":first-child");return B.attr("class","basic label-container"),_&&t.look!=="handDrawn"&&B.selectAll("path").attr("style",_),i&&t.look!=="handDrawn"&&B.selectAll("path").attr("style",i),wt(t,B),t.intersect=function(I){return pt.polygon(t,E,I)},n}w(oA,"waveRectangle");async function cA(e,t){const{labelStyles:r,nodeStyles:i}=_t(t);t.labelStyle=r;const{shapeSvg:n,bbox:l,label:o}=await Bt(e,t,Rt(t)),u=Math.max(l.width+(t.padding??0)*2,t?.width??0),h=Math.max(l.height+(t.padding??0)*2,t?.height??0),d=5,p=-u/2,g=-h/2,{cssStyles:y}=t,x=xt.svg(n),v=vt(t,{}),_=[{x:p-d,y:g-d},{x:p-d,y:g+h},{x:p+u,y:g+h},{x:p+u,y:g-d}],S=`M${p-d},${g-d} L${p+u},${g-d} L${p+u},${g+h} L${p-d},${g+h} L${p-d},${g-d}
                M${p-d},${g} L${p+u},${g}
                M${p},${g-d} L${p},${g+h}`;t.look!=="handDrawn"&&(v.roughness=0,v.fillStyle="solid");const T=x.path(S,v),E=n.insert(()=>T,":first-child");return E.attr("transform",`translate(${d/2}, ${d/2})`),E.attr("class","basic label-container"),y&&t.look!=="handDrawn"&&E.selectAll("path").attr("style",y),i&&t.look!=="handDrawn"&&E.selectAll("path").attr("style",i),o.attr("transform",`translate(${-(l.width/2)+d/2-(l.x-(l.left??0))}, ${-(l.height/2)+d/2-(l.y-(l.top??0))})`),wt(t,E),t.intersect=function(O){return pt.polygon(t,_,O)},n}w(cA,"windowPane");async function Y0(e,t){const r=t;if(r.alias&&(t.label=r.alias),t.look==="handDrawn"){const{themeVariables:V}=cr(),{background:et}=V,ct={...t,id:t.id+"-background",look:"default",cssStyles:["stroke: none",`fill: ${et}`]};await Y0(e,ct)}const i=cr();t.useHtmlLabels=i.htmlLabels;let n=i.er?.diagramPadding??10,l=i.er?.entityPadding??6;const{cssStyles:o}=t,{labelStyles:u,nodeStyles:h}=_t(t);if(r.attributes.length===0&&t.label){const V={rx:0,ry:0,labelPaddingX:n,labelPaddingY:n*1.5};Ea(t.label,i)+V.labelPaddingX*2<i.er.minEntityWidth&&(t.width=i.er.minEntityWidth);const et=await vf(e,t,V);if(!We(i.htmlLabels)){const ct=et.select("text"),dt=ct.node()?.getBBox();ct.attr("transform",`translate(${-dt.width/2}, 0)`)}return et}i.htmlLabels||(n*=1.25,l*=1.25);let d=Rt(t);d||(d="node default");const p=e.insert("g").attr("class",d).attr("id",t.domId||t.id),g=await hl(p,t.label??"",i,0,0,["name"],u);g.height+=l;let y=0;const x=[],v=[];let _=0,S=0,T=0,E=0,O=!0,L=!0;for(const V of r.attributes){const et=await hl(p,V.type,i,0,y,["attribute-type"],u);_=Math.max(_,et.width+n);const ct=await hl(p,V.name,i,0,y,["attribute-name"],u);S=Math.max(S,ct.width+n);const dt=await hl(p,V.keys.join(),i,0,y,["attribute-keys"],u);T=Math.max(T,dt.width+n);const Ct=await hl(p,V.comment,i,0,y,["attribute-comment"],u);E=Math.max(E,Ct.width+n);const Lt=Math.max(et.height,ct.height,dt.height,Ct.height)+l;v.push({yOffset:y,rowHeight:Lt}),y+=Lt}let B=4;T<=n&&(O=!1,T=0,B--),E<=n&&(L=!1,E=0,B--);const I=p.node().getBBox();if(g.width+n*2-(_+S+T+E)>0){const V=g.width+n*2-(_+S+T+E);_+=V/B,S+=V/B,T>0&&(T+=V/B),E>0&&(E+=V/B)}const j=_+S+T+E,Z=xt.svg(p),rt=vt(t,{});t.look!=="handDrawn"&&(rt.roughness=0,rt.fillStyle="solid");let at=0;v.length>0&&(at=v.reduce((V,et)=>V+(et?.rowHeight??0),0));const J=Math.max(I.width+n*2,t?.width||0,j),q=Math.max((at??0)+g.height,t?.height||0),N=-J/2,z=-q/2;p.selectAll("g:not(:first-child)").each((V,et,ct)=>{const dt=Xt(ct[et]),Ct=dt.attr("transform");let Lt=0,te=0;if(Ct){const oe=RegExp(/translate\(([^,]+),([^)]+)\)/).exec(Ct);oe&&(Lt=parseFloat(oe[1]),te=parseFloat(oe[2]),dt.attr("class").includes("attribute-name")?Lt+=_:dt.attr("class").includes("attribute-keys")?Lt+=_+S:dt.attr("class").includes("attribute-comment")&&(Lt+=_+S+T))}dt.attr("transform",`translate(${N+n/2+Lt}, ${te+z+g.height+l/2})`)}),p.select(".name").attr("transform","translate("+-g.width/2+", "+(z+l/2)+")");const P=Z.rectangle(N,z,J,q,rt),R=p.insert(()=>P,":first-child").attr("style",o.join("")),{themeVariables:$}=cr(),{rowEven:H,rowOdd:ot,nodeBorder:ht}=$;x.push(0);for(const[V,et]of v.entries()){const dt=(V+1)%2===0&&et.yOffset!==0,Ct=Z.rectangle(N,g.height+z+et?.yOffset,J,et?.rowHeight,{...rt,fill:dt?H:ot,stroke:ht});p.insert(()=>Ct,"g.label").attr("style",o.join("")).attr("class",`row-rect-${dt?"even":"odd"}`)}let M=Z.line(N,g.height+z,J+N,g.height+z,rt);p.insert(()=>M).attr("class","divider"),M=Z.line(_+N,g.height+z,_+N,q+z,rt),p.insert(()=>M).attr("class","divider"),O&&(M=Z.line(_+S+N,g.height+z,_+S+N,q+z,rt),p.insert(()=>M).attr("class","divider")),L&&(M=Z.line(_+S+T+N,g.height+z,_+S+T+N,q+z,rt),p.insert(()=>M).attr("class","divider"));for(const V of x)M=Z.line(N,g.height+z+V,J+N,g.height+z+V,rt),p.insert(()=>M).attr("class","divider");if(wt(t,R),h&&t.look!=="handDrawn"){const et=h.split(";")?.filter(ct=>ct.includes("stroke"))?.map(ct=>`${ct}`).join("; ");p.selectAll("path").attr("style",et??""),p.selectAll(".row-rect-even path").attr("style",h)}return t.intersect=function(V){return pt.rect(t,V)},p}w(Y0,"erBox");async function hl(e,t,r,i=0,n=0,l=[],o=""){const u=e.insert("g").attr("class",`label ${l.join(" ")}`).attr("transform",`translate(${i}, ${n})`).attr("style",o);t!==Uw(t)&&(t=Uw(t),t=t.replaceAll("<","&lt;").replaceAll(">","&gt;"));const h=u.node().appendChild(await yn(u,t,{width:Ea(t,r)+100,style:o,useHtmlLabels:r.htmlLabels},r));if(t.includes("&lt;")||t.includes("&gt;")){let p=h.children[0];for(p.textContent=p.textContent.replaceAll("&lt;","<").replaceAll("&gt;",">");p.childNodes[0];)p=p.childNodes[0],p.textContent=p.textContent.replaceAll("&lt;","<").replaceAll("&gt;",">")}let d=h.getBBox();if(We(r.htmlLabels)){const p=h.children[0];p.style.textAlign="start";const g=Xt(h);d=p.getBoundingClientRect(),g.attr("width",d.width),g.attr("height",d.height)}return d}w(hl,"addText");async function uA(e,t,r,i,n=r.class.padding??12){const l=i?0:3,o=e.insert("g").attr("class",Rt(t)).attr("id",t.domId||t.id);let u=null,h=null,d=null,p=null,g=0,y=0,x=0;if(u=o.insert("g").attr("class","annotation-group text"),t.annotations.length>0){const E=t.annotations[0];await mc(u,{text:`${E}`},0),g=u.node().getBBox().height}h=o.insert("g").attr("class","label-group text"),await mc(h,t,0,["font-weight: bolder"]);const v=h.node().getBBox();y=v.height,d=o.insert("g").attr("class","members-group text");let _=0;for(const E of t.members){const O=await mc(d,E,_,[E.parseClassifier()]);_+=O+l}x=d.node().getBBox().height,x<=0&&(x=n/2),p=o.insert("g").attr("class","methods-group text");let S=0;for(const E of t.methods){const O=await mc(p,E,S,[E.parseClassifier()]);S+=O+l}let T=o.node().getBBox();if(u!==null){const E=u.node().getBBox();u.attr("transform",`translate(${-E.width/2})`)}return h.attr("transform",`translate(${-v.width/2}, ${g})`),T=o.node().getBBox(),d.attr("transform",`translate(0, ${g+y+n*2})`),T=o.node().getBBox(),p.attr("transform",`translate(0, ${g+y+(x?x+n*4:n*2)})`),T=o.node().getBBox(),{shapeSvg:o,bbox:T}}w(uA,"textHelper");async function mc(e,t,r,i=[]){const n=e.insert("g").attr("class","label").attr("style",i.join("; ")),l=cr();let o="useHtmlLabels"in t?t.useHtmlLabels:We(l.htmlLabels)??!0,u="";"text"in t?u=t.text:u=t.label,!o&&u.startsWith("\\")&&(u=u.substring(1)),Al(u)&&(o=!0);const h=await yn(n,i0(ps(u)),{width:Ea(u,l)+50,classes:"markdown-node-label",useHtmlLabels:o},l);let d,p=1;if(o){const g=h.children[0],y=Xt(h);p=g.innerHTML.split("<br>").length,g.innerHTML.includes("</math>")&&(p+=g.innerHTML.split("<mrow>").length-1);const x=g.getElementsByTagName("img");if(x){const v=u.replace(/<img[^>]*>/g,"").trim()==="";await Promise.all([...x].map(_=>new Promise(S=>{function T(){if(_.style.display="flex",_.style.flexDirection="column",v){const E=l.fontSize?.toString()??window.getComputedStyle(document.body).fontSize,L=parseInt(E,10)*5+"px";_.style.minWidth=L,_.style.maxWidth=L}else _.style.width="100%";S(_)}w(T,"setupImage"),setTimeout(()=>{_.complete&&T()}),_.addEventListener("error",T),_.addEventListener("load",T)})))}d=g.getBoundingClientRect(),y.attr("width",d.width),y.attr("height",d.height)}else{i.includes("font-weight: bolder")&&Xt(h).selectAll("tspan").attr("font-weight",""),p=h.children.length;const g=h.children[0];(h.textContent===""||h.textContent.includes("&gt"))&&(g.textContent=u[0]+u.substring(1).replaceAll("&gt;",">").replaceAll("&lt;","<").trim(),u[1]===" "&&(g.textContent=g.textContent[0]+" "+g.textContent.substring(1))),g.textContent==="undefined"&&(g.textContent=""),d=h.getBBox()}return n.attr("transform","translate(0,"+(-d.height/(2*p)+r)+")"),d.height}w(mc,"addText");async function hA(e,t){const r=ie(),i=r.class.padding??12,n=i,l=t.useHtmlLabels??We(r.htmlLabels)??!0,o=t;o.annotations=o.annotations??[],o.members=o.members??[],o.methods=o.methods??[];const{shapeSvg:u,bbox:h}=await uA(e,t,r,l,n),{labelStyles:d,nodeStyles:p}=_t(t);t.labelStyle=d,t.cssStyles=o.styles||"";const g=o.styles?.join(";")||p||"";t.cssStyles||(t.cssStyles=g.replaceAll("!important","").split(";"));const y=o.members.length===0&&o.methods.length===0&&!r.class?.hideEmptyMembersBox,x=xt.svg(u),v=vt(t,{});t.look!=="handDrawn"&&(v.roughness=0,v.fillStyle="solid");const _=h.width;let S=h.height;o.members.length===0&&o.methods.length===0?S+=n:o.members.length>0&&o.methods.length===0&&(S+=n*2);const T=-_/2,E=-S/2,O=x.rectangle(T-i,E-i-(y?i:o.members.length===0&&o.methods.length===0?-i/2:0),_+2*i,S+2*i+(y?i*2:o.members.length===0&&o.methods.length===0?-i:0),v),L=u.insert(()=>O,":first-child");L.attr("class","basic label-container");const B=L.node().getBBox();u.selectAll(".text").each((rt,at,J)=>{const q=Xt(J[at]),N=q.attr("transform");let z=0;if(N){const H=RegExp(/translate\(([^,]+),([^)]+)\)/).exec(N);H&&(z=parseFloat(H[2]))}let P=z+E+i-(y?i:o.members.length===0&&o.methods.length===0?-i/2:0);l||(P-=4);let R=T;(q.attr("class").includes("label-group")||q.attr("class").includes("annotation-group"))&&(R=-q.node()?.getBBox().width/2||0,u.selectAll("text").each(function($,H,ot){window.getComputedStyle(ot[H]).textAnchor==="middle"&&(R=0)})),q.attr("transform",`translate(${R}, ${P})`)});const I=u.select(".annotation-group").node().getBBox().height-(y?i/2:0)||0,j=u.select(".label-group").node().getBBox().height-(y?i/2:0)||0,Z=u.select(".members-group").node().getBBox().height-(y?i/2:0)||0;if(o.members.length>0||o.methods.length>0||y){const rt=x.line(B.x,I+j+E+i,B.x+B.width,I+j+E+i,v);u.insert(()=>rt).attr("class","divider").attr("style",g)}if(y||o.members.length>0||o.methods.length>0){const rt=x.line(B.x,I+j+Z+E+n*2+i,B.x+B.width,I+j+Z+E+i+n*2,v);u.insert(()=>rt).attr("class","divider").attr("style",g)}if(o.look!=="handDrawn"&&u.selectAll("path").attr("style",g),L.select(":nth-child(2)").attr("style",g),u.selectAll(".divider").select("path").attr("style",g),t.labelStyle?u.selectAll("span").attr("style",t.labelStyle):u.selectAll("span").attr("style",g),!l){const rt=RegExp(/color\s*:\s*([^;]*)/),at=rt.exec(g);if(at){const J=at[0].replace("color","fill");u.selectAll("tspan").attr("style",J)}else if(d){const J=rt.exec(d);if(J){const q=J[0].replace("color","fill");u.selectAll("tspan").attr("style",q)}}}return wt(t,L),t.intersect=function(rt){return pt.rect(t,rt)},u}w(hA,"classBox");async function dA(e,t){const{labelStyles:r,nodeStyles:i}=_t(t);t.labelStyle=r;const n=t,l=t,o=20,u=20,h="verifyMethod"in t,d=Rt(t),p=e.insert("g").attr("class",d).attr("id",t.domId??t.id);let g;h?g=await Pi(p,`&lt;&lt;${n.type}&gt;&gt;`,0,t.labelStyle):g=await Pi(p,"&lt;&lt;Element&gt;&gt;",0,t.labelStyle);let y=g;const x=await Pi(p,n.name,y,t.labelStyle+"; font-weight: bold;");if(y+=x+u,h){const I=await Pi(p,`${n.requirementId?`ID: ${n.requirementId}`:""}`,y,t.labelStyle);y+=I;const j=await Pi(p,`${n.text?`Text: ${n.text}`:""}`,y,t.labelStyle);y+=j;const Z=await Pi(p,`${n.risk?`Risk: ${n.risk}`:""}`,y,t.labelStyle);y+=Z,await Pi(p,`${n.verifyMethod?`Verification: ${n.verifyMethod}`:""}`,y,t.labelStyle)}else{const I=await Pi(p,`${l.type?`Type: ${l.type}`:""}`,y,t.labelStyle);y+=I,await Pi(p,`${l.docRef?`Doc Ref: ${l.docRef}`:""}`,y,t.labelStyle)}const v=(p.node()?.getBBox().width??200)+o,_=(p.node()?.getBBox().height??200)+o,S=-v/2,T=-_/2,E=xt.svg(p),O=vt(t,{});t.look!=="handDrawn"&&(O.roughness=0,O.fillStyle="solid");const L=E.rectangle(S,T,v,_,O),B=p.insert(()=>L,":first-child");if(B.attr("class","basic label-container").attr("style",i),p.selectAll(".label").each((I,j,Z)=>{const rt=Xt(Z[j]),at=rt.attr("transform");let J=0,q=0;if(at){const R=RegExp(/translate\(([^,]+),([^)]+)\)/).exec(at);R&&(J=parseFloat(R[1]),q=parseFloat(R[2]))}const N=q-_/2;let z=S+o/2;(j===0||j===1)&&(z=J),rt.attr("transform",`translate(${z}, ${N+o})`)}),y>g+x+u){const I=E.line(S,T+g+x+u,S+v,T+g+x+u,O);p.insert(()=>I).attr("style",i)}return wt(t,B),t.intersect=function(I){return pt.rect(t,I)},p}w(dA,"requirementBox");async function Pi(e,t,r,i=""){if(t==="")return 0;const n=e.insert("g").attr("class","label").attr("style",i),l=ie(),o=l.htmlLabels??!0,u=await yn(n,i0(ps(t)),{width:Ea(t,l)+50,classes:"markdown-node-label",useHtmlLabels:o,style:i},l);let h;if(o){const d=u.children[0],p=Xt(u);h=d.getBoundingClientRect(),p.attr("width",h.width),p.attr("height",h.height)}else{const d=u.children[0];for(const p of d.children)p.textContent=p.textContent.replaceAll("&gt;",">").replaceAll("&lt;","<"),i&&p.setAttribute("style",i);h=u.getBBox(),h.height+=6}return n.attr("transform",`translate(${-h.width/2},${-h.height/2+r})`),h.height}w(Pi,"addText");var bI=w(e=>{switch(e){case"Very High":return"red";case"High":return"orange";case"Medium":return null;case"Low":return"blue";case"Very Low":return"lightblue"}},"colorFromPriority");async function fA(e,t,{config:r}){const{labelStyles:i,nodeStyles:n}=_t(t);t.labelStyle=i||"";const l=10,o=t.width;t.width=(t.width??200)-10;const{shapeSvg:u,bbox:h,label:d}=await Bt(e,t,Rt(t)),p=t.padding||10;let g="",y;"ticket"in t&&t.ticket&&r?.kanban?.ticketBaseUrl&&(g=r?.kanban?.ticketBaseUrl.replace("#TICKET#",t.ticket),y=u.insert("svg:a",":first-child").attr("class","kanban-ticket-link").attr("xlink:href",g).attr("target","_blank"));const x={useHtmlLabels:t.useHtmlLabels,labelStyle:t.labelStyle||"",width:t.width,img:t.img,padding:t.padding||8,centerLabel:!1};let v,_;y?{label:v,bbox:_}=await xm(y,"ticket"in t&&t.ticket||"",x):{label:v,bbox:_}=await xm(u,"ticket"in t&&t.ticket||"",x);const{label:S,bbox:T}=await xm(u,"assigned"in t&&t.assigned||"",x);t.width=o;const E=10,O=t?.width||0,L=Math.max(_.height,T.height)/2,B=Math.max(h.height+E*2,t?.height||0)+L,I=-O/2,j=-B/2;d.attr("transform","translate("+(p-O/2)+", "+(-L-h.height/2)+")"),v.attr("transform","translate("+(p-O/2)+", "+(-L+h.height/2)+")"),S.attr("transform","translate("+(p+O/2-T.width-2*l)+", "+(-L+h.height/2)+")");let Z;const{rx:rt,ry:at}=t,{cssStyles:J}=t;if(t.look==="handDrawn"){const q=xt.svg(u),N=vt(t,{}),z=rt||at?q.path(bn(I,j,O,B,rt||0),N):q.rectangle(I,j,O,B,N);Z=u.insert(()=>z,":first-child"),Z.attr("class","basic label-container").attr("style",J||null)}else{Z=u.insert("rect",":first-child"),Z.attr("class","basic label-container __APA__").attr("style",n).attr("rx",rt??5).attr("ry",at??5).attr("x",I).attr("y",j).attr("width",O).attr("height",B);const q="priority"in t&&t.priority;if(q){const N=u.append("line"),z=I+2,P=j+Math.floor((rt??0)/2),R=j+B-Math.floor((rt??0)/2);N.attr("x1",z).attr("y1",P).attr("x2",z).attr("y2",R).attr("stroke-width","4").attr("stroke",bI(q))}}return wt(t,Z),t.height=B,t.intersect=function(q){return pt.rect(t,q)},u}w(fA,"kanbanItem");async function pA(e,t){const{labelStyles:r,nodeStyles:i}=_t(t);t.labelStyle=r;const{shapeSvg:n,bbox:l,halfPadding:o,label:u}=await Bt(e,t,Rt(t)),h=l.width+10*o,d=l.height+8*o,p=.15*h,{cssStyles:g}=t,y=l.width+20,x=l.height+20,v=Math.max(h,y),_=Math.max(d,x);u.attr("transform",`translate(${-l.width/2}, ${-l.height/2})`);let S;const T=`M0 0 
    a${p},${p} 1 0,0 ${v*.25},${-1*_*.1}
    a${p},${p} 1 0,0 ${v*.25},0
    a${p},${p} 1 0,0 ${v*.25},0
    a${p},${p} 1 0,0 ${v*.25},${_*.1}

    a${p},${p} 1 0,0 ${v*.15},${_*.33}
    a${p*.8},${p*.8} 1 0,0 0,${_*.34}
    a${p},${p} 1 0,0 ${-1*v*.15},${_*.33}

    a${p},${p} 1 0,0 ${-1*v*.25},${_*.15}
    a${p},${p} 1 0,0 ${-1*v*.25},0
    a${p},${p} 1 0,0 ${-1*v*.25},0
    a${p},${p} 1 0,0 ${-1*v*.25},${-1*_*.15}

    a${p},${p} 1 0,0 ${-1*v*.1},${-1*_*.33}
    a${p*.8},${p*.8} 1 0,0 0,${-1*_*.34}
    a${p},${p} 1 0,0 ${v*.1},${-1*_*.33}
  H0 V0 Z`;if(t.look==="handDrawn"){const E=xt.svg(n),O=vt(t,{}),L=E.path(T,O);S=n.insert(()=>L,":first-child"),S.attr("class","basic label-container").attr("style",hr(g))}else S=n.insert("path",":first-child").attr("class","basic label-container").attr("style",i).attr("d",T);return S.attr("transform",`translate(${-v/2}, ${-_/2})`),wt(t,S),t.calcIntersect=function(E,O){return pt.rect(E,O)},t.intersect=function(E){return lt.info("Bang intersect",t,E),pt.rect(t,E)},n}w(pA,"bang");async function gA(e,t){const{labelStyles:r,nodeStyles:i}=_t(t);t.labelStyle=r;const{shapeSvg:n,bbox:l,halfPadding:o,label:u}=await Bt(e,t,Rt(t)),h=l.width+2*o,d=l.height+2*o,p=.15*h,g=.25*h,y=.35*h,x=.2*h,{cssStyles:v}=t;let _;const S=`M0 0 
    a${p},${p} 0 0,1 ${h*.25},${-1*h*.1}
    a${y},${y} 1 0,1 ${h*.4},${-1*h*.1}
    a${g},${g} 1 0,1 ${h*.35},${h*.2}

    a${p},${p} 1 0,1 ${h*.15},${d*.35}
    a${x},${x} 1 0,1 ${-1*h*.15},${d*.65}

    a${g},${p} 1 0,1 ${-1*h*.25},${h*.15}
    a${y},${y} 1 0,1 ${-1*h*.5},0
    a${p},${p} 1 0,1 ${-1*h*.25},${-1*h*.15}

    a${p},${p} 1 0,1 ${-1*h*.1},${-1*d*.35}
    a${x},${x} 1 0,1 ${h*.1},${-1*d*.65}
  H0 V0 Z`;if(t.look==="handDrawn"){const T=xt.svg(n),E=vt(t,{}),O=T.path(S,E);_=n.insert(()=>O,":first-child"),_.attr("class","basic label-container").attr("style",hr(v))}else _=n.insert("path",":first-child").attr("class","basic label-container").attr("style",i).attr("d",S);return u.attr("transform",`translate(${-l.width/2}, ${-l.height/2})`),_.attr("transform",`translate(${-h/2}, ${-d/2})`),wt(t,_),t.calcIntersect=function(T,E){return pt.rect(T,E)},t.intersect=function(T){return lt.info("Cloud intersect",t,T),pt.rect(t,T)},n}w(gA,"cloud");async function mA(e,t){const{labelStyles:r,nodeStyles:i}=_t(t);t.labelStyle=r;const{shapeSvg:n,bbox:l,halfPadding:o,label:u}=await Bt(e,t,Rt(t)),h=l.width+8*o,d=l.height+2*o,p=5,g=`
    M${-h/2} ${d/2-p}
    v${-d+2*p}
    q0,-${p} ${p},-${p}
    h${h-2*p}
    q${p},0 ${p},${p}
    v${d-2*p}
    q0,${p} -${p},${p}
    h${-h+2*p}
    q-${p},0 -${p},-${p}
    Z
  `,y=n.append("path").attr("id","node-"+t.id).attr("class","node-bkg node-"+t.type).attr("style",i).attr("d",g);return n.append("line").attr("class","node-line-").attr("x1",-h/2).attr("y1",d/2).attr("x2",h/2).attr("y2",d/2),u.attr("transform",`translate(${-l.width/2}, ${-l.height/2})`),n.append(()=>u.node()),wt(t,y),t.calcIntersect=function(x,v){return pt.rect(x,v)},t.intersect=function(x){return pt.rect(t,x)},n}w(mA,"defaultMindmapNode");async function yA(e,t){const r={padding:t.padding??0};return G0(e,t,r)}w(yA,"mindmapCircle");var xI=[{semanticName:"Process",name:"Rectangle",shortName:"rect",description:"Standard process shape",aliases:["proc","process","rectangle"],internalAliases:["squareRect"],handler:VE},{semanticName:"Event",name:"Rounded Rectangle",shortName:"rounded",description:"Represents an event",aliases:["event"],internalAliases:["roundedRect"],handler:WE},{semanticName:"Terminal Point",name:"Stadium",shortName:"stadium",description:"Terminal point",aliases:["terminal","pill"],handler:XE},{semanticName:"Subprocess",name:"Framed Rectangle",shortName:"fr-rect",description:"Subprocess",aliases:["subprocess","subproc","framed-rectangle","subroutine"],handler:JE},{semanticName:"Database",name:"Cylinder",shortName:"cyl",description:"Database storage",aliases:["db","database","cylinder"],handler:bE},{semanticName:"Start",name:"Circle",shortName:"circle",description:"Starting point",aliases:["circ"],handler:G0},{semanticName:"Bang",name:"Bang",shortName:"bang",description:"Bang",aliases:["bang"],handler:pA},{semanticName:"Cloud",name:"Cloud",shortName:"cloud",description:"cloud",aliases:["cloud"],handler:gA},{semanticName:"Decision",name:"Diamond",shortName:"diam",description:"Decision-making step",aliases:["decision","diamond","question"],handler:IE},{semanticName:"Prepare Conditional",name:"Hexagon",shortName:"hex",description:"Preparation or condition step",aliases:["hexagon","prepare"],handler:CE},{semanticName:"Data Input/Output",name:"Lean Right",shortName:"lean-r",description:"Represents input or output",aliases:["lean-right","in-out"],internalAliases:["lean_right"],handler:DE},{semanticName:"Data Input/Output",name:"Lean Left",shortName:"lean-l",description:"Represents output or input",aliases:["lean-left","out-in"],internalAliases:["lean_left"],handler:NE},{semanticName:"Priority Action",name:"Trapezoid Base Bottom",shortName:"trap-b",description:"Priority action",aliases:["priority","trapezoid-bottom","trapezoid"],handler:aA},{semanticName:"Manual Operation",name:"Trapezoid Base Top",shortName:"trap-t",description:"Represents a manual task",aliases:["manual","trapezoid-top","inv-trapezoid"],internalAliases:["inv_trapezoid"],handler:ME},{semanticName:"Stop",name:"Double Circle",shortName:"dbl-circ",description:"Represents a stop point",aliases:["double-circle"],internalAliases:["doublecircle"],handler:vE},{semanticName:"Text Block",name:"Text Block",shortName:"text",description:"Text block",handler:rA},{semanticName:"Card",name:"Notched Rectangle",shortName:"notch-rect",description:"Represents a card",aliases:["card","notched-rectangle"],handler:uE},{semanticName:"Lined/Shaded Process",name:"Lined Rectangle",shortName:"lin-rect",description:"Lined process shape",aliases:["lined-rectangle","lined-process","lin-proc","shaded-process"],handler:GE},{semanticName:"Start",name:"Small Circle",shortName:"sm-circ",description:"Small starting point",aliases:["start","small-circle"],internalAliases:["stateStart"],handler:ZE},{semanticName:"Stop",name:"Framed Circle",shortName:"fr-circ",description:"Stop point",aliases:["stop","framed-circle"],internalAliases:["stateEnd"],handler:QE},{semanticName:"Fork/Join",name:"Filled Rectangle",shortName:"fork",description:"Fork or join in process flow",aliases:["join"],internalAliases:["forkJoin"],handler:SE},{semanticName:"Collate",name:"Hourglass",shortName:"hourglass",description:"Represents a collate operation",aliases:["hourglass","collate"],handler:TE},{semanticName:"Comment",name:"Curly Brace",shortName:"brace",description:"Adds a comment",aliases:["comment","brace-l"],handler:pE},{semanticName:"Comment Right",name:"Curly Brace",shortName:"brace-r",description:"Adds a comment",handler:gE},{semanticName:"Comment with braces on both sides",name:"Curly Braces",shortName:"braces",description:"Adds a comment",handler:mE},{semanticName:"Com Link",name:"Lightning Bolt",shortName:"bolt",description:"Communication link",aliases:["com-link","lightning-bolt"],handler:jE},{semanticName:"Document",name:"Document",shortName:"doc",description:"Represents a document",aliases:["doc","document"],handler:lA},{semanticName:"Delay",name:"Half-Rounded Rectangle",shortName:"delay",description:"Represents a delay",aliases:["half-rounded-rectangle"],handler:kE},{semanticName:"Direct Access Storage",name:"Horizontal Cylinder",shortName:"h-cyl",description:"Direct access storage",aliases:["das","horizontal-cylinder"],handler:iA},{semanticName:"Disk Storage",name:"Lined Cylinder",shortName:"lin-cyl",description:"Disk storage",aliases:["disk","lined-cylinder"],handler:$E},{semanticName:"Display",name:"Curved Trapezoid",shortName:"curv-trap",description:"Represents a display",aliases:["curved-trapezoid","display"],handler:yE},{semanticName:"Divided Process",name:"Divided Rectangle",shortName:"div-rect",description:"Divided process shape",aliases:["div-proc","divided-rectangle","divided-process"],handler:xE},{semanticName:"Extract",name:"Triangle",shortName:"tri",description:"Extraction process",aliases:["extract","triangle"],handler:sA},{semanticName:"Internal Storage",name:"Window Pane",shortName:"win-pane",description:"Internal storage",aliases:["internal-storage","window-pane"],handler:cA},{semanticName:"Junction",name:"Filled Circle",shortName:"f-circ",description:"Junction point",aliases:["junction","filled-circle"],handler:_E},{semanticName:"Loop Limit",name:"Trapezoidal Pentagon",shortName:"notch-pent",description:"Loop limit step",aliases:["loop-limit","notched-pentagon"],handler:nA},{semanticName:"Manual File",name:"Flipped Triangle",shortName:"flip-tri",description:"Manual file operation",aliases:["manual-file","flipped-triangle"],handler:wE},{semanticName:"Manual Input",name:"Sloped Rectangle",shortName:"sl-rect",description:"Manual input step",aliases:["manual-input","sloped-rectangle"],handler:YE},{semanticName:"Multi-Document",name:"Stacked Document",shortName:"docs",description:"Multiple documents",aliases:["documents","st-doc","stacked-document"],handler:PE},{semanticName:"Multi-Process",name:"Stacked Rectangle",shortName:"st-rect",description:"Multiple processes",aliases:["procs","processes","stacked-rectangle"],handler:FE},{semanticName:"Stored Data",name:"Bow Tie Rectangle",shortName:"bow-rect",description:"Stored data",aliases:["stored-data","bow-tie-rectangle"],handler:cE},{semanticName:"Summary",name:"Crossed Circle",shortName:"cross-circ",description:"Summary",aliases:["summary","crossed-circle"],handler:fE},{semanticName:"Tagged Document",name:"Tagged Document",shortName:"tag-doc",description:"Tagged document",aliases:["tag-doc","tagged-document"],handler:eA},{semanticName:"Tagged Process",name:"Tagged Rectangle",shortName:"tag-rect",description:"Tagged process",aliases:["tagged-rectangle","tag-proc","tagged-process"],handler:tA},{semanticName:"Paper Tape",name:"Flag",shortName:"flag",description:"Paper tape",aliases:["paper-tape"],handler:oA},{semanticName:"Odd",name:"Odd",shortName:"odd",description:"Odd shape",internalAliases:["rect_left_inv_arrow"],handler:qE},{semanticName:"Lined Document",name:"Lined Document",shortName:"lin-doc",description:"Lined document",aliases:["lined-document"],handler:zE}],vI=w(()=>{const t=[...Object.entries({state:KE,choice:hE,note:UE,rectWithTitle:HE,labelRect:BE,iconSquare:RE,iconCircle:AE,icon:EE,iconRounded:OE,imageSquare:LE,anchor:oE,kanbanItem:fA,mindmapCircle:yA,defaultMindmapNode:mA,classBox:hA,erBox:Y0,requirementBox:dA}),...xI.flatMap(r=>[r.shortName,..."aliases"in r?r.aliases:[],..."internalAliases"in r?r.internalAliases:[]].map(n=>[n,r.handler]))];return Object.fromEntries(t)},"generateShapeMap"),bA=vI();function _I(e){return e in bA}w(_I,"isValidShape");var _f=new Map;async function xA(e,t,r){let i,n;t.shape==="rect"&&(t.rx&&t.ry?t.shape="roundedRect":t.shape="squareRect");const l=t.shape?bA[t.shape]:void 0;if(!l)throw new Error(`No such shape: ${t.shape}. Please check your syntax.`);if(t.link){let o;r.config.securityLevel==="sandbox"?o="_top":t.linkTarget&&(o=t.linkTarget||"_blank"),i=e.insert("svg:a").attr("xlink:href",t.link).attr("target",o??null),n=await l(i,t,r)}else n=await l(e,t,r),i=n;return t.tooltip&&n.attr("title",t.tooltip),_f.set(t.id,i),t.haveCallback&&i.attr("class",i.attr("class")+" clickable"),i}w(xA,"insertNode");var H7=w((e,t)=>{_f.set(t.id,e)},"setNodeElem"),W7=w(()=>{_f.clear()},"clear"),G7=w(e=>{const t=_f.get(e.id);lt.trace("Transforming node",e.diff,e,"translate("+(e.x-e.width/2-5)+", "+e.width/2+")");const r=8,i=e.diff||0;return e.clusterNode?t.attr("transform","translate("+(e.x+i-e.width/2)+", "+(e.y-e.height/2-r)+")"):t.attr("transform","translate("+e.x+", "+e.y+")"),i},"positionNode"),wI=w((e,t,r,i,n,l)=>{t.arrowTypeStart&&K1(e,"start",t.arrowTypeStart,r,i,n,l),t.arrowTypeEnd&&K1(e,"end",t.arrowTypeEnd,r,i,n,l)},"addEdgeMarkers"),SI={arrow_cross:{type:"cross",fill:!1},arrow_point:{type:"point",fill:!0},arrow_barb:{type:"barb",fill:!0},arrow_circle:{type:"circle",fill:!1},aggregation:{type:"aggregation",fill:!1},extension:{type:"extension",fill:!1},composition:{type:"composition",fill:!0},dependency:{type:"dependency",fill:!0},lollipop:{type:"lollipop",fill:!1},only_one:{type:"onlyOne",fill:!1},zero_or_one:{type:"zeroOrOne",fill:!1},one_or_more:{type:"oneOrMore",fill:!1},zero_or_more:{type:"zeroOrMore",fill:!1},requirement_arrow:{type:"requirement_arrow",fill:!1},requirement_contains:{type:"requirement_contains",fill:!1}},K1=w((e,t,r,i,n,l,o)=>{const u=SI[r];if(!u){lt.warn(`Unknown arrow type: ${r}`);return}const h=u.type,p=`${n}_${l}-${h}${t==="start"?"Start":"End"}`;if(o&&o.trim()!==""){const g=o.replace(/[^\dA-Za-z]/g,"_"),y=`${p}_${g}`;if(!document.getElementById(y)){const x=document.getElementById(p);if(x){const v=x.cloneNode(!0);v.id=y,v.querySelectorAll("path, circle, line").forEach(S=>{S.setAttribute("stroke",o),u.fill&&S.setAttribute("fill",o)}),x.parentNode?.appendChild(v)}}e.attr(`marker-${t}`,`url(${i}#${y})`)}else e.attr(`marker-${t}`,`url(${i}#${p})`)},"addEdgeMarker"),qd=new Map,ar=new Map,Y7=w(()=>{qd.clear(),ar.clear()},"clear"),Fh=w(e=>e?e.reduce((r,i)=>r+";"+i,""):"","getLabelStyles"),kI=w(async(e,t)=>{let r=We(ie().flowchart.htmlLabels);const{labelStyles:i}=_t(t);t.labelStyle=i;const n=await yn(e,t.label,{style:t.labelStyle,useHtmlLabels:r,addSvgBackground:!0,isNode:!1});lt.info("abc82",t,t.labelType);const l=e.insert("g").attr("class","edgeLabel"),o=l.insert("g").attr("class","label").attr("data-id",t.id);o.node().appendChild(n);let u=n.getBBox();if(r){const d=n.children[0],p=Xt(n);u=d.getBoundingClientRect(),p.attr("width",u.width),p.attr("height",u.height)}o.attr("transform","translate("+-u.width/2+", "+-u.height/2+")"),qd.set(t.id,l),t.width=u.width,t.height=u.height;let h;if(t.startLabelLeft){const d=await ts(t.startLabelLeft,Fh(t.labelStyle)),p=e.insert("g").attr("class","edgeTerminals"),g=p.insert("g").attr("class","inner");h=g.node().appendChild(d);const y=d.getBBox();g.attr("transform","translate("+-y.width/2+", "+-y.height/2+")"),ar.get(t.id)||ar.set(t.id,{}),ar.get(t.id).startLeft=p,yc(h,t.startLabelLeft)}if(t.startLabelRight){const d=await ts(t.startLabelRight,Fh(t.labelStyle)),p=e.insert("g").attr("class","edgeTerminals"),g=p.insert("g").attr("class","inner");h=p.node().appendChild(d),g.node().appendChild(d);const y=d.getBBox();g.attr("transform","translate("+-y.width/2+", "+-y.height/2+")"),ar.get(t.id)||ar.set(t.id,{}),ar.get(t.id).startRight=p,yc(h,t.startLabelRight)}if(t.endLabelLeft){const d=await ts(t.endLabelLeft,Fh(t.labelStyle)),p=e.insert("g").attr("class","edgeTerminals"),g=p.insert("g").attr("class","inner");h=g.node().appendChild(d);const y=d.getBBox();g.attr("transform","translate("+-y.width/2+", "+-y.height/2+")"),p.node().appendChild(d),ar.get(t.id)||ar.set(t.id,{}),ar.get(t.id).endLeft=p,yc(h,t.endLabelLeft)}if(t.endLabelRight){const d=await ts(t.endLabelRight,Fh(t.labelStyle)),p=e.insert("g").attr("class","edgeTerminals"),g=p.insert("g").attr("class","inner");h=g.node().appendChild(d);const y=d.getBBox();g.attr("transform","translate("+-y.width/2+", "+-y.height/2+")"),p.node().appendChild(d),ar.get(t.id)||ar.set(t.id,{}),ar.get(t.id).endRight=p,yc(h,t.endLabelRight)}return n},"insertEdgeLabel");function yc(e,t){ie().flowchart.htmlLabels&&e&&(e.style.width=t.length*9+"px",e.style.height="12px")}w(yc,"setTerminalWidth");var CI=w((e,t)=>{lt.debug("Moving label abc88 ",e.id,e.label,qd.get(e.id),t);let r=t.updatedPath?t.updatedPath:t.originalPath;const i=ie(),{subGraphTitleTotalMargin:n}=S0(i);if(e.label){const l=qd.get(e.id);let o=e.x,u=e.y;if(r){const h=Ti.calcLabelPosition(r);lt.debug("Moving label "+e.label+" from (",o,",",u,") to (",h.x,",",h.y,") abc88"),t.updatedPath&&(o=h.x,u=h.y)}l.attr("transform",`translate(${o}, ${u+n/2})`)}if(e.startLabelLeft){const l=ar.get(e.id).startLeft;let o=e.x,u=e.y;if(r){const h=Ti.calcTerminalLabelPosition(e.arrowTypeStart?10:0,"start_left",r);o=h.x,u=h.y}l.attr("transform",`translate(${o}, ${u})`)}if(e.startLabelRight){const l=ar.get(e.id).startRight;let o=e.x,u=e.y;if(r){const h=Ti.calcTerminalLabelPosition(e.arrowTypeStart?10:0,"start_right",r);o=h.x,u=h.y}l.attr("transform",`translate(${o}, ${u})`)}if(e.endLabelLeft){const l=ar.get(e.id).endLeft;let o=e.x,u=e.y;if(r){const h=Ti.calcTerminalLabelPosition(e.arrowTypeEnd?10:0,"end_left",r);o=h.x,u=h.y}l.attr("transform",`translate(${o}, ${u})`)}if(e.endLabelRight){const l=ar.get(e.id).endRight;let o=e.x,u=e.y;if(r){const h=Ti.calcTerminalLabelPosition(e.arrowTypeEnd?10:0,"end_right",r);o=h.x,u=h.y}l.attr("transform",`translate(${o}, ${u})`)}},"positionEdgeLabel"),TI=w((e,t)=>{const r=e.x,i=e.y,n=Math.abs(t.x-r),l=Math.abs(t.y-i),o=e.width/2,u=e.height/2;return n>=o||l>=u},"outsideNode"),EI=w((e,t,r)=>{lt.debug(`intersection calc abc89:
  outsidePoint: ${JSON.stringify(t)}
  insidePoint : ${JSON.stringify(r)}
  node        : x:${e.x} y:${e.y} w:${e.width} h:${e.height}`);const i=e.x,n=e.y,l=Math.abs(i-r.x),o=e.width/2;let u=r.x<t.x?o-l:o+l;const h=e.height/2,d=Math.abs(t.y-r.y),p=Math.abs(t.x-r.x);if(Math.abs(n-t.y)*o>Math.abs(i-t.x)*h){let g=r.y<t.y?t.y-h-n:n-h-t.y;u=p*g/d;const y={x:r.x<t.x?r.x+u:r.x-p+u,y:r.y<t.y?r.y+d-g:r.y-d+g};return u===0&&(y.x=t.x,y.y=t.y),p===0&&(y.x=t.x),d===0&&(y.y=t.y),lt.debug(`abc89 top/bottom calc, Q ${d}, q ${g}, R ${p}, r ${u}`,y),y}else{r.x<t.x?u=t.x-o-i:u=i-o-t.x;let g=d*u/p,y=r.x<t.x?r.x+p-u:r.x-p+u,x=r.y<t.y?r.y+g:r.y-g;return lt.debug(`sides calc abc89, Q ${d}, q ${g}, R ${p}, r ${u}`,{_x:y,_y:x}),u===0&&(y=t.x,x=t.y),p===0&&(y=t.x),d===0&&(x=t.y),{x:y,y:x}}},"intersection"),Q1=w((e,t)=>{lt.warn("abc88 cutPathAtIntersect",e,t);let r=[],i=e[0],n=!1;return e.forEach(l=>{if(lt.info("abc88 checking point",l,t),!TI(t,l)&&!n){const o=EI(t,i,l);lt.debug("abc88 inside",l,i,o),lt.debug("abc88 intersection",o,t);let u=!1;r.forEach(h=>{u=u||h.x===o.x&&h.y===o.y}),r.some(h=>h.x===o.x&&h.y===o.y)?lt.warn("abc88 no intersect",o,r):r.push(o),n=!0}else lt.warn("abc88 outside",l,i),i=l,n||r.push(l)}),lt.debug("returning points",r),r},"cutPathAtIntersect");function vA(e){const t=[],r=[];for(let i=1;i<e.length-1;i++){const n=e[i-1],l=e[i],o=e[i+1];(n.x===l.x&&l.y===o.y&&Math.abs(l.x-o.x)>5&&Math.abs(l.y-n.y)>5||n.y===l.y&&l.x===o.x&&Math.abs(l.x-n.x)>5&&Math.abs(l.y-o.y)>5)&&(t.push(l),r.push(i))}return{cornerPoints:t,cornerPointPositions:r}}w(vA,"extractCornerPoints");var Z1=w(function(e,t,r){const i=t.x-e.x,n=t.y-e.y,l=Math.sqrt(i*i+n*n),o=r/l;return{x:t.x-o*i,y:t.y-o*n}},"findAdjacentPoint"),AI=w(function(e){const{cornerPointPositions:t}=vA(e),r=[];for(let i=0;i<e.length;i++)if(t.includes(i)){const n=e[i-1],l=e[i+1],o=e[i],u=Z1(n,o,5),h=Z1(l,o,5),d=h.x-u.x,p=h.y-u.y;r.push(u);const g=Math.sqrt(2)*2;let y={x:o.x,y:o.y};if(Math.abs(l.x-n.x)>10&&Math.abs(l.y-n.y)>=10){lt.debug("Corner point fixing",Math.abs(l.x-n.x),Math.abs(l.y-n.y));const x=5;o.x===u.x?y={x:d<0?u.x-x+g:u.x+x-g,y:p<0?u.y-g:u.y+g}:y={x:d<0?u.x-g:u.x+g,y:p<0?u.y-x+g:u.y+x-g}}else lt.debug("Corner point skipping fixing",Math.abs(l.x-n.x),Math.abs(l.y-n.y));r.push(y,h)}else r.push(e[i]);return r},"fixCorners"),OI=w((e,t,r)=>{const i=e-t-r,n=2,l=2,o=n+l,u=Math.floor(i/o),h=Array(u).fill(`${n} ${l}`).join(" ");return`0 ${t} ${h} ${r}`},"generateDashArray"),RI=w(function(e,t,r,i,n,l,o,u=!1){const{handDrawnSeed:h}=ie();let d=t.points,p=!1;const g=n;var y=l;const x=[];for(const z in t.cssCompiledStyles)QC(z)||x.push(t.cssCompiledStyles[z]);lt.debug("UIO intersect check",t.points,y.x,g.x),y.intersect&&g.intersect&&!u&&(d=d.slice(1,t.points.length-1),d.unshift(g.intersect(d[0])),lt.debug("Last point UIO",t.start,"-->",t.end,d[d.length-1],y,y.intersect(d[d.length-1])),d.push(y.intersect(d[d.length-1])));const v=btoa(JSON.stringify(d));t.toCluster&&(lt.info("to cluster abc88",r.get(t.toCluster)),d=Q1(t.points,r.get(t.toCluster).node),p=!0),t.fromCluster&&(lt.debug("from cluster abc88",r.get(t.fromCluster),JSON.stringify(d,null,2)),d=Q1(d.reverse(),r.get(t.fromCluster).node).reverse(),p=!0);let _=d.filter(z=>!Number.isNaN(z.y));_=AI(_);let S=Qh;switch(S=vd,t.curve){case"linear":S=vd;break;case"basis":S=Qh;break;case"cardinal":S=ek;break;case"bumpX":S=K2;break;case"bumpY":S=Q2;break;case"catmullRom":S=ik;break;case"monotoneX":S=ck;break;case"monotoneY":S=uk;break;case"natural":S=dk;break;case"step":S=fk;break;case"stepAfter":S=gk;break;case"stepBefore":S=pk;break;default:S=Qh}const{x:T,y:E}=A8(t),O=h6().x(T).y(E).curve(S);let L;switch(t.thickness){case"normal":L="edge-thickness-normal";break;case"thick":L="edge-thickness-thick";break;case"invisible":L="edge-thickness-invisible";break;default:L="edge-thickness-normal"}switch(t.pattern){case"solid":L+=" edge-pattern-solid";break;case"dotted":L+=" edge-pattern-dotted";break;case"dashed":L+=" edge-pattern-dashed";break;default:L+=" edge-pattern-solid"}let B,I=t.curve==="rounded"?_A(wA(_,t),5):O(_);const j=Array.isArray(t.style)?t.style:[t.style];let Z=j.find(z=>z?.startsWith("stroke:")),rt=!1;if(t.look==="handDrawn"){const z=xt.svg(e);Object.assign([],_);const P=z.path(I,{roughness:.3,seed:h});L+=" transition",B=Xt(P).select("path").attr("id",t.id).attr("class"," "+L+(t.classes?" "+t.classes:"")).attr("style",j?j.reduce(($,H)=>$+";"+H,""):"");let R=B.attr("d");B.attr("d",R),e.node().appendChild(B.node())}else{const z=x.join(";"),P=j?j.reduce((V,et)=>V+et+";",""):"";let R="";t.animate&&(R=" edge-animation-fast"),t.animation&&(R=" edge-animation-"+t.animation);const $=(z?z+";"+P+";":P)+";"+(j?j.reduce((V,et)=>V+";"+et,""):"");B=e.append("path").attr("d",I).attr("id",t.id).attr("class"," "+L+(t.classes?" "+t.classes:"")+(R??"")).attr("style",$),Z=$.match(/stroke:([^;]+)/)?.[1],rt=t.animate===!0||!!t.animation||z.includes("animation");const H=B.node(),ot=typeof H.getTotalLength=="function"?H.getTotalLength():0,ht=p1[t.arrowTypeStart]||0,M=p1[t.arrowTypeEnd]||0;if(t.look==="neo"&&!rt){const et=`stroke-dasharray: ${t.pattern==="dotted"||t.pattern==="dashed"?OI(ot,ht,M):`0 ${ht} ${ot-ht-M} ${M}`}; stroke-dashoffset: 0;`;B.attr("style",et+B.attr("style"))}}B.attr("data-edge",!0),B.attr("data-et","edge"),B.attr("data-id",t.id),B.attr("data-points",v),t.showPoints&&_.forEach(z=>{e.append("circle").style("stroke","red").style("fill","red").attr("r",1).attr("cx",z.x).attr("cy",z.y)});let at="";(ie().flowchart.arrowMarkerAbsolute||ie().state.arrowMarkerAbsolute)&&(at=window.location.protocol+"//"+window.location.host+window.location.pathname+window.location.search,at=at.replace(/\(/g,"\\(").replace(/\)/g,"\\)")),lt.info("arrowTypeStart",t.arrowTypeStart),lt.info("arrowTypeEnd",t.arrowTypeEnd),wI(B,t,at,o,i,Z);const J=Math.floor(d.length/2),q=d[J];Ti.isLabelCoordinateInPath(q,B.attr("d"))||(p=!0);let N={};return p&&(N.updatedPath=d),N.originalPath=t.points,N},"insertEdge");function _A(e,t){if(e.length<2)return"";let r="";const i=e.length,n=1e-5;for(let l=0;l<i;l++){const o=e[l],u=e[l-1],h=e[l+1];if(l===0)r+=`M${o.x},${o.y}`;else if(l===i-1)r+=`L${o.x},${o.y}`;else{const d=o.x-u.x,p=o.y-u.y,g=h.x-o.x,y=h.y-o.y,x=Math.hypot(d,p),v=Math.hypot(g,y);if(x<n||v<n){r+=`L${o.x},${o.y}`;continue}const _=d/x,S=p/x,T=g/v,E=y/v,O=_*T+S*E,L=Math.max(-1,Math.min(1,O)),B=Math.acos(L);if(B<n||Math.abs(Math.PI-B)<n){r+=`L${o.x},${o.y}`;continue}const I=Math.min(t/Math.sin(B/2),x/2,v/2),j=o.x-_*I,Z=o.y-S*I,rt=o.x+T*I,at=o.y+E*I;r+=`L${j},${Z}`,r+=`Q${o.x},${o.y} ${rt},${at}`}}return r}w(_A,"generateRoundedPath");function Ay(e,t){if(!e||!t)return{angle:0,deltaX:0,deltaY:0};const r=t.x-e.x,i=t.y-e.y;return{angle:Math.atan2(i,r),deltaX:r,deltaY:i}}w(Ay,"calculateDeltaAndAngle");function wA(e,t){const r=e.map(n=>({...n}));if(e.length>=2&&or[t.arrowTypeStart]){const n=or[t.arrowTypeStart],l=e[0],o=e[1],{angle:u}=Ay(l,o),h=n*Math.cos(u),d=n*Math.sin(u);r[0].x=l.x+h,r[0].y=l.y+d}const i=e.length;if(i>=2&&or[t.arrowTypeEnd]){const n=or[t.arrowTypeEnd],l=e[i-1],o=e[i-2],{angle:u}=Ay(o,l),h=n*Math.cos(u),d=n*Math.sin(u);r[i-1].x=l.x-h,r[i-1].y=l.y-d}return r}w(wA,"applyMarkerOffsetsToPoints");var LI=w((e,t,r,i)=>{t.forEach(n=>{YI[n](e,r,i)})},"insertMarkers"),MI=w((e,t,r)=>{lt.trace("Making markers for ",r),e.append("defs").append("marker").attr("id",r+"_"+t+"-extensionStart").attr("class","marker extension "+t).attr("refX",18).attr("refY",7).attr("markerWidth",190).attr("markerHeight",240).attr("orient","auto").append("path").attr("d","M 1,7 L18,13 V 1 Z"),e.append("defs").append("marker").attr("id",r+"_"+t+"-extensionEnd").attr("class","marker extension "+t).attr("refX",1).attr("refY",7).attr("markerWidth",20).attr("markerHeight",28).attr("orient","auto").append("path").attr("d","M 1,1 V 13 L18,7 Z")},"extension"),BI=w((e,t,r)=>{e.append("defs").append("marker").attr("id",r+"_"+t+"-compositionStart").attr("class","marker composition "+t).attr("refX",18).attr("refY",7).attr("markerWidth",190).attr("markerHeight",240).attr("orient","auto").append("path").attr("d","M 18,7 L9,13 L1,7 L9,1 Z"),e.append("defs").append("marker").attr("id",r+"_"+t+"-compositionEnd").attr("class","marker composition "+t).attr("refX",1).attr("refY",7).attr("markerWidth",20).attr("markerHeight",28).attr("orient","auto").append("path").attr("d","M 18,7 L9,13 L1,7 L9,1 Z")},"composition"),NI=w((e,t,r)=>{e.append("defs").append("marker").attr("id",r+"_"+t+"-aggregationStart").attr("class","marker aggregation "+t).attr("refX",18).attr("refY",7).attr("markerWidth",190).attr("markerHeight",240).attr("orient","auto").append("path").attr("d","M 18,7 L9,13 L1,7 L9,1 Z"),e.append("defs").append("marker").attr("id",r+"_"+t+"-aggregationEnd").attr("class","marker aggregation "+t).attr("refX",1).attr("refY",7).attr("markerWidth",20).attr("markerHeight",28).attr("orient","auto").append("path").attr("d","M 18,7 L9,13 L1,7 L9,1 Z")},"aggregation"),DI=w((e,t,r)=>{e.append("defs").append("marker").attr("id",r+"_"+t+"-dependencyStart").attr("class","marker dependency "+t).attr("refX",6).attr("refY",7).attr("markerWidth",190).attr("markerHeight",240).attr("orient","auto").append("path").attr("d","M 5,7 L9,13 L1,7 L9,1 Z"),e.append("defs").append("marker").attr("id",r+"_"+t+"-dependencyEnd").attr("class","marker dependency "+t).attr("refX",13).attr("refY",7).attr("markerWidth",20).attr("markerHeight",28).attr("orient","auto").append("path").attr("d","M 18,7 L9,13 L14,7 L9,1 Z")},"dependency"),jI=w((e,t,r)=>{e.append("defs").append("marker").attr("id",r+"_"+t+"-lollipopStart").attr("class","marker lollipop "+t).attr("refX",13).attr("refY",7).attr("markerWidth",190).attr("markerHeight",240).attr("orient","auto").append("circle").attr("stroke","black").attr("fill","transparent").attr("cx",7).attr("cy",7).attr("r",6),e.append("defs").append("marker").attr("id",r+"_"+t+"-lollipopEnd").attr("class","marker lollipop "+t).attr("refX",1).attr("refY",7).attr("markerWidth",190).attr("markerHeight",240).attr("orient","auto").append("circle").attr("stroke","black").attr("fill","transparent").attr("cx",7).attr("cy",7).attr("r",6)},"lollipop"),$I=w((e,t,r)=>{e.append("marker").attr("id",r+"_"+t+"-pointEnd").attr("class","marker "+t).attr("viewBox","0 0 10 10").attr("refX",5).attr("refY",5).attr("markerUnits","userSpaceOnUse").attr("markerWidth",8).attr("markerHeight",8).attr("orient","auto").append("path").attr("d","M 0 0 L 10 5 L 0 10 z").attr("class","arrowMarkerPath").style("stroke-width",1).style("stroke-dasharray","1,0"),e.append("marker").attr("id",r+"_"+t+"-pointStart").attr("class","marker "+t).attr("viewBox","0 0 10 10").attr("refX",4.5).attr("refY",5).attr("markerUnits","userSpaceOnUse").attr("markerWidth",8).attr("markerHeight",8).attr("orient","auto").append("path").attr("d","M 0 5 L 10 10 L 10 0 z").attr("class","arrowMarkerPath").style("stroke-width",1).style("stroke-dasharray","1,0")},"point"),zI=w((e,t,r)=>{e.append("marker").attr("id",r+"_"+t+"-circleEnd").attr("class","marker "+t).attr("viewBox","0 0 10 10").attr("refX",11).attr("refY",5).attr("markerUnits","userSpaceOnUse").attr("markerWidth",11).attr("markerHeight",11).attr("orient","auto").append("circle").attr("cx","5").attr("cy","5").attr("r","5").attr("class","arrowMarkerPath").style("stroke-width",1).style("stroke-dasharray","1,0"),e.append("marker").attr("id",r+"_"+t+"-circleStart").attr("class","marker "+t).attr("viewBox","0 0 10 10").attr("refX",-1).attr("refY",5).attr("markerUnits","userSpaceOnUse").attr("markerWidth",11).attr("markerHeight",11).attr("orient","auto").append("circle").attr("cx","5").attr("cy","5").attr("r","5").attr("class","arrowMarkerPath").style("stroke-width",1).style("stroke-dasharray","1,0")},"circle"),FI=w((e,t,r)=>{e.append("marker").attr("id",r+"_"+t+"-crossEnd").attr("class","marker cross "+t).attr("viewBox","0 0 11 11").attr("refX",12).attr("refY",5.2).attr("markerUnits","userSpaceOnUse").attr("markerWidth",11).attr("markerHeight",11).attr("orient","auto").append("path").attr("d","M 1,1 l 9,9 M 10,1 l -9,9").attr("class","arrowMarkerPath").style("stroke-width",2).style("stroke-dasharray","1,0"),e.append("marker").attr("id",r+"_"+t+"-crossStart").attr("class","marker cross "+t).attr("viewBox","0 0 11 11").attr("refX",-1).attr("refY",5.2).attr("markerUnits","userSpaceOnUse").attr("markerWidth",11).attr("markerHeight",11).attr("orient","auto").append("path").attr("d","M 1,1 l 9,9 M 10,1 l -9,9").attr("class","arrowMarkerPath").style("stroke-width",2).style("stroke-dasharray","1,0")},"cross"),PI=w((e,t,r)=>{e.append("defs").append("marker").attr("id",r+"_"+t+"-barbEnd").attr("refX",19).attr("refY",7).attr("markerWidth",20).attr("markerHeight",14).attr("markerUnits","userSpaceOnUse").attr("orient","auto").append("path").attr("d","M 19,7 L9,13 L14,7 L9,1 Z")},"barb"),UI=w((e,t,r)=>{e.append("defs").append("marker").attr("id",r+"_"+t+"-onlyOneStart").attr("class","marker onlyOne "+t).attr("refX",0).attr("refY",9).attr("markerWidth",18).attr("markerHeight",18).attr("orient","auto").append("path").attr("d","M9,0 L9,18 M15,0 L15,18"),e.append("defs").append("marker").attr("id",r+"_"+t+"-onlyOneEnd").attr("class","marker onlyOne "+t).attr("refX",18).attr("refY",9).attr("markerWidth",18).attr("markerHeight",18).attr("orient","auto").append("path").attr("d","M3,0 L3,18 M9,0 L9,18")},"only_one"),II=w((e,t,r)=>{const i=e.append("defs").append("marker").attr("id",r+"_"+t+"-zeroOrOneStart").attr("class","marker zeroOrOne "+t).attr("refX",0).attr("refY",9).attr("markerWidth",30).attr("markerHeight",18).attr("orient","auto");i.append("circle").attr("fill","white").attr("cx",21).attr("cy",9).attr("r",6),i.append("path").attr("d","M9,0 L9,18");const n=e.append("defs").append("marker").attr("id",r+"_"+t+"-zeroOrOneEnd").attr("class","marker zeroOrOne "+t).attr("refX",30).attr("refY",9).attr("markerWidth",30).attr("markerHeight",18).attr("orient","auto");n.append("circle").attr("fill","white").attr("cx",9).attr("cy",9).attr("r",6),n.append("path").attr("d","M21,0 L21,18")},"zero_or_one"),qI=w((e,t,r)=>{e.append("defs").append("marker").attr("id",r+"_"+t+"-oneOrMoreStart").attr("class","marker oneOrMore "+t).attr("refX",18).attr("refY",18).attr("markerWidth",45).attr("markerHeight",36).attr("orient","auto").append("path").attr("d","M0,18 Q 18,0 36,18 Q 18,36 0,18 M42,9 L42,27"),e.append("defs").append("marker").attr("id",r+"_"+t+"-oneOrMoreEnd").attr("class","marker oneOrMore "+t).attr("refX",27).attr("refY",18).attr("markerWidth",45).attr("markerHeight",36).attr("orient","auto").append("path").attr("d","M3,9 L3,27 M9,18 Q27,0 45,18 Q27,36 9,18")},"one_or_more"),HI=w((e,t,r)=>{const i=e.append("defs").append("marker").attr("id",r+"_"+t+"-zeroOrMoreStart").attr("class","marker zeroOrMore "+t).attr("refX",18).attr("refY",18).attr("markerWidth",57).attr("markerHeight",36).attr("orient","auto");i.append("circle").attr("fill","white").attr("cx",48).attr("cy",18).attr("r",6),i.append("path").attr("d","M0,18 Q18,0 36,18 Q18,36 0,18");const n=e.append("defs").append("marker").attr("id",r+"_"+t+"-zeroOrMoreEnd").attr("class","marker zeroOrMore "+t).attr("refX",39).attr("refY",18).attr("markerWidth",57).attr("markerHeight",36).attr("orient","auto");n.append("circle").attr("fill","white").attr("cx",9).attr("cy",18).attr("r",6),n.append("path").attr("d","M21,18 Q39,0 57,18 Q39,36 21,18")},"zero_or_more"),WI=w((e,t,r)=>{e.append("defs").append("marker").attr("id",r+"_"+t+"-requirement_arrowEnd").attr("refX",20).attr("refY",10).attr("markerWidth",20).attr("markerHeight",20).attr("orient","auto").append("path").attr("d",`M0,0
      L20,10
      M20,10
      L0,20`)},"requirement_arrow"),GI=w((e,t,r)=>{const i=e.append("defs").append("marker").attr("id",r+"_"+t+"-requirement_containsStart").attr("refX",0).attr("refY",10).attr("markerWidth",20).attr("markerHeight",20).attr("orient","auto").append("g");i.append("circle").attr("cx",10).attr("cy",10).attr("r",9).attr("fill","none"),i.append("line").attr("x1",1).attr("x2",19).attr("y1",10).attr("y2",10),i.append("line").attr("y1",1).attr("y2",19).attr("x1",10).attr("x2",10)},"requirement_contains"),YI={extension:MI,composition:BI,aggregation:NI,dependency:DI,lollipop:jI,point:$I,circle:zI,cross:FI,barb:PI,only_one:UI,zero_or_one:II,one_or_more:qI,zero_or_more:HI,requirement_arrow:WI,requirement_contains:GI},VI=LI,XI={common:Fl,getConfig:cr,insertCluster:iI,insertEdge:RI,insertEdgeLabel:kI,insertMarkers:VI,insertNode:xA,interpolateToCurve:A0,labelHelper:Bt,log:lt,positionEdgeLabel:CI},Hc={},SA=w(e=>{for(const t of e)Hc[t.name]=t},"registerLayoutLoaders"),KI=w(()=>{SA([{name:"dagre",loader:w(async()=>await ne(()=>import("./dagre-6UL2VRFP-CO4OsoGx.js"),__vite__mapDeps([0,1,2,3,4,5])),"loader")},{name:"cose-bilkent",loader:w(async()=>await ne(()=>import("./cose-bilkent-S5V4N54A-CTh5qgpu.js"),__vite__mapDeps([6,7])),"loader")}])},"registerDefaultLayoutLoaders");KI();var V7=w(async(e,t)=>{if(!(e.layoutAlgorithm in Hc))throw new Error(`Unknown layout algorithm: ${e.layoutAlgorithm}`);const r=Hc[e.layoutAlgorithm];return(await r.loader()).render(e,t,XI,{algorithm:r.algorithm})},"render"),X7=w((e="",{fallback:t="dagre"}={})=>{if(e in Hc)return e;if(t in Hc)return lt.warn(`Layout algorithm ${e} is not registered. Using ${t} as fallback.`),t;throw new Error(`Both layout algorithms ${e} and ${t} are not registered.`)},"getRegisteredLayoutAlgorithm"),kA="comm",CA="rule",TA="decl",QI="@import",ZI="@namespace",JI="@keyframes",t9="@layer",EA=Math.abs,V0=String.fromCharCode;function AA(e){return e.trim()}function rd(e,t,r){return e.replace(t,r)}function e9(e,t,r){return e.indexOf(t,r)}function yl(e,t){return e.charCodeAt(t)|0}function Bl(e,t,r){return e.slice(t,r)}function Ui(e){return e.length}function r9(e){return e.length}function Ph(e,t){return t.push(e),e}var wf=1,Nl=1,OA=0,fi=0,$e=0,Hl="";function X0(e,t,r,i,n,l,o,u){return{value:e,root:t,parent:r,type:i,props:n,children:l,line:wf,column:Nl,length:o,return:"",siblings:u}}function i9(){return $e}function a9(){return $e=fi>0?yl(Hl,--fi):0,Nl--,$e===10&&(Nl=1,wf--),$e}function Ai(){return $e=fi<OA?yl(Hl,fi++):0,Nl++,$e===10&&(Nl=1,wf++),$e}function un(){return yl(Hl,fi)}function id(){return fi}function Sf(e,t){return Bl(Hl,e,t)}function Wc(e){switch(e){case 0:case 9:case 10:case 13:case 32:return 5;case 33:case 43:case 44:case 47:case 62:case 64:case 126:case 59:case 123:case 125:return 4;case 58:return 3;case 34:case 39:case 40:case 91:return 2;case 41:case 93:return 1}return 0}function n9(e){return wf=Nl=1,OA=Ui(Hl=e),fi=0,[]}function s9(e){return Hl="",e}function vm(e){return AA(Sf(fi-1,Oy(e===91?e+2:e===40?e+1:e)))}function l9(e){for(;($e=un())&&$e<33;)Ai();return Wc(e)>2||Wc($e)>3?"":" "}function o9(e,t){for(;--t&&Ai()&&!($e<48||$e>102||$e>57&&$e<65||$e>70&&$e<97););return Sf(e,id()+(t<6&&un()==32&&Ai()==32))}function Oy(e){for(;Ai();)switch($e){case e:return fi;case 34:case 39:e!==34&&e!==39&&Oy($e);break;case 40:e===41&&Oy(e);break;case 92:Ai();break}return fi}function c9(e,t){for(;Ai()&&e+$e!==57;)if(e+$e===84&&un()===47)break;return"/*"+Sf(t,fi-1)+"*"+V0(e===47?e:Ai())}function u9(e){for(;!Wc(un());)Ai();return Sf(e,fi)}function h9(e){return s9(ad("",null,null,null,[""],e=n9(e),0,[0],e))}function ad(e,t,r,i,n,l,o,u,h){for(var d=0,p=0,g=o,y=0,x=0,v=0,_=1,S=1,T=1,E=0,O="",L=n,B=l,I=i,j=O;S;)switch(v=E,E=Ai()){case 40:if(v!=108&&yl(j,g-1)==58){e9(j+=rd(vm(E),"&","&\f"),"&\f",EA(d?u[d-1]:0))!=-1&&(T=-1);break}case 34:case 39:case 91:j+=vm(E);break;case 9:case 10:case 13:case 32:j+=l9(v);break;case 92:j+=o9(id()-1,7);continue;case 47:switch(un()){case 42:case 47:Ph(d9(c9(Ai(),id()),t,r,h),h),(Wc(v||1)==5||Wc(un()||1)==5)&&Ui(j)&&Bl(j,-1,void 0)!==" "&&(j+=" ");break;default:j+="/"}break;case 123*_:u[d++]=Ui(j)*T;case 125*_:case 59:case 0:switch(E){case 0:case 125:S=0;case 59+p:T==-1&&(j=rd(j,/\f/g,"")),x>0&&(Ui(j)-g||_===0&&v===47)&&Ph(x>32?tS(j+";",i,r,g-1,h):tS(rd(j," ","")+";",i,r,g-2,h),h);break;case 59:j+=";";default:if(Ph(I=J1(j,t,r,d,p,n,u,O,L=[],B=[],g,l),l),E===123)if(p===0)ad(j,t,I,I,L,l,g,u,B);else{switch(y){case 99:if(yl(j,3)===110)break;case 108:if(yl(j,2)===97)break;default:p=0;case 100:case 109:case 115:}p?ad(e,I,I,i&&Ph(J1(e,I,I,0,0,n,u,O,n,L=[],g,B),B),n,B,g,u,i?L:B):ad(j,I,I,I,[""],B,0,u,B)}}d=p=x=0,_=T=1,O=j="",g=o;break;case 58:g=1+Ui(j),x=v;default:if(_<1){if(E==123)--_;else if(E==125&&_++==0&&a9()==125)continue}switch(j+=V0(E),E*_){case 38:T=p>0?1:(j+="\f",-1);break;case 44:u[d++]=(Ui(j)-1)*T,T=1;break;case 64:un()===45&&(j+=vm(Ai())),y=un(),p=g=Ui(O=j+=u9(id())),E++;break;case 45:v===45&&Ui(j)==2&&(_=0)}}return l}function J1(e,t,r,i,n,l,o,u,h,d,p,g){for(var y=n-1,x=n===0?l:[""],v=r9(x),_=0,S=0,T=0;_<i;++_)for(var E=0,O=Bl(e,y+1,y=EA(S=o[_])),L=e;E<v;++E)(L=AA(S>0?x[E]+" "+O:rd(O,/&\f/g,x[E])))&&(h[T++]=L);return X0(e,t,r,n===0?CA:u,h,d,p,g)}function d9(e,t,r,i){return X0(e,t,r,kA,V0(i9()),Bl(e,2,-2),0,i)}function tS(e,t,r,i,n){return X0(e,t,r,TA,Bl(e,0,i),Bl(e,i+1,-1),i,n)}function Ry(e,t){for(var r="",i=0;i<e.length;i++)r+=t(e[i],i,e,t)||"";return r}function f9(e,t,r,i){switch(e.type){case t9:if(e.children.length)break;case QI:case ZI:case TA:return e.return=e.return||e.value;case kA:return"";case JI:return e.return=e.value+"{"+Ry(e.children,i)+"}";case CA:if(!Ui(e.value=e.props.join(",")))return""}return Ui(r=Ry(e.children,i))?e.return=e.value+"{"+r+"}":""}var p9=eT(Object.keys,Object),g9=Object.prototype,m9=g9.hasOwnProperty;function y9(e){if(!df(e))return p9(e);var t=[];for(var r in Object(e))m9.call(e,r)&&r!="constructor"&&t.push(r);return t}var Ly=fs(Gi,"DataView"),My=fs(Gi,"Promise"),By=fs(Gi,"Set"),Ny=fs(Gi,"WeakMap"),eS="[object Map]",b9="[object Object]",rS="[object Promise]",iS="[object Set]",aS="[object WeakMap]",nS="[object DataView]",x9=ds(Ly),v9=ds(Ic),_9=ds(My),w9=ds(By),S9=ds(Ny),Gn=Ul;(Ly&&Gn(new Ly(new ArrayBuffer(1)))!=nS||Ic&&Gn(new Ic)!=eS||My&&Gn(My.resolve())!=rS||By&&Gn(new By)!=iS||Ny&&Gn(new Ny)!=aS)&&(Gn=function(e){var t=Ul(e),r=t==b9?e.constructor:void 0,i=r?ds(r):"";if(i)switch(i){case x9:return nS;case v9:return eS;case _9:return rS;case w9:return iS;case S9:return aS}return t});var k9="[object Map]",C9="[object Set]",T9=Object.prototype,E9=T9.hasOwnProperty;function sS(e){if(e==null)return!0;if(ff(e)&&(Bd(e)||typeof e=="string"||typeof e.splice=="function"||T0(e)||E0(e)||Md(e)))return!e.length;var t=Gn(e);if(t==k9||t==C9)return!e.size;if(df(e))return!y9(e).length;for(var r in e)if(E9.call(e,r))return!1;return!0}var RA="c4",A9=w(e=>/^\s*C4Context|C4Container|C4Component|C4Dynamic|C4Deployment/.test(e),"detector"),O9=w(async()=>{const{diagram:e}=await ne(async()=>{const{diagram:t}=await import("./c4Diagram-YG6GDRKO-BWVc0ZF-.js");return{diagram:t}},__vite__mapDeps([8,9]));return{id:RA,diagram:e}},"loader"),R9={id:RA,detector:A9,loader:O9},L9=R9,LA="flowchart",M9=w((e,t)=>t?.flowchart?.defaultRenderer==="dagre-wrapper"||t?.flowchart?.defaultRenderer==="elk"?!1:/^\s*graph/.test(e),"detector"),B9=w(async()=>{const{diagram:e}=await ne(async()=>{const{diagram:t}=await import("./flowDiagram-NV44I4VS-NuUA7fI8.js");return{diagram:t}},__vite__mapDeps([10,11,12,13,14]));return{id:LA,diagram:e}},"loader"),N9={id:LA,detector:M9,loader:B9},D9=N9,MA="flowchart-v2",j9=w((e,t)=>t?.flowchart?.defaultRenderer==="dagre-d3"?!1:(t?.flowchart?.defaultRenderer==="elk"&&(t.layout="elk"),/^\s*graph/.test(e)&&t?.flowchart?.defaultRenderer==="dagre-wrapper"?!0:/^\s*flowchart/.test(e)),"detector"),$9=w(async()=>{const{diagram:e}=await ne(async()=>{const{diagram:t}=await import("./flowDiagram-NV44I4VS-NuUA7fI8.js");return{diagram:t}},__vite__mapDeps([10,11,12,13,14]));return{id:MA,diagram:e}},"loader"),z9={id:MA,detector:j9,loader:$9},F9=z9,BA="er",P9=w(e=>/^\s*erDiagram/.test(e),"detector"),U9=w(async()=>{const{diagram:e}=await ne(async()=>{const{diagram:t}=await import("./erDiagram-Q2GNP2WA-Di1qeEgc.js");return{diagram:t}},__vite__mapDeps([15,12,13,14]));return{id:BA,diagram:e}},"loader"),I9={id:BA,detector:P9,loader:U9},q9=I9,NA="gitGraph",H9=w(e=>/^\s*gitGraph/.test(e),"detector"),W9=w(async()=>{const{diagram:e}=await ne(async()=>{const{diagram:t}=await import("./gitGraphDiagram-NY62KEGX-C-_jYd7c.js");return{diagram:t}},__vite__mapDeps([16,17,18,19,4,2]));return{id:NA,diagram:e}},"loader"),G9={id:NA,detector:H9,loader:W9},Y9=G9,DA="gantt",V9=w(e=>/^\s*gantt/.test(e),"detector"),X9=w(async()=>{const{diagram:e}=await ne(async()=>{const{diagram:t}=await import("./ganttDiagram-JELNMOA3-DJqizYlC.js");return{diagram:t}},__vite__mapDeps([20,21,22,23]));return{id:DA,diagram:e}},"loader"),K9={id:DA,detector:V9,loader:X9},Q9=K9,jA="info",Z9=w(e=>/^\s*info/.test(e),"detector"),J9=w(async()=>{const{diagram:e}=await ne(async()=>{const{diagram:t}=await import("./infoDiagram-WHAUD3N6-DBJIo-BX.js");return{diagram:t}},__vite__mapDeps([24,19,4,2]));return{id:jA,diagram:e}},"loader"),tq={id:jA,detector:Z9,loader:J9},$A="pie",eq=w(e=>/^\s*pie/.test(e),"detector"),rq=w(async()=>{const{diagram:e}=await ne(async()=>{const{diagram:t}=await import("./pieDiagram-ADFJNKIX-PTO96yzM.js");return{diagram:t}},__vite__mapDeps([25,17,19,4,2,26,27,22]));return{id:$A,diagram:e}},"loader"),iq={id:$A,detector:eq,loader:rq},zA="quadrantChart",aq=w(e=>/^\s*quadrantChart/.test(e),"detector"),nq=w(async()=>{const{diagram:e}=await ne(async()=>{const{diagram:t}=await import("./quadrantDiagram-AYHSOK5B-DN1yr_Yw.js");return{diagram:t}},__vite__mapDeps([28,21,22,23]));return{id:zA,diagram:e}},"loader"),sq={id:zA,detector:aq,loader:nq},lq=sq,FA="xychart",oq=w(e=>/^\s*xychart(-beta)?/.test(e),"detector"),cq=w(async()=>{const{diagram:e}=await ne(async()=>{const{diagram:t}=await import("./xychartDiagram-PRI3JC2R-C3OdLJOr.js");return{diagram:t}},__vite__mapDeps([29,22,27,21,23]));return{id:FA,diagram:e}},"loader"),uq={id:FA,detector:oq,loader:cq},hq=uq,PA="requirement",dq=w(e=>/^\s*requirement(Diagram)?/.test(e),"detector"),fq=w(async()=>{const{diagram:e}=await ne(async()=>{const{diagram:t}=await import("./requirementDiagram-UZGBJVZJ-BWVoZhv8.js");return{diagram:t}},__vite__mapDeps([30,12,13]));return{id:PA,diagram:e}},"loader"),pq={id:PA,detector:dq,loader:fq},gq=pq,UA="sequence",mq=w(e=>/^\s*sequenceDiagram/.test(e),"detector"),yq=w(async()=>{const{diagram:e}=await ne(async()=>{const{diagram:t}=await import("./sequenceDiagram-WL72ISMW-CECbHE5O.js");return{diagram:t}},__vite__mapDeps([31,9,18]));return{id:UA,diagram:e}},"loader"),bq={id:UA,detector:mq,loader:yq},xq=bq,IA="class",vq=w((e,t)=>t?.class?.defaultRenderer==="dagre-wrapper"?!1:/^\s*classDiagram/.test(e),"detector"),_q=w(async()=>{const{diagram:e}=await ne(async()=>{const{diagram:t}=await import("./classDiagram-2ON5EDUG-Do4wgL59.js");return{diagram:t}},__vite__mapDeps([32,33,11,12,13]));return{id:IA,diagram:e}},"loader"),wq={id:IA,detector:vq,loader:_q},Sq=wq,qA="classDiagram",kq=w((e,t)=>/^\s*classDiagram/.test(e)&&t?.class?.defaultRenderer==="dagre-wrapper"?!0:/^\s*classDiagram-v2/.test(e),"detector"),Cq=w(async()=>{const{diagram:e}=await ne(async()=>{const{diagram:t}=await import("./classDiagram-v2-WZHVMYZB-Do4wgL59.js");return{diagram:t}},__vite__mapDeps([34,33,11,12,13]));return{id:qA,diagram:e}},"loader"),Tq={id:qA,detector:kq,loader:Cq},Eq=Tq,HA="state",Aq=w((e,t)=>t?.state?.defaultRenderer==="dagre-wrapper"?!1:/^\s*stateDiagram/.test(e),"detector"),Oq=w(async()=>{const{diagram:e}=await ne(async()=>{const{diagram:t}=await import("./stateDiagram-FKZM4ZOC-UbSVjfX1.js");return{diagram:t}},__vite__mapDeps([35,36,12,13,1,2,3,4]));return{id:HA,diagram:e}},"loader"),Rq={id:HA,detector:Aq,loader:Oq},Lq=Rq,WA="stateDiagram",Mq=w((e,t)=>!!(/^\s*stateDiagram-v2/.test(e)||/^\s*stateDiagram/.test(e)&&t?.state?.defaultRenderer==="dagre-wrapper"),"detector"),Bq=w(async()=>{const{diagram:e}=await ne(async()=>{const{diagram:t}=await import("./stateDiagram-v2-4FDKWEC3-DVJyEnNZ.js");return{diagram:t}},__vite__mapDeps([37,36,12,13]));return{id:WA,diagram:e}},"loader"),Nq={id:WA,detector:Mq,loader:Bq},Dq=Nq,GA="journey",jq=w(e=>/^\s*journey/.test(e),"detector"),$q=w(async()=>{const{diagram:e}=await ne(async()=>{const{diagram:t}=await import("./journeyDiagram-XKPGCS4Q-DqTu_FFB.js");return{diagram:t}},__vite__mapDeps([38,9,11,26]));return{id:GA,diagram:e}},"loader"),zq={id:GA,detector:jq,loader:$q},Fq=zq,Pq=w((e,t,r)=>{lt.debug(`rendering svg for syntax error
`);const i=v6(t),n=i.append("g");i.attr("viewBox","0 0 2412 512"),x2(i,100,512,!0),n.append("path").attr("class","error-icon").attr("d","m411.313,123.313c6.25-6.25 6.25-16.375 0-22.625s-16.375-6.25-22.625,0l-32,32-9.375,9.375-20.688-20.688c-12.484-12.5-32.766-12.5-45.25,0l-16,16c-1.261,1.261-2.304,2.648-3.31,4.051-21.739-8.561-45.324-13.426-70.065-13.426-105.867,0-192,86.133-192,192s86.133,192 192,192 192-86.133 192-192c0-24.741-4.864-48.327-13.426-70.065 1.402-1.007 2.79-2.049 4.051-3.31l16-16c12.5-12.492 12.5-32.758 0-45.25l-20.688-20.688 9.375-9.375 32.001-31.999zm-219.313,100.687c-52.938,0-96,43.063-96,96 0,8.836-7.164,16-16,16s-16-7.164-16-16c0-70.578 57.422-128 128-128 8.836,0 16,7.164 16,16s-7.164,16-16,16z"),n.append("path").attr("class","error-icon").attr("d","m459.02,148.98c-6.25-6.25-16.375-6.25-22.625,0s-6.25,16.375 0,22.625l16,16c3.125,3.125 7.219,4.688 11.313,4.688 4.094,0 8.188-1.563 11.313-4.688 6.25-6.25 6.25-16.375 0-22.625l-16.001-16z"),n.append("path").attr("class","error-icon").attr("d","m340.395,75.605c3.125,3.125 7.219,4.688 11.313,4.688 4.094,0 8.188-1.563 11.313-4.688 6.25-6.25 6.25-16.375 0-22.625l-16-16c-6.25-6.25-16.375-6.25-22.625,0s-6.25,16.375 0,22.625l15.999,16z"),n.append("path").attr("class","error-icon").attr("d","m400,64c8.844,0 16-7.164 16-16v-32c0-8.836-7.156-16-16-16-8.844,0-16,7.164-16,16v32c0,8.836 7.156,16 16,16z"),n.append("path").attr("class","error-icon").attr("d","m496,96.586h-32c-8.844,0-16,7.164-16,16 0,8.836 7.156,16 16,16h32c8.844,0 16-7.164 16-16 0-8.836-7.156-16-16-16z"),n.append("path").attr("class","error-icon").attr("d","m436.98,75.605c3.125,3.125 7.219,4.688 11.313,4.688 4.094,0 8.188-1.563 11.313-4.688l32-32c6.25-6.25 6.25-16.375 0-22.625s-16.375-6.25-22.625,0l-32,32c-6.251,6.25-6.251,16.375-0.001,22.625z"),n.append("text").attr("class","error-text").attr("x",1440).attr("y",250).attr("font-size","150px").style("text-anchor","middle").text("Syntax error in text"),n.append("text").attr("class","error-text").attr("x",1250).attr("y",400).attr("font-size","100px").style("text-anchor","middle").text(`mermaid version ${r}`)},"draw"),YA={draw:Pq},Uq=YA,Iq={db:{},renderer:YA,parser:{parse:w(()=>{},"parse")}},qq=Iq,VA="flowchart-elk",Hq=w((e,t={})=>/^\s*flowchart-elk/.test(e)||/^\s*(flowchart|graph)/.test(e)&&t?.flowchart?.defaultRenderer==="elk"?(t.layout="elk",!0):!1,"detector"),Wq=w(async()=>{const{diagram:e}=await ne(async()=>{const{diagram:t}=await import("./flowDiagram-NV44I4VS-NuUA7fI8.js");return{diagram:t}},__vite__mapDeps([10,11,12,13,14]));return{id:VA,diagram:e}},"loader"),Gq={id:VA,detector:Hq,loader:Wq},Yq=Gq,XA="timeline",Vq=w(e=>/^\s*timeline/.test(e),"detector"),Xq=w(async()=>{const{diagram:e}=await ne(async()=>{const{diagram:t}=await import("./timeline-definition-IT6M3QCI-DEHErQrR.js");return{diagram:t}},__vite__mapDeps([39,26]));return{id:XA,diagram:e}},"loader"),Kq={id:XA,detector:Vq,loader:Xq},Qq=Kq,KA="mindmap",Zq=w(e=>/^\s*mindmap/.test(e),"detector"),Jq=w(async()=>{const{diagram:e}=await ne(async()=>{const{diagram:t}=await import("./mindmap-definition-VGOIOE7T-DehUYe5S.js");return{diagram:t}},__vite__mapDeps([40,12,13]));return{id:KA,diagram:e}},"loader"),tH={id:KA,detector:Zq,loader:Jq},eH=tH,QA="kanban",rH=w(e=>/^\s*kanban/.test(e),"detector"),iH=w(async()=>{const{diagram:e}=await ne(async()=>{const{diagram:t}=await import("./kanban-definition-3W4ZIXB7-B9dHqMIj.js");return{diagram:t}},__vite__mapDeps([41,11]));return{id:QA,diagram:e}},"loader"),aH={id:QA,detector:rH,loader:iH},nH=aH,ZA="sankey",sH=w(e=>/^\s*sankey(-beta)?/.test(e),"detector"),lH=w(async()=>{const{diagram:e}=await ne(async()=>{const{diagram:t}=await import("./sankeyDiagram-TZEHDZUN-CSiI33X_.js");return{diagram:t}},__vite__mapDeps([42,27,22]));return{id:ZA,diagram:e}},"loader"),oH={id:ZA,detector:sH,loader:lH},cH=oH,JA="packet",uH=w(e=>/^\s*packet(-beta)?/.test(e),"detector"),hH=w(async()=>{const{diagram:e}=await ne(async()=>{const{diagram:t}=await import("./diagram-S2PKOQOG-CtoCCmuM.js");return{diagram:t}},__vite__mapDeps([43,17,19,4,2]));return{id:JA,diagram:e}},"loader"),dH={id:JA,detector:uH,loader:hH},tO="radar",fH=w(e=>/^\s*radar-beta/.test(e),"detector"),pH=w(async()=>{const{diagram:e}=await ne(async()=>{const{diagram:t}=await import("./diagram-QEK2KX5R-C-H7VNB3.js");return{diagram:t}},__vite__mapDeps([44,17,19,4,2]));return{id:tO,diagram:e}},"loader"),gH={id:tO,detector:fH,loader:pH},eO="block",mH=w(e=>/^\s*block(-beta)?/.test(e),"detector"),yH=w(async()=>{const{diagram:e}=await ne(async()=>{const{diagram:t}=await import("./blockDiagram-VD42YOAC-Dk4Xvmwo.js");return{diagram:t}},__vite__mapDeps([45,11,5,1,2,14]));return{id:eO,diagram:e}},"loader"),bH={id:eO,detector:mH,loader:yH},xH=bH,rO="architecture",vH=w(e=>/^\s*architecture/.test(e),"detector"),_H=w(async()=>{const{diagram:e}=await ne(async()=>{const{diagram:t}=await import("./architectureDiagram-VXUJARFQ-DCJDFwYQ.js");return{diagram:t}},__vite__mapDeps([46,17,19,4,2,7]));return{id:rO,diagram:e}},"loader"),wH={id:rO,detector:vH,loader:_H},SH=wH,iO="treemap",kH=w(e=>/^\s*treemap/.test(e),"detector"),CH=w(async()=>{const{diagram:e}=await ne(async()=>{const{diagram:t}=await import("./diagram-PSM6KHXK-CkLBsatV.js");return{diagram:t}},__vite__mapDeps([47,13,17,19,4,2,23,27,22]));return{id:iO,diagram:e}},"loader"),TH={id:iO,detector:kH,loader:CH},lS=!1,kf=w(()=>{lS||(lS=!0,fd("error",qq,e=>e.toLowerCase().trim()==="error"),fd("---",{db:{clear:w(()=>{},"clear")},styles:{},renderer:{draw:w(()=>{},"draw")},parser:{parse:w(()=>{throw new Error("Diagrams beginning with --- are not valid. If you were trying to use a YAML front-matter, please ensure that you've correctly opened and closed the YAML front-matter with un-indented `---` blocks")},"parse")},init:w(()=>null,"init")},e=>e.toLowerCase().trimStart().startsWith("---")),Um(Yq,eH,SH),Um(L9,nH,Eq,Sq,q9,Q9,tq,iq,gq,xq,F9,D9,Qq,Y9,Dq,Lq,Fq,lq,cH,dH,hq,xH,gH,TH))},"addDiagrams"),EH=w(async()=>{lt.debug("Loading registered diagrams");const t=(await Promise.allSettled(Object.entries(as).map(async([r,{detector:i,loader:n}])=>{if(n)try{Wm(r)}catch{try{const{diagram:l,id:o}=await n();fd(o,l,i)}catch(l){throw lt.error(`Failed to load external diagram with key ${r}. Removing from detectors.`),delete as[r],l}}}))).filter(r=>r.status==="rejected");if(t.length>0){lt.error(`Failed to load ${t.length} external diagrams`);for(const r of t)lt.error(r);throw new Error(`Failed to load ${t.length} external diagrams`)}},"loadRegisteredDiagrams"),AH="graphics-document document";function aO(e,t){e.attr("role",AH),t!==""&&e.attr("aria-roledescription",t)}w(aO,"setA11yDiagramInfo");function nO(e,t,r,i){if(e.insert!==void 0){if(r){const n=`chart-desc-${i}`;e.attr("aria-describedby",n),e.insert("desc",":first-child").attr("id",n).text(r)}if(t){const n=`chart-title-${i}`;e.attr("aria-labelledby",n),e.insert("title",":first-child").attr("id",n).text(t)}}}w(nO,"addSVGa11yTitleDescription");var is,Dy=(is=class{constructor(t,r,i,n,l){this.type=t,this.text=r,this.db=i,this.parser=n,this.renderer=l}static async fromText(t,r={}){const i=cr(),n=Qy(t,i);t=TP(t)+`
`;try{Wm(n)}catch{const d=KD(n);if(!d)throw new l2(`Diagram ${n} not found.`);const{id:p,diagram:g}=await d();fd(p,g)}const{db:l,parser:o,renderer:u,init:h}=Wm(n);return o.parser&&(o.parser.yy=l),l.clear?.(),h?.(i),r.title&&l.setDiagramTitle?.(r.title),await o.parse(t),new is(n,t,l,o,u)}async render(t,r){await this.renderer.draw(this.text,t,r,this)}getParser(){return this.parser}getType(){return this.type}},w(is,"Diagram"),is),oS=[],OH=w(()=>{oS.forEach(e=>{e()}),oS=[]},"attachFunctions"),RH=w(e=>e.replace(/^\s*%%(?!{)[^\n]+\n?/gm,"").trimStart(),"cleanupComments");function sO(e){const t=e.match(s2);if(!t)return{text:e,metadata:{}};let r=E8(t[1],{schema:T8})??{};r=typeof r=="object"&&!Array.isArray(r)?r:{};const i={};return r.displayMode&&(i.displayMode=r.displayMode.toString()),r.title&&(i.title=r.title.toString()),r.config&&(i.config=r.config),{text:e.slice(t[0].length),metadata:i}}w(sO,"extractFrontMatter");var LH=w(e=>e.replace(/\r\n?/g,`
`).replace(/<(\w+)([^>]*)>/g,(t,r,i)=>"<"+r+i.replace(/="([^"]*)"/g,"='$1'")+">"),"cleanupText"),MH=w(e=>{const{text:t,metadata:r}=sO(e),{displayMode:i,title:n,config:l={}}=r;return i&&(l.gantt||(l.gantt={}),l.gantt.displayMode=i),{title:n,config:l,text:t}},"processFrontmatter"),BH=w(e=>{const t=Ti.detectInit(e)??{},r=Ti.detectDirective(e,"wrap");return Array.isArray(r)?t.wrap=r.some(({type:i})=>i==="wrap"):r?.type==="wrap"&&(t.wrap=!0),{text:fP(e),directive:t}},"processDirectives");function K0(e){const t=LH(e),r=MH(t),i=BH(r.text),n=B0(r.config,i.directive);return e=RH(i.text),{code:e,title:r.title,config:n}}w(K0,"preprocessDiagram");function lO(e){const t=new TextEncoder().encode(e),r=Array.from(t,i=>String.fromCodePoint(i)).join("");return btoa(r)}w(lO,"toBase64");var NH=5e4,DH="graph TB;a[Maximum text size in diagram exceeded];style a fill:#faa",jH="sandbox",$H="loose",zH="http://www.w3.org/2000/svg",FH="http://www.w3.org/1999/xlink",PH="http://www.w3.org/1999/xhtml",UH="100%",IH="100%",qH="border:0;margin:0;",HH="margin:0",WH="allow-top-navigation-by-user-activation allow-popups",GH='The "iframe" tag is not supported by your browser.',YH=["foreignobject"],VH=["dominant-baseline"];function Q0(e){const t=K0(e);return hd(),dj(t.config??{}),t}w(Q0,"processAndSetConfigs");async function oO(e,t){kf();try{const{code:r,config:i}=Q0(e);return{diagramType:(await uO(r)).type,config:i}}catch(r){if(t?.suppressErrors)return!1;throw r}}w(oO,"parse");var cS=w((e,t,r=[])=>`
.${e} ${t} { ${r.join(" !important; ")} !important; }`,"cssImportantStyles"),XH=w((e,t=new Map)=>{let r="";if(e.themeCSS!==void 0&&(r+=`
${e.themeCSS}`),e.fontFamily!==void 0&&(r+=`
:root { --mermaid-font-family: ${e.fontFamily}}`),e.altFontFamily!==void 0&&(r+=`
:root { --mermaid-alt-font-family: ${e.altFontFamily}}`),t instanceof Map){const o=e.htmlLabels??e.flowchart?.htmlLabels?["> *","span"]:["rect","polygon","ellipse","circle","path"];t.forEach(u=>{sS(u.styles)||o.forEach(h=>{r+=cS(u.id,h,u.styles)}),sS(u.textStyles)||(r+=cS(u.id,"tspan",(u?.textStyles||[]).map(h=>h.replace("color","fill"))))})}return r},"createCssStyles"),KH=w((e,t,r,i)=>{const n=XH(e,r),l=Mj(t,n,e.themeVariables);return Ry(h9(`${i}{${l}}`),f9)},"createUserStyles"),QH=w((e="",t,r)=>{let i=e;return!r&&!t&&(i=i.replace(/marker-end="url\([\d+./:=?A-Za-z-]*?#/g,'marker-end="url(#')),i=ps(i),i=i.replace(/<br>/g,"<br/>"),i},"cleanUpSvgCode"),ZH=w((e="",t)=>{const r=t?.viewBox?.baseVal?.height?t.viewBox.baseVal.height+"px":IH,i=lO(`<body style="${HH}">${e}</body>`);return`<iframe style="width:${UH};height:${r};${qH}" src="data:text/html;charset=UTF-8;base64,${i}" sandbox="${WH}">
  ${GH}
</iframe>`},"putIntoIFrame"),uS=w((e,t,r,i,n)=>{const l=e.append("div");l.attr("id",r),i&&l.attr("style",i);const o=l.append("svg").attr("id",t).attr("width","100%").attr("xmlns",zH);return n&&o.attr("xmlns:xlink",n),o.append("g"),e},"appendDivSvgG");function jy(e,t){return e.append("iframe").attr("id",t).attr("style","width: 100%; height: 100%;").attr("sandbox","")}w(jy,"sandboxedIframe");var JH=w((e,t,r,i)=>{e.getElementById(t)?.remove(),e.getElementById(r)?.remove(),e.getElementById(i)?.remove()},"removeExistingElements"),t7=w(async function(e,t,r){kf();const i=Q0(t);t=i.code;const n=cr();lt.debug(n),t.length>(n?.maxTextSize??NH)&&(t=DH);const l="#"+e,o="i"+e,u="#"+o,h="d"+e,d="#"+h,p=w(()=>{const N=Xt(y?u:d).node();N&&"remove"in N&&N.remove()},"removeTempElements");let g=Xt("body");const y=n.securityLevel===jH,x=n.securityLevel===$H,v=n.fontFamily;if(r!==void 0){if(r&&(r.innerHTML=""),y){const q=jy(Xt(r),o);g=Xt(q.nodes()[0].contentDocument.body),g.node().style.margin=0}else g=Xt(r);uS(g,e,h,`font-family: ${v}`,FH)}else{if(JH(document,e,h,o),y){const q=jy(Xt("body"),o);g=Xt(q.nodes()[0].contentDocument.body),g.node().style.margin=0}else g=Xt("body");uS(g,e,h)}let _,S;try{_=await Dy.fromText(t,{title:i.title})}catch(q){if(n.suppressErrorRendering)throw p(),q;_=await Dy.fromText("error"),S=q}const T=g.select(d).node(),E=_.type,O=T.firstChild,L=O.firstChild,B=_.renderer.getClasses?.(t,_),I=KH(n,E,B,l),j=document.createElement("style");j.innerHTML=I,O.insertBefore(j,L);try{await _.renderer.draw(t,e,Ow.version,_)}catch(q){throw n.suppressErrorRendering?p():Uq.draw(t,e,Ow.version),q}const Z=g.select(`${d} svg`),rt=_.db.getAccTitle?.(),at=_.db.getAccDescription?.();hO(E,Z,rt,at),g.select(`[id="${e}"]`).selectAll("foreignobject > *").attr("xmlns",PH);let J=g.select(d).node().innerHTML;if(lt.debug("config.arrowMarkerAbsolute",n.arrowMarkerAbsolute),J=QH(J,y,We(n.arrowMarkerAbsolute)),y){const q=g.select(d+" svg").node();J=ZH(J,q)}else x||(J=Tl.sanitize(J,{ADD_TAGS:YH,ADD_ATTR:VH,HTML_INTEGRATION_POINTS:{foreignobject:!0}}));if(OH(),S)throw S;return p(),{diagramType:E,svg:J,bindFunctions:_.db.bindFunctions}},"render");function cO(e={}){const t=qe({},e);t?.fontFamily&&!t.themeVariables?.fontFamily&&(t.themeVariables||(t.themeVariables={}),t.themeVariables.fontFamily=t.fontFamily),uj(t),t?.theme&&t.theme in Sa?t.themeVariables=Sa[t.theme].getThemeVariables(t.themeVariables):t&&(t.themeVariables=Sa.default.getThemeVariables(t.themeVariables));const r=typeof t=="object"?cj(t):d2();Ky(r.logLevel),kf()}w(cO,"initialize");var uO=w((e,t={})=>{const{code:r}=K0(e);return Dy.fromText(r,t)},"getDiagramFromText");function hO(e,t,r,i){aO(t,e),nO(t,r,i,t.attr("id"))}w(hO,"addA11yInfo");var us=Object.freeze({render:t7,parse:oO,getDiagramFromText:uO,initialize:cO,getConfig:cr,setConfig:f2,getSiteConfig:d2,updateSiteConfig:hj,reset:w(()=>{hd()},"reset"),globalReset:w(()=>{hd(El)},"globalReset"),defaultConfig:El});Ky(cr().logLevel);hd(cr());var e7=w((e,t,r)=>{lt.warn(e),M0(e)?(r&&r(e.str,e.hash),t.push({...e,message:e.str,error:e})):(r&&r(e),e instanceof Error&&t.push({str:e.message,message:e.message,hash:e.name,error:e}))},"handleError"),dO=w(async function(e={querySelector:".mermaid"}){try{await r7(e)}catch(t){if(M0(t)&&lt.error(t.str),Aa.parseError&&Aa.parseError(t),!e.suppressErrors)throw lt.error("Use the suppressErrors option to suppress these errors"),t}},"run"),r7=w(async function({postRenderCallback:e,querySelector:t,nodes:r}={querySelector:".mermaid"}){const i=us.getConfig();lt.debug(`${e?"":"No "}Callback function found`);let n;if(r)n=r;else if(t)n=document.querySelectorAll(t);else throw new Error("Nodes and querySelector are both undefined");lt.debug(`Found ${n.length} diagrams`),i?.startOnLoad!==void 0&&(lt.debug("Start On Load: "+i?.startOnLoad),us.updateSiteConfig({startOnLoad:i?.startOnLoad}));const l=new Ti.InitIDGenerator(i.deterministicIds,i.deterministicIDSeed);let o;const u=[];for(const h of Array.from(n)){if(lt.info("Rendering diagram: "+h.id),h.getAttribute("data-processed"))continue;h.setAttribute("data-processed","true");const d=`mermaid-${l.next()}`;o=h.innerHTML,o=BT(Ti.entityDecode(o)).trim().replace(/<br\s*\/?>/gi,"<br/>");const p=Ti.detectInit(o);p&&lt.debug("Detected early reinit: ",p);try{const{svg:g,bindFunctions:y}=await mO(d,o,h);h.innerHTML=g,e&&await e(d),y&&y(h)}catch(g){e7(g,u,Aa.parseError)}}if(u.length>0)throw u[0]},"runThrowsErrors"),fO=w(function(e){us.initialize(e)},"initialize"),i7=w(async function(e,t,r){lt.warn("mermaid.init is deprecated. Please use run instead."),e&&fO(e);const i={postRenderCallback:r,querySelector:".mermaid"};typeof t=="string"?i.querySelector=t:t&&(t instanceof HTMLElement?i.nodes=[t]:i.nodes=t),await dO(i)},"init"),a7=w(async(e,{lazyLoad:t=!0}={})=>{kf(),Um(...e),t===!1&&await EH()},"registerExternalDiagrams"),pO=w(function(){if(Aa.startOnLoad){const{startOnLoad:e}=us.getConfig();e&&Aa.run().catch(t=>lt.error("Mermaid failed to initialize",t))}},"contentLoaded");typeof document<"u"&&window.addEventListener("load",pO,!1);var n7=w(function(e){Aa.parseError=e},"setParseErrorHandler"),Hd=[],_m=!1,gO=w(async()=>{if(!_m){for(_m=!0;Hd.length>0;){const e=Hd.shift();if(e)try{await e()}catch(t){lt.error("Error executing queue",t)}}_m=!1}},"executeQueue"),s7=w(async(e,t)=>new Promise((r,i)=>{const n=w(()=>new Promise((l,o)=>{us.parse(e,t).then(u=>{l(u),r(u)},u=>{lt.error("Error parsing",u),Aa.parseError?.(u),o(u),i(u)})}),"performCall");Hd.push(n),gO().catch(i)}),"parse"),mO=w((e,t,r)=>new Promise((i,n)=>{const l=w(()=>new Promise((o,u)=>{us.render(e,t,r).then(h=>{o(h),i(h)},h=>{lt.error("Error parsing",h),Aa.parseError?.(h),u(h),n(h)})}),"performCall");Hd.push(l),gO().catch(n)}),"render"),l7=w(()=>Object.keys(as).map(e=>({id:e})),"getRegisteredDiagramsMetadata"),Aa={startOnLoad:!0,mermaidAPI:us,parse:s7,render:mO,init:i7,run:dO,registerExternalDiagrams:a7,registerLayoutLoaders:SA,initialize:fO,parseError:void 0,contentLoaded:pO,setParseErrorHandler:n7,detectType:Qy,registerIconPacks:RU,getRegisteredDiagramsMetadata:l7},yO=Aa;yO.initialize({startOnLoad:!1,theme:"neutral",securityLevel:"loose",fontFamily:"Inter, sans-serif"});function o7({syntax:e,imageUrl:t,caption:r}){const i=W.useRef(null),[n,l]=W.useState(null);return W.useEffect(()=>{if(!e||!i.current)return;(async()=>{try{l(null);const u=`mermaid-${Date.now()}`,{svg:h}=await yO.render(u,e);i.current&&(i.current.innerHTML=h)}catch(u){console.error("Mermaid rendering error:",u),l("Failed to render diagram")}})()},[e]),t&&!e?C.jsxs("figure",{className:"flex flex-col gap-2",children:[C.jsx("div",{className:"bg-card-light dark:bg-card-dark rounded-lg border border-border-light dark:border-border-dark overflow-hidden",children:C.jsx("img",{src:t,alt:r||"Technical diagram",className:"w-full h-auto"})}),r&&C.jsx("figcaption",{className:"text-sm text-text-secondary-light dark:text-text-secondary-dark text-center",children:r})]}):e?C.jsxs("figure",{className:"flex flex-col gap-2",children:[C.jsx("div",{className:"bg-card-light dark:bg-card-dark rounded-lg border border-border-light dark:border-border-dark p-4 overflow-x-auto",children:n?C.jsx("div",{className:"text-red-500 text-sm",children:n}):C.jsx("div",{ref:i,className:"flex justify-center"})}),r&&C.jsx("figcaption",{className:"text-sm text-text-secondary-light dark:text-text-secondary-dark text-center",children:r})]}):null}function c7(){const{id:e}=CS(),{project:t,challenges:r,loading:i,error:n}=cD(e),[l,o]=W.useState(0);if(i)return C.jsxs("div",{className:"min-h-screen flex flex-col bg-background-light dark:bg-background-dark",children:[C.jsx(qh,{}),C.jsx("main",{className:"flex-grow flex items-center justify-center",children:C.jsx(mt,{name:"progress_activity",className:"text-primary animate-spin text-4xl"})}),C.jsx(es,{})]});if(n||!t)return C.jsxs("div",{className:"min-h-screen flex flex-col bg-background-light dark:bg-background-dark",children:[C.jsx(qh,{}),C.jsxs("main",{className:"flex-grow flex flex-col items-center justify-center gap-4",children:[C.jsx(mt,{name:"error",className:"text-red-500 text-4xl"}),C.jsx("p",{className:"text-text-secondary-light dark:text-text-secondary-dark",children:n||"Project not found"}),C.jsxs(Br,{to:"/",className:"text-primary hover:underline flex items-center gap-1",children:[C.jsx(mt,{name:"arrow_back",className:"text-lg"}),"Back to Home"]})]}),C.jsx(es,{})]});const u=r[l],h=g=>g?new Date(g).toLocaleDateString("ko-KR",{year:"numeric",month:"long",day:"numeric"}):"",d=t.end_date?`${h(t.start_date)} - ${h(t.end_date)}`:`${h(t.start_date)} - Present`,p=[{label:"Home",href:"/"},{label:t.category||"Projects",href:"/"},{label:t.title}];return C.jsxs("div",{className:"min-h-screen flex flex-col bg-background-light dark:bg-background-dark",children:[C.jsx(qh,{}),C.jsxs("main",{className:"flex-grow w-full max-w-[960px] mx-auto px-4 py-8 md:py-12",children:[C.jsx("div",{className:"mb-8",children:C.jsx(uD,{items:p})}),C.jsxs("div",{className:"mb-12",children:[C.jsxs("div",{className:"flex items-center gap-3 mb-4",children:[C.jsx("span",{className:"px-3 py-1 rounded-full bg-primary/10 text-primary text-xs font-bold uppercase tracking-wider",children:t.category||"Project"}),C.jsx("span",{className:"text-sm text-text-secondary-light dark:text-text-secondary-dark",children:d})]}),C.jsx("h1",{className:"text-3xl md:text-4xl font-bold text-text-primary-light dark:text-text-primary-dark mb-4",children:t.title}),t.proj_description&&C.jsx("p",{className:"text-lg text-text-secondary-light dark:text-text-secondary-dark leading-relaxed mb-6 whitespace-pre-line",children:t.proj_description}),t.proj_url&&C.jsxs("a",{href:t.proj_url,target:"_blank",rel:"noopener noreferrer",className:"inline-flex items-center gap-2 px-4 py-2 mb-6 bg-primary/10 text-primary rounded-lg hover:bg-primary/20 transition-colors",children:[C.jsx(mt,{name:"link",className:"text-lg"})," ",C.jsx(mt,{name:"open_in_new",className:"text-sm"})]}),t.tags&&t.tags.length>0&&C.jsx("div",{className:"flex flex-wrap gap-2",children:t.tags.map(g=>C.jsx(ZS,{label:g,variant:"primary"},g))})]}),r.length>0&&C.jsxs("div",{className:"space-y-8",children:[r.length>1&&C.jsxs("div",{className:"flex items-center justify-between py-4 border-y border-border-light dark:border-border-dark",children:[C.jsxs("button",{onClick:()=>o(g=>Math.max(0,g-1)),disabled:l===0,className:`flex items-center gap-3 group ${l===0?"opacity-30 cursor-not-allowed":"hover:text-primary"}`,children:[C.jsx(mt,{name:"arrow_back",className:"text-xl"}),C.jsxs("div",{className:"text-left",children:[C.jsx("div",{className:"text-xs uppercase tracking-wider text-text-secondary-light dark:text-text-secondary-dark",children:"Previous"}),C.jsx("div",{className:"text-sm font-medium text-text-primary-light dark:text-text-primary-dark group-hover:text-primary transition-colors",children:l>0?r[l-1].core_challenge?.slice(0,30)+"...":""})]})]}),C.jsxs("button",{onClick:()=>o(g=>Math.min(r.length-1,g+1)),disabled:l===r.length-1,className:`flex items-center gap-3 group ${l===r.length-1?"opacity-30 cursor-not-allowed":"hover:text-primary"}`,children:[C.jsxs("div",{className:"text-right",children:[C.jsx("div",{className:"text-xs uppercase tracking-wider text-text-secondary-light dark:text-text-secondary-dark",children:"Next"}),C.jsx("div",{className:"text-sm font-medium text-text-primary-light dark:text-text-primary-dark group-hover:text-primary transition-colors",children:l<r.length-1?r[l+1].core_challenge?.slice(0,30)+"...":""})]}),C.jsx(mt,{name:"arrow_forward",className:"text-xl"})]})]}),u&&C.jsxs("div",{className:"space-y-8",children:[C.jsx(hD,{challenge:u}),(u.image_url||u.mermaid_syntax)&&C.jsxs("div",{children:[C.jsxs("h3",{className:"text-sm font-bold text-text-secondary-light dark:text-text-secondary-dark uppercase tracking-wider flex items-center gap-2 mb-4",children:[C.jsx(mt,{name:"schema",className:"text-primary"}),"Technical Diagram"]}),C.jsx(o7,{syntax:u.mermaid_syntax,imageUrl:u.image_url})]}),(u.problem_items?.length>0||u.solution_items?.length>0||u.result_items?.length>0)&&C.jsxs("div",{children:[C.jsxs("h3",{className:"text-sm font-bold text-text-secondary-light dark:text-text-secondary-dark uppercase tracking-wider flex items-center gap-2 mb-6",children:[C.jsx(mt,{name:"analytics",className:"text-primary"}),"Analysis"]}),C.jsx(fD,{problemItems:u.problem_items,solutionItems:u.solution_items,resultItems:u.result_items})]})]}),r.length>0&&C.jsxs("div",{className:"flex items-center justify-center gap-2 pt-8",children:[C.jsx("button",{onClick:()=>o(g=>Math.max(0,g-1)),disabled:l===0,className:`w-10 h-10 rounded-lg border flex items-center justify-center transition-all ${l===0?"border-border-light dark:border-border-dark text-border-light dark:text-border-dark cursor-not-allowed":"border-border-light dark:border-border-dark text-text-secondary-light dark:text-text-secondary-dark hover:border-primary hover:text-primary"}`,children:C.jsx(mt,{name:"chevron_left"})}),r.map((g,y)=>C.jsx("button",{onClick:()=>o(y),className:`w-10 h-10 rounded-lg border flex items-center justify-center transition-all font-medium ${y===l?"bg-primary text-white border-primary":"bg-card-light dark:bg-card-dark border-border-light dark:border-border-dark text-text-secondary-light dark:text-text-secondary-dark hover:border-primary hover:text-primary"}`,children:y+1},y)),C.jsx("button",{onClick:()=>o(g=>Math.min(r.length-1,g+1)),disabled:l===r.length-1,className:`w-10 h-10 rounded-lg border flex items-center justify-center transition-all ${l===r.length-1?"border-border-light dark:border-border-dark text-border-light dark:text-border-dark cursor-not-allowed":"border-border-light dark:border-border-dark text-text-secondary-light dark:text-text-secondary-dark hover:border-primary hover:text-primary"}`,children:C.jsx(mt,{name:"chevron_right"})})]})]}),r.length===0&&C.jsxs("div",{className:"text-center py-12",children:[C.jsx(mt,{name:"info",className:"text-text-secondary-light dark:text-text-secondary-dark text-4xl mb-4"}),C.jsx("p",{className:"text-text-secondary-light dark:text-text-secondary-dark",children:"No challenges documented for this project yet."})]}),C.jsx("div",{className:"mt-12 pt-8 border-t border-border-light dark:border-border-dark",children:C.jsxs(Br,{to:"/",className:"inline-flex items-center gap-2 text-primary hover:underline",children:[C.jsx(mt,{name:"arrow_back"}),"Back to all projects"]})})]}),C.jsx(es,{})]})}function Z0(){const e=W.useContext(NS);if(!e)throw new Error("useAuth must be used within an AuthProvider");return e}function Wd({showLogout:e=!0}){const{user:t,signOut:r}=Z0(),i=async()=>{try{await r()}catch(n){console.error("Logout error:",n)}};return C.jsx("header",{className:"w-full bg-card-light dark:bg-card-dark border-b border-border-light dark:border-border-dark",children:C.jsxs("div",{className:"max-w-7xl mx-auto px-4 py-4 flex items-center justify-between",children:[C.jsxs("div",{className:"flex items-center gap-2",children:[C.jsx("div",{className:"w-8 h-8 bg-primary rounded-lg flex items-center justify-center",children:C.jsx(mt,{name:"shield",className:"text-white text-lg"})}),C.jsx("span",{className:"font-bold text-text-primary-light dark:text-text-primary-dark",children:"Admin Console"})]}),e&&t?C.jsxs("div",{className:"flex items-center gap-4",children:[C.jsx("span",{className:"text-sm text-text-secondary-light dark:text-text-secondary-dark",children:t.email}),C.jsxs("button",{onClick:i,className:"flex items-center gap-2 text-sm text-text-secondary-light dark:text-text-secondary-dark hover:text-primary transition-colors",children:[C.jsx(mt,{name:"logout"}),"Logout"]})]}):null]})})}function u7(){const[e,t]=W.useState(""),[r,i]=W.useState(""),[n,l]=W.useState(!1),[o,u]=W.useState(""),[h,d]=W.useState(!1),{signIn:p}=Z0(),g=zl(),y=async x=>{x.preventDefault(),u(""),d(!0);try{await p(e,r),g("/admin/projects")}catch(v){u(v.message||"Failed to sign in")}finally{d(!1)}};return C.jsxs("div",{className:"min-h-screen flex flex-col bg-background-light dark:bg-background-dark",children:[C.jsx(Wd,{showLogout:!1}),C.jsx("main",{className:"flex-grow flex items-center justify-center px-4 py-12",children:C.jsx("div",{className:"w-full max-w-md",children:C.jsxs("div",{className:"bg-card-light dark:bg-card-dark rounded-xl shadow-lg border border-border-light dark:border-border-dark p-8",children:[C.jsx("h1",{className:"text-2xl font-bold text-text-primary-light dark:text-text-primary-dark mb-2",children:" "}),C.jsx("br",{}),o&&C.jsx("div",{className:"mb-6 p-3 bg-red-50 dark:bg-red-900/20 border border-red-200 dark:border-red-800 rounded-lg text-red-600 dark:text-red-400 text-sm",children:o}),C.jsxs("form",{onSubmit:y,className:"space-y-6",children:[C.jsxs("div",{children:[C.jsx("label",{className:"block text-sm font-medium text-text-primary-light dark:text-text-primary-dark mb-2",children:"Email Address"}),C.jsxs("div",{className:"relative",children:[C.jsx("input",{type:"email",value:e,onChange:x=>t(x.target.value),placeholder:"admin@example.com",required:!0,className:"w-full px-4 py-3 pr-10 border border-border-light dark:border-border-dark rounded-lg bg-card-light dark:bg-card-dark text-text-primary-light dark:text-text-primary-dark placeholder-text-secondary-light focus:outline-none focus:ring-2 focus:ring-primary focus:border-primary"}),C.jsx(mt,{name:"mail",className:"absolute right-3 top-1/2 -translate-y-1/2 text-text-secondary-light dark:text-text-secondary-dark"})]})]}),C.jsxs("div",{children:[C.jsx("label",{className:"block text-sm font-medium text-text-primary-light dark:text-text-primary-dark mb-2",children:"Password"}),C.jsxs("div",{className:"relative",children:[C.jsx("input",{type:n?"text":"password",value:r,onChange:x=>i(x.target.value),placeholder:"",required:!0,className:"w-full px-4 py-3 pr-10 border border-border-light dark:border-border-dark rounded-lg bg-card-light dark:bg-card-dark text-text-primary-light dark:text-text-primary-dark placeholder-text-secondary-light focus:outline-none focus:ring-2 focus:ring-primary focus:border-primary"}),C.jsx("button",{type:"button",onClick:()=>l(!n),className:"absolute right-3 top-1/2 -translate-y-1/2 text-text-secondary-light dark:text-text-secondary-dark hover:text-primary transition-colors",children:C.jsx(mt,{name:n?"visibility":"visibility_off"})})]})]}),C.jsx("div",{className:"text-right",children:C.jsx("a",{href:"https://supabase.com/dashboard",target:"_blank",rel:"noopener noreferrer",className:"text-sm text-primary hover:underline",children:"Forgot Password?"})}),C.jsx("button",{type:"submit",disabled:h,className:"w-full py-3 bg-primary text-white font-medium rounded-lg hover:bg-primary/90 transition-colors disabled:opacity-50 disabled:cursor-not-allowed flex items-center justify-center gap-2",children:h?C.jsxs(C.Fragment,{children:[C.jsx(mt,{name:"progress_activity",className:"animate-spin"}),"Signing in..."]}):"Sign In"})]})]})})}),C.jsx(es,{})]})}const h7={published:"text-green-600 dark:text-green-400",draft:"text-gray-500 dark:text-gray-400",archived:"text-yellow-600 dark:text-yellow-400"},d7={published:"bg-green-500",draft:"bg-gray-400",archived:"bg-yellow-500"},hS={"UI/UX Design":"bg-blue-100 text-blue-700 dark:bg-blue-900/30 dark:text-blue-400","Mobile App":"bg-purple-100 text-purple-700 dark:bg-purple-900/30 dark:text-purple-400",Branding:"bg-orange-100 text-orange-700 dark:bg-orange-900/30 dark:text-orange-400","Web App":"bg-teal-100 text-teal-700 dark:bg-teal-900/30 dark:text-teal-400",default:"bg-gray-100 text-gray-700 dark:bg-gray-800 dark:text-gray-400"},lc=5,f7=[{value:"",label:"All Categories"},{value:"featured",label:"Featured"},{value:"projects",label:"Projects"},{value:"labs",label:"Labs"}],p7=[{value:"",label:"All Status"},{value:"published",label:"Published"},{value:"draft",label:"Draft"},{value:"archived",label:"Archived"}],g7=[{value:"",label:"All Visibility"},{value:"true",label:"Visible"},{value:"false",label:"Hidden"}],m7=[{value:"created_at-desc",label:"Newest First"},{value:"created_at-asc",label:"Oldest First"},{value:"title-asc",label:"Title A-Z"},{value:"title-desc",label:"Title Z-A"},{value:"start_date-desc",label:"Start Date (Latest)"},{value:"start_date-asc",label:"Start Date (Earliest)"}];function y7(){const[e,t]=W.useState([]),[r,i]=W.useState(!0),[n,l]=W.useState(""),[o,u]=W.useState(1),[h,d]=W.useState(0),[p,g]=W.useState(""),[y,x]=W.useState(""),[v,_]=W.useState(""),[S,T]=W.useState("created_at-desc"),[E,O]=W.useState(!1),[L,B]=W.useState(!1),I=zl(),j=W.useCallback(async()=>{i(!0);try{const[N,z]=S.split("-");let P=Ie.from("projects").select("*",{count:"exact"}).order(N,{ascending:z==="asc"});n&&(P=P.or(`title.ilike.%${n}%,tags.cs.{${n}}`)),p&&(P=P.eq("category",p)),y&&(P=P.eq("project_status",y)),v&&(P=P.eq("visibility",v==="true"));const R=(o-1)*lc,$=R+lc-1,{data:H,error:ot,count:ht}=await P.range(R,$);if(ot)throw ot;t(H||[]),d(ht||0)}catch(N){console.error("Error fetching projects:",N)}finally{i(!1)}},[o,n,p,y,v,S]);W.useEffect(()=>{j()},[j]),W.useEffect(()=>{const N=z=>{z.target.closest(".relative")||(O(!1),B(!1))};return document.addEventListener("click",N),()=>document.removeEventListener("click",N)},[]);const Z=async N=>{if(confirm("Are you sure you want to delete this project?"))try{const{error:z}=await Ie.from("projects").delete().eq("id",N);if(z)throw z;j()}catch(z){console.error("Error deleting project:",z),alert("Failed to delete project")}},rt=async(N,z)=>{try{const{error:P}=await Ie.from("projects").update({visibility:!z}).eq("id",N);if(P)throw P;j()}catch(P){console.error("Error toggling visibility:",P),alert("Failed to update visibility")}},at=Math.ceil(h/lc),J=N=>N?new Date(N).toLocaleDateString("en-US",{month:"short",year:"numeric"}):"-",q=N=>hS[N]||hS.default;return C.jsxs("div",{className:"min-h-screen flex flex-col bg-background-light dark:bg-background-dark",children:[C.jsx(Wd,{}),C.jsxs("main",{className:"flex-grow max-w-7xl w-full mx-auto px-4 py-8",children:[C.jsxs("div",{className:"flex items-start justify-between mb-8",children:[C.jsxs("div",{children:[C.jsx("h1",{className:"text-2xl font-bold text-text-primary-light dark:text-text-primary-dark mb-1",children:"Portfolio Projects"}),C.jsx("p",{className:"text-text-secondary-light dark:text-text-secondary-dark",children:"Manage your portfolio entries, track status, and update content."})]}),C.jsxs(Br,{to:"/admin/projects/new",className:"flex items-center gap-2 px-4 py-2 bg-primary text-white rounded-lg hover:bg-primary/90 transition-colors",children:[C.jsx(mt,{name:"add"}),"New Project"]})]}),C.jsxs("div",{className:"flex items-center gap-4 mb-6",children:[C.jsxs("div",{className:"flex-grow relative",children:[C.jsx(mt,{name:"search",className:"absolute left-3 top-1/2 -translate-y-1/2 text-text-secondary-light dark:text-text-secondary-dark"}),C.jsx("input",{type:"text",value:n,onChange:N=>{l(N.target.value),u(1)},placeholder:"Search by project title, tech stack, or tags...",className:"w-full pl-10 pr-4 py-2 border border-border-light dark:border-border-dark rounded-lg bg-card-light dark:bg-card-dark text-text-primary-light dark:text-text-primary-dark placeholder-text-secondary-light focus:outline-none focus:ring-2 focus:ring-primary focus:border-primary"})]}),C.jsxs("div",{className:"relative",children:[C.jsxs("button",{onClick:()=>{O(!E),B(!1)},className:`flex items-center gap-2 px-4 py-2 border rounded-lg bg-card-light dark:bg-card-dark text-text-primary-light dark:text-text-primary-dark hover:border-primary transition-colors ${p||y||v?"border-primary":"border-border-light dark:border-border-dark"}`,children:[C.jsx(mt,{name:"filter_list"}),"Filter",(p||y||v)&&C.jsx("span",{className:"w-2 h-2 bg-primary rounded-full"})]}),E&&C.jsx("div",{className:"absolute top-full right-0 mt-2 w-64 bg-card-light dark:bg-card-dark border border-border-light dark:border-border-dark rounded-lg shadow-lg z-50 p-4",children:C.jsxs("div",{className:"space-y-4",children:[C.jsxs("div",{children:[C.jsx("label",{className:"block text-xs font-medium text-text-secondary-light dark:text-text-secondary-dark mb-1",children:"Category"}),C.jsx("select",{value:p,onChange:N=>{g(N.target.value),u(1)},className:"w-full px-3 py-2 border border-border-light dark:border-border-dark rounded-lg bg-background-light dark:bg-background-dark text-text-primary-light dark:text-text-primary-dark text-sm focus:outline-none focus:ring-2 focus:ring-primary",children:f7.map(N=>C.jsx("option",{value:N.value,children:N.label},N.value))})]}),C.jsxs("div",{children:[C.jsx("label",{className:"block text-xs font-medium text-text-secondary-light dark:text-text-secondary-dark mb-1",children:"Status"}),C.jsx("select",{value:y,onChange:N=>{x(N.target.value),u(1)},className:"w-full px-3 py-2 border border-border-light dark:border-border-dark rounded-lg bg-background-light dark:bg-background-dark text-text-primary-light dark:text-text-primary-dark text-sm focus:outline-none focus:ring-2 focus:ring-primary",children:p7.map(N=>C.jsx("option",{value:N.value,children:N.label},N.value))})]}),C.jsxs("div",{children:[C.jsx("label",{className:"block text-xs font-medium text-text-secondary-light dark:text-text-secondary-dark mb-1",children:"Visibility"}),C.jsx("select",{value:v,onChange:N=>{_(N.target.value),u(1)},className:"w-full px-3 py-2 border border-border-light dark:border-border-dark rounded-lg bg-background-light dark:bg-background-dark text-text-primary-light dark:text-text-primary-dark text-sm focus:outline-none focus:ring-2 focus:ring-primary",children:g7.map(N=>C.jsx("option",{value:N.value,children:N.label},N.value))})]}),(p||y||v)&&C.jsx("button",{onClick:()=>{g(""),x(""),_(""),u(1)},className:"w-full px-3 py-2 text-sm text-red-500 hover:text-red-600 hover:bg-red-50 dark:hover:bg-red-900/20 rounded-lg transition-colors",children:"Clear All Filters"})]})})]}),C.jsxs("div",{className:"relative",children:[C.jsxs("button",{onClick:()=>{B(!L),O(!1)},className:"flex items-center gap-2 px-4 py-2 border border-border-light dark:border-border-dark rounded-lg bg-card-light dark:bg-card-dark text-text-primary-light dark:text-text-primary-dark hover:border-primary transition-colors",children:[C.jsx(mt,{name:"sort"}),"Sort"]}),L&&C.jsx("div",{className:"absolute top-full right-0 mt-2 w-48 bg-card-light dark:bg-card-dark border border-border-light dark:border-border-dark rounded-lg shadow-lg z-50 py-2",children:m7.map(N=>C.jsx("button",{onClick:()=>{T(N.value),B(!1),u(1)},className:`w-full px-4 py-2 text-left text-sm transition-colors ${S===N.value?"bg-primary/10 text-primary":"text-text-primary-light dark:text-text-primary-dark hover:bg-background-light dark:hover:bg-background-dark"}`,children:N.label},N.value))})]})]}),C.jsx("div",{className:"bg-card-light dark:bg-card-dark rounded-xl border border-border-light dark:border-border-dark overflow-hidden",children:C.jsxs("table",{className:"w-full",children:[C.jsx("thead",{children:C.jsxs("tr",{className:"border-b border-border-light dark:border-border-dark",children:[C.jsx("th",{className:"px-4 py-3 text-left text-xs font-medium text-text-secondary-light dark:text-text-secondary-dark uppercase tracking-wider",children:"Preview"}),C.jsx("th",{className:"px-4 py-3 text-left text-xs font-medium text-text-secondary-light dark:text-text-secondary-dark uppercase tracking-wider",children:"Project Title"}),C.jsx("th",{className:"px-4 py-3 text-left text-xs font-medium text-text-secondary-light dark:text-text-secondary-dark uppercase tracking-wider",children:"Skill Tags"}),C.jsx("th",{className:"px-4 py-3 text-left text-xs font-medium text-text-secondary-light dark:text-text-secondary-dark uppercase tracking-wider",children:"Category"}),C.jsx("th",{className:"px-4 py-3 text-left text-xs font-medium text-text-secondary-light dark:text-text-secondary-dark uppercase tracking-wider",children:"Date"}),C.jsx("th",{className:"px-4 py-3 text-left text-xs font-medium text-text-secondary-light dark:text-text-secondary-dark uppercase tracking-wider",children:"Status"}),C.jsx("th",{className:"px-4 py-3 text-right text-xs font-medium text-text-secondary-light dark:text-text-secondary-dark uppercase tracking-wider",children:"Actions"})]})}),C.jsx("tbody",{className:"divide-y divide-border-light dark:divide-border-dark",children:r?C.jsx("tr",{children:C.jsx("td",{colSpan:"7",className:"px-4 py-12 text-center",children:C.jsx(mt,{name:"progress_activity",className:"text-primary animate-spin text-3xl"})})}):e.length===0?C.jsx("tr",{children:C.jsx("td",{colSpan:"7",className:"px-4 py-12 text-center text-text-secondary-light dark:text-text-secondary-dark",children:"No projects found"})}):e.map(N=>C.jsxs("tr",{className:"hover:bg-background-light dark:hover:bg-background-dark transition-colors",children:[C.jsx("td",{className:"px-4 py-4",children:N.proj_cover_image_url?C.jsx("img",{src:N.proj_cover_image_url,alt:N.title,className:"w-12 h-12 rounded-lg object-cover"}):C.jsx("div",{className:"w-12 h-12 bg-primary/10 rounded-lg flex items-center justify-center",children:C.jsx(mt,{name:"folder",className:"text-primary text-xl"})})}),C.jsxs("td",{className:"px-4 py-4",children:[C.jsx("p",{className:"font-medium text-text-primary-light dark:text-text-primary-dark",children:N.title}),C.jsxs("p",{className:"text-xs text-text-secondary-light dark:text-text-secondary-dark",children:["ID: #",N.id.slice(0,8)]})]}),C.jsx("td",{className:"px-4 py-4 text-sm text-text-secondary-light dark:text-text-secondary-dark",children:N.tags?.slice(0,3).join(", ")||"-"}),C.jsx("td",{className:"px-4 py-4",children:C.jsx("div",{className:"flex flex-wrap gap-1",children:N.category&&C.jsx("span",{className:`px-2 py-0.5 rounded text-xs font-medium ${q(N.category)}`,children:N.category})})}),C.jsx("td",{className:"px-4 py-4 text-sm text-text-secondary-light dark:text-text-secondary-dark",children:J(N.start_date)}),C.jsx("td",{className:"px-4 py-4",children:C.jsxs("div",{className:"flex items-center gap-2",children:[C.jsx("span",{className:`w-2 h-2 rounded-full ${d7[N.project_status||"draft"]}`}),C.jsx("span",{className:`text-sm capitalize ${h7[N.project_status||"draft"]}`,children:N.project_status||"Draft"})]})}),C.jsx("td",{className:"px-4 py-4",children:C.jsxs("div",{className:"flex items-center justify-end gap-2",children:[C.jsx("button",{onClick:()=>rt(N.id,N.visibility),className:`p-2 transition-colors ${N.visibility?"text-green-500 hover:text-green-600":"text-text-secondary-light dark:text-text-secondary-dark hover:text-primary"}`,title:N.visibility?" (  )":" (  )",children:C.jsx(mt,{name:N.visibility?"visibility":"visibility_off"})}),C.jsx("button",{onClick:()=>I(`/admin/projects/${N.id}`),className:"p-2 text-text-secondary-light dark:text-text-secondary-dark hover:text-primary transition-colors",title:"Edit",children:C.jsx(mt,{name:"edit"})}),C.jsx(Br,{to:`/project/${N.id}`,target:"_blank",className:"p-2 text-text-secondary-light dark:text-text-secondary-dark hover:text-primary transition-colors",title:"View",children:C.jsx(mt,{name:"open_in_new"})}),C.jsx("button",{onClick:()=>Z(N.id),className:"p-2 text-text-secondary-light dark:text-text-secondary-dark hover:text-red-500 transition-colors",title:"Delete",children:C.jsx(mt,{name:"delete"})})]})})]},N.id))})]})}),h>0&&C.jsxs("div",{className:"flex items-center justify-between mt-6",children:[C.jsxs("p",{className:"text-sm text-text-secondary-light dark:text-text-secondary-dark",children:["Showing ",C.jsx("span",{className:"font-medium",children:(o-1)*lc+1})," to"," ",C.jsx("span",{className:"font-medium",children:Math.min(o*lc,h)})," of"," ",C.jsx("span",{className:"font-medium",children:h})," results"]}),C.jsxs("div",{className:"flex items-center gap-1",children:[C.jsx("button",{onClick:()=>u(N=>Math.max(1,N-1)),disabled:o===1,className:"p-2 border border-border-light dark:border-border-dark rounded-lg bg-card-light dark:bg-card-dark text-text-secondary-light dark:text-text-secondary-dark hover:border-primary disabled:opacity-50 disabled:cursor-not-allowed transition-colors",children:C.jsx(mt,{name:"chevron_left"})}),Array.from({length:Math.min(at,5)},(N,z)=>z+1).map(N=>C.jsx("button",{onClick:()=>u(N),className:`w-10 h-10 rounded-lg font-medium transition-colors ${N===o?"bg-primary text-white":"border border-border-light dark:border-border-dark bg-card-light dark:bg-card-dark text-text-primary-light dark:text-text-primary-dark hover:border-primary"}`,children:N},N)),at>5&&C.jsxs(C.Fragment,{children:[C.jsx("span",{className:"px-2 text-text-secondary-light dark:text-text-secondary-dark",children:"..."}),C.jsx("button",{onClick:()=>u(at),className:"w-10 h-10 rounded-lg font-medium border border-border-light dark:border-border-dark bg-card-light dark:bg-card-dark text-text-primary-light dark:text-text-primary-dark hover:border-primary transition-colors",children:at})]}),C.jsx("button",{onClick:()=>u(N=>Math.min(at,N+1)),disabled:o===at,className:"p-2 border border-border-light dark:border-border-dark rounded-lg bg-card-light dark:bg-card-dark text-text-secondary-light dark:text-text-secondary-dark hover:border-primary disabled:opacity-50 disabled:cursor-not-allowed transition-colors",children:C.jsx(mt,{name:"chevron_right"})})]})]})]}),C.jsx(es,{})]})}const b7=[{value:"featured",label:"Featured"},{value:"projects",label:"Projects"},{value:"labs",label:"Labs & Playground"}],x7=[{value:"draft",label:"Draft"},{value:"published",label:"Published"}],dS={id:null,core_challenge:"",image_url:"",mermaid_syntax:"",problem_items:[""],solution_items:[""],result_items:[""]};function fS(){const{id:e}=CS(),t=zl(),r=!!e,[i,n]=W.useState(!1),[l,o]=W.useState(!1),[u,h]=W.useState(""),[d,p]=W.useState({title:"",category:"projects",project_status:"draft",proj_cover_image_url:"",proj_description:"",proj_url:"",start_date:"",end_date:"",tags:[]}),[g,y]=W.useState(!1),[x,v]=W.useState([{...dS}]),_=W.useCallback(async()=>{n(!0);try{const{data:q,error:N}=await Ie.from("projects").select("*").eq("id",e).single();if(N)throw N;p({title:q.title||"",category:q.category||"projects",project_status:q.project_status||"draft",proj_cover_image_url:q.proj_cover_image_url||"",proj_description:q.proj_description||"",proj_url:q.proj_url||"",start_date:q.start_date||"",end_date:q.end_date||"",tags:q.tags||[]});const{data:z,error:P}=await Ie.from("project_challenges").select("*").eq("project_id",e).order("display_order",{ascending:!0});if(P)throw P;z&&z.length>0&&v(z.map(R=>({id:R.id,core_challenge:R.core_challenge||"",image_url:R.image_url||"",mermaid_syntax:R.mermaid_syntax||"",problem_items:R.problem_items?.length>0?R.problem_items:[""],solution_items:R.solution_items?.length>0?R.solution_items:[""],result_items:R.result_items?.length>0?R.result_items:[""]})))}catch(q){console.error("Error fetching project:",q),alert("Failed to load project")}finally{n(!1)}},[e]);W.useEffect(()=>{r&&_()},[r,_]);const S=(q,N)=>{p(z=>({...z,[q]:N}))},T=q=>{q.key==="Enter"&&u.trim()&&(q.preventDefault(),d.tags.includes(u.trim())||p(N=>({...N,tags:[...N.tags,u.trim()]})),h(""))},E=q=>{p(N=>({...N,tags:N.tags.filter(z=>z!==q)}))},O=async q=>{if(q){y(!0);try{const N=q.name.split(".").pop().toLowerCase(),P=`covers/${`cover-${Date.now()}-${Math.random().toString(36).substring(7)}.${N}`}`,R={jpg:"image/jpeg",jpeg:"image/jpeg",png:"image/png",gif:"image/gif",webp:"image/webp"},{error:$}=await Ie.storage.from("portfoilo_images").upload(P,q,{contentType:R[N]||q.type,upsert:!0});if($)throw $;const{data:{publicUrl:H}}=Ie.storage.from("portfoilo_images").getPublicUrl(P);S("proj_cover_image_url",H)}catch(N){console.error("Error uploading cover image:",N),alert(`  : ${N.message}

Supabase Dashboard 'portfoilo_images'   , Storage Policies   .`)}finally{y(!1)}}},L=(q,N,z)=>{v(P=>{const R=[...P];return R[q]={...R[q],[N]:z},R})},B=(q,N,z,P)=>{v(R=>{const $=[...R],H=[...$[q][N]];return H[z]=P,$[q]={...$[q],[N]:H},$})},I=(q,N)=>{v(z=>{const P=[...z];return P[q]={...P[q],[N]:[...P[q][N],""]},P})},j=(q,N,z)=>{v(P=>{const R=[...P],$=R[q][N].filter((H,ot)=>ot!==z);return R[q]={...R[q],[N]:$.length>0?$:[""]},R})},Z=()=>{v(q=>[...q,{...dS}])},rt=q=>{x.length<=1||v(N=>N.filter((z,P)=>P!==q))},at=async(q,N)=>{if(N)try{const z=N.name.split(".").pop().toLowerCase(),R=`challenges/${`challenge-${Date.now()}-${Math.random().toString(36).substring(7)}.${z}`}`,$={jpg:"image/jpeg",jpeg:"image/jpeg",png:"image/png",gif:"image/gif",webp:"image/webp"},{error:H}=await Ie.storage.from("portfoilo_images").upload(R,N,{contentType:$[z]||N.type,upsert:!0});if(H)throw H;const{data:{publicUrl:ot}}=Ie.storage.from("portfoilo_images").getPublicUrl(R);L(q,"image_url",ot)}catch(z){console.error("Error uploading image:",z),alert(`  : ${z.message}

Supabase Dashboard 'portfoilo_images'   , Storage Policies   .`)}},J=async q=>{if(q.preventDefault(),!d.title.trim()){alert("Project title is required");return}if(!d.start_date){alert("Start date is required");return}o(!0);try{let N=e;if(r){const{error:P}=await Ie.from("projects").update({title:d.title,category:d.category,project_status:d.project_status,proj_cover_image_url:d.proj_cover_image_url||null,proj_description:d.proj_description||null,proj_url:d.proj_url||null,start_date:d.start_date,end_date:d.end_date||null,tags:d.tags,updated_at:new Date().toISOString()}).eq("id",e);if(P)throw P}else{const{data:P,error:R}=await Ie.from("projects").insert({title:d.title,category:d.category,project_status:d.project_status,proj_cover_image_url:d.proj_cover_image_url||null,proj_description:d.proj_description||null,proj_url:d.proj_url||null,start_date:d.start_date,end_date:d.end_date||null,tags:d.tags}).select().single();if(R)throw R;N=P.id}if(r){const{error:P}=await Ie.from("project_challenges").delete().eq("project_id",e);if(P)throw P}const z=x.filter(P=>P.core_challenge.trim()).map((P,R)=>({project_id:N,core_challenge:P.core_challenge,image_url:P.image_url||null,mermaid_syntax:P.mermaid_syntax||null,problem_items:P.problem_items.filter($=>$.trim()),solution_items:P.solution_items.filter($=>$.trim()),result_items:P.result_items.filter($=>$.trim()),display_order:R}));if(z.length>0){const{error:P}=await Ie.from("project_challenges").insert(z);if(P)throw P}t("/admin/projects")}catch(N){console.error("Error saving project:",N),alert("Failed to save project")}finally{o(!1)}};return i?C.jsxs("div",{className:"min-h-screen flex flex-col bg-background-light dark:bg-background-dark",children:[C.jsx(Wd,{}),C.jsx("main",{className:"flex-grow flex items-center justify-center",children:C.jsx(mt,{name:"progress_activity",className:"text-primary animate-spin text-4xl"})})]}):C.jsxs("div",{className:"min-h-screen flex flex-col bg-background-light dark:bg-background-dark",children:[C.jsx(Wd,{}),C.jsxs("main",{className:"flex-grow max-w-4xl w-full mx-auto px-4 py-8",children:[C.jsxs("nav",{className:"flex items-center gap-2 text-sm mb-6",children:[C.jsx(Br,{to:"/admin/projects",className:"text-primary hover:underline",children:"Admin"}),C.jsx("span",{className:"text-text-secondary-light dark:text-text-secondary-dark",children:"/"}),C.jsx(Br,{to:"/admin/projects",className:"text-primary hover:underline",children:"Projects"}),C.jsx("span",{className:"text-text-secondary-light dark:text-text-secondary-dark",children:"/"}),C.jsx("span",{className:"text-text-secondary-light dark:text-text-secondary-dark",children:r?"Edit Project":"New Project"})]}),C.jsxs("div",{className:"flex items-start justify-between mb-8",children:[C.jsxs("div",{children:[C.jsx("h1",{className:"text-2xl font-bold text-text-primary-light dark:text-text-primary-dark mb-1",children:r?"Edit Project Details":"Create New Project"}),C.jsx("p",{className:"text-text-secondary-light dark:text-text-secondary-dark",children:"Update general project information, tech stack, and detailed problem analysis."})]}),C.jsxs("div",{className:"flex items-center gap-3",children:[C.jsx("button",{type:"button",onClick:()=>t("/admin/projects"),className:"px-4 py-2 text-text-secondary-light dark:text-text-secondary-dark hover:text-text-primary-light dark:hover:text-text-primary-dark transition-colors",children:"Cancel"}),C.jsx("button",{onClick:J,disabled:l,className:"flex items-center gap-2 px-4 py-2 bg-primary text-white rounded-lg hover:bg-primary/90 transition-colors disabled:opacity-50 disabled:cursor-not-allowed",children:l?C.jsxs(C.Fragment,{children:[C.jsx(mt,{name:"progress_activity",className:"animate-spin"}),"Saving..."]}):C.jsxs(C.Fragment,{children:[C.jsx(mt,{name:"save"}),"Save Changes"]})})]})]}),C.jsxs("form",{onSubmit:J,className:"space-y-8",children:[C.jsxs("section",{className:"bg-card-light dark:bg-card-dark rounded-xl border border-border-light dark:border-border-dark p-6",children:[C.jsxs("div",{className:"flex items-center gap-2 mb-6",children:[C.jsx(mt,{name:"info",className:"text-primary"}),C.jsx("h2",{className:"text-sm font-semibold uppercase tracking-wider text-primary",children:" "})]}),C.jsxs("div",{className:"space-y-6",children:[C.jsxs("div",{children:[C.jsx("label",{className:"block text-sm font-medium text-text-primary-light dark:text-text-primary-dark mb-2",children:"Project Title"}),C.jsx("input",{type:"text",value:d.title,onChange:q=>S("title",q.target.value),placeholder:"Enter project title",className:"w-full px-4 py-3 border border-border-light dark:border-border-dark rounded-lg bg-card-light dark:bg-card-dark text-text-primary-light dark:text-text-primary-dark placeholder-text-secondary-light focus:outline-none focus:ring-2 focus:ring-primary focus:border-primary"})]}),C.jsxs("div",{className:"grid grid-cols-2 gap-4",children:[C.jsxs("div",{children:[C.jsx("label",{className:"block text-sm font-medium text-text-primary-light dark:text-text-primary-dark mb-2",children:"Category"}),C.jsx("select",{value:d.category,onChange:q=>S("category",q.target.value),className:"w-full px-4 py-3 border border-border-light dark:border-border-dark rounded-lg bg-card-light dark:bg-card-dark text-text-primary-light dark:text-text-primary-dark focus:outline-none focus:ring-2 focus:ring-primary focus:border-primary",children:b7.map(q=>C.jsx("option",{value:q.value,children:q.label},q.value))})]}),C.jsxs("div",{children:[C.jsx("label",{className:"block text-sm font-medium text-text-primary-light dark:text-text-primary-dark mb-2",children:"Status"}),C.jsx("select",{value:d.project_status,onChange:q=>S("project_status",q.target.value),className:"w-full px-4 py-3 border border-border-light dark:border-border-dark rounded-lg bg-card-light dark:bg-card-dark text-text-primary-light dark:text-text-primary-dark focus:outline-none focus:ring-2 focus:ring-primary focus:border-primary",children:x7.map(q=>C.jsx("option",{value:q.value,children:q.label},q.value))})]})]}),C.jsxs("div",{className:"grid grid-cols-2 gap-4",children:[C.jsxs("div",{children:[C.jsx("label",{className:"block text-sm font-medium text-text-primary-light dark:text-text-primary-dark mb-2",children:"Start Date"}),C.jsx("input",{type:"date",value:d.start_date,onChange:q=>S("start_date",q.target.value),className:"w-full px-4 py-3 border border-border-light dark:border-border-dark rounded-lg bg-card-light dark:bg-card-dark text-text-primary-light dark:text-text-primary-dark focus:outline-none focus:ring-2 focus:ring-primary focus:border-primary"})]}),C.jsxs("div",{children:[C.jsx("label",{className:"block text-sm font-medium text-text-primary-light dark:text-text-primary-dark mb-2",children:"End Date"}),C.jsx("input",{type:"date",value:d.end_date,onChange:q=>S("end_date",q.target.value),className:"w-full px-4 py-3 border border-border-light dark:border-border-dark rounded-lg bg-card-light dark:bg-card-dark text-text-primary-light dark:text-text-primary-dark focus:outline-none focus:ring-2 focus:ring-primary focus:border-primary"}),C.jsx("p",{className:"text-xs text-text-secondary-light dark:text-text-secondary-dark mt-1",children:"  "})]})]}),C.jsxs("div",{children:[C.jsx("label",{className:"block text-sm font-medium text-text-primary-light dark:text-text-primary-dark mb-2",children:" "}),C.jsx("textarea",{value:d.proj_description,onChange:q=>S("proj_description",q.target.value),placeholder:"    ",rows:3,className:"w-full px-4 py-3 border border-border-light dark:border-border-dark rounded-lg bg-card-light dark:bg-card-dark text-text-primary-light dark:text-text-primary-dark placeholder-text-secondary-light focus:outline-none focus:ring-2 focus:ring-primary focus:border-primary"})]}),C.jsxs("div",{children:[C.jsx("label",{className:"block text-sm font-medium text-text-primary-light dark:text-text-primary-dark mb-2",children:" URL"}),C.jsx("input",{type:"url",value:d.proj_url,onChange:q=>S("proj_url",q.target.value),placeholder:"https://github.com/...",className:"w-full px-4 py-3 border border-border-light dark:border-border-dark rounded-lg bg-card-light dark:bg-card-dark text-text-primary-light dark:text-text-primary-dark placeholder-text-secondary-light focus:outline-none focus:ring-2 focus:ring-primary focus:border-primary"})]}),C.jsxs("div",{children:[C.jsx("label",{className:"block text-sm font-medium text-text-primary-light dark:text-text-primary-dark mb-2",children:"Tech Stack"}),C.jsx("div",{className:"flex flex-wrap gap-2 mb-2",children:d.tags.map(q=>C.jsxs("span",{className:"inline-flex items-center gap-1 px-3 py-1 bg-primary/10 text-primary rounded-full text-sm",children:[q,C.jsx("button",{type:"button",onClick:()=>E(q),className:"hover:text-red-500 transition-colors",children:C.jsx(mt,{name:"close",className:"text-sm"})})]},q))}),C.jsx("input",{type:"text",value:u,onChange:q=>h(q.target.value),onKeyDown:T,placeholder:"   (Press Enter)",className:"w-full px-4 py-3 border border-border-light dark:border-border-dark rounded-lg bg-card-light dark:bg-card-dark text-text-primary-light dark:text-text-primary-dark placeholder-text-secondary-light focus:outline-none focus:ring-2 focus:ring-primary focus:border-primary"})]}),C.jsxs("div",{children:[C.jsx("label",{className:"block text-sm font-medium text-text-primary-light dark:text-text-primary-dark mb-2",children:" "}),d.proj_cover_image_url?C.jsxs("div",{className:"relative rounded-lg overflow-hidden border border-border-light dark:border-border-dark",children:[C.jsx("img",{src:d.proj_cover_image_url,alt:"Cover",className:"w-full h-48 object-cover"}),C.jsx("button",{type:"button",onClick:()=>S("proj_cover_image_url",""),className:"absolute top-2 right-2 w-8 h-8 flex items-center justify-center bg-red-500 text-white rounded-full hover:bg-red-600 transition-colors",children:C.jsx(mt,{name:"close",className:"text-base"})})]}):C.jsxs("label",{className:"flex flex-col items-center justify-center w-full h-48 border-2 border-dashed border-border-light dark:border-border-dark rounded-lg cursor-pointer hover:border-primary transition-colors bg-background-light dark:bg-background-dark",children:[g?C.jsx(mt,{name:"progress_activity",className:"text-4xl text-primary animate-spin"}):C.jsxs(C.Fragment,{children:[C.jsx(mt,{name:"image",className:"text-4xl text-primary mb-2"}),C.jsx("span",{className:"text-sm text-text-secondary-light dark:text-text-secondary-dark",children:"   "}),C.jsx("span",{className:"text-xs text-primary mt-2",children:"SELECT FILE"})]}),C.jsx("input",{type:"file",accept:"image/*",onChange:q=>O(q.target.files[0]),className:"hidden",disabled:g})]})]})]})]}),x.map((q,N)=>C.jsxs("section",{className:"bg-card-light dark:bg-card-dark rounded-xl border border-border-light dark:border-border-dark p-6",children:[C.jsxs("div",{className:"flex items-center justify-between mb-6",children:[C.jsxs("div",{className:"flex items-center gap-2",children:[C.jsx(mt,{name:"build",className:"text-primary"}),C.jsxs("h2",{className:"text-sm font-semibold uppercase tracking-wider text-primary",children:["   ",x.length>1?`#${N+1}`:""]})]}),x.length>1&&C.jsxs("button",{type:"button",onClick:()=>rt(N),className:"flex items-center gap-1 text-sm text-red-500 hover:text-red-600 transition-colors",children:[C.jsx(mt,{name:"delete"}),"Delete Challenge"]})]}),C.jsxs("div",{className:"bg-blue-50 dark:bg-blue-900/20 border border-blue-200 dark:border-blue-800 rounded-lg p-4 mb-6",children:[C.jsxs("div",{className:"flex items-center gap-2 mb-3",children:[C.jsx(mt,{name:"flag",className:"text-primary"}),C.jsx("span",{className:"text-sm font-semibold uppercase tracking-wider text-primary",children:" "})]}),C.jsx("div",{className:"space-y-4",children:C.jsxs("div",{children:[C.jsx("label",{className:"block text-sm font-medium text-text-primary-light dark:text-text-primary-dark mb-2",children:"Problem Title"}),C.jsx("input",{type:"text",value:q.core_challenge,onChange:z=>L(N,"core_challenge",z.target.value),placeholder:"e.g., High Latency in Review Retrieval",className:"w-full px-4 py-3 border border-border-light dark:border-border-dark rounded-lg bg-white dark:bg-card-dark text-text-primary-light dark:text-text-primary-dark placeholder-text-secondary-light focus:outline-none focus:ring-2 focus:ring-primary focus:border-primary"})]})})]}),C.jsxs("div",{className:"mb-6",children:[C.jsxs("div",{className:"flex items-center gap-2 mb-3",children:[C.jsx(mt,{name:"auto_awesome",className:"text-text-primary-light dark:text-text-primary-dark"}),C.jsx("span",{className:"font-medium text-text-primary-light dark:text-text-primary-dark",children:""})]}),q.image_url?C.jsxs("div",{className:"relative rounded-lg overflow-hidden border border-border-light dark:border-border-dark",children:[C.jsx("img",{src:q.image_url,alt:"Technical diagram",className:"w-full h-48 object-cover"}),C.jsx("button",{type:"button",onClick:()=>L(N,"image_url",""),className:"absolute top-2 right-2 w-8 h-8 flex items-center justify-center bg-red-500 text-white rounded-full hover:bg-red-600 transition-colors",children:C.jsx(mt,{name:"close",className:"text-base"})})]}):C.jsxs("label",{className:"flex flex-col items-center justify-center w-full h-48 border-2 border-dashed border-border-light dark:border-border-dark rounded-lg cursor-pointer hover:border-primary transition-colors bg-background-light dark:bg-background-dark",children:[C.jsx(mt,{name:"cloud_upload",className:"text-4xl text-primary mb-2"}),C.jsx("span",{className:"text-sm text-text-secondary-light dark:text-text-secondary-dark",children:"Drag and drop or click to replace"}),C.jsx("span",{className:"text-xs text-primary mt-2",children:"SELECT FILE"}),C.jsx("input",{type:"file",accept:"image/*",onChange:z=>at(N,z.target.files[0]),className:"hidden"})]}),C.jsx("p",{className:"text-xs text-text-secondary-light dark:text-text-secondary-dark mt-2",children:"Recommended size: 19201080px. High contrast diagrams work best."})]}),C.jsxs("div",{className:"mb-6",children:[C.jsx("label",{className:"block text-sm font-medium text-text-primary-light dark:text-text-primary-dark mb-2",children:"Mermaid Diagram Syntax (Optional)"}),C.jsx("textarea",{value:q.mermaid_syntax,onChange:z=>L(N,"mermaid_syntax",z.target.value),placeholder:"Enter mermaid diagram syntax...",rows:4,className:"w-full px-4 py-3 border border-border-light dark:border-border-dark rounded-lg bg-card-light dark:bg-card-dark text-text-primary-light dark:text-text-primary-dark placeholder-text-secondary-light focus:outline-none focus:ring-2 focus:ring-primary focus:border-primary font-mono text-sm"})]}),C.jsx(wm,{title:" ",icon:"error",iconColor:"text-red-500",items:q.problem_items,onItemChange:(z,P)=>B(N,"problem_items",z,P),onAddItem:()=>I(N,"problem_items"),onRemoveItem:z=>j(N,"problem_items",z),addButtonText:"Add Another Cause"}),C.jsx(wm,{title:" ",icon:"build",iconColor:"text-yellow-500",items:q.solution_items,onItemChange:(z,P)=>B(N,"solution_items",z,P),onAddItem:()=>I(N,"solution_items"),onRemoveItem:z=>j(N,"solution_items",z),addButtonText:"Add Another Step"}),C.jsx(wm,{title:"",icon:"check_circle",iconColor:"text-green-500",items:q.result_items,onItemChange:(z,P)=>B(N,"result_items",z,P),onAddItem:()=>I(N,"result_items"),onRemoveItem:z=>j(N,"result_items",z),addButtonText:"Add Another Result"})]},N)),C.jsxs("button",{type:"button",onClick:Z,className:"w-full py-4 border-2 border-dashed border-border-light dark:border-border-dark rounded-xl text-primary hover:border-primary hover:bg-primary/5 transition-colors flex flex-col items-center gap-2",children:[C.jsx("div",{className:"w-10 h-10 bg-primary/10 rounded-full flex items-center justify-center",children:C.jsx(mt,{name:"add",className:"text-primary"})}),C.jsx("span",{className:"font-medium",children:"Add New Problem"})]}),C.jsxs("div",{className:"flex items-center justify-end gap-4 pt-4",children:[C.jsx("button",{type:"button",onClick:()=>t("/admin/projects"),className:"px-6 py-3 text-text-secondary-light dark:text-text-secondary-dark hover:text-text-primary-light dark:hover:text-text-primary-dark transition-colors",children:"Cancel"}),C.jsx("button",{type:"submit",disabled:l,className:"flex items-center gap-2 px-6 py-3 bg-primary text-white rounded-lg hover:bg-primary/90 transition-colors disabled:opacity-50 disabled:cursor-not-allowed",children:l?C.jsxs(C.Fragment,{children:[C.jsx(mt,{name:"progress_activity",className:"animate-spin"}),"Saving..."]}):C.jsxs(C.Fragment,{children:[C.jsx(mt,{name:"save"}),"Save All Changes"]})})]})]})]}),C.jsx(es,{})]})}function wm({title:e,icon:t,iconColor:r,items:i,onItemChange:n,onAddItem:l,onRemoveItem:o,addButtonText:u}){return C.jsxs("div",{className:"mb-6",children:[C.jsxs("div",{className:"flex items-center justify-between mb-3",children:[C.jsxs("div",{className:"flex items-center gap-2",children:[C.jsx(mt,{name:t,className:r}),C.jsx("span",{className:"font-medium text-text-primary-light dark:text-text-primary-dark",children:e})]}),C.jsx("span",{className:"text-xs text-text-secondary-light dark:text-text-secondary-dark",children:"List Items"})]}),C.jsx("div",{className:"space-y-2",children:i.map((h,d)=>C.jsxs("div",{className:"flex items-center gap-2",children:[C.jsx("input",{type:"text",value:h,onChange:p=>n(d,p.target.value),placeholder:`Enter ${e.toLowerCase()} item...`,className:"flex-grow px-4 py-2 border border-border-light dark:border-border-dark rounded-lg bg-card-light dark:bg-card-dark text-text-primary-light dark:text-text-primary-dark placeholder-text-secondary-light focus:outline-none focus:ring-2 focus:ring-primary focus:border-primary"}),C.jsx("button",{type:"button",onClick:()=>o(d),className:"p-2 text-text-secondary-light dark:text-text-secondary-dark hover:text-red-500 transition-colors",children:C.jsx(mt,{name:"delete"})})]},d))}),C.jsxs("button",{type:"button",onClick:l,className:"flex items-center gap-1 mt-2 text-sm text-primary hover:text-primary/80 transition-colors",children:[C.jsx(mt,{name:"add_circle",className:"text-sm"}),u]})]})}function Sm({children:e}){const{user:t,loading:r}=Z0();return r?C.jsx("div",{className:"min-h-screen flex items-center justify-center bg-background-light dark:bg-background-dark",children:C.jsx(mt,{name:"progress_activity",className:"text-primary animate-spin text-4xl"})}):t?e:C.jsx(MM,{to:"/admin",replace:!0})}function v7(){return C.jsxs(NM,{children:[C.jsx(In,{path:"/",element:C.jsx(oD,{})}),C.jsx(In,{path:"/project/:id",element:C.jsx(c7,{})}),C.jsx(In,{path:"/admin",element:C.jsx(u7,{})}),C.jsx(In,{path:"/admin/projects",element:C.jsx(Sm,{children:C.jsx(y7,{})})}),C.jsx(In,{path:"/admin/projects/new",element:C.jsx(Sm,{children:C.jsx(fS,{})})}),C.jsx(In,{path:"/admin/projects/:id",element:C.jsx(Sm,{children:C.jsx(fS,{})})})]})}jL.createRoot(document.getElementById("root")).render(C.jsx(W.StrictMode,{children:C.jsx(nB,{children:C.jsx(mB,{children:C.jsx(Q3,{children:C.jsx(v7,{})})})})}));export{v2 as $,_c as A,vD as B,Uj as C,B0 as D,cr as E,h2 as F,bP as G,v6 as H,Ow as I,T8 as J,rj as K,Al as L,S7 as M,pf as N,_j as O,Zy as P,Uw as Q,h6 as R,Qh as S,yP as T,Kc as U,Oj as V,Xc as W,bt as X,Ot as Y,cP as Z,w as _,Dj as a,T0 as a$,l6 as a0,l1 as a1,s1 as a2,N7 as a3,O7 as a4,M7 as a5,L7 as a6,E7 as a7,nl as a8,h0 as a9,MU as aA,o6 as aB,w7 as aC,ff as aD,Bd as aE,hT as aF,TL as aG,iu as aH,RU as aI,OU as aJ,l0 as aK,on as aL,t1 as aM,U5 as aN,Dc as aO,$F as aP,cT as aQ,rT as aR,Uz as aS,Rd as aT,Iz as aU,eu as aV,Gn as aW,MF as aX,E1 as aY,hs as aZ,qz as a_,B7 as aa,A7 as ab,j7 as ac,D7 as ad,R7 as ae,iI as af,xA as ag,G7 as ah,A8 as ai,We as aj,yn as ak,S0 as al,WT as am,ps as an,yT as ao,$t as ap,qi as aq,VI as ar,W7 as as,Y7 as at,q7 as au,wt as av,H7 as aw,RI as ax,CI as ay,kI as az,Nj as b,Pz as b0,Gz as b1,Il as b2,jF as b3,nP as b4,Qz as b5,ZF as b6,k0 as b7,sS as b8,_t as b9,By as bA,ne as bB,QC as ba,Mr as bb,N5 as bc,s0 as bd,N2 as be,Zc as bf,$2 as bg,T7 as bh,xD as bi,aP as bj,QF as bk,sP as bl,cf as bm,zz as bn,C0 as bo,oT as bp,oP as bq,Ul as br,qF as bs,y9 as bt,tu as bu,Md as bv,mn as bw,w1 as bx,E0 as by,aT as bz,ie as c,Xt as d,x2 as e,qe as f,$j as g,Ea as h,di as i,N8 as j,Fl as k,lt as l,xT as m,k7 as n,X7 as o,zj as p,Fj as q,V7 as r,jj as s,E8 as t,Ti as u,_I as v,_P as w,$7 as x,Bj as y,C7 as z};
