const __vite__mapDeps=(i,m=__vite__mapDeps,d=(m.f||(m.f=["assets/dagre-6UL2VRFP-cxN61kpq.js","assets/graph-BvOw7rCN.js","assets/_baseUniq-DXvHzKA8.js","assets/layout-C0L3bair.js","assets/min-DEj4SBW2.js","assets/clone-DlQtsuQY.js","assets/cose-bilkent-S5V4N54A-D2NyATJ9.js","assets/cytoscape.esm-5J0xJHOV.js","assets/c4Diagram-YG6GDRKO-CIpcx9lU.js","assets/chunk-TZMSLE5B-C6Mn2Lmc.js","assets/flowDiagram-NV44I4VS-CDSzzTW7.js","assets/chunk-FMBD7UC4-BdPVRSxy.js","assets/chunk-55IACEB6-BhW4BtwS.js","assets/chunk-QN33PNHL-BSmT7wxJ.js","assets/channel-DDDBSuoE.js","assets/erDiagram-Q2GNP2WA-DEMbkffO.js","assets/gitGraphDiagram-NY62KEGX-D_IKDCCa.js","assets/chunk-4BX2VUAB-B0bqSD5w.js","assets/chunk-QZHKN3VN-BmZxSLE6.js","assets/treemap-KMMF4GRG-Cdn-1E7G.js","assets/ganttDiagram-JELNMOA3-CvSplT0T.js","assets/linear-CCKHYB9I.js","assets/init-Gi6I4Gst.js","assets/defaultLocale-C4B-KCzX.js","assets/infoDiagram-WHAUD3N6-C265x0uZ.js","assets/pieDiagram-ADFJNKIX-DcTMU3Ru.js","assets/arc-CgKbcLVm.js","assets/ordinal-Cboi1Yqb.js","assets/quadrantDiagram-AYHSOK5B-lx_c2C2_.js","assets/xychartDiagram-PRI3JC2R-BDYvwaQD.js","assets/requirementDiagram-UZGBJVZJ-_ut6jn4V.js","assets/sequenceDiagram-WL72ISMW-CPao9C7-.js","assets/classDiagram-2ON5EDUG-CRCVvVMO.js","assets/chunk-B4BG7PRW-BE4nT73b.js","assets/classDiagram-v2-WZHVMYZB-CRCVvVMO.js","assets/stateDiagram-FKZM4ZOC-Bg4BFa7b.js","assets/chunk-DI55MBZ5-Dm4nt12I.js","assets/stateDiagram-v2-4FDKWEC3-BRXiOCtu.js","assets/journeyDiagram-XKPGCS4Q-kRE03D-d.js","assets/timeline-definition-IT6M3QCI-BRVf1JfA.js","assets/mindmap-definition-VGOIOE7T-8hte7BSX.js","assets/kanban-definition-3W4ZIXB7-M7wH3g3l.js","assets/sankeyDiagram-TZEHDZUN-UrlVpK1D.js","assets/diagram-S2PKOQOG-lXfCW6Am.js","assets/diagram-QEK2KX5R-B_ETvIf0.js","assets/blockDiagram-VD42YOAC-BZMwA5Ph.js","assets/architectureDiagram-VXUJARFQ-BoO4pRNv.js","assets/diagram-PSM6KHXK-C-PmyZ0z.js"])))=>i.map(i=>d[i]);
(function(){const t=document.createElement("link").relList;if(t&&t.supports&&t.supports("modulepreload"))return;for(const n of document.querySelectorAll('link[rel="modulepreload"]'))i(n);new MutationObserver(n=>{for(const l of n)if(l.type==="childList")for(const o of l.addedNodes)o.tagName==="LINK"&&o.rel==="modulepreload"&&i(o)}).observe(document,{childList:!0,subtree:!0});function r(n){const l={};return n.integrity&&(l.integrity=n.integrity),n.referrerPolicy&&(l.referrerPolicy=n.referrerPolicy),n.crossOrigin==="use-credentials"?l.credentials="include":n.crossOrigin==="anonymous"?l.credentials="omit":l.credentials="same-origin",l}function i(n){if(n.ep)return;n.ep=!0;const l=r(n);fetch(n.href,l)}})();function EL(e){return e&&e.__esModule&&Object.prototype.hasOwnProperty.call(e,"default")?e.default:e}var Ng={exports:{}},Go={};var z_;function AL(){if(z_)return Go;z_=1;var e=Symbol.for("react.transitional.element"),t=Symbol.for("react.fragment");function r(i,n,l){var o=null;if(l!==void 0&&(o=""+l),n.key!==void 0&&(o=""+n.key),"key"in n){l={};for(var u in n)u!=="key"&&(l[u]=n[u])}else l=n;return n=l.ref,{$$typeof:e,type:i,key:o,ref:n!==void 0?n:null,props:l}}return Go.Fragment=t,Go.jsx=r,Go.jsxs=r,Go}var F_;function OL(){return F_||(F_=1,Ng.exports=AL()),Ng.exports}var k=OL(),Dg={exports:{}},zt={};var P_;function RL(){if(P_)return zt;P_=1;var e=Symbol.for("react.transitional.element"),t=Symbol.for("react.portal"),r=Symbol.for("react.fragment"),i=Symbol.for("react.strict_mode"),n=Symbol.for("react.profiler"),l=Symbol.for("react.consumer"),o=Symbol.for("react.context"),u=Symbol.for("react.forward_ref"),h=Symbol.for("react.suspense"),d=Symbol.for("react.memo"),p=Symbol.for("react.lazy"),g=Symbol.for("react.activity"),y=Symbol.iterator;function x(B){return B===null||typeof B!="object"?null:(B=y&&B[y]||B["@@iterator"],typeof B=="function"?B:null)}var v={isMounted:function(){return!1},enqueueForceUpdate:function(){},enqueueReplaceState:function(){},enqueueSetState:function(){}},_=Object.assign,S={};function T(B,Y,tt){this.props=B,this.context=Y,this.refs=S,this.updater=tt||v}T.prototype.isReactComponent={},T.prototype.setState=function(B,Y){if(typeof B!="object"&&typeof B!="function"&&B!=null)throw Error("takes an object of state variables to update or a function which returns an object of state variables.");this.updater.enqueueSetState(this,B,Y,"setState")},T.prototype.forceUpdate=function(B){this.updater.enqueueForceUpdate(this,B,"forceUpdate")};function E(){}E.prototype=T.prototype;function O(B,Y,tt){this.props=B,this.context=Y,this.refs=S,this.updater=tt||v}var M=O.prototype=new E;M.constructor=O,_(M,T.prototype),M.isPureReactComponent=!0;var N=Array.isArray;function q(){}var z={H:null,A:null,T:null,S:null},Q=Object.prototype.hasOwnProperty;function et(B,Y,tt){var ct=tt.ref;return{$$typeof:e,type:B,key:Y,ref:ct!==void 0?ct:null,props:tt}}function it(B,Y){return et(B.type,Y,B.props)}function J(B){return typeof B=="object"&&B!==null&&B.$$typeof===e}function ot(B){var Y={"=":"=0",":":"=2"};return"$"+B.replace(/[=:]/g,function(tt){return Y[tt]})}var L=/\/+/g;function D(B,Y){return typeof B=="object"&&B!==null&&B.key!=null?ot(""+B.key):Y.toString(36)}function F(B){switch(B.status){case"fulfilled":return B.value;case"rejected":throw B.reason;default:switch(typeof B.status=="string"?B.then(q,q):(B.status="pending",B.then(function(Y){B.status==="pending"&&(B.status="fulfilled",B.value=Y)},function(Y){B.status==="pending"&&(B.status="rejected",B.reason=Y)})),B.status){case"fulfilled":return B.value;case"rejected":throw B.reason}}throw B}function R(B,Y,tt,ct,dt){var Ct=typeof B;(Ct==="undefined"||Ct==="boolean")&&(B=null);var Lt=!1;if(B===null)Lt=!0;else switch(Ct){case"bigint":case"string":case"number":Lt=!0;break;case"object":switch(B.$$typeof){case e:case t:Lt=!0;break;case p:return Lt=B._init,R(Lt(B._payload),Y,tt,ct,dt)}}if(Lt)return dt=dt(B),Lt=ct===""?"."+D(B,0):ct,N(dt)?(tt="",Lt!=null&&(tt=Lt.replace(L,"$&/")+"/"),R(dt,Y,tt,"",function(oe){return oe})):dt!=null&&(J(dt)&&(dt=it(dt,tt+(dt.key==null||B&&B.key===dt.key?"":(""+dt.key).replace(L,"$&/")+"/")+Lt)),Y.push(dt)),1;Lt=0;var te=ct===""?".":ct+":";if(N(B))for(var Kt=0;Kt<B.length;Kt++)ct=B[Kt],Ct=te+D(ct,Kt),Lt+=R(ct,Y,tt,Ct,dt);else if(Kt=x(B),typeof Kt=="function")for(B=Kt.call(B),Kt=0;!(ct=B.next()).done;)ct=ct.value,Ct=te+D(ct,Kt++),Lt+=R(ct,Y,tt,Ct,dt);else if(Ct==="object"){if(typeof B.then=="function")return R(F(B),Y,tt,ct,dt);throw Y=String(B),Error("Objects are not valid as a React child (found: "+(Y==="[object Object]"?"object with keys {"+Object.keys(B).join(", ")+"}":Y)+"). If you meant to render a collection of children, use an array instead.")}return Lt}function j(B,Y,tt){if(B==null)return B;var ct=[],dt=0;return R(B,ct,"","",function(Ct){return Y.call(tt,Ct,dt++)}),ct}function I(B){if(B._status===-1){var Y=B._result;Y=Y(),Y.then(function(tt){(B._status===0||B._status===-1)&&(B._status=1,B._result=tt)},function(tt){(B._status===0||B._status===-1)&&(B._status=2,B._result=tt)}),B._status===-1&&(B._status=0,B._result=Y)}if(B._status===1)return B._result.default;throw B._result}var lt=typeof reportError=="function"?reportError:function(B){if(typeof window=="object"&&typeof window.ErrorEvent=="function"){var Y=new window.ErrorEvent("error",{bubbles:!0,cancelable:!0,message:typeof B=="object"&&B!==null&&typeof B.message=="string"?String(B.message):String(B),error:B});if(!window.dispatchEvent(Y))return}else if(typeof process=="object"&&typeof process.emit=="function"){process.emit("uncaughtException",B);return}console.error(B)},ht={map:j,forEach:function(B,Y,tt){j(B,function(){Y.apply(this,arguments)},tt)},count:function(B){var Y=0;return j(B,function(){Y++}),Y},toArray:function(B){return j(B,function(Y){return Y})||[]},only:function(B){if(!J(B))throw Error("React.Children.only expected to receive a single React element child.");return B}};return zt.Activity=g,zt.Children=ht,zt.Component=T,zt.Fragment=r,zt.Profiler=n,zt.PureComponent=O,zt.StrictMode=i,zt.Suspense=h,zt.__CLIENT_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE=z,zt.__COMPILER_RUNTIME={__proto__:null,c:function(B){return z.H.useMemoCache(B)}},zt.cache=function(B){return function(){return B.apply(null,arguments)}},zt.cacheSignal=function(){return null},zt.cloneElement=function(B,Y,tt){if(B==null)throw Error("The argument must be a React element, but you passed "+B+".");var ct=_({},B.props),dt=B.key;if(Y!=null)for(Ct in Y.key!==void 0&&(dt=""+Y.key),Y)!Q.call(Y,Ct)||Ct==="key"||Ct==="__self"||Ct==="__source"||Ct==="ref"&&Y.ref===void 0||(ct[Ct]=Y[Ct]);var Ct=arguments.length-2;if(Ct===1)ct.children=tt;else if(1<Ct){for(var Lt=Array(Ct),te=0;te<Ct;te++)Lt[te]=arguments[te+2];ct.children=Lt}return et(B.type,dt,ct)},zt.createContext=function(B){return B={$$typeof:o,_currentValue:B,_currentValue2:B,_threadCount:0,Provider:null,Consumer:null},B.Provider=B,B.Consumer={$$typeof:l,_context:B},B},zt.createElement=function(B,Y,tt){var ct,dt={},Ct=null;if(Y!=null)for(ct in Y.key!==void 0&&(Ct=""+Y.key),Y)Q.call(Y,ct)&&ct!=="key"&&ct!=="__self"&&ct!=="__source"&&(dt[ct]=Y[ct]);var Lt=arguments.length-2;if(Lt===1)dt.children=tt;else if(1<Lt){for(var te=Array(Lt),Kt=0;Kt<Lt;Kt++)te[Kt]=arguments[Kt+2];dt.children=te}if(B&&B.defaultProps)for(ct in Lt=B.defaultProps,Lt)dt[ct]===void 0&&(dt[ct]=Lt[ct]);return et(B,Ct,dt)},zt.createRef=function(){return{current:null}},zt.forwardRef=function(B){return{$$typeof:u,render:B}},zt.isValidElement=J,zt.lazy=function(B){return{$$typeof:p,_payload:{_status:-1,_result:B},_init:I}},zt.memo=function(B,Y){return{$$typeof:d,type:B,compare:Y===void 0?null:Y}},zt.startTransition=function(B){var Y=z.T,tt={};z.T=tt;try{var ct=B(),dt=z.S;dt!==null&&dt(tt,ct),typeof ct=="object"&&ct!==null&&typeof ct.then=="function"&&ct.then(q,lt)}catch(Ct){lt(Ct)}finally{Y!==null&&tt.types!==null&&(Y.types=tt.types),z.T=Y}},zt.unstable_useCacheRefresh=function(){return z.H.useCacheRefresh()},zt.use=function(B){return z.H.use(B)},zt.useActionState=function(B,Y,tt){return z.H.useActionState(B,Y,tt)},zt.useCallback=function(B,Y){return z.H.useCallback(B,Y)},zt.useContext=function(B){return z.H.useContext(B)},zt.useDebugValue=function(){},zt.useDeferredValue=function(B,Y){return z.H.useDeferredValue(B,Y)},zt.useEffect=function(B,Y){return z.H.useEffect(B,Y)},zt.useEffectEvent=function(B){return z.H.useEffectEvent(B)},zt.useId=function(){return z.H.useId()},zt.useImperativeHandle=function(B,Y,tt){return z.H.useImperativeHandle(B,Y,tt)},zt.useInsertionEffect=function(B,Y){return z.H.useInsertionEffect(B,Y)},zt.useLayoutEffect=function(B,Y){return z.H.useLayoutEffect(B,Y)},zt.useMemo=function(B,Y){return z.H.useMemo(B,Y)},zt.useOptimistic=function(B,Y){return z.H.useOptimistic(B,Y)},zt.useReducer=function(B,Y,tt){return z.H.useReducer(B,Y,tt)},zt.useRef=function(B){return z.H.useRef(B)},zt.useState=function(B){return z.H.useState(B)},zt.useSyncExternalStore=function(B,Y,tt){return z.H.useSyncExternalStore(B,Y,tt)},zt.useTransition=function(){return z.H.useTransition()},zt.version="19.2.3",zt}var U_;function $y(){return U_||(U_=1,Dg.exports=RL()),Dg.exports}var H=$y(),jg={exports:{}},Yo={},$g={exports:{}},zg={};var I_;function LL(){return I_||(I_=1,(function(e){function t(R,j){var I=R.length;R.push(j);t:for(;0<I;){var lt=I-1>>>1,ht=R[lt];if(0<n(ht,j))R[lt]=j,R[I]=ht,I=lt;else break t}}function r(R){return R.length===0?null:R[0]}function i(R){if(R.length===0)return null;var j=R[0],I=R.pop();if(I!==j){R[0]=I;t:for(var lt=0,ht=R.length,B=ht>>>1;lt<B;){var Y=2*(lt+1)-1,tt=R[Y],ct=Y+1,dt=R[ct];if(0>n(tt,I))ct<ht&&0>n(dt,tt)?(R[lt]=dt,R[ct]=I,lt=ct):(R[lt]=tt,R[Y]=I,lt=Y);else if(ct<ht&&0>n(dt,I))R[lt]=dt,R[ct]=I,lt=ct;else break t}}return j}function n(R,j){var I=R.sortIndex-j.sortIndex;return I!==0?I:R.id-j.id}if(e.unstable_now=void 0,typeof performance=="object"&&typeof performance.now=="function"){var l=performance;e.unstable_now=function(){return l.now()}}else{var o=Date,u=o.now();e.unstable_now=function(){return o.now()-u}}var h=[],d=[],p=1,g=null,y=3,x=!1,v=!1,_=!1,S=!1,T=typeof setTimeout=="function"?setTimeout:null,E=typeof clearTimeout=="function"?clearTimeout:null,O=typeof setImmediate<"u"?setImmediate:null;function M(R){for(var j=r(d);j!==null;){if(j.callback===null)i(d);else if(j.startTime<=R)i(d),j.sortIndex=j.expirationTime,t(h,j);else break;j=r(d)}}function N(R){if(_=!1,M(R),!v)if(r(h)!==null)v=!0,q||(q=!0,ot());else{var j=r(d);j!==null&&F(N,j.startTime-R)}}var q=!1,z=-1,Q=5,et=-1;function it(){return S?!0:!(e.unstable_now()-et<Q)}function J(){if(S=!1,q){var R=e.unstable_now();et=R;var j=!0;try{t:{v=!1,_&&(_=!1,E(z),z=-1),x=!0;var I=y;try{e:{for(M(R),g=r(h);g!==null&&!(g.expirationTime>R&&it());){var lt=g.callback;if(typeof lt=="function"){g.callback=null,y=g.priorityLevel;var ht=lt(g.expirationTime<=R);if(R=e.unstable_now(),typeof ht=="function"){g.callback=ht,M(R),j=!0;break e}g===r(h)&&i(h),M(R)}else i(h);g=r(h)}if(g!==null)j=!0;else{var B=r(d);B!==null&&F(N,B.startTime-R),j=!1}}break t}finally{g=null,y=I,x=!1}j=void 0}}finally{j?ot():q=!1}}}var ot;if(typeof O=="function")ot=function(){O(J)};else if(typeof MessageChannel<"u"){var L=new MessageChannel,D=L.port2;L.port1.onmessage=J,ot=function(){D.postMessage(null)}}else ot=function(){T(J,0)};function F(R,j){z=T(function(){R(e.unstable_now())},j)}e.unstable_IdlePriority=5,e.unstable_ImmediatePriority=1,e.unstable_LowPriority=4,e.unstable_NormalPriority=3,e.unstable_Profiling=null,e.unstable_UserBlockingPriority=2,e.unstable_cancelCallback=function(R){R.callback=null},e.unstable_forceFrameRate=function(R){0>R||125<R?console.error("forceFrameRate takes a positive int between 0 and 125, forcing frame rates higher than 125 fps is not supported"):Q=0<R?Math.floor(1e3/R):5},e.unstable_getCurrentPriorityLevel=function(){return y},e.unstable_next=function(R){switch(y){case 1:case 2:case 3:var j=3;break;default:j=y}var I=y;y=j;try{return R()}finally{y=I}},e.unstable_requestPaint=function(){S=!0},e.unstable_runWithPriority=function(R,j){switch(R){case 1:case 2:case 3:case 4:case 5:break;default:R=3}var I=y;y=R;try{return j()}finally{y=I}},e.unstable_scheduleCallback=function(R,j,I){var lt=e.unstable_now();switch(typeof I=="object"&&I!==null?(I=I.delay,I=typeof I=="number"&&0<I?lt+I:lt):I=lt,R){case 1:var ht=-1;break;case 2:ht=250;break;case 5:ht=1073741823;break;case 4:ht=1e4;break;default:ht=5e3}return ht=I+ht,R={id:p++,callback:j,priorityLevel:R,startTime:I,expirationTime:ht,sortIndex:-1},I>lt?(R.sortIndex=I,t(d,R),r(h)===null&&R===r(d)&&(_?(E(z),z=-1):_=!0,F(N,I-lt))):(R.sortIndex=ht,t(h,R),v||x||(v=!0,q||(q=!0,ot()))),R},e.unstable_shouldYield=it,e.unstable_wrapCallback=function(R){var j=y;return function(){var I=y;y=j;try{return R.apply(this,arguments)}finally{y=I}}}})(zg)),zg}var q_;function ML(){return q_||(q_=1,$g.exports=LL()),$g.exports}var Fg={exports:{}},sr={};var H_;function BL(){if(H_)return sr;H_=1;var e=$y();function t(h){var d="https://react.dev/errors/"+h;if(1<arguments.length){d+="?args[]="+encodeURIComponent(arguments[1]);for(var p=2;p<arguments.length;p++)d+="&args[]="+encodeURIComponent(arguments[p])}return"Minified React error #"+h+"; visit "+d+" for the full message or use the non-minified dev environment for full errors and additional helpful warnings."}function r(){}var i={d:{f:r,r:function(){throw Error(t(522))},D:r,C:r,L:r,m:r,X:r,S:r,M:r},p:0,findDOMNode:null},n=Symbol.for("react.portal");function l(h,d,p){var g=3<arguments.length&&arguments[3]!==void 0?arguments[3]:null;return{$$typeof:n,key:g==null?null:""+g,children:h,containerInfo:d,implementation:p}}var o=e.__CLIENT_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE;function u(h,d){if(h==="font")return"";if(typeof d=="string")return d==="use-credentials"?d:""}return sr.__DOM_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE=i,sr.createPortal=function(h,d){var p=2<arguments.length&&arguments[2]!==void 0?arguments[2]:null;if(!d||d.nodeType!==1&&d.nodeType!==9&&d.nodeType!==11)throw Error(t(299));return l(h,d,null,p)},sr.flushSync=function(h){var d=o.T,p=i.p;try{if(o.T=null,i.p=2,h)return h()}finally{o.T=d,i.p=p,i.d.f()}},sr.preconnect=function(h,d){typeof h=="string"&&(d?(d=d.crossOrigin,d=typeof d=="string"?d==="use-credentials"?d:"":void 0):d=null,i.d.C(h,d))},sr.prefetchDNS=function(h){typeof h=="string"&&i.d.D(h)},sr.preinit=function(h,d){if(typeof h=="string"&&d&&typeof d.as=="string"){var p=d.as,g=u(p,d.crossOrigin),y=typeof d.integrity=="string"?d.integrity:void 0,x=typeof d.fetchPriority=="string"?d.fetchPriority:void 0;p==="style"?i.d.S(h,typeof d.precedence=="string"?d.precedence:void 0,{crossOrigin:g,integrity:y,fetchPriority:x}):p==="script"&&i.d.X(h,{crossOrigin:g,integrity:y,fetchPriority:x,nonce:typeof d.nonce=="string"?d.nonce:void 0})}},sr.preinitModule=function(h,d){if(typeof h=="string")if(typeof d=="object"&&d!==null){if(d.as==null||d.as==="script"){var p=u(d.as,d.crossOrigin);i.d.M(h,{crossOrigin:p,integrity:typeof d.integrity=="string"?d.integrity:void 0,nonce:typeof d.nonce=="string"?d.nonce:void 0})}}else d==null&&i.d.M(h)},sr.preload=function(h,d){if(typeof h=="string"&&typeof d=="object"&&d!==null&&typeof d.as=="string"){var p=d.as,g=u(p,d.crossOrigin);i.d.L(h,p,{crossOrigin:g,integrity:typeof d.integrity=="string"?d.integrity:void 0,nonce:typeof d.nonce=="string"?d.nonce:void 0,type:typeof d.type=="string"?d.type:void 0,fetchPriority:typeof d.fetchPriority=="string"?d.fetchPriority:void 0,referrerPolicy:typeof d.referrerPolicy=="string"?d.referrerPolicy:void 0,imageSrcSet:typeof d.imageSrcSet=="string"?d.imageSrcSet:void 0,imageSizes:typeof d.imageSizes=="string"?d.imageSizes:void 0,media:typeof d.media=="string"?d.media:void 0})}},sr.preloadModule=function(h,d){if(typeof h=="string")if(d){var p=u(d.as,d.crossOrigin);i.d.m(h,{as:typeof d.as=="string"&&d.as!=="script"?d.as:void 0,crossOrigin:p,integrity:typeof d.integrity=="string"?d.integrity:void 0})}else i.d.m(h)},sr.requestFormReset=function(h){i.d.r(h)},sr.unstable_batchedUpdates=function(h,d){return h(d)},sr.useFormState=function(h,d,p){return o.H.useFormState(h,d,p)},sr.useFormStatus=function(){return o.H.useHostTransitionStatus()},sr.version="19.2.3",sr}var W_;function NL(){if(W_)return Fg.exports;W_=1;function e(){if(!(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__>"u"||typeof __REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE!="function"))try{__REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE(e)}catch(t){console.error(t)}}return e(),Fg.exports=BL(),Fg.exports}var G_;function DL(){if(G_)return Yo;G_=1;var e=ML(),t=$y(),r=NL();function i(a){var s="https://react.dev/errors/"+a;if(1<arguments.length){s+="?args[]="+encodeURIComponent(arguments[1]);for(var c=2;c<arguments.length;c++)s+="&args[]="+encodeURIComponent(arguments[c])}return"Minified React error #"+a+"; visit "+s+" for the full message or use the non-minified dev environment for full errors and additional helpful warnings."}function n(a){return!(!a||a.nodeType!==1&&a.nodeType!==9&&a.nodeType!==11)}function l(a){var s=a,c=a;if(a.alternate)for(;s.return;)s=s.return;else{a=s;do s=a,(s.flags&4098)!==0&&(c=s.return),a=s.return;while(a)}return s.tag===3?c:null}function o(a){if(a.tag===13){var s=a.memoizedState;if(s===null&&(a=a.alternate,a!==null&&(s=a.memoizedState)),s!==null)return s.dehydrated}return null}function u(a){if(a.tag===31){var s=a.memoizedState;if(s===null&&(a=a.alternate,a!==null&&(s=a.memoizedState)),s!==null)return s.dehydrated}return null}function h(a){if(l(a)!==a)throw Error(i(188))}function d(a){var s=a.alternate;if(!s){if(s=l(a),s===null)throw Error(i(188));return s!==a?null:a}for(var c=a,f=s;;){var m=c.return;if(m===null)break;var b=m.alternate;if(b===null){if(f=m.return,f!==null){c=f;continue}break}if(m.child===b.child){for(b=m.child;b;){if(b===c)return h(m),a;if(b===f)return h(m),s;b=b.sibling}throw Error(i(188))}if(c.return!==f.return)c=m,f=b;else{for(var C=!1,A=m.child;A;){if(A===c){C=!0,c=m,f=b;break}if(A===f){C=!0,f=m,c=b;break}A=A.sibling}if(!C){for(A=b.child;A;){if(A===c){C=!0,c=b,f=m;break}if(A===f){C=!0,f=b,c=m;break}A=A.sibling}if(!C)throw Error(i(189))}}if(c.alternate!==f)throw Error(i(190))}if(c.tag!==3)throw Error(i(188));return c.stateNode.current===c?a:s}function p(a){var s=a.tag;if(s===5||s===26||s===27||s===6)return a;for(a=a.child;a!==null;){if(s=p(a),s!==null)return s;a=a.sibling}return null}var g=Object.assign,y=Symbol.for("react.element"),x=Symbol.for("react.transitional.element"),v=Symbol.for("react.portal"),_=Symbol.for("react.fragment"),S=Symbol.for("react.strict_mode"),T=Symbol.for("react.profiler"),E=Symbol.for("react.consumer"),O=Symbol.for("react.context"),M=Symbol.for("react.forward_ref"),N=Symbol.for("react.suspense"),q=Symbol.for("react.suspense_list"),z=Symbol.for("react.memo"),Q=Symbol.for("react.lazy"),et=Symbol.for("react.activity"),it=Symbol.for("react.memo_cache_sentinel"),J=Symbol.iterator;function ot(a){return a===null||typeof a!="object"?null:(a=J&&a[J]||a["@@iterator"],typeof a=="function"?a:null)}var L=Symbol.for("react.client.reference");function D(a){if(a==null)return null;if(typeof a=="function")return a.$$typeof===L?null:a.displayName||a.name||null;if(typeof a=="string")return a;switch(a){case _:return"Fragment";case T:return"Profiler";case S:return"StrictMode";case N:return"Suspense";case q:return"SuspenseList";case et:return"Activity"}if(typeof a=="object")switch(a.$$typeof){case v:return"Portal";case O:return a.displayName||"Context";case E:return(a._context.displayName||"Context")+".Consumer";case M:var s=a.render;return a=a.displayName,a||(a=s.displayName||s.name||"",a=a!==""?"ForwardRef("+a+")":"ForwardRef"),a;case z:return s=a.displayName||null,s!==null?s:D(a.type)||"Memo";case Q:s=a._payload,a=a._init;try{return D(a(s))}catch{}}return null}var F=Array.isArray,R=t.__CLIENT_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE,j=r.__DOM_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE,I={pending:!1,data:null,method:null,action:null},lt=[],ht=-1;function B(a){return{current:a}}function Y(a){0>ht||(a.current=lt[ht],lt[ht]=null,ht--)}function tt(a,s){ht++,lt[ht]=a.current,a.current=s}var ct=B(null),dt=B(null),Ct=B(null),Lt=B(null);function te(a,s){switch(tt(Ct,s),tt(dt,a),tt(ct,null),s.nodeType){case 9:case 11:a=(a=s.documentElement)&&(a=a.namespaceURI)?l_(a):0;break;default:if(a=s.tagName,s=s.namespaceURI)s=l_(s),a=o_(s,a);else switch(a){case"svg":a=1;break;case"math":a=2;break;default:a=0}}Y(ct),tt(ct,a)}function Kt(){Y(ct),Y(dt),Y(Ct)}function oe(a){a.memoizedState!==null&&tt(Lt,a);var s=ct.current,c=o_(s,a.type);s!==c&&(tt(dt,a),tt(ct,c))}function nr(a){dt.current===a&&(Y(ct),Y(dt)),Lt.current===a&&(Y(Lt),Io._currentValue=I)}var Kr,_r;function Qr(a){if(Kr===void 0)try{throw Error()}catch(c){var s=c.stack.trim().match(/\n( *(at )?)/);Kr=s&&s[1]||"",_r=-1<c.stack.indexOf(`
    at`)?" (<anonymous>)":-1<c.stack.indexOf("@")?"@unknown:0:0":""}return`
`+Kr+a+_r}var pi=!1;function vn(a,s){if(!a||pi)return"";pi=!0;var c=Error.prepareStackTrace;Error.prepareStackTrace=void 0;try{var f={DetermineComponentFrameRoot:function(){try{if(s){var nt=function(){throw Error()};if(Object.defineProperty(nt.prototype,"props",{set:function(){throw Error()}}),typeof Reflect=="object"&&Reflect.construct){try{Reflect.construct(nt,[])}catch(Z){var K=Z}Reflect.construct(a,[],nt)}else{try{nt.call()}catch(Z){K=Z}a.call(nt.prototype)}}else{try{throw Error()}catch(Z){K=Z}(nt=a())&&typeof nt.catch=="function"&&nt.catch(function(){})}}catch(Z){if(Z&&K&&typeof Z.stack=="string")return[Z.stack,K.stack]}return[null,null]}};f.DetermineComponentFrameRoot.displayName="DetermineComponentFrameRoot";var m=Object.getOwnPropertyDescriptor(f.DetermineComponentFrameRoot,"name");m&&m.configurable&&Object.defineProperty(f.DetermineComponentFrameRoot,"name",{value:"DetermineComponentFrameRoot"});var b=f.DetermineComponentFrameRoot(),C=b[0],A=b[1];if(C&&A){var $=C.split(`
`),X=A.split(`
`);for(m=f=0;f<$.length&&!$[f].includes("DetermineComponentFrameRoot");)f++;for(;m<X.length&&!X[m].includes("DetermineComponentFrameRoot");)m++;if(f===$.length||m===X.length)for(f=$.length-1,m=X.length-1;1<=f&&0<=m&&$[f]!==X[m];)m--;for(;1<=f&&0<=m;f--,m--)if($[f]!==X[m]){if(f!==1||m!==1)do if(f--,m--,0>m||$[f]!==X[m]){var rt=`
`+$[f].replace(" at new "," at ");return a.displayName&&rt.includes("<anonymous>")&&(rt=rt.replace("<anonymous>",a.displayName)),rt}while(1<=f&&0<=m);break}}}finally{pi=!1,Error.prepareStackTrace=c}return(c=a?a.displayName||a.name:"")?Qr(c):""}function Wl(a,s){switch(a.tag){case 26:case 27:case 5:return Qr(a.type);case 16:return Qr("Lazy");case 13:return a.child!==s&&s!==null?Qr("Suspense Fallback"):Qr("Suspense");case 19:return Qr("SuspenseList");case 0:case 15:return vn(a.type,!1);case 11:return vn(a.type.render,!1);case 1:return vn(a.type,!0);case 31:return Qr("Activity");default:return""}}function Yi(a){try{var s="",c=null;do s+=Wl(a,c),c=a,a=a.return;while(a);return s}catch(f){return`
Error generating stack: `+f.message+`
`+f.stack}}var Ma=Object.prototype.hasOwnProperty,Ba=e.unstable_scheduleCallback,ms=e.unstable_cancelCallback,nu=e.unstable_shouldYield,Cf=e.unstable_requestPaint,Xe=e.unstable_now,_n=e.unstable_getCurrentPriorityLevel,Vi=e.unstable_ImmediatePriority,Nr=e.unstable_UserBlockingPriority,Na=e.unstable_NormalPriority,su=e.unstable_LowPriority,Gl=e.unstable_IdlePriority,Yl=e.log,lu=e.unstable_setDisableYieldValue,Li=null,Ge=null;function Ye(a){if(typeof Yl=="function"&&lu(a),Ge&&typeof Ge.setStrictMode=="function")try{Ge.setStrictMode(Li,a)}catch{}}var Re=Math.clz32?Math.clz32:Tf,Vl=Math.log,Xl=Math.LN2;function Tf(a){return a>>>=0,a===0?32:31-(Vl(a)/Xl|0)|0}var Xi=256,Ki=262144,ys=4194304;function Dr(a){var s=a&42;if(s!==0)return s;switch(a&-a){case 1:return 1;case 2:return 2;case 4:return 4;case 8:return 8;case 16:return 16;case 32:return 32;case 64:return 64;case 128:return 128;case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:return a&261888;case 262144:case 524288:case 1048576:case 2097152:return a&3932160;case 4194304:case 8388608:case 16777216:case 33554432:return a&62914560;case 67108864:return 67108864;case 134217728:return 134217728;case 268435456:return 268435456;case 536870912:return 536870912;case 1073741824:return 0;default:return a}}function bs(a,s,c){var f=a.pendingLanes;if(f===0)return 0;var m=0,b=a.suspendedLanes,C=a.pingedLanes;a=a.warmLanes;var A=f&134217727;return A!==0?(f=A&~b,f!==0?m=Dr(f):(C&=A,C!==0?m=Dr(C):c||(c=A&~a,c!==0&&(m=Dr(c))))):(A=f&~b,A!==0?m=Dr(A):C!==0?m=Dr(C):c||(c=f&~a,c!==0&&(m=Dr(c)))),m===0?0:s!==0&&s!==m&&(s&b)===0&&(b=m&-m,c=s&-s,b>=c||b===32&&(c&4194048)!==0)?s:m}function wn(a,s){return(a.pendingLanes&~(a.suspendedLanes&~a.pingedLanes)&s)===0}function Te(a,s){switch(a){case 1:case 2:case 4:case 8:case 64:return s+250;case 16:case 32:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return s+5e3;case 4194304:case 8388608:case 16777216:case 33554432:return-1;case 67108864:case 134217728:case 268435456:case 536870912:case 1073741824:return-1;default:return-1}}function Qi(){var a=ys;return ys<<=1,(ys&62914560)===0&&(ys=4194304),a}function Kl(a){for(var s=[],c=0;31>c;c++)s.push(a);return s}function Da(a,s){a.pendingLanes|=s,s!==268435456&&(a.suspendedLanes=0,a.pingedLanes=0,a.warmLanes=0)}function Ql(a,s,c,f,m,b){var C=a.pendingLanes;a.pendingLanes=c,a.suspendedLanes=0,a.pingedLanes=0,a.warmLanes=0,a.expiredLanes&=c,a.entangledLanes&=c,a.errorRecoveryDisabledLanes&=c,a.shellSuspendCounter=0;var A=a.entanglements,$=a.expirationTimes,X=a.hiddenUpdates;for(c=C&~c;0<c;){var rt=31-Re(c),nt=1<<rt;A[rt]=0,$[rt]=-1;var K=X[rt];if(K!==null)for(X[rt]=null,rt=0;rt<K.length;rt++){var Z=K[rt];Z!==null&&(Z.lane&=-536870913)}c&=~nt}f!==0&&Zl(a,f,0),b!==0&&m===0&&a.tag!==0&&(a.suspendedLanes|=b&~(C&~s))}function Zl(a,s,c){a.pendingLanes|=s,a.suspendedLanes&=~s;var f=31-Re(s);a.entangledLanes|=s,a.entanglements[f]=a.entanglements[f]|1073741824|c&261930}function Jl(a,s){var c=a.entangledLanes|=s;for(a=a.entanglements;c;){var f=31-Re(c),m=1<<f;m&s|a[f]&s&&(a[f]|=s),c&=~m}}function ou(a,s){var c=s&-s;return c=(c&42)!==0?1:wr(c),(c&(a.suspendedLanes|s))!==0?0:c}function wr(a){switch(a){case 2:a=1;break;case 8:a=4;break;case 32:a=16;break;case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:case 4194304:case 8388608:case 16777216:case 33554432:a=128;break;case 268435456:a=134217728;break;default:a=0}return a}function gi(a){return a&=-a,2<a?8<a?(a&134217727)!==0?32:268435456:8:2}function to(){var a=j.p;return a!==0?a:(a=window.event,a===void 0?32:L_(a.type))}function eo(a,s){var c=j.p;try{return j.p=a,s()}finally{j.p=c}}var Zr=Math.random().toString(36).slice(2),Le="__reactFiber$"+Zr,ye="__reactProps$"+Zr,Zi="__reactContainer$"+Zr,xs="__reactEvents$"+Zr,cu="__reactListeners$"+Zr,uu="__reactHandles$"+Zr,hu="__reactResources$"+Zr,St="__reactMarker$"+Zr;function P(a){delete a[Le],delete a[ye],delete a[xs],delete a[cu],delete a[uu]}function ut(a){var s=a[Le];if(s)return s;for(var c=a.parentNode;c;){if(s=c[Zi]||c[Le]){if(c=s.alternate,s.child!==null||c!==null&&c.child!==null)for(a=g_(a);a!==null;){if(c=a[Le])return c;a=g_(a)}return s}a=c,c=a.parentNode}return null}function mt(a){if(a=a[Le]||a[Zi]){var s=a.tag;if(s===5||s===6||s===13||s===31||s===26||s===27||s===3)return a}return null}function re(a){var s=a.tag;if(s===5||s===26||s===27||s===6)return a.stateNode;throw Error(i(33))}function _e(a){var s=a[hu];return s||(s=a[hu]={hoistableStyles:new Map,hoistableScripts:new Map}),s}function Ut(a){a[St]=!0}var Ke=new Set,Jr={};function Sr(a,s){Mi(a,s),Mi(a+"Capture",s)}function Mi(a,s){for(Jr[a]=s,a=0;a<s.length;a++)Ke.add(s[a])}var ze=RegExp("^[:A-Z_a-z\\u00C0-\\u00D6\\u00D8-\\u00F6\\u00F8-\\u02FF\\u0370-\\u037D\\u037F-\\u1FFF\\u200C-\\u200D\\u2070-\\u218F\\u2C00-\\u2FEF\\u3001-\\uD7FF\\uF900-\\uFDCF\\uFDF0-\\uFFFD][:A-Z_a-z\\u00C0-\\u00D6\\u00D8-\\u00F6\\u00F8-\\u02FF\\u0370-\\u037D\\u037F-\\u1FFF\\u200C-\\u200D\\u2070-\\u218F\\u2C00-\\u2FEF\\u3001-\\uD7FF\\uF900-\\uFDCF\\uFDF0-\\uFFFD\\-.0-9\\u00B7\\u0300-\\u036F\\u203F-\\u2040]*$"),ro={},io={};function xO(a){return Ma.call(io,a)?!0:Ma.call(ro,a)?!1:ze.test(a)?io[a]=!0:(ro[a]=!0,!1)}function du(a,s,c){if(xO(s))if(c===null)a.removeAttribute(s);else{switch(typeof c){case"undefined":case"function":case"symbol":a.removeAttribute(s);return;case"boolean":var f=s.toLowerCase().slice(0,5);if(f!=="data-"&&f!=="aria-"){a.removeAttribute(s);return}}a.setAttribute(s,""+c)}}function fu(a,s,c){if(c===null)a.removeAttribute(s);else{switch(typeof c){case"undefined":case"function":case"symbol":case"boolean":a.removeAttribute(s);return}a.setAttribute(s,""+c)}}function Ji(a,s,c,f){if(f===null)a.removeAttribute(c);else{switch(typeof f){case"undefined":case"function":case"symbol":case"boolean":a.removeAttribute(c);return}a.setAttributeNS(s,c,""+f)}}function ti(a){switch(typeof a){case"bigint":case"boolean":case"number":case"string":case"undefined":return a;case"object":return a;default:return""}}function J0(a){var s=a.type;return(a=a.nodeName)&&a.toLowerCase()==="input"&&(s==="checkbox"||s==="radio")}function vO(a,s,c){var f=Object.getOwnPropertyDescriptor(a.constructor.prototype,s);if(!a.hasOwnProperty(s)&&typeof f<"u"&&typeof f.get=="function"&&typeof f.set=="function"){var m=f.get,b=f.set;return Object.defineProperty(a,s,{configurable:!0,get:function(){return m.call(this)},set:function(C){c=""+C,b.call(this,C)}}),Object.defineProperty(a,s,{enumerable:f.enumerable}),{getValue:function(){return c},setValue:function(C){c=""+C},stopTracking:function(){a._valueTracker=null,delete a[s]}}}}function Ef(a){if(!a._valueTracker){var s=J0(a)?"checked":"value";a._valueTracker=vO(a,s,""+a[s])}}function tb(a){if(!a)return!1;var s=a._valueTracker;if(!s)return!0;var c=s.getValue(),f="";return a&&(f=J0(a)?a.checked?"true":"false":a.value),a=f,a!==c?(s.setValue(a),!0):!1}function pu(a){if(a=a||(typeof document<"u"?document:void 0),typeof a>"u")return null;try{return a.activeElement||a.body}catch{return a.body}}var _O=/[\n"\\]/g;function ei(a){return a.replace(_O,function(s){return"\\"+s.charCodeAt(0).toString(16)+" "})}function Af(a,s,c,f,m,b,C,A){a.name="",C!=null&&typeof C!="function"&&typeof C!="symbol"&&typeof C!="boolean"?a.type=C:a.removeAttribute("type"),s!=null?C==="number"?(s===0&&a.value===""||a.value!=s)&&(a.value=""+ti(s)):a.value!==""+ti(s)&&(a.value=""+ti(s)):C!=="submit"&&C!=="reset"||a.removeAttribute("value"),s!=null?Of(a,C,ti(s)):c!=null?Of(a,C,ti(c)):f!=null&&a.removeAttribute("value"),m==null&&b!=null&&(a.defaultChecked=!!b),m!=null&&(a.checked=m&&typeof m!="function"&&typeof m!="symbol"),A!=null&&typeof A!="function"&&typeof A!="symbol"&&typeof A!="boolean"?a.name=""+ti(A):a.removeAttribute("name")}function eb(a,s,c,f,m,b,C,A){if(b!=null&&typeof b!="function"&&typeof b!="symbol"&&typeof b!="boolean"&&(a.type=b),s!=null||c!=null){if(!(b!=="submit"&&b!=="reset"||s!=null)){Ef(a);return}c=c!=null?""+ti(c):"",s=s!=null?""+ti(s):c,A||s===a.value||(a.value=s),a.defaultValue=s}f=f??m,f=typeof f!="function"&&typeof f!="symbol"&&!!f,a.checked=A?a.checked:!!f,a.defaultChecked=!!f,C!=null&&typeof C!="function"&&typeof C!="symbol"&&typeof C!="boolean"&&(a.name=C),Ef(a)}function Of(a,s,c){s==="number"&&pu(a.ownerDocument)===a||a.defaultValue===""+c||(a.defaultValue=""+c)}function vs(a,s,c,f){if(a=a.options,s){s={};for(var m=0;m<c.length;m++)s["$"+c[m]]=!0;for(c=0;c<a.length;c++)m=s.hasOwnProperty("$"+a[c].value),a[c].selected!==m&&(a[c].selected=m),m&&f&&(a[c].defaultSelected=!0)}else{for(c=""+ti(c),s=null,m=0;m<a.length;m++){if(a[m].value===c){a[m].selected=!0,f&&(a[m].defaultSelected=!0);return}s!==null||a[m].disabled||(s=a[m])}s!==null&&(s.selected=!0)}}function rb(a,s,c){if(s!=null&&(s=""+ti(s),s!==a.value&&(a.value=s),c==null)){a.defaultValue!==s&&(a.defaultValue=s);return}a.defaultValue=c!=null?""+ti(c):""}function ib(a,s,c,f){if(s==null){if(f!=null){if(c!=null)throw Error(i(92));if(F(f)){if(1<f.length)throw Error(i(93));f=f[0]}c=f}c==null&&(c=""),s=c}c=ti(s),a.defaultValue=c,f=a.textContent,f===c&&f!==""&&f!==null&&(a.value=f),Ef(a)}function _s(a,s){if(s){var c=a.firstChild;if(c&&c===a.lastChild&&c.nodeType===3){c.nodeValue=s;return}}a.textContent=s}var wO=new Set("animationIterationCount aspectRatio borderImageOutset borderImageSlice borderImageWidth boxFlex boxFlexGroup boxOrdinalGroup columnCount columns flex flexGrow flexPositive flexShrink flexNegative flexOrder gridArea gridRow gridRowEnd gridRowSpan gridRowStart gridColumn gridColumnEnd gridColumnSpan gridColumnStart fontWeight lineClamp lineHeight opacity order orphans scale tabSize widows zIndex zoom fillOpacity floodOpacity stopOpacity strokeDasharray strokeDashoffset strokeMiterlimit strokeOpacity strokeWidth MozAnimationIterationCount MozBoxFlex MozBoxFlexGroup MozLineClamp msAnimationIterationCount msFlex msZoom msFlexGrow msFlexNegative msFlexOrder msFlexPositive msFlexShrink msGridColumn msGridColumnSpan msGridRow msGridRowSpan WebkitAnimationIterationCount WebkitBoxFlex WebKitBoxFlexGroup WebkitBoxOrdinalGroup WebkitColumnCount WebkitColumns WebkitFlex WebkitFlexGrow WebkitFlexPositive WebkitFlexShrink WebkitLineClamp".split(" "));function ab(a,s,c){var f=s.indexOf("--")===0;c==null||typeof c=="boolean"||c===""?f?a.setProperty(s,""):s==="float"?a.cssFloat="":a[s]="":f?a.setProperty(s,c):typeof c!="number"||c===0||wO.has(s)?s==="float"?a.cssFloat=c:a[s]=(""+c).trim():a[s]=c+"px"}function nb(a,s,c){if(s!=null&&typeof s!="object")throw Error(i(62));if(a=a.style,c!=null){for(var f in c)!c.hasOwnProperty(f)||s!=null&&s.hasOwnProperty(f)||(f.indexOf("--")===0?a.setProperty(f,""):f==="float"?a.cssFloat="":a[f]="");for(var m in s)f=s[m],s.hasOwnProperty(m)&&c[m]!==f&&ab(a,m,f)}else for(var b in s)s.hasOwnProperty(b)&&ab(a,b,s[b])}function Rf(a){if(a.indexOf("-")===-1)return!1;switch(a){case"annotation-xml":case"color-profile":case"font-face":case"font-face-src":case"font-face-uri":case"font-face-format":case"font-face-name":case"missing-glyph":return!1;default:return!0}}var SO=new Map([["acceptCharset","accept-charset"],["htmlFor","for"],["httpEquiv","http-equiv"],["crossOrigin","crossorigin"],["accentHeight","accent-height"],["alignmentBaseline","alignment-baseline"],["arabicForm","arabic-form"],["baselineShift","baseline-shift"],["capHeight","cap-height"],["clipPath","clip-path"],["clipRule","clip-rule"],["colorInterpolation","color-interpolation"],["colorInterpolationFilters","color-interpolation-filters"],["colorProfile","color-profile"],["colorRendering","color-rendering"],["dominantBaseline","dominant-baseline"],["enableBackground","enable-background"],["fillOpacity","fill-opacity"],["fillRule","fill-rule"],["floodColor","flood-color"],["floodOpacity","flood-opacity"],["fontFamily","font-family"],["fontSize","font-size"],["fontSizeAdjust","font-size-adjust"],["fontStretch","font-stretch"],["fontStyle","font-style"],["fontVariant","font-variant"],["fontWeight","font-weight"],["glyphName","glyph-name"],["glyphOrientationHorizontal","glyph-orientation-horizontal"],["glyphOrientationVertical","glyph-orientation-vertical"],["horizAdvX","horiz-adv-x"],["horizOriginX","horiz-origin-x"],["imageRendering","image-rendering"],["letterSpacing","letter-spacing"],["lightingColor","lighting-color"],["markerEnd","marker-end"],["markerMid","marker-mid"],["markerStart","marker-start"],["overlinePosition","overline-position"],["overlineThickness","overline-thickness"],["paintOrder","paint-order"],["panose-1","panose-1"],["pointerEvents","pointer-events"],["renderingIntent","rendering-intent"],["shapeRendering","shape-rendering"],["stopColor","stop-color"],["stopOpacity","stop-opacity"],["strikethroughPosition","strikethrough-position"],["strikethroughThickness","strikethrough-thickness"],["strokeDasharray","stroke-dasharray"],["strokeDashoffset","stroke-dashoffset"],["strokeLinecap","stroke-linecap"],["strokeLinejoin","stroke-linejoin"],["strokeMiterlimit","stroke-miterlimit"],["strokeOpacity","stroke-opacity"],["strokeWidth","stroke-width"],["textAnchor","text-anchor"],["textDecoration","text-decoration"],["textRendering","text-rendering"],["transformOrigin","transform-origin"],["underlinePosition","underline-position"],["underlineThickness","underline-thickness"],["unicodeBidi","unicode-bidi"],["unicodeRange","unicode-range"],["unitsPerEm","units-per-em"],["vAlphabetic","v-alphabetic"],["vHanging","v-hanging"],["vIdeographic","v-ideographic"],["vMathematical","v-mathematical"],["vectorEffect","vector-effect"],["vertAdvY","vert-adv-y"],["vertOriginX","vert-origin-x"],["vertOriginY","vert-origin-y"],["wordSpacing","word-spacing"],["writingMode","writing-mode"],["xmlnsXlink","xmlns:xlink"],["xHeight","x-height"]]),kO=/^[\u0000-\u001F ]*j[\r\n\t]*a[\r\n\t]*v[\r\n\t]*a[\r\n\t]*s[\r\n\t]*c[\r\n\t]*r[\r\n\t]*i[\r\n\t]*p[\r\n\t]*t[\r\n\t]*:/i;function gu(a){return kO.test(""+a)?"javascript:throw new Error('React has blocked a javascript: URL as a security precaution.')":a}function ta(){}var Lf=null;function Mf(a){return a=a.target||a.srcElement||window,a.correspondingUseElement&&(a=a.correspondingUseElement),a.nodeType===3?a.parentNode:a}var ws=null,Ss=null;function sb(a){var s=mt(a);if(s&&(a=s.stateNode)){var c=a[ye]||null;t:switch(a=s.stateNode,s.type){case"input":if(Af(a,c.value,c.defaultValue,c.defaultValue,c.checked,c.defaultChecked,c.type,c.name),s=c.name,c.type==="radio"&&s!=null){for(c=a;c.parentNode;)c=c.parentNode;for(c=c.querySelectorAll('input[name="'+ei(""+s)+'"][type="radio"]'),s=0;s<c.length;s++){var f=c[s];if(f!==a&&f.form===a.form){var m=f[ye]||null;if(!m)throw Error(i(90));Af(f,m.value,m.defaultValue,m.defaultValue,m.checked,m.defaultChecked,m.type,m.name)}}for(s=0;s<c.length;s++)f=c[s],f.form===a.form&&tb(f)}break t;case"textarea":rb(a,c.value,c.defaultValue);break t;case"select":s=c.value,s!=null&&vs(a,!!c.multiple,s,!1)}}}var Bf=!1;function lb(a,s,c){if(Bf)return a(s,c);Bf=!0;try{var f=a(s);return f}finally{if(Bf=!1,(ws!==null||Ss!==null)&&(rh(),ws&&(s=ws,a=Ss,Ss=ws=null,sb(s),a)))for(s=0;s<a.length;s++)sb(a[s])}}function ao(a,s){var c=a.stateNode;if(c===null)return null;var f=c[ye]||null;if(f===null)return null;c=f[s];t:switch(s){case"onClick":case"onClickCapture":case"onDoubleClick":case"onDoubleClickCapture":case"onMouseDown":case"onMouseDownCapture":case"onMouseMove":case"onMouseMoveCapture":case"onMouseUp":case"onMouseUpCapture":case"onMouseEnter":(f=!f.disabled)||(a=a.type,f=!(a==="button"||a==="input"||a==="select"||a==="textarea")),a=!f;break t;default:a=!1}if(a)return null;if(c&&typeof c!="function")throw Error(i(231,s,typeof c));return c}var ea=!(typeof window>"u"||typeof window.document>"u"||typeof window.document.createElement>"u"),Nf=!1;if(ea)try{var no={};Object.defineProperty(no,"passive",{get:function(){Nf=!0}}),window.addEventListener("test",no,no),window.removeEventListener("test",no,no)}catch{Nf=!1}var ja=null,Df=null,mu=null;function ob(){if(mu)return mu;var a,s=Df,c=s.length,f,m="value"in ja?ja.value:ja.textContent,b=m.length;for(a=0;a<c&&s[a]===m[a];a++);var C=c-a;for(f=1;f<=C&&s[c-f]===m[b-f];f++);return mu=m.slice(a,1<f?1-f:void 0)}function yu(a){var s=a.keyCode;return"charCode"in a?(a=a.charCode,a===0&&s===13&&(a=13)):a=s,a===10&&(a=13),32<=a||a===13?a:0}function bu(){return!0}function cb(){return!1}function kr(a){function s(c,f,m,b,C){this._reactName=c,this._targetInst=m,this.type=f,this.nativeEvent=b,this.target=C,this.currentTarget=null;for(var A in a)a.hasOwnProperty(A)&&(c=a[A],this[A]=c?c(b):b[A]);return this.isDefaultPrevented=(b.defaultPrevented!=null?b.defaultPrevented:b.returnValue===!1)?bu:cb,this.isPropagationStopped=cb,this}return g(s.prototype,{preventDefault:function(){this.defaultPrevented=!0;var c=this.nativeEvent;c&&(c.preventDefault?c.preventDefault():typeof c.returnValue!="unknown"&&(c.returnValue=!1),this.isDefaultPrevented=bu)},stopPropagation:function(){var c=this.nativeEvent;c&&(c.stopPropagation?c.stopPropagation():typeof c.cancelBubble!="unknown"&&(c.cancelBubble=!0),this.isPropagationStopped=bu)},persist:function(){},isPersistent:bu}),s}var Sn={eventPhase:0,bubbles:0,cancelable:0,timeStamp:function(a){return a.timeStamp||Date.now()},defaultPrevented:0,isTrusted:0},xu=kr(Sn),so=g({},Sn,{view:0,detail:0}),CO=kr(so),jf,$f,lo,vu=g({},so,{screenX:0,screenY:0,clientX:0,clientY:0,pageX:0,pageY:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,getModifierState:Ff,button:0,buttons:0,relatedTarget:function(a){return a.relatedTarget===void 0?a.fromElement===a.srcElement?a.toElement:a.fromElement:a.relatedTarget},movementX:function(a){return"movementX"in a?a.movementX:(a!==lo&&(lo&&a.type==="mousemove"?(jf=a.screenX-lo.screenX,$f=a.screenY-lo.screenY):$f=jf=0,lo=a),jf)},movementY:function(a){return"movementY"in a?a.movementY:$f}}),ub=kr(vu),TO=g({},vu,{dataTransfer:0}),EO=kr(TO),AO=g({},so,{relatedTarget:0}),zf=kr(AO),OO=g({},Sn,{animationName:0,elapsedTime:0,pseudoElement:0}),RO=kr(OO),LO=g({},Sn,{clipboardData:function(a){return"clipboardData"in a?a.clipboardData:window.clipboardData}}),MO=kr(LO),BO=g({},Sn,{data:0}),hb=kr(BO),NO={Esc:"Escape",Spacebar:" ",Left:"ArrowLeft",Up:"ArrowUp",Right:"ArrowRight",Down:"ArrowDown",Del:"Delete",Win:"OS",Menu:"ContextMenu",Apps:"ContextMenu",Scroll:"ScrollLock",MozPrintableKey:"Unidentified"},DO={8:"Backspace",9:"Tab",12:"Clear",13:"Enter",16:"Shift",17:"Control",18:"Alt",19:"Pause",20:"CapsLock",27:"Escape",32:" ",33:"PageUp",34:"PageDown",35:"End",36:"Home",37:"ArrowLeft",38:"ArrowUp",39:"ArrowRight",40:"ArrowDown",45:"Insert",46:"Delete",112:"F1",113:"F2",114:"F3",115:"F4",116:"F5",117:"F6",118:"F7",119:"F8",120:"F9",121:"F10",122:"F11",123:"F12",144:"NumLock",145:"ScrollLock",224:"Meta"},jO={Alt:"altKey",Control:"ctrlKey",Meta:"metaKey",Shift:"shiftKey"};function $O(a){var s=this.nativeEvent;return s.getModifierState?s.getModifierState(a):(a=jO[a])?!!s[a]:!1}function Ff(){return $O}var zO=g({},so,{key:function(a){if(a.key){var s=NO[a.key]||a.key;if(s!=="Unidentified")return s}return a.type==="keypress"?(a=yu(a),a===13?"Enter":String.fromCharCode(a)):a.type==="keydown"||a.type==="keyup"?DO[a.keyCode]||"Unidentified":""},code:0,location:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,repeat:0,locale:0,getModifierState:Ff,charCode:function(a){return a.type==="keypress"?yu(a):0},keyCode:function(a){return a.type==="keydown"||a.type==="keyup"?a.keyCode:0},which:function(a){return a.type==="keypress"?yu(a):a.type==="keydown"||a.type==="keyup"?a.keyCode:0}}),FO=kr(zO),PO=g({},vu,{pointerId:0,width:0,height:0,pressure:0,tangentialPressure:0,tiltX:0,tiltY:0,twist:0,pointerType:0,isPrimary:0}),db=kr(PO),UO=g({},so,{touches:0,targetTouches:0,changedTouches:0,altKey:0,metaKey:0,ctrlKey:0,shiftKey:0,getModifierState:Ff}),IO=kr(UO),qO=g({},Sn,{propertyName:0,elapsedTime:0,pseudoElement:0}),HO=kr(qO),WO=g({},vu,{deltaX:function(a){return"deltaX"in a?a.deltaX:"wheelDeltaX"in a?-a.wheelDeltaX:0},deltaY:function(a){return"deltaY"in a?a.deltaY:"wheelDeltaY"in a?-a.wheelDeltaY:"wheelDelta"in a?-a.wheelDelta:0},deltaZ:0,deltaMode:0}),GO=kr(WO),YO=g({},Sn,{newState:0,oldState:0}),VO=kr(YO),XO=[9,13,27,32],Pf=ea&&"CompositionEvent"in window,oo=null;ea&&"documentMode"in document&&(oo=document.documentMode);var KO=ea&&"TextEvent"in window&&!oo,fb=ea&&(!Pf||oo&&8<oo&&11>=oo),pb=" ",gb=!1;function mb(a,s){switch(a){case"keyup":return XO.indexOf(s.keyCode)!==-1;case"keydown":return s.keyCode!==229;case"keypress":case"mousedown":case"focusout":return!0;default:return!1}}function yb(a){return a=a.detail,typeof a=="object"&&"data"in a?a.data:null}var ks=!1;function QO(a,s){switch(a){case"compositionend":return yb(s);case"keypress":return s.which!==32?null:(gb=!0,pb);case"textInput":return a=s.data,a===pb&&gb?null:a;default:return null}}function ZO(a,s){if(ks)return a==="compositionend"||!Pf&&mb(a,s)?(a=ob(),mu=Df=ja=null,ks=!1,a):null;switch(a){case"paste":return null;case"keypress":if(!(s.ctrlKey||s.altKey||s.metaKey)||s.ctrlKey&&s.altKey){if(s.char&&1<s.char.length)return s.char;if(s.which)return String.fromCharCode(s.which)}return null;case"compositionend":return fb&&s.locale!=="ko"?null:s.data;default:return null}}var JO={color:!0,date:!0,datetime:!0,"datetime-local":!0,email:!0,month:!0,number:!0,password:!0,range:!0,search:!0,tel:!0,text:!0,time:!0,url:!0,week:!0};function bb(a){var s=a&&a.nodeName&&a.nodeName.toLowerCase();return s==="input"?!!JO[a.type]:s==="textarea"}function xb(a,s,c,f){ws?Ss?Ss.push(f):Ss=[f]:ws=f,s=ch(s,"onChange"),0<s.length&&(c=new xu("onChange","change",null,c,f),a.push({event:c,listeners:s}))}var co=null,uo=null;function tR(a){e_(a,0)}function _u(a){var s=re(a);if(tb(s))return a}function vb(a,s){if(a==="change")return s}var _b=!1;if(ea){var Uf;if(ea){var If="oninput"in document;if(!If){var wb=document.createElement("div");wb.setAttribute("oninput","return;"),If=typeof wb.oninput=="function"}Uf=If}else Uf=!1;_b=Uf&&(!document.documentMode||9<document.documentMode)}function Sb(){co&&(co.detachEvent("onpropertychange",kb),uo=co=null)}function kb(a){if(a.propertyName==="value"&&_u(uo)){var s=[];xb(s,uo,a,Mf(a)),lb(tR,s)}}function eR(a,s,c){a==="focusin"?(Sb(),co=s,uo=c,co.attachEvent("onpropertychange",kb)):a==="focusout"&&Sb()}function rR(a){if(a==="selectionchange"||a==="keyup"||a==="keydown")return _u(uo)}function iR(a,s){if(a==="click")return _u(s)}function aR(a,s){if(a==="input"||a==="change")return _u(s)}function nR(a,s){return a===s&&(a!==0||1/a===1/s)||a!==a&&s!==s}var jr=typeof Object.is=="function"?Object.is:nR;function ho(a,s){if(jr(a,s))return!0;if(typeof a!="object"||a===null||typeof s!="object"||s===null)return!1;var c=Object.keys(a),f=Object.keys(s);if(c.length!==f.length)return!1;for(f=0;f<c.length;f++){var m=c[f];if(!Ma.call(s,m)||!jr(a[m],s[m]))return!1}return!0}function Cb(a){for(;a&&a.firstChild;)a=a.firstChild;return a}function Tb(a,s){var c=Cb(a);a=0;for(var f;c;){if(c.nodeType===3){if(f=a+c.textContent.length,a<=s&&f>=s)return{node:c,offset:s-a};a=f}t:{for(;c;){if(c.nextSibling){c=c.nextSibling;break t}c=c.parentNode}c=void 0}c=Cb(c)}}function Eb(a,s){return a&&s?a===s?!0:a&&a.nodeType===3?!1:s&&s.nodeType===3?Eb(a,s.parentNode):"contains"in a?a.contains(s):a.compareDocumentPosition?!!(a.compareDocumentPosition(s)&16):!1:!1}function Ab(a){a=a!=null&&a.ownerDocument!=null&&a.ownerDocument.defaultView!=null?a.ownerDocument.defaultView:window;for(var s=pu(a.document);s instanceof a.HTMLIFrameElement;){try{var c=typeof s.contentWindow.location.href=="string"}catch{c=!1}if(c)a=s.contentWindow;else break;s=pu(a.document)}return s}function qf(a){var s=a&&a.nodeName&&a.nodeName.toLowerCase();return s&&(s==="input"&&(a.type==="text"||a.type==="search"||a.type==="tel"||a.type==="url"||a.type==="password")||s==="textarea"||a.contentEditable==="true")}var sR=ea&&"documentMode"in document&&11>=document.documentMode,Cs=null,Hf=null,fo=null,Wf=!1;function Ob(a,s,c){var f=c.window===c?c.document:c.nodeType===9?c:c.ownerDocument;Wf||Cs==null||Cs!==pu(f)||(f=Cs,"selectionStart"in f&&qf(f)?f={start:f.selectionStart,end:f.selectionEnd}:(f=(f.ownerDocument&&f.ownerDocument.defaultView||window).getSelection(),f={anchorNode:f.anchorNode,anchorOffset:f.anchorOffset,focusNode:f.focusNode,focusOffset:f.focusOffset}),fo&&ho(fo,f)||(fo=f,f=ch(Hf,"onSelect"),0<f.length&&(s=new xu("onSelect","select",null,s,c),a.push({event:s,listeners:f}),s.target=Cs)))}function kn(a,s){var c={};return c[a.toLowerCase()]=s.toLowerCase(),c["Webkit"+a]="webkit"+s,c["Moz"+a]="moz"+s,c}var Ts={animationend:kn("Animation","AnimationEnd"),animationiteration:kn("Animation","AnimationIteration"),animationstart:kn("Animation","AnimationStart"),transitionrun:kn("Transition","TransitionRun"),transitionstart:kn("Transition","TransitionStart"),transitioncancel:kn("Transition","TransitionCancel"),transitionend:kn("Transition","TransitionEnd")},Gf={},Rb={};ea&&(Rb=document.createElement("div").style,"AnimationEvent"in window||(delete Ts.animationend.animation,delete Ts.animationiteration.animation,delete Ts.animationstart.animation),"TransitionEvent"in window||delete Ts.transitionend.transition);function Cn(a){if(Gf[a])return Gf[a];if(!Ts[a])return a;var s=Ts[a],c;for(c in s)if(s.hasOwnProperty(c)&&c in Rb)return Gf[a]=s[c];return a}var Lb=Cn("animationend"),Mb=Cn("animationiteration"),Bb=Cn("animationstart"),lR=Cn("transitionrun"),oR=Cn("transitionstart"),cR=Cn("transitioncancel"),Nb=Cn("transitionend"),Db=new Map,Yf="abort auxClick beforeToggle cancel canPlay canPlayThrough click close contextMenu copy cut drag dragEnd dragEnter dragExit dragLeave dragOver dragStart drop durationChange emptied encrypted ended error gotPointerCapture input invalid keyDown keyPress keyUp load loadedData loadedMetadata loadStart lostPointerCapture mouseDown mouseMove mouseOut mouseOver mouseUp paste pause play playing pointerCancel pointerDown pointerMove pointerOut pointerOver pointerUp progress rateChange reset resize seeked seeking stalled submit suspend timeUpdate touchCancel touchEnd touchStart volumeChange scroll toggle touchMove waiting wheel".split(" ");Yf.push("scrollEnd");function mi(a,s){Db.set(a,s),Sr(s,[a])}var wu=typeof reportError=="function"?reportError:function(a){if(typeof window=="object"&&typeof window.ErrorEvent=="function"){var s=new window.ErrorEvent("error",{bubbles:!0,cancelable:!0,message:typeof a=="object"&&a!==null&&typeof a.message=="string"?String(a.message):String(a),error:a});if(!window.dispatchEvent(s))return}else if(typeof process=="object"&&typeof process.emit=="function"){process.emit("uncaughtException",a);return}console.error(a)},ri=[],Es=0,Vf=0;function Su(){for(var a=Es,s=Vf=Es=0;s<a;){var c=ri[s];ri[s++]=null;var f=ri[s];ri[s++]=null;var m=ri[s];ri[s++]=null;var b=ri[s];if(ri[s++]=null,f!==null&&m!==null){var C=f.pending;C===null?m.next=m:(m.next=C.next,C.next=m),f.pending=m}b!==0&&jb(c,m,b)}}function ku(a,s,c,f){ri[Es++]=a,ri[Es++]=s,ri[Es++]=c,ri[Es++]=f,Vf|=f,a.lanes|=f,a=a.alternate,a!==null&&(a.lanes|=f)}function Xf(a,s,c,f){return ku(a,s,c,f),Cu(a)}function Tn(a,s){return ku(a,null,null,s),Cu(a)}function jb(a,s,c){a.lanes|=c;var f=a.alternate;f!==null&&(f.lanes|=c);for(var m=!1,b=a.return;b!==null;)b.childLanes|=c,f=b.alternate,f!==null&&(f.childLanes|=c),b.tag===22&&(a=b.stateNode,a===null||a._visibility&1||(m=!0)),a=b,b=b.return;return a.tag===3?(b=a.stateNode,m&&s!==null&&(m=31-Re(c),a=b.hiddenUpdates,f=a[m],f===null?a[m]=[s]:f.push(s),s.lane=c|536870912),b):null}function Cu(a){if(50<Do)throw Do=0,ag=null,Error(i(185));for(var s=a.return;s!==null;)a=s,s=a.return;return a.tag===3?a.stateNode:null}var As={};function uR(a,s,c,f){this.tag=a,this.key=c,this.sibling=this.child=this.return=this.stateNode=this.type=this.elementType=null,this.index=0,this.refCleanup=this.ref=null,this.pendingProps=s,this.dependencies=this.memoizedState=this.updateQueue=this.memoizedProps=null,this.mode=f,this.subtreeFlags=this.flags=0,this.deletions=null,this.childLanes=this.lanes=0,this.alternate=null}function $r(a,s,c,f){return new uR(a,s,c,f)}function Kf(a){return a=a.prototype,!(!a||!a.isReactComponent)}function ra(a,s){var c=a.alternate;return c===null?(c=$r(a.tag,s,a.key,a.mode),c.elementType=a.elementType,c.type=a.type,c.stateNode=a.stateNode,c.alternate=a,a.alternate=c):(c.pendingProps=s,c.type=a.type,c.flags=0,c.subtreeFlags=0,c.deletions=null),c.flags=a.flags&65011712,c.childLanes=a.childLanes,c.lanes=a.lanes,c.child=a.child,c.memoizedProps=a.memoizedProps,c.memoizedState=a.memoizedState,c.updateQueue=a.updateQueue,s=a.dependencies,c.dependencies=s===null?null:{lanes:s.lanes,firstContext:s.firstContext},c.sibling=a.sibling,c.index=a.index,c.ref=a.ref,c.refCleanup=a.refCleanup,c}function $b(a,s){a.flags&=65011714;var c=a.alternate;return c===null?(a.childLanes=0,a.lanes=s,a.child=null,a.subtreeFlags=0,a.memoizedProps=null,a.memoizedState=null,a.updateQueue=null,a.dependencies=null,a.stateNode=null):(a.childLanes=c.childLanes,a.lanes=c.lanes,a.child=c.child,a.subtreeFlags=0,a.deletions=null,a.memoizedProps=c.memoizedProps,a.memoizedState=c.memoizedState,a.updateQueue=c.updateQueue,a.type=c.type,s=c.dependencies,a.dependencies=s===null?null:{lanes:s.lanes,firstContext:s.firstContext}),a}function Tu(a,s,c,f,m,b){var C=0;if(f=a,typeof a=="function")Kf(a)&&(C=1);else if(typeof a=="string")C=gL(a,c,ct.current)?26:a==="html"||a==="head"||a==="body"?27:5;else t:switch(a){case et:return a=$r(31,c,s,m),a.elementType=et,a.lanes=b,a;case _:return En(c.children,m,b,s);case S:C=8,m|=24;break;case T:return a=$r(12,c,s,m|2),a.elementType=T,a.lanes=b,a;case N:return a=$r(13,c,s,m),a.elementType=N,a.lanes=b,a;case q:return a=$r(19,c,s,m),a.elementType=q,a.lanes=b,a;default:if(typeof a=="object"&&a!==null)switch(a.$$typeof){case O:C=10;break t;case E:C=9;break t;case M:C=11;break t;case z:C=14;break t;case Q:C=16,f=null;break t}C=29,c=Error(i(130,a===null?"null":typeof a,"")),f=null}return s=$r(C,c,s,m),s.elementType=a,s.type=f,s.lanes=b,s}function En(a,s,c,f){return a=$r(7,a,f,s),a.lanes=c,a}function Qf(a,s,c){return a=$r(6,a,null,s),a.lanes=c,a}function zb(a){var s=$r(18,null,null,0);return s.stateNode=a,s}function Zf(a,s,c){return s=$r(4,a.children!==null?a.children:[],a.key,s),s.lanes=c,s.stateNode={containerInfo:a.containerInfo,pendingChildren:null,implementation:a.implementation},s}var Fb=new WeakMap;function ii(a,s){if(typeof a=="object"&&a!==null){var c=Fb.get(a);return c!==void 0?c:(s={value:a,source:s,stack:Yi(s)},Fb.set(a,s),s)}return{value:a,source:s,stack:Yi(s)}}var Os=[],Rs=0,Eu=null,po=0,ai=[],ni=0,$a=null,Bi=1,Ni="";function ia(a,s){Os[Rs++]=po,Os[Rs++]=Eu,Eu=a,po=s}function Pb(a,s,c){ai[ni++]=Bi,ai[ni++]=Ni,ai[ni++]=$a,$a=a;var f=Bi;a=Ni;var m=32-Re(f)-1;f&=~(1<<m),c+=1;var b=32-Re(s)+m;if(30<b){var C=m-m%5;b=(f&(1<<C)-1).toString(32),f>>=C,m-=C,Bi=1<<32-Re(s)+m|c<<m|f,Ni=b+a}else Bi=1<<b|c<<m|f,Ni=a}function Jf(a){a.return!==null&&(ia(a,1),Pb(a,1,0))}function tp(a){for(;a===Eu;)Eu=Os[--Rs],Os[Rs]=null,po=Os[--Rs],Os[Rs]=null;for(;a===$a;)$a=ai[--ni],ai[ni]=null,Ni=ai[--ni],ai[ni]=null,Bi=ai[--ni],ai[ni]=null}function Ub(a,s){ai[ni++]=Bi,ai[ni++]=Ni,ai[ni++]=$a,Bi=s.id,Ni=s.overflow,$a=a}var Qe=null,pe=null,Vt=!1,za=null,si=!1,ep=Error(i(519));function Fa(a){var s=Error(i(418,1<arguments.length&&arguments[1]!==void 0&&arguments[1]?"text":"HTML",""));throw go(ii(s,a)),ep}function Ib(a){var s=a.stateNode,c=a.type,f=a.memoizedProps;switch(s[Le]=a,s[ye]=f,c){case"dialog":Ht("cancel",s),Ht("close",s);break;case"iframe":case"object":case"embed":Ht("load",s);break;case"video":case"audio":for(c=0;c<$o.length;c++)Ht($o[c],s);break;case"source":Ht("error",s);break;case"img":case"image":case"link":Ht("error",s),Ht("load",s);break;case"details":Ht("toggle",s);break;case"input":Ht("invalid",s),eb(s,f.value,f.defaultValue,f.checked,f.defaultChecked,f.type,f.name,!0);break;case"select":Ht("invalid",s);break;case"textarea":Ht("invalid",s),ib(s,f.value,f.defaultValue,f.children)}c=f.children,typeof c!="string"&&typeof c!="number"&&typeof c!="bigint"||s.textContent===""+c||f.suppressHydrationWarning===!0||n_(s.textContent,c)?(f.popover!=null&&(Ht("beforetoggle",s),Ht("toggle",s)),f.onScroll!=null&&Ht("scroll",s),f.onScrollEnd!=null&&Ht("scrollend",s),f.onClick!=null&&(s.onclick=ta),s=!0):s=!1,s||Fa(a,!0)}function qb(a){for(Qe=a.return;Qe;)switch(Qe.tag){case 5:case 31:case 13:si=!1;return;case 27:case 3:si=!0;return;default:Qe=Qe.return}}function Ls(a){if(a!==Qe)return!1;if(!Vt)return qb(a),Vt=!0,!1;var s=a.tag,c;if((c=s!==3&&s!==27)&&((c=s===5)&&(c=a.type,c=!(c!=="form"&&c!=="button")||xg(a.type,a.memoizedProps)),c=!c),c&&pe&&Fa(a),qb(a),s===13){if(a=a.memoizedState,a=a!==null?a.dehydrated:null,!a)throw Error(i(317));pe=p_(a)}else if(s===31){if(a=a.memoizedState,a=a!==null?a.dehydrated:null,!a)throw Error(i(317));pe=p_(a)}else s===27?(s=pe,Ja(a.type)?(a=kg,kg=null,pe=a):pe=s):pe=Qe?oi(a.stateNode.nextSibling):null;return!0}function An(){pe=Qe=null,Vt=!1}function rp(){var a=za;return a!==null&&(Ar===null?Ar=a:Ar.push.apply(Ar,a),za=null),a}function go(a){za===null?za=[a]:za.push(a)}var ip=B(null),On=null,aa=null;function Pa(a,s,c){tt(ip,s._currentValue),s._currentValue=c}function na(a){a._currentValue=ip.current,Y(ip)}function ap(a,s,c){for(;a!==null;){var f=a.alternate;if((a.childLanes&s)!==s?(a.childLanes|=s,f!==null&&(f.childLanes|=s)):f!==null&&(f.childLanes&s)!==s&&(f.childLanes|=s),a===c)break;a=a.return}}function np(a,s,c,f){var m=a.child;for(m!==null&&(m.return=a);m!==null;){var b=m.dependencies;if(b!==null){var C=m.child;b=b.firstContext;t:for(;b!==null;){var A=b;b=m;for(var $=0;$<s.length;$++)if(A.context===s[$]){b.lanes|=c,A=b.alternate,A!==null&&(A.lanes|=c),ap(b.return,c,a),f||(C=null);break t}b=A.next}}else if(m.tag===18){if(C=m.return,C===null)throw Error(i(341));C.lanes|=c,b=C.alternate,b!==null&&(b.lanes|=c),ap(C,c,a),C=null}else C=m.child;if(C!==null)C.return=m;else for(C=m;C!==null;){if(C===a){C=null;break}if(m=C.sibling,m!==null){m.return=C.return,C=m;break}C=C.return}m=C}}function Ms(a,s,c,f){a=null;for(var m=s,b=!1;m!==null;){if(!b){if((m.flags&524288)!==0)b=!0;else if((m.flags&262144)!==0)break}if(m.tag===10){var C=m.alternate;if(C===null)throw Error(i(387));if(C=C.memoizedProps,C!==null){var A=m.type;jr(m.pendingProps.value,C.value)||(a!==null?a.push(A):a=[A])}}else if(m===Lt.current){if(C=m.alternate,C===null)throw Error(i(387));C.memoizedState.memoizedState!==m.memoizedState.memoizedState&&(a!==null?a.push(Io):a=[Io])}m=m.return}a!==null&&np(s,a,c,f),s.flags|=262144}function Au(a){for(a=a.firstContext;a!==null;){if(!jr(a.context._currentValue,a.memoizedValue))return!0;a=a.next}return!1}function Rn(a){On=a,aa=null,a=a.dependencies,a!==null&&(a.firstContext=null)}function Ze(a){return Hb(On,a)}function Ou(a,s){return On===null&&Rn(a),Hb(a,s)}function Hb(a,s){var c=s._currentValue;if(s={context:s,memoizedValue:c,next:null},aa===null){if(a===null)throw Error(i(308));aa=s,a.dependencies={lanes:0,firstContext:s},a.flags|=524288}else aa=aa.next=s;return c}var hR=typeof AbortController<"u"?AbortController:function(){var a=[],s=this.signal={aborted:!1,addEventListener:function(c,f){a.push(f)}};this.abort=function(){s.aborted=!0,a.forEach(function(c){return c()})}},dR=e.unstable_scheduleCallback,fR=e.unstable_NormalPriority,Me={$$typeof:O,Consumer:null,Provider:null,_currentValue:null,_currentValue2:null,_threadCount:0};function sp(){return{controller:new hR,data:new Map,refCount:0}}function mo(a){a.refCount--,a.refCount===0&&dR(fR,function(){a.controller.abort()})}var yo=null,lp=0,Bs=0,Ns=null;function pR(a,s){if(yo===null){var c=yo=[];lp=0,Bs=ug(),Ns={status:"pending",value:void 0,then:function(f){c.push(f)}}}return lp++,s.then(Wb,Wb),s}function Wb(){if(--lp===0&&yo!==null){Ns!==null&&(Ns.status="fulfilled");var a=yo;yo=null,Bs=0,Ns=null;for(var s=0;s<a.length;s++)(0,a[s])()}}function gR(a,s){var c=[],f={status:"pending",value:null,reason:null,then:function(m){c.push(m)}};return a.then(function(){f.status="fulfilled",f.value=s;for(var m=0;m<c.length;m++)(0,c[m])(s)},function(m){for(f.status="rejected",f.reason=m,m=0;m<c.length;m++)(0,c[m])(void 0)}),f}var Gb=R.S;R.S=function(a,s){Ov=Xe(),typeof s=="object"&&s!==null&&typeof s.then=="function"&&pR(a,s),Gb!==null&&Gb(a,s)};var Ln=B(null);function op(){var a=Ln.current;return a!==null?a:de.pooledCache}function Ru(a,s){s===null?tt(Ln,Ln.current):tt(Ln,s.pool)}function Yb(){var a=op();return a===null?null:{parent:Me._currentValue,pool:a}}var Ds=Error(i(460)),cp=Error(i(474)),Lu=Error(i(542)),Mu={then:function(){}};function Vb(a){return a=a.status,a==="fulfilled"||a==="rejected"}function Xb(a,s,c){switch(c=a[c],c===void 0?a.push(s):c!==s&&(s.then(ta,ta),s=c),s.status){case"fulfilled":return s.value;case"rejected":throw a=s.reason,Qb(a),a;default:if(typeof s.status=="string")s.then(ta,ta);else{if(a=de,a!==null&&100<a.shellSuspendCounter)throw Error(i(482));a=s,a.status="pending",a.then(function(f){if(s.status==="pending"){var m=s;m.status="fulfilled",m.value=f}},function(f){if(s.status==="pending"){var m=s;m.status="rejected",m.reason=f}})}switch(s.status){case"fulfilled":return s.value;case"rejected":throw a=s.reason,Qb(a),a}throw Bn=s,Ds}}function Mn(a){try{var s=a._init;return s(a._payload)}catch(c){throw c!==null&&typeof c=="object"&&typeof c.then=="function"?(Bn=c,Ds):c}}var Bn=null;function Kb(){if(Bn===null)throw Error(i(459));var a=Bn;return Bn=null,a}function Qb(a){if(a===Ds||a===Lu)throw Error(i(483))}var js=null,bo=0;function Bu(a){var s=bo;return bo+=1,js===null&&(js=[]),Xb(js,a,s)}function xo(a,s){s=s.props.ref,a.ref=s!==void 0?s:null}function Nu(a,s){throw s.$$typeof===y?Error(i(525)):(a=Object.prototype.toString.call(s),Error(i(31,a==="[object Object]"?"object with keys {"+Object.keys(s).join(", ")+"}":a)))}function Zb(a){function s(W,U){if(a){var V=W.deletions;V===null?(W.deletions=[U],W.flags|=16):V.push(U)}}function c(W,U){if(!a)return null;for(;U!==null;)s(W,U),U=U.sibling;return null}function f(W){for(var U=new Map;W!==null;)W.key!==null?U.set(W.key,W):U.set(W.index,W),W=W.sibling;return U}function m(W,U){return W=ra(W,U),W.index=0,W.sibling=null,W}function b(W,U,V){return W.index=V,a?(V=W.alternate,V!==null?(V=V.index,V<U?(W.flags|=67108866,U):V):(W.flags|=67108866,U)):(W.flags|=1048576,U)}function C(W){return a&&W.alternate===null&&(W.flags|=67108866),W}function A(W,U,V,at){return U===null||U.tag!==6?(U=Qf(V,W.mode,at),U.return=W,U):(U=m(U,V),U.return=W,U)}function $(W,U,V,at){var At=V.type;return At===_?rt(W,U,V.props.children,at,V.key):U!==null&&(U.elementType===At||typeof At=="object"&&At!==null&&At.$$typeof===Q&&Mn(At)===U.type)?(U=m(U,V.props),xo(U,V),U.return=W,U):(U=Tu(V.type,V.key,V.props,null,W.mode,at),xo(U,V),U.return=W,U)}function X(W,U,V,at){return U===null||U.tag!==4||U.stateNode.containerInfo!==V.containerInfo||U.stateNode.implementation!==V.implementation?(U=Zf(V,W.mode,at),U.return=W,U):(U=m(U,V.children||[]),U.return=W,U)}function rt(W,U,V,at,At){return U===null||U.tag!==7?(U=En(V,W.mode,at,At),U.return=W,U):(U=m(U,V),U.return=W,U)}function nt(W,U,V){if(typeof U=="string"&&U!==""||typeof U=="number"||typeof U=="bigint")return U=Qf(""+U,W.mode,V),U.return=W,U;if(typeof U=="object"&&U!==null){switch(U.$$typeof){case x:return V=Tu(U.type,U.key,U.props,null,W.mode,V),xo(V,U),V.return=W,V;case v:return U=Zf(U,W.mode,V),U.return=W,U;case Q:return U=Mn(U),nt(W,U,V)}if(F(U)||ot(U))return U=En(U,W.mode,V,null),U.return=W,U;if(typeof U.then=="function")return nt(W,Bu(U),V);if(U.$$typeof===O)return nt(W,Ou(W,U),V);Nu(W,U)}return null}function K(W,U,V,at){var At=U!==null?U.key:null;if(typeof V=="string"&&V!==""||typeof V=="number"||typeof V=="bigint")return At!==null?null:A(W,U,""+V,at);if(typeof V=="object"&&V!==null){switch(V.$$typeof){case x:return V.key===At?$(W,U,V,at):null;case v:return V.key===At?X(W,U,V,at):null;case Q:return V=Mn(V),K(W,U,V,at)}if(F(V)||ot(V))return At!==null?null:rt(W,U,V,at,null);if(typeof V.then=="function")return K(W,U,Bu(V),at);if(V.$$typeof===O)return K(W,U,Ou(W,V),at);Nu(W,V)}return null}function Z(W,U,V,at,At){if(typeof at=="string"&&at!==""||typeof at=="number"||typeof at=="bigint")return W=W.get(V)||null,A(U,W,""+at,At);if(typeof at=="object"&&at!==null){switch(at.$$typeof){case x:return W=W.get(at.key===null?V:at.key)||null,$(U,W,at,At);case v:return W=W.get(at.key===null?V:at.key)||null,X(U,W,at,At);case Q:return at=Mn(at),Z(W,U,V,at,At)}if(F(at)||ot(at))return W=W.get(V)||null,rt(U,W,at,At,null);if(typeof at.then=="function")return Z(W,U,V,Bu(at),At);if(at.$$typeof===O)return Z(W,U,V,Ou(U,at),At);Nu(U,at)}return null}function yt(W,U,V,at){for(var At=null,Qt=null,kt=U,Pt=U=0,Yt=null;kt!==null&&Pt<V.length;Pt++){kt.index>Pt?(Yt=kt,kt=null):Yt=kt.sibling;var Zt=K(W,kt,V[Pt],at);if(Zt===null){kt===null&&(kt=Yt);break}a&&kt&&Zt.alternate===null&&s(W,kt),U=b(Zt,U,Pt),Qt===null?At=Zt:Qt.sibling=Zt,Qt=Zt,kt=Yt}if(Pt===V.length)return c(W,kt),Vt&&ia(W,Pt),At;if(kt===null){for(;Pt<V.length;Pt++)kt=nt(W,V[Pt],at),kt!==null&&(U=b(kt,U,Pt),Qt===null?At=kt:Qt.sibling=kt,Qt=kt);return Vt&&ia(W,Pt),At}for(kt=f(kt);Pt<V.length;Pt++)Yt=Z(kt,W,Pt,V[Pt],at),Yt!==null&&(a&&Yt.alternate!==null&&kt.delete(Yt.key===null?Pt:Yt.key),U=b(Yt,U,Pt),Qt===null?At=Yt:Qt.sibling=Yt,Qt=Yt);return a&&kt.forEach(function(nn){return s(W,nn)}),Vt&&ia(W,Pt),At}function Mt(W,U,V,at){if(V==null)throw Error(i(151));for(var At=null,Qt=null,kt=U,Pt=U=0,Yt=null,Zt=V.next();kt!==null&&!Zt.done;Pt++,Zt=V.next()){kt.index>Pt?(Yt=kt,kt=null):Yt=kt.sibling;var nn=K(W,kt,Zt.value,at);if(nn===null){kt===null&&(kt=Yt);break}a&&kt&&nn.alternate===null&&s(W,kt),U=b(nn,U,Pt),Qt===null?At=nn:Qt.sibling=nn,Qt=nn,kt=Yt}if(Zt.done)return c(W,kt),Vt&&ia(W,Pt),At;if(kt===null){for(;!Zt.done;Pt++,Zt=V.next())Zt=nt(W,Zt.value,at),Zt!==null&&(U=b(Zt,U,Pt),Qt===null?At=Zt:Qt.sibling=Zt,Qt=Zt);return Vt&&ia(W,Pt),At}for(kt=f(kt);!Zt.done;Pt++,Zt=V.next())Zt=Z(kt,W,Pt,Zt.value,at),Zt!==null&&(a&&Zt.alternate!==null&&kt.delete(Zt.key===null?Pt:Zt.key),U=b(Zt,U,Pt),Qt===null?At=Zt:Qt.sibling=Zt,Qt=Zt);return a&&kt.forEach(function(TL){return s(W,TL)}),Vt&&ia(W,Pt),At}function he(W,U,V,at){if(typeof V=="object"&&V!==null&&V.type===_&&V.key===null&&(V=V.props.children),typeof V=="object"&&V!==null){switch(V.$$typeof){case x:t:{for(var At=V.key;U!==null;){if(U.key===At){if(At=V.type,At===_){if(U.tag===7){c(W,U.sibling),at=m(U,V.props.children),at.return=W,W=at;break t}}else if(U.elementType===At||typeof At=="object"&&At!==null&&At.$$typeof===Q&&Mn(At)===U.type){c(W,U.sibling),at=m(U,V.props),xo(at,V),at.return=W,W=at;break t}c(W,U);break}else s(W,U);U=U.sibling}V.type===_?(at=En(V.props.children,W.mode,at,V.key),at.return=W,W=at):(at=Tu(V.type,V.key,V.props,null,W.mode,at),xo(at,V),at.return=W,W=at)}return C(W);case v:t:{for(At=V.key;U!==null;){if(U.key===At)if(U.tag===4&&U.stateNode.containerInfo===V.containerInfo&&U.stateNode.implementation===V.implementation){c(W,U.sibling),at=m(U,V.children||[]),at.return=W,W=at;break t}else{c(W,U);break}else s(W,U);U=U.sibling}at=Zf(V,W.mode,at),at.return=W,W=at}return C(W);case Q:return V=Mn(V),he(W,U,V,at)}if(F(V))return yt(W,U,V,at);if(ot(V)){if(At=ot(V),typeof At!="function")throw Error(i(150));return V=At.call(V),Mt(W,U,V,at)}if(typeof V.then=="function")return he(W,U,Bu(V),at);if(V.$$typeof===O)return he(W,U,Ou(W,V),at);Nu(W,V)}return typeof V=="string"&&V!==""||typeof V=="number"||typeof V=="bigint"?(V=""+V,U!==null&&U.tag===6?(c(W,U.sibling),at=m(U,V),at.return=W,W=at):(c(W,U),at=Qf(V,W.mode,at),at.return=W,W=at),C(W)):c(W,U)}return function(W,U,V,at){try{bo=0;var At=he(W,U,V,at);return js=null,At}catch(kt){if(kt===Ds||kt===Lu)throw kt;var Qt=$r(29,kt,null,W.mode);return Qt.lanes=at,Qt.return=W,Qt}}}var Nn=Zb(!0),Jb=Zb(!1),Ua=!1;function up(a){a.updateQueue={baseState:a.memoizedState,firstBaseUpdate:null,lastBaseUpdate:null,shared:{pending:null,lanes:0,hiddenCallbacks:null},callbacks:null}}function hp(a,s){a=a.updateQueue,s.updateQueue===a&&(s.updateQueue={baseState:a.baseState,firstBaseUpdate:a.firstBaseUpdate,lastBaseUpdate:a.lastBaseUpdate,shared:a.shared,callbacks:null})}function Ia(a){return{lane:a,tag:0,payload:null,callback:null,next:null}}function qa(a,s,c){var f=a.updateQueue;if(f===null)return null;if(f=f.shared,(ee&2)!==0){var m=f.pending;return m===null?s.next=s:(s.next=m.next,m.next=s),f.pending=s,s=Cu(a),jb(a,null,c),s}return ku(a,f,s,c),Cu(a)}function vo(a,s,c){if(s=s.updateQueue,s!==null&&(s=s.shared,(c&4194048)!==0)){var f=s.lanes;f&=a.pendingLanes,c|=f,s.lanes=c,Jl(a,c)}}function dp(a,s){var c=a.updateQueue,f=a.alternate;if(f!==null&&(f=f.updateQueue,c===f)){var m=null,b=null;if(c=c.firstBaseUpdate,c!==null){do{var C={lane:c.lane,tag:c.tag,payload:c.payload,callback:null,next:null};b===null?m=b=C:b=b.next=C,c=c.next}while(c!==null);b===null?m=b=s:b=b.next=s}else m=b=s;c={baseState:f.baseState,firstBaseUpdate:m,lastBaseUpdate:b,shared:f.shared,callbacks:f.callbacks},a.updateQueue=c;return}a=c.lastBaseUpdate,a===null?c.firstBaseUpdate=s:a.next=s,c.lastBaseUpdate=s}var fp=!1;function _o(){if(fp){var a=Ns;if(a!==null)throw a}}function wo(a,s,c,f){fp=!1;var m=a.updateQueue;Ua=!1;var b=m.firstBaseUpdate,C=m.lastBaseUpdate,A=m.shared.pending;if(A!==null){m.shared.pending=null;var $=A,X=$.next;$.next=null,C===null?b=X:C.next=X,C=$;var rt=a.alternate;rt!==null&&(rt=rt.updateQueue,A=rt.lastBaseUpdate,A!==C&&(A===null?rt.firstBaseUpdate=X:A.next=X,rt.lastBaseUpdate=$))}if(b!==null){var nt=m.baseState;C=0,rt=X=$=null,A=b;do{var K=A.lane&-536870913,Z=K!==A.lane;if(Z?(Gt&K)===K:(f&K)===K){K!==0&&K===Bs&&(fp=!0),rt!==null&&(rt=rt.next={lane:0,tag:A.tag,payload:A.payload,callback:null,next:null});t:{var yt=a,Mt=A;K=s;var he=c;switch(Mt.tag){case 1:if(yt=Mt.payload,typeof yt=="function"){nt=yt.call(he,nt,K);break t}nt=yt;break t;case 3:yt.flags=yt.flags&-65537|128;case 0:if(yt=Mt.payload,K=typeof yt=="function"?yt.call(he,nt,K):yt,K==null)break t;nt=g({},nt,K);break t;case 2:Ua=!0}}K=A.callback,K!==null&&(a.flags|=64,Z&&(a.flags|=8192),Z=m.callbacks,Z===null?m.callbacks=[K]:Z.push(K))}else Z={lane:K,tag:A.tag,payload:A.payload,callback:A.callback,next:null},rt===null?(X=rt=Z,$=nt):rt=rt.next=Z,C|=K;if(A=A.next,A===null){if(A=m.shared.pending,A===null)break;Z=A,A=Z.next,Z.next=null,m.lastBaseUpdate=Z,m.shared.pending=null}}while(!0);rt===null&&($=nt),m.baseState=$,m.firstBaseUpdate=X,m.lastBaseUpdate=rt,b===null&&(m.shared.lanes=0),Va|=C,a.lanes=C,a.memoizedState=nt}}function tx(a,s){if(typeof a!="function")throw Error(i(191,a));a.call(s)}function ex(a,s){var c=a.callbacks;if(c!==null)for(a.callbacks=null,a=0;a<c.length;a++)tx(c[a],s)}var $s=B(null),Du=B(0);function rx(a,s){a=pa,tt(Du,a),tt($s,s),pa=a|s.baseLanes}function pp(){tt(Du,pa),tt($s,$s.current)}function gp(){pa=Du.current,Y($s),Y(Du)}var zr=B(null),li=null;function Ha(a){var s=a.alternate;tt(Ee,Ee.current&1),tt(zr,a),li===null&&(s===null||$s.current!==null||s.memoizedState!==null)&&(li=a)}function mp(a){tt(Ee,Ee.current),tt(zr,a),li===null&&(li=a)}function ix(a){a.tag===22?(tt(Ee,Ee.current),tt(zr,a),li===null&&(li=a)):Wa()}function Wa(){tt(Ee,Ee.current),tt(zr,zr.current)}function Fr(a){Y(zr),li===a&&(li=null),Y(Ee)}var Ee=B(0);function ju(a){for(var s=a;s!==null;){if(s.tag===13){var c=s.memoizedState;if(c!==null&&(c=c.dehydrated,c===null||wg(c)||Sg(c)))return s}else if(s.tag===19&&(s.memoizedProps.revealOrder==="forwards"||s.memoizedProps.revealOrder==="backwards"||s.memoizedProps.revealOrder==="unstable_legacy-backwards"||s.memoizedProps.revealOrder==="together")){if((s.flags&128)!==0)return s}else if(s.child!==null){s.child.return=s,s=s.child;continue}if(s===a)break;for(;s.sibling===null;){if(s.return===null||s.return===a)return null;s=s.return}s.sibling.return=s.return,s=s.sibling}return null}var sa=0,Ft=null,ce=null,Be=null,$u=!1,zs=!1,Dn=!1,zu=0,So=0,Fs=null,mR=0;function Se(){throw Error(i(321))}function yp(a,s){if(s===null)return!1;for(var c=0;c<s.length&&c<a.length;c++)if(!jr(a[c],s[c]))return!1;return!0}function bp(a,s,c,f,m,b){return sa=b,Ft=s,s.memoizedState=null,s.updateQueue=null,s.lanes=0,R.H=a===null||a.memoizedState===null?Px:Bp,Dn=!1,b=c(f,m),Dn=!1,zs&&(b=nx(s,c,f,m)),ax(a),b}function ax(a){R.H=To;var s=ce!==null&&ce.next!==null;if(sa=0,Be=ce=Ft=null,$u=!1,So=0,Fs=null,s)throw Error(i(300));a===null||Ne||(a=a.dependencies,a!==null&&Au(a)&&(Ne=!0))}function nx(a,s,c,f){Ft=a;var m=0;do{if(zs&&(Fs=null),So=0,zs=!1,25<=m)throw Error(i(301));if(m+=1,Be=ce=null,a.updateQueue!=null){var b=a.updateQueue;b.lastEffect=null,b.events=null,b.stores=null,b.memoCache!=null&&(b.memoCache.index=0)}R.H=Ux,b=s(c,f)}while(zs);return b}function yR(){var a=R.H,s=a.useState()[0];return s=typeof s.then=="function"?ko(s):s,a=a.useState()[0],(ce!==null?ce.memoizedState:null)!==a&&(Ft.flags|=1024),s}function xp(){var a=zu!==0;return zu=0,a}function vp(a,s,c){s.updateQueue=a.updateQueue,s.flags&=-2053,a.lanes&=~c}function _p(a){if($u){for(a=a.memoizedState;a!==null;){var s=a.queue;s!==null&&(s.pending=null),a=a.next}$u=!1}sa=0,Be=ce=Ft=null,zs=!1,So=zu=0,Fs=null}function fr(){var a={memoizedState:null,baseState:null,baseQueue:null,queue:null,next:null};return Be===null?Ft.memoizedState=Be=a:Be=Be.next=a,Be}function Ae(){if(ce===null){var a=Ft.alternate;a=a!==null?a.memoizedState:null}else a=ce.next;var s=Be===null?Ft.memoizedState:Be.next;if(s!==null)Be=s,ce=a;else{if(a===null)throw Ft.alternate===null?Error(i(467)):Error(i(310));ce=a,a={memoizedState:ce.memoizedState,baseState:ce.baseState,baseQueue:ce.baseQueue,queue:ce.queue,next:null},Be===null?Ft.memoizedState=Be=a:Be=Be.next=a}return Be}function Fu(){return{lastEffect:null,events:null,stores:null,memoCache:null}}function ko(a){var s=So;return So+=1,Fs===null&&(Fs=[]),a=Xb(Fs,a,s),s=Ft,(Be===null?s.memoizedState:Be.next)===null&&(s=s.alternate,R.H=s===null||s.memoizedState===null?Px:Bp),a}function Pu(a){if(a!==null&&typeof a=="object"){if(typeof a.then=="function")return ko(a);if(a.$$typeof===O)return Ze(a)}throw Error(i(438,String(a)))}function wp(a){var s=null,c=Ft.updateQueue;if(c!==null&&(s=c.memoCache),s==null){var f=Ft.alternate;f!==null&&(f=f.updateQueue,f!==null&&(f=f.memoCache,f!=null&&(s={data:f.data.map(function(m){return m.slice()}),index:0})))}if(s==null&&(s={data:[],index:0}),c===null&&(c=Fu(),Ft.updateQueue=c),c.memoCache=s,c=s.data[s.index],c===void 0)for(c=s.data[s.index]=Array(a),f=0;f<a;f++)c[f]=it;return s.index++,c}function la(a,s){return typeof s=="function"?s(a):s}function Uu(a){var s=Ae();return Sp(s,ce,a)}function Sp(a,s,c){var f=a.queue;if(f===null)throw Error(i(311));f.lastRenderedReducer=c;var m=a.baseQueue,b=f.pending;if(b!==null){if(m!==null){var C=m.next;m.next=b.next,b.next=C}s.baseQueue=m=b,f.pending=null}if(b=a.baseState,m===null)a.memoizedState=b;else{s=m.next;var A=C=null,$=null,X=s,rt=!1;do{var nt=X.lane&-536870913;if(nt!==X.lane?(Gt&nt)===nt:(sa&nt)===nt){var K=X.revertLane;if(K===0)$!==null&&($=$.next={lane:0,revertLane:0,gesture:null,action:X.action,hasEagerState:X.hasEagerState,eagerState:X.eagerState,next:null}),nt===Bs&&(rt=!0);else if((sa&K)===K){X=X.next,K===Bs&&(rt=!0);continue}else nt={lane:0,revertLane:X.revertLane,gesture:null,action:X.action,hasEagerState:X.hasEagerState,eagerState:X.eagerState,next:null},$===null?(A=$=nt,C=b):$=$.next=nt,Ft.lanes|=K,Va|=K;nt=X.action,Dn&&c(b,nt),b=X.hasEagerState?X.eagerState:c(b,nt)}else K={lane:nt,revertLane:X.revertLane,gesture:X.gesture,action:X.action,hasEagerState:X.hasEagerState,eagerState:X.eagerState,next:null},$===null?(A=$=K,C=b):$=$.next=K,Ft.lanes|=nt,Va|=nt;X=X.next}while(X!==null&&X!==s);if($===null?C=b:$.next=A,!jr(b,a.memoizedState)&&(Ne=!0,rt&&(c=Ns,c!==null)))throw c;a.memoizedState=b,a.baseState=C,a.baseQueue=$,f.lastRenderedState=b}return m===null&&(f.lanes=0),[a.memoizedState,f.dispatch]}function kp(a){var s=Ae(),c=s.queue;if(c===null)throw Error(i(311));c.lastRenderedReducer=a;var f=c.dispatch,m=c.pending,b=s.memoizedState;if(m!==null){c.pending=null;var C=m=m.next;do b=a(b,C.action),C=C.next;while(C!==m);jr(b,s.memoizedState)||(Ne=!0),s.memoizedState=b,s.baseQueue===null&&(s.baseState=b),c.lastRenderedState=b}return[b,f]}function sx(a,s,c){var f=Ft,m=Ae(),b=Vt;if(b){if(c===void 0)throw Error(i(407));c=c()}else c=s();var C=!jr((ce||m).memoizedState,c);if(C&&(m.memoizedState=c,Ne=!0),m=m.queue,Ep(cx.bind(null,f,m,a),[a]),m.getSnapshot!==s||C||Be!==null&&Be.memoizedState.tag&1){if(f.flags|=2048,Ps(9,{destroy:void 0},ox.bind(null,f,m,c,s),null),de===null)throw Error(i(349));b||(sa&127)!==0||lx(f,s,c)}return c}function lx(a,s,c){a.flags|=16384,a={getSnapshot:s,value:c},s=Ft.updateQueue,s===null?(s=Fu(),Ft.updateQueue=s,s.stores=[a]):(c=s.stores,c===null?s.stores=[a]:c.push(a))}function ox(a,s,c,f){s.value=c,s.getSnapshot=f,ux(s)&&hx(a)}function cx(a,s,c){return c(function(){ux(s)&&hx(a)})}function ux(a){var s=a.getSnapshot;a=a.value;try{var c=s();return!jr(a,c)}catch{return!0}}function hx(a){var s=Tn(a,2);s!==null&&Or(s,a,2)}function Cp(a){var s=fr();if(typeof a=="function"){var c=a;if(a=c(),Dn){Ye(!0);try{c()}finally{Ye(!1)}}}return s.memoizedState=s.baseState=a,s.queue={pending:null,lanes:0,dispatch:null,lastRenderedReducer:la,lastRenderedState:a},s}function dx(a,s,c,f){return a.baseState=c,Sp(a,ce,typeof f=="function"?f:la)}function bR(a,s,c,f,m){if(Hu(a))throw Error(i(485));if(a=s.action,a!==null){var b={payload:m,action:a,next:null,isTransition:!0,status:"pending",value:null,reason:null,listeners:[],then:function(C){b.listeners.push(C)}};R.T!==null?c(!0):b.isTransition=!1,f(b),c=s.pending,c===null?(b.next=s.pending=b,fx(s,b)):(b.next=c.next,s.pending=c.next=b)}}function fx(a,s){var c=s.action,f=s.payload,m=a.state;if(s.isTransition){var b=R.T,C={};R.T=C;try{var A=c(m,f),$=R.S;$!==null&&$(C,A),px(a,s,A)}catch(X){Tp(a,s,X)}finally{b!==null&&C.types!==null&&(b.types=C.types),R.T=b}}else try{b=c(m,f),px(a,s,b)}catch(X){Tp(a,s,X)}}function px(a,s,c){c!==null&&typeof c=="object"&&typeof c.then=="function"?c.then(function(f){gx(a,s,f)},function(f){return Tp(a,s,f)}):gx(a,s,c)}function gx(a,s,c){s.status="fulfilled",s.value=c,mx(s),a.state=c,s=a.pending,s!==null&&(c=s.next,c===s?a.pending=null:(c=c.next,s.next=c,fx(a,c)))}function Tp(a,s,c){var f=a.pending;if(a.pending=null,f!==null){f=f.next;do s.status="rejected",s.reason=c,mx(s),s=s.next;while(s!==f)}a.action=null}function mx(a){a=a.listeners;for(var s=0;s<a.length;s++)(0,a[s])()}function yx(a,s){return s}function bx(a,s){if(Vt){var c=de.formState;if(c!==null){t:{var f=Ft;if(Vt){if(pe){e:{for(var m=pe,b=si;m.nodeType!==8;){if(!b){m=null;break e}if(m=oi(m.nextSibling),m===null){m=null;break e}}b=m.data,m=b==="F!"||b==="F"?m:null}if(m){pe=oi(m.nextSibling),f=m.data==="F!";break t}}Fa(f)}f=!1}f&&(s=c[0])}}return c=fr(),c.memoizedState=c.baseState=s,f={pending:null,lanes:0,dispatch:null,lastRenderedReducer:yx,lastRenderedState:s},c.queue=f,c=$x.bind(null,Ft,f),f.dispatch=c,f=Cp(!1),b=Mp.bind(null,Ft,!1,f.queue),f=fr(),m={state:s,dispatch:null,action:a,pending:null},f.queue=m,c=bR.bind(null,Ft,m,b,c),m.dispatch=c,f.memoizedState=a,[s,c,!1]}function xx(a){var s=Ae();return vx(s,ce,a)}function vx(a,s,c){if(s=Sp(a,s,yx)[0],a=Uu(la)[0],typeof s=="object"&&s!==null&&typeof s.then=="function")try{var f=ko(s)}catch(C){throw C===Ds?Lu:C}else f=s;s=Ae();var m=s.queue,b=m.dispatch;return c!==s.memoizedState&&(Ft.flags|=2048,Ps(9,{destroy:void 0},xR.bind(null,m,c),null)),[f,b,a]}function xR(a,s){a.action=s}function _x(a){var s=Ae(),c=ce;if(c!==null)return vx(s,c,a);Ae(),s=s.memoizedState,c=Ae();var f=c.queue.dispatch;return c.memoizedState=a,[s,f,!1]}function Ps(a,s,c,f){return a={tag:a,create:c,deps:f,inst:s,next:null},s=Ft.updateQueue,s===null&&(s=Fu(),Ft.updateQueue=s),c=s.lastEffect,c===null?s.lastEffect=a.next=a:(f=c.next,c.next=a,a.next=f,s.lastEffect=a),a}function wx(){return Ae().memoizedState}function Iu(a,s,c,f){var m=fr();Ft.flags|=a,m.memoizedState=Ps(1|s,{destroy:void 0},c,f===void 0?null:f)}function qu(a,s,c,f){var m=Ae();f=f===void 0?null:f;var b=m.memoizedState.inst;ce!==null&&f!==null&&yp(f,ce.memoizedState.deps)?m.memoizedState=Ps(s,b,c,f):(Ft.flags|=a,m.memoizedState=Ps(1|s,b,c,f))}function Sx(a,s){Iu(8390656,8,a,s)}function Ep(a,s){qu(2048,8,a,s)}function vR(a){Ft.flags|=4;var s=Ft.updateQueue;if(s===null)s=Fu(),Ft.updateQueue=s,s.events=[a];else{var c=s.events;c===null?s.events=[a]:c.push(a)}}function kx(a){var s=Ae().memoizedState;return vR({ref:s,nextImpl:a}),function(){if((ee&2)!==0)throw Error(i(440));return s.impl.apply(void 0,arguments)}}function Cx(a,s){return qu(4,2,a,s)}function Tx(a,s){return qu(4,4,a,s)}function Ex(a,s){if(typeof s=="function"){a=a();var c=s(a);return function(){typeof c=="function"?c():s(null)}}if(s!=null)return a=a(),s.current=a,function(){s.current=null}}function Ax(a,s,c){c=c!=null?c.concat([a]):null,qu(4,4,Ex.bind(null,s,a),c)}function Ap(){}function Ox(a,s){var c=Ae();s=s===void 0?null:s;var f=c.memoizedState;return s!==null&&yp(s,f[1])?f[0]:(c.memoizedState=[a,s],a)}function Rx(a,s){var c=Ae();s=s===void 0?null:s;var f=c.memoizedState;if(s!==null&&yp(s,f[1]))return f[0];if(f=a(),Dn){Ye(!0);try{a()}finally{Ye(!1)}}return c.memoizedState=[f,s],f}function Op(a,s,c){return c===void 0||(sa&1073741824)!==0&&(Gt&261930)===0?a.memoizedState=s:(a.memoizedState=c,a=Lv(),Ft.lanes|=a,Va|=a,c)}function Lx(a,s,c,f){return jr(c,s)?c:$s.current!==null?(a=Op(a,c,f),jr(a,s)||(Ne=!0),a):(sa&42)===0||(sa&1073741824)!==0&&(Gt&261930)===0?(Ne=!0,a.memoizedState=c):(a=Lv(),Ft.lanes|=a,Va|=a,s)}function Mx(a,s,c,f,m){var b=j.p;j.p=b!==0&&8>b?b:8;var C=R.T,A={};R.T=A,Mp(a,!1,s,c);try{var $=m(),X=R.S;if(X!==null&&X(A,$),$!==null&&typeof $=="object"&&typeof $.then=="function"){var rt=gR($,f);Co(a,s,rt,Ir(a))}else Co(a,s,f,Ir(a))}catch(nt){Co(a,s,{then:function(){},status:"rejected",reason:nt},Ir())}finally{j.p=b,C!==null&&A.types!==null&&(C.types=A.types),R.T=C}}function _R(){}function Rp(a,s,c,f){if(a.tag!==5)throw Error(i(476));var m=Bx(a).queue;Mx(a,m,s,I,c===null?_R:function(){return Nx(a),c(f)})}function Bx(a){var s=a.memoizedState;if(s!==null)return s;s={memoizedState:I,baseState:I,baseQueue:null,queue:{pending:null,lanes:0,dispatch:null,lastRenderedReducer:la,lastRenderedState:I},next:null};var c={};return s.next={memoizedState:c,baseState:c,baseQueue:null,queue:{pending:null,lanes:0,dispatch:null,lastRenderedReducer:la,lastRenderedState:c},next:null},a.memoizedState=s,a=a.alternate,a!==null&&(a.memoizedState=s),s}function Nx(a){var s=Bx(a);s.next===null&&(s=a.alternate.memoizedState),Co(a,s.next.queue,{},Ir())}function Lp(){return Ze(Io)}function Dx(){return Ae().memoizedState}function jx(){return Ae().memoizedState}function wR(a){for(var s=a.return;s!==null;){switch(s.tag){case 24:case 3:var c=Ir();a=Ia(c);var f=qa(s,a,c);f!==null&&(Or(f,s,c),vo(f,s,c)),s={cache:sp()},a.payload=s;return}s=s.return}}function SR(a,s,c){var f=Ir();c={lane:f,revertLane:0,gesture:null,action:c,hasEagerState:!1,eagerState:null,next:null},Hu(a)?zx(s,c):(c=Xf(a,s,c,f),c!==null&&(Or(c,a,f),Fx(c,s,f)))}function $x(a,s,c){var f=Ir();Co(a,s,c,f)}function Co(a,s,c,f){var m={lane:f,revertLane:0,gesture:null,action:c,hasEagerState:!1,eagerState:null,next:null};if(Hu(a))zx(s,m);else{var b=a.alternate;if(a.lanes===0&&(b===null||b.lanes===0)&&(b=s.lastRenderedReducer,b!==null))try{var C=s.lastRenderedState,A=b(C,c);if(m.hasEagerState=!0,m.eagerState=A,jr(A,C))return ku(a,s,m,0),de===null&&Su(),!1}catch{}if(c=Xf(a,s,m,f),c!==null)return Or(c,a,f),Fx(c,s,f),!0}return!1}function Mp(a,s,c,f){if(f={lane:2,revertLane:ug(),gesture:null,action:f,hasEagerState:!1,eagerState:null,next:null},Hu(a)){if(s)throw Error(i(479))}else s=Xf(a,c,f,2),s!==null&&Or(s,a,2)}function Hu(a){var s=a.alternate;return a===Ft||s!==null&&s===Ft}function zx(a,s){zs=$u=!0;var c=a.pending;c===null?s.next=s:(s.next=c.next,c.next=s),a.pending=s}function Fx(a,s,c){if((c&4194048)!==0){var f=s.lanes;f&=a.pendingLanes,c|=f,s.lanes=c,Jl(a,c)}}var To={readContext:Ze,use:Pu,useCallback:Se,useContext:Se,useEffect:Se,useImperativeHandle:Se,useLayoutEffect:Se,useInsertionEffect:Se,useMemo:Se,useReducer:Se,useRef:Se,useState:Se,useDebugValue:Se,useDeferredValue:Se,useTransition:Se,useSyncExternalStore:Se,useId:Se,useHostTransitionStatus:Se,useFormState:Se,useActionState:Se,useOptimistic:Se,useMemoCache:Se,useCacheRefresh:Se};To.useEffectEvent=Se;var Px={readContext:Ze,use:Pu,useCallback:function(a,s){return fr().memoizedState=[a,s===void 0?null:s],a},useContext:Ze,useEffect:Sx,useImperativeHandle:function(a,s,c){c=c!=null?c.concat([a]):null,Iu(4194308,4,Ex.bind(null,s,a),c)},useLayoutEffect:function(a,s){return Iu(4194308,4,a,s)},useInsertionEffect:function(a,s){Iu(4,2,a,s)},useMemo:function(a,s){var c=fr();s=s===void 0?null:s;var f=a();if(Dn){Ye(!0);try{a()}finally{Ye(!1)}}return c.memoizedState=[f,s],f},useReducer:function(a,s,c){var f=fr();if(c!==void 0){var m=c(s);if(Dn){Ye(!0);try{c(s)}finally{Ye(!1)}}}else m=s;return f.memoizedState=f.baseState=m,a={pending:null,lanes:0,dispatch:null,lastRenderedReducer:a,lastRenderedState:m},f.queue=a,a=a.dispatch=SR.bind(null,Ft,a),[f.memoizedState,a]},useRef:function(a){var s=fr();return a={current:a},s.memoizedState=a},useState:function(a){a=Cp(a);var s=a.queue,c=$x.bind(null,Ft,s);return s.dispatch=c,[a.memoizedState,c]},useDebugValue:Ap,useDeferredValue:function(a,s){var c=fr();return Op(c,a,s)},useTransition:function(){var a=Cp(!1);return a=Mx.bind(null,Ft,a.queue,!0,!1),fr().memoizedState=a,[!1,a]},useSyncExternalStore:function(a,s,c){var f=Ft,m=fr();if(Vt){if(c===void 0)throw Error(i(407));c=c()}else{if(c=s(),de===null)throw Error(i(349));(Gt&127)!==0||lx(f,s,c)}m.memoizedState=c;var b={value:c,getSnapshot:s};return m.queue=b,Sx(cx.bind(null,f,b,a),[a]),f.flags|=2048,Ps(9,{destroy:void 0},ox.bind(null,f,b,c,s),null),c},useId:function(){var a=fr(),s=de.identifierPrefix;if(Vt){var c=Ni,f=Bi;c=(f&~(1<<32-Re(f)-1)).toString(32)+c,s="_"+s+"R_"+c,c=zu++,0<c&&(s+="H"+c.toString(32)),s+="_"}else c=mR++,s="_"+s+"r_"+c.toString(32)+"_";return a.memoizedState=s},useHostTransitionStatus:Lp,useFormState:bx,useActionState:bx,useOptimistic:function(a){var s=fr();s.memoizedState=s.baseState=a;var c={pending:null,lanes:0,dispatch:null,lastRenderedReducer:null,lastRenderedState:null};return s.queue=c,s=Mp.bind(null,Ft,!0,c),c.dispatch=s,[a,s]},useMemoCache:wp,useCacheRefresh:function(){return fr().memoizedState=wR.bind(null,Ft)},useEffectEvent:function(a){var s=fr(),c={impl:a};return s.memoizedState=c,function(){if((ee&2)!==0)throw Error(i(440));return c.impl.apply(void 0,arguments)}}},Bp={readContext:Ze,use:Pu,useCallback:Ox,useContext:Ze,useEffect:Ep,useImperativeHandle:Ax,useInsertionEffect:Cx,useLayoutEffect:Tx,useMemo:Rx,useReducer:Uu,useRef:wx,useState:function(){return Uu(la)},useDebugValue:Ap,useDeferredValue:function(a,s){var c=Ae();return Lx(c,ce.memoizedState,a,s)},useTransition:function(){var a=Uu(la)[0],s=Ae().memoizedState;return[typeof a=="boolean"?a:ko(a),s]},useSyncExternalStore:sx,useId:Dx,useHostTransitionStatus:Lp,useFormState:xx,useActionState:xx,useOptimistic:function(a,s){var c=Ae();return dx(c,ce,a,s)},useMemoCache:wp,useCacheRefresh:jx};Bp.useEffectEvent=kx;var Ux={readContext:Ze,use:Pu,useCallback:Ox,useContext:Ze,useEffect:Ep,useImperativeHandle:Ax,useInsertionEffect:Cx,useLayoutEffect:Tx,useMemo:Rx,useReducer:kp,useRef:wx,useState:function(){return kp(la)},useDebugValue:Ap,useDeferredValue:function(a,s){var c=Ae();return ce===null?Op(c,a,s):Lx(c,ce.memoizedState,a,s)},useTransition:function(){var a=kp(la)[0],s=Ae().memoizedState;return[typeof a=="boolean"?a:ko(a),s]},useSyncExternalStore:sx,useId:Dx,useHostTransitionStatus:Lp,useFormState:_x,useActionState:_x,useOptimistic:function(a,s){var c=Ae();return ce!==null?dx(c,ce,a,s):(c.baseState=a,[a,c.queue.dispatch])},useMemoCache:wp,useCacheRefresh:jx};Ux.useEffectEvent=kx;function Np(a,s,c,f){s=a.memoizedState,c=c(f,s),c=c==null?s:g({},s,c),a.memoizedState=c,a.lanes===0&&(a.updateQueue.baseState=c)}var Dp={enqueueSetState:function(a,s,c){a=a._reactInternals;var f=Ir(),m=Ia(f);m.payload=s,c!=null&&(m.callback=c),s=qa(a,m,f),s!==null&&(Or(s,a,f),vo(s,a,f))},enqueueReplaceState:function(a,s,c){a=a._reactInternals;var f=Ir(),m=Ia(f);m.tag=1,m.payload=s,c!=null&&(m.callback=c),s=qa(a,m,f),s!==null&&(Or(s,a,f),vo(s,a,f))},enqueueForceUpdate:function(a,s){a=a._reactInternals;var c=Ir(),f=Ia(c);f.tag=2,s!=null&&(f.callback=s),s=qa(a,f,c),s!==null&&(Or(s,a,c),vo(s,a,c))}};function Ix(a,s,c,f,m,b,C){return a=a.stateNode,typeof a.shouldComponentUpdate=="function"?a.shouldComponentUpdate(f,b,C):s.prototype&&s.prototype.isPureReactComponent?!ho(c,f)||!ho(m,b):!0}function qx(a,s,c,f){a=s.state,typeof s.componentWillReceiveProps=="function"&&s.componentWillReceiveProps(c,f),typeof s.UNSAFE_componentWillReceiveProps=="function"&&s.UNSAFE_componentWillReceiveProps(c,f),s.state!==a&&Dp.enqueueReplaceState(s,s.state,null)}function jn(a,s){var c=s;if("ref"in s){c={};for(var f in s)f!=="ref"&&(c[f]=s[f])}if(a=a.defaultProps){c===s&&(c=g({},c));for(var m in a)c[m]===void 0&&(c[m]=a[m])}return c}function Hx(a){wu(a)}function Wx(a){console.error(a)}function Gx(a){wu(a)}function Wu(a,s){try{var c=a.onUncaughtError;c(s.value,{componentStack:s.stack})}catch(f){setTimeout(function(){throw f})}}function Yx(a,s,c){try{var f=a.onCaughtError;f(c.value,{componentStack:c.stack,errorBoundary:s.tag===1?s.stateNode:null})}catch(m){setTimeout(function(){throw m})}}function jp(a,s,c){return c=Ia(c),c.tag=3,c.payload={element:null},c.callback=function(){Wu(a,s)},c}function Vx(a){return a=Ia(a),a.tag=3,a}function Xx(a,s,c,f){var m=c.type.getDerivedStateFromError;if(typeof m=="function"){var b=f.value;a.payload=function(){return m(b)},a.callback=function(){Yx(s,c,f)}}var C=c.stateNode;C!==null&&typeof C.componentDidCatch=="function"&&(a.callback=function(){Yx(s,c,f),typeof m!="function"&&(Xa===null?Xa=new Set([this]):Xa.add(this));var A=f.stack;this.componentDidCatch(f.value,{componentStack:A!==null?A:""})})}function kR(a,s,c,f,m){if(c.flags|=32768,f!==null&&typeof f=="object"&&typeof f.then=="function"){if(s=c.alternate,s!==null&&Ms(s,c,m,!0),c=zr.current,c!==null){switch(c.tag){case 31:case 13:return li===null?ih():c.alternate===null&&ke===0&&(ke=3),c.flags&=-257,c.flags|=65536,c.lanes=m,f===Mu?c.flags|=16384:(s=c.updateQueue,s===null?c.updateQueue=new Set([f]):s.add(f),lg(a,f,m)),!1;case 22:return c.flags|=65536,f===Mu?c.flags|=16384:(s=c.updateQueue,s===null?(s={transitions:null,markerInstances:null,retryQueue:new Set([f])},c.updateQueue=s):(c=s.retryQueue,c===null?s.retryQueue=new Set([f]):c.add(f)),lg(a,f,m)),!1}throw Error(i(435,c.tag))}return lg(a,f,m),ih(),!1}if(Vt)return s=zr.current,s!==null?((s.flags&65536)===0&&(s.flags|=256),s.flags|=65536,s.lanes=m,f!==ep&&(a=Error(i(422),{cause:f}),go(ii(a,c)))):(f!==ep&&(s=Error(i(423),{cause:f}),go(ii(s,c))),a=a.current.alternate,a.flags|=65536,m&=-m,a.lanes|=m,f=ii(f,c),m=jp(a.stateNode,f,m),dp(a,m),ke!==4&&(ke=2)),!1;var b=Error(i(520),{cause:f});if(b=ii(b,c),No===null?No=[b]:No.push(b),ke!==4&&(ke=2),s===null)return!0;f=ii(f,c),c=s;do{switch(c.tag){case 3:return c.flags|=65536,a=m&-m,c.lanes|=a,a=jp(c.stateNode,f,a),dp(c,a),!1;case 1:if(s=c.type,b=c.stateNode,(c.flags&128)===0&&(typeof s.getDerivedStateFromError=="function"||b!==null&&typeof b.componentDidCatch=="function"&&(Xa===null||!Xa.has(b))))return c.flags|=65536,m&=-m,c.lanes|=m,m=Vx(m),Xx(m,a,c,f),dp(c,m),!1}c=c.return}while(c!==null);return!1}var $p=Error(i(461)),Ne=!1;function Je(a,s,c,f){s.child=a===null?Jb(s,null,c,f):Nn(s,a.child,c,f)}function Kx(a,s,c,f,m){c=c.render;var b=s.ref;if("ref"in f){var C={};for(var A in f)A!=="ref"&&(C[A]=f[A])}else C=f;return Rn(s),f=bp(a,s,c,C,b,m),A=xp(),a!==null&&!Ne?(vp(a,s,m),oa(a,s,m)):(Vt&&A&&Jf(s),s.flags|=1,Je(a,s,f,m),s.child)}function Qx(a,s,c,f,m){if(a===null){var b=c.type;return typeof b=="function"&&!Kf(b)&&b.defaultProps===void 0&&c.compare===null?(s.tag=15,s.type=b,Zx(a,s,b,f,m)):(a=Tu(c.type,null,f,s,s.mode,m),a.ref=s.ref,a.return=s,s.child=a)}if(b=a.child,!Wp(a,m)){var C=b.memoizedProps;if(c=c.compare,c=c!==null?c:ho,c(C,f)&&a.ref===s.ref)return oa(a,s,m)}return s.flags|=1,a=ra(b,f),a.ref=s.ref,a.return=s,s.child=a}function Zx(a,s,c,f,m){if(a!==null){var b=a.memoizedProps;if(ho(b,f)&&a.ref===s.ref)if(Ne=!1,s.pendingProps=f=b,Wp(a,m))(a.flags&131072)!==0&&(Ne=!0);else return s.lanes=a.lanes,oa(a,s,m)}return zp(a,s,c,f,m)}function Jx(a,s,c,f){var m=f.children,b=a!==null?a.memoizedState:null;if(a===null&&s.stateNode===null&&(s.stateNode={_visibility:1,_pendingMarkers:null,_retryCache:null,_transitions:null}),f.mode==="hidden"){if((s.flags&128)!==0){if(b=b!==null?b.baseLanes|c:c,a!==null){for(f=s.child=a.child,m=0;f!==null;)m=m|f.lanes|f.childLanes,f=f.sibling;f=m&~b}else f=0,s.child=null;return tv(a,s,b,c,f)}if((c&536870912)!==0)s.memoizedState={baseLanes:0,cachePool:null},a!==null&&Ru(s,b!==null?b.cachePool:null),b!==null?rx(s,b):pp(),ix(s);else return f=s.lanes=536870912,tv(a,s,b!==null?b.baseLanes|c:c,c,f)}else b!==null?(Ru(s,b.cachePool),rx(s,b),Wa(),s.memoizedState=null):(a!==null&&Ru(s,null),pp(),Wa());return Je(a,s,m,c),s.child}function Eo(a,s){return a!==null&&a.tag===22||s.stateNode!==null||(s.stateNode={_visibility:1,_pendingMarkers:null,_retryCache:null,_transitions:null}),s.sibling}function tv(a,s,c,f,m){var b=op();return b=b===null?null:{parent:Me._currentValue,pool:b},s.memoizedState={baseLanes:c,cachePool:b},a!==null&&Ru(s,null),pp(),ix(s),a!==null&&Ms(a,s,f,!0),s.childLanes=m,null}function Gu(a,s){return s=Vu({mode:s.mode,children:s.children},a.mode),s.ref=a.ref,a.child=s,s.return=a,s}function ev(a,s,c){return Nn(s,a.child,null,c),a=Gu(s,s.pendingProps),a.flags|=2,Fr(s),s.memoizedState=null,a}function CR(a,s,c){var f=s.pendingProps,m=(s.flags&128)!==0;if(s.flags&=-129,a===null){if(Vt){if(f.mode==="hidden")return a=Gu(s,f),s.lanes=536870912,Eo(null,a);if(mp(s),(a=pe)?(a=f_(a,si),a=a!==null&&a.data==="&"?a:null,a!==null&&(s.memoizedState={dehydrated:a,treeContext:$a!==null?{id:Bi,overflow:Ni}:null,retryLane:536870912,hydrationErrors:null},c=zb(a),c.return=s,s.child=c,Qe=s,pe=null)):a=null,a===null)throw Fa(s);return s.lanes=536870912,null}return Gu(s,f)}var b=a.memoizedState;if(b!==null){var C=b.dehydrated;if(mp(s),m)if(s.flags&256)s.flags&=-257,s=ev(a,s,c);else if(s.memoizedState!==null)s.child=a.child,s.flags|=128,s=null;else throw Error(i(558));else if(Ne||Ms(a,s,c,!1),m=(c&a.childLanes)!==0,Ne||m){if(f=de,f!==null&&(C=ou(f,c),C!==0&&C!==b.retryLane))throw b.retryLane=C,Tn(a,C),Or(f,a,C),$p;ih(),s=ev(a,s,c)}else a=b.treeContext,pe=oi(C.nextSibling),Qe=s,Vt=!0,za=null,si=!1,a!==null&&Ub(s,a),s=Gu(s,f),s.flags|=4096;return s}return a=ra(a.child,{mode:f.mode,children:f.children}),a.ref=s.ref,s.child=a,a.return=s,a}function Yu(a,s){var c=s.ref;if(c===null)a!==null&&a.ref!==null&&(s.flags|=4194816);else{if(typeof c!="function"&&typeof c!="object")throw Error(i(284));(a===null||a.ref!==c)&&(s.flags|=4194816)}}function zp(a,s,c,f,m){return Rn(s),c=bp(a,s,c,f,void 0,m),f=xp(),a!==null&&!Ne?(vp(a,s,m),oa(a,s,m)):(Vt&&f&&Jf(s),s.flags|=1,Je(a,s,c,m),s.child)}function rv(a,s,c,f,m,b){return Rn(s),s.updateQueue=null,c=nx(s,f,c,m),ax(a),f=xp(),a!==null&&!Ne?(vp(a,s,b),oa(a,s,b)):(Vt&&f&&Jf(s),s.flags|=1,Je(a,s,c,b),s.child)}function iv(a,s,c,f,m){if(Rn(s),s.stateNode===null){var b=As,C=c.contextType;typeof C=="object"&&C!==null&&(b=Ze(C)),b=new c(f,b),s.memoizedState=b.state!==null&&b.state!==void 0?b.state:null,b.updater=Dp,s.stateNode=b,b._reactInternals=s,b=s.stateNode,b.props=f,b.state=s.memoizedState,b.refs={},up(s),C=c.contextType,b.context=typeof C=="object"&&C!==null?Ze(C):As,b.state=s.memoizedState,C=c.getDerivedStateFromProps,typeof C=="function"&&(Np(s,c,C,f),b.state=s.memoizedState),typeof c.getDerivedStateFromProps=="function"||typeof b.getSnapshotBeforeUpdate=="function"||typeof b.UNSAFE_componentWillMount!="function"&&typeof b.componentWillMount!="function"||(C=b.state,typeof b.componentWillMount=="function"&&b.componentWillMount(),typeof b.UNSAFE_componentWillMount=="function"&&b.UNSAFE_componentWillMount(),C!==b.state&&Dp.enqueueReplaceState(b,b.state,null),wo(s,f,b,m),_o(),b.state=s.memoizedState),typeof b.componentDidMount=="function"&&(s.flags|=4194308),f=!0}else if(a===null){b=s.stateNode;var A=s.memoizedProps,$=jn(c,A);b.props=$;var X=b.context,rt=c.contextType;C=As,typeof rt=="object"&&rt!==null&&(C=Ze(rt));var nt=c.getDerivedStateFromProps;rt=typeof nt=="function"||typeof b.getSnapshotBeforeUpdate=="function",A=s.pendingProps!==A,rt||typeof b.UNSAFE_componentWillReceiveProps!="function"&&typeof b.componentWillReceiveProps!="function"||(A||X!==C)&&qx(s,b,f,C),Ua=!1;var K=s.memoizedState;b.state=K,wo(s,f,b,m),_o(),X=s.memoizedState,A||K!==X||Ua?(typeof nt=="function"&&(Np(s,c,nt,f),X=s.memoizedState),($=Ua||Ix(s,c,$,f,K,X,C))?(rt||typeof b.UNSAFE_componentWillMount!="function"&&typeof b.componentWillMount!="function"||(typeof b.componentWillMount=="function"&&b.componentWillMount(),typeof b.UNSAFE_componentWillMount=="function"&&b.UNSAFE_componentWillMount()),typeof b.componentDidMount=="function"&&(s.flags|=4194308)):(typeof b.componentDidMount=="function"&&(s.flags|=4194308),s.memoizedProps=f,s.memoizedState=X),b.props=f,b.state=X,b.context=C,f=$):(typeof b.componentDidMount=="function"&&(s.flags|=4194308),f=!1)}else{b=s.stateNode,hp(a,s),C=s.memoizedProps,rt=jn(c,C),b.props=rt,nt=s.pendingProps,K=b.context,X=c.contextType,$=As,typeof X=="object"&&X!==null&&($=Ze(X)),A=c.getDerivedStateFromProps,(X=typeof A=="function"||typeof b.getSnapshotBeforeUpdate=="function")||typeof b.UNSAFE_componentWillReceiveProps!="function"&&typeof b.componentWillReceiveProps!="function"||(C!==nt||K!==$)&&qx(s,b,f,$),Ua=!1,K=s.memoizedState,b.state=K,wo(s,f,b,m),_o();var Z=s.memoizedState;C!==nt||K!==Z||Ua||a!==null&&a.dependencies!==null&&Au(a.dependencies)?(typeof A=="function"&&(Np(s,c,A,f),Z=s.memoizedState),(rt=Ua||Ix(s,c,rt,f,K,Z,$)||a!==null&&a.dependencies!==null&&Au(a.dependencies))?(X||typeof b.UNSAFE_componentWillUpdate!="function"&&typeof b.componentWillUpdate!="function"||(typeof b.componentWillUpdate=="function"&&b.componentWillUpdate(f,Z,$),typeof b.UNSAFE_componentWillUpdate=="function"&&b.UNSAFE_componentWillUpdate(f,Z,$)),typeof b.componentDidUpdate=="function"&&(s.flags|=4),typeof b.getSnapshotBeforeUpdate=="function"&&(s.flags|=1024)):(typeof b.componentDidUpdate!="function"||C===a.memoizedProps&&K===a.memoizedState||(s.flags|=4),typeof b.getSnapshotBeforeUpdate!="function"||C===a.memoizedProps&&K===a.memoizedState||(s.flags|=1024),s.memoizedProps=f,s.memoizedState=Z),b.props=f,b.state=Z,b.context=$,f=rt):(typeof b.componentDidUpdate!="function"||C===a.memoizedProps&&K===a.memoizedState||(s.flags|=4),typeof b.getSnapshotBeforeUpdate!="function"||C===a.memoizedProps&&K===a.memoizedState||(s.flags|=1024),f=!1)}return b=f,Yu(a,s),f=(s.flags&128)!==0,b||f?(b=s.stateNode,c=f&&typeof c.getDerivedStateFromError!="function"?null:b.render(),s.flags|=1,a!==null&&f?(s.child=Nn(s,a.child,null,m),s.child=Nn(s,null,c,m)):Je(a,s,c,m),s.memoizedState=b.state,a=s.child):a=oa(a,s,m),a}function av(a,s,c,f){return An(),s.flags|=256,Je(a,s,c,f),s.child}var Fp={dehydrated:null,treeContext:null,retryLane:0,hydrationErrors:null};function Pp(a){return{baseLanes:a,cachePool:Yb()}}function Up(a,s,c){return a=a!==null?a.childLanes&~c:0,s&&(a|=Ur),a}function nv(a,s,c){var f=s.pendingProps,m=!1,b=(s.flags&128)!==0,C;if((C=b)||(C=a!==null&&a.memoizedState===null?!1:(Ee.current&2)!==0),C&&(m=!0,s.flags&=-129),C=(s.flags&32)!==0,s.flags&=-33,a===null){if(Vt){if(m?Ha(s):Wa(),(a=pe)?(a=f_(a,si),a=a!==null&&a.data!=="&"?a:null,a!==null&&(s.memoizedState={dehydrated:a,treeContext:$a!==null?{id:Bi,overflow:Ni}:null,retryLane:536870912,hydrationErrors:null},c=zb(a),c.return=s,s.child=c,Qe=s,pe=null)):a=null,a===null)throw Fa(s);return Sg(a)?s.lanes=32:s.lanes=536870912,null}var A=f.children;return f=f.fallback,m?(Wa(),m=s.mode,A=Vu({mode:"hidden",children:A},m),f=En(f,m,c,null),A.return=s,f.return=s,A.sibling=f,s.child=A,f=s.child,f.memoizedState=Pp(c),f.childLanes=Up(a,C,c),s.memoizedState=Fp,Eo(null,f)):(Ha(s),Ip(s,A))}var $=a.memoizedState;if($!==null&&(A=$.dehydrated,A!==null)){if(b)s.flags&256?(Ha(s),s.flags&=-257,s=qp(a,s,c)):s.memoizedState!==null?(Wa(),s.child=a.child,s.flags|=128,s=null):(Wa(),A=f.fallback,m=s.mode,f=Vu({mode:"visible",children:f.children},m),A=En(A,m,c,null),A.flags|=2,f.return=s,A.return=s,f.sibling=A,s.child=f,Nn(s,a.child,null,c),f=s.child,f.memoizedState=Pp(c),f.childLanes=Up(a,C,c),s.memoizedState=Fp,s=Eo(null,f));else if(Ha(s),Sg(A)){if(C=A.nextSibling&&A.nextSibling.dataset,C)var X=C.dgst;C=X,f=Error(i(419)),f.stack="",f.digest=C,go({value:f,source:null,stack:null}),s=qp(a,s,c)}else if(Ne||Ms(a,s,c,!1),C=(c&a.childLanes)!==0,Ne||C){if(C=de,C!==null&&(f=ou(C,c),f!==0&&f!==$.retryLane))throw $.retryLane=f,Tn(a,f),Or(C,a,f),$p;wg(A)||ih(),s=qp(a,s,c)}else wg(A)?(s.flags|=192,s.child=a.child,s=null):(a=$.treeContext,pe=oi(A.nextSibling),Qe=s,Vt=!0,za=null,si=!1,a!==null&&Ub(s,a),s=Ip(s,f.children),s.flags|=4096);return s}return m?(Wa(),A=f.fallback,m=s.mode,$=a.child,X=$.sibling,f=ra($,{mode:"hidden",children:f.children}),f.subtreeFlags=$.subtreeFlags&65011712,X!==null?A=ra(X,A):(A=En(A,m,c,null),A.flags|=2),A.return=s,f.return=s,f.sibling=A,s.child=f,Eo(null,f),f=s.child,A=a.child.memoizedState,A===null?A=Pp(c):(m=A.cachePool,m!==null?($=Me._currentValue,m=m.parent!==$?{parent:$,pool:$}:m):m=Yb(),A={baseLanes:A.baseLanes|c,cachePool:m}),f.memoizedState=A,f.childLanes=Up(a,C,c),s.memoizedState=Fp,Eo(a.child,f)):(Ha(s),c=a.child,a=c.sibling,c=ra(c,{mode:"visible",children:f.children}),c.return=s,c.sibling=null,a!==null&&(C=s.deletions,C===null?(s.deletions=[a],s.flags|=16):C.push(a)),s.child=c,s.memoizedState=null,c)}function Ip(a,s){return s=Vu({mode:"visible",children:s},a.mode),s.return=a,a.child=s}function Vu(a,s){return a=$r(22,a,null,s),a.lanes=0,a}function qp(a,s,c){return Nn(s,a.child,null,c),a=Ip(s,s.pendingProps.children),a.flags|=2,s.memoizedState=null,a}function sv(a,s,c){a.lanes|=s;var f=a.alternate;f!==null&&(f.lanes|=s),ap(a.return,s,c)}function Hp(a,s,c,f,m,b){var C=a.memoizedState;C===null?a.memoizedState={isBackwards:s,rendering:null,renderingStartTime:0,last:f,tail:c,tailMode:m,treeForkCount:b}:(C.isBackwards=s,C.rendering=null,C.renderingStartTime=0,C.last=f,C.tail=c,C.tailMode=m,C.treeForkCount=b)}function lv(a,s,c){var f=s.pendingProps,m=f.revealOrder,b=f.tail;f=f.children;var C=Ee.current,A=(C&2)!==0;if(A?(C=C&1|2,s.flags|=128):C&=1,tt(Ee,C),Je(a,s,f,c),f=Vt?po:0,!A&&a!==null&&(a.flags&128)!==0)t:for(a=s.child;a!==null;){if(a.tag===13)a.memoizedState!==null&&sv(a,c,s);else if(a.tag===19)sv(a,c,s);else if(a.child!==null){a.child.return=a,a=a.child;continue}if(a===s)break t;for(;a.sibling===null;){if(a.return===null||a.return===s)break t;a=a.return}a.sibling.return=a.return,a=a.sibling}switch(m){case"forwards":for(c=s.child,m=null;c!==null;)a=c.alternate,a!==null&&ju(a)===null&&(m=c),c=c.sibling;c=m,c===null?(m=s.child,s.child=null):(m=c.sibling,c.sibling=null),Hp(s,!1,m,c,b,f);break;case"backwards":case"unstable_legacy-backwards":for(c=null,m=s.child,s.child=null;m!==null;){if(a=m.alternate,a!==null&&ju(a)===null){s.child=m;break}a=m.sibling,m.sibling=c,c=m,m=a}Hp(s,!0,c,null,b,f);break;case"together":Hp(s,!1,null,null,void 0,f);break;default:s.memoizedState=null}return s.child}function oa(a,s,c){if(a!==null&&(s.dependencies=a.dependencies),Va|=s.lanes,(c&s.childLanes)===0)if(a!==null){if(Ms(a,s,c,!1),(c&s.childLanes)===0)return null}else return null;if(a!==null&&s.child!==a.child)throw Error(i(153));if(s.child!==null){for(a=s.child,c=ra(a,a.pendingProps),s.child=c,c.return=s;a.sibling!==null;)a=a.sibling,c=c.sibling=ra(a,a.pendingProps),c.return=s;c.sibling=null}return s.child}function Wp(a,s){return(a.lanes&s)!==0?!0:(a=a.dependencies,!!(a!==null&&Au(a)))}function TR(a,s,c){switch(s.tag){case 3:te(s,s.stateNode.containerInfo),Pa(s,Me,a.memoizedState.cache),An();break;case 27:case 5:oe(s);break;case 4:te(s,s.stateNode.containerInfo);break;case 10:Pa(s,s.type,s.memoizedProps.value);break;case 31:if(s.memoizedState!==null)return s.flags|=128,mp(s),null;break;case 13:var f=s.memoizedState;if(f!==null)return f.dehydrated!==null?(Ha(s),s.flags|=128,null):(c&s.child.childLanes)!==0?nv(a,s,c):(Ha(s),a=oa(a,s,c),a!==null?a.sibling:null);Ha(s);break;case 19:var m=(a.flags&128)!==0;if(f=(c&s.childLanes)!==0,f||(Ms(a,s,c,!1),f=(c&s.childLanes)!==0),m){if(f)return lv(a,s,c);s.flags|=128}if(m=s.memoizedState,m!==null&&(m.rendering=null,m.tail=null,m.lastEffect=null),tt(Ee,Ee.current),f)break;return null;case 22:return s.lanes=0,Jx(a,s,c,s.pendingProps);case 24:Pa(s,Me,a.memoizedState.cache)}return oa(a,s,c)}function ov(a,s,c){if(a!==null)if(a.memoizedProps!==s.pendingProps)Ne=!0;else{if(!Wp(a,c)&&(s.flags&128)===0)return Ne=!1,TR(a,s,c);Ne=(a.flags&131072)!==0}else Ne=!1,Vt&&(s.flags&1048576)!==0&&Pb(s,po,s.index);switch(s.lanes=0,s.tag){case 16:t:{var f=s.pendingProps;if(a=Mn(s.elementType),s.type=a,typeof a=="function")Kf(a)?(f=jn(a,f),s.tag=1,s=iv(null,s,a,f,c)):(s.tag=0,s=zp(null,s,a,f,c));else{if(a!=null){var m=a.$$typeof;if(m===M){s.tag=11,s=Kx(null,s,a,f,c);break t}else if(m===z){s.tag=14,s=Qx(null,s,a,f,c);break t}}throw s=D(a)||a,Error(i(306,s,""))}}return s;case 0:return zp(a,s,s.type,s.pendingProps,c);case 1:return f=s.type,m=jn(f,s.pendingProps),iv(a,s,f,m,c);case 3:t:{if(te(s,s.stateNode.containerInfo),a===null)throw Error(i(387));f=s.pendingProps;var b=s.memoizedState;m=b.element,hp(a,s),wo(s,f,null,c);var C=s.memoizedState;if(f=C.cache,Pa(s,Me,f),f!==b.cache&&np(s,[Me],c,!0),_o(),f=C.element,b.isDehydrated)if(b={element:f,isDehydrated:!1,cache:C.cache},s.updateQueue.baseState=b,s.memoizedState=b,s.flags&256){s=av(a,s,f,c);break t}else if(f!==m){m=ii(Error(i(424)),s),go(m),s=av(a,s,f,c);break t}else for(a=s.stateNode.containerInfo,a.nodeType===9?a=a.body:a=a.nodeName==="HTML"?a.ownerDocument.body:a,pe=oi(a.firstChild),Qe=s,Vt=!0,za=null,si=!0,c=Jb(s,null,f,c),s.child=c;c;)c.flags=c.flags&-3|4096,c=c.sibling;else{if(An(),f===m){s=oa(a,s,c);break t}Je(a,s,f,c)}s=s.child}return s;case 26:return Yu(a,s),a===null?(c=x_(s.type,null,s.pendingProps,null))?s.memoizedState=c:Vt||(c=s.type,a=s.pendingProps,f=uh(Ct.current).createElement(c),f[Le]=s,f[ye]=a,tr(f,c,a),Ut(f),s.stateNode=f):s.memoizedState=x_(s.type,a.memoizedProps,s.pendingProps,a.memoizedState),null;case 27:return oe(s),a===null&&Vt&&(f=s.stateNode=m_(s.type,s.pendingProps,Ct.current),Qe=s,si=!0,m=pe,Ja(s.type)?(kg=m,pe=oi(f.firstChild)):pe=m),Je(a,s,s.pendingProps.children,c),Yu(a,s),a===null&&(s.flags|=4194304),s.child;case 5:return a===null&&Vt&&((m=f=pe)&&(f=rL(f,s.type,s.pendingProps,si),f!==null?(s.stateNode=f,Qe=s,pe=oi(f.firstChild),si=!1,m=!0):m=!1),m||Fa(s)),oe(s),m=s.type,b=s.pendingProps,C=a!==null?a.memoizedProps:null,f=b.children,xg(m,b)?f=null:C!==null&&xg(m,C)&&(s.flags|=32),s.memoizedState!==null&&(m=bp(a,s,yR,null,null,c),Io._currentValue=m),Yu(a,s),Je(a,s,f,c),s.child;case 6:return a===null&&Vt&&((a=c=pe)&&(c=iL(c,s.pendingProps,si),c!==null?(s.stateNode=c,Qe=s,pe=null,a=!0):a=!1),a||Fa(s)),null;case 13:return nv(a,s,c);case 4:return te(s,s.stateNode.containerInfo),f=s.pendingProps,a===null?s.child=Nn(s,null,f,c):Je(a,s,f,c),s.child;case 11:return Kx(a,s,s.type,s.pendingProps,c);case 7:return Je(a,s,s.pendingProps,c),s.child;case 8:return Je(a,s,s.pendingProps.children,c),s.child;case 12:return Je(a,s,s.pendingProps.children,c),s.child;case 10:return f=s.pendingProps,Pa(s,s.type,f.value),Je(a,s,f.children,c),s.child;case 9:return m=s.type._context,f=s.pendingProps.children,Rn(s),m=Ze(m),f=f(m),s.flags|=1,Je(a,s,f,c),s.child;case 14:return Qx(a,s,s.type,s.pendingProps,c);case 15:return Zx(a,s,s.type,s.pendingProps,c);case 19:return lv(a,s,c);case 31:return CR(a,s,c);case 22:return Jx(a,s,c,s.pendingProps);case 24:return Rn(s),f=Ze(Me),a===null?(m=op(),m===null&&(m=de,b=sp(),m.pooledCache=b,b.refCount++,b!==null&&(m.pooledCacheLanes|=c),m=b),s.memoizedState={parent:f,cache:m},up(s),Pa(s,Me,m)):((a.lanes&c)!==0&&(hp(a,s),wo(s,null,null,c),_o()),m=a.memoizedState,b=s.memoizedState,m.parent!==f?(m={parent:f,cache:f},s.memoizedState=m,s.lanes===0&&(s.memoizedState=s.updateQueue.baseState=m),Pa(s,Me,f)):(f=b.cache,Pa(s,Me,f),f!==m.cache&&np(s,[Me],c,!0))),Je(a,s,s.pendingProps.children,c),s.child;case 29:throw s.pendingProps}throw Error(i(156,s.tag))}function ca(a){a.flags|=4}function Gp(a,s,c,f,m){if((s=(a.mode&32)!==0)&&(s=!1),s){if(a.flags|=16777216,(m&335544128)===m)if(a.stateNode.complete)a.flags|=8192;else if(Dv())a.flags|=8192;else throw Bn=Mu,cp}else a.flags&=-16777217}function cv(a,s){if(s.type!=="stylesheet"||(s.state.loading&4)!==0)a.flags&=-16777217;else if(a.flags|=16777216,!k_(s))if(Dv())a.flags|=8192;else throw Bn=Mu,cp}function Xu(a,s){s!==null&&(a.flags|=4),a.flags&16384&&(s=a.tag!==22?Qi():536870912,a.lanes|=s,Hs|=s)}function Ao(a,s){if(!Vt)switch(a.tailMode){case"hidden":s=a.tail;for(var c=null;s!==null;)s.alternate!==null&&(c=s),s=s.sibling;c===null?a.tail=null:c.sibling=null;break;case"collapsed":c=a.tail;for(var f=null;c!==null;)c.alternate!==null&&(f=c),c=c.sibling;f===null?s||a.tail===null?a.tail=null:a.tail.sibling=null:f.sibling=null}}function ge(a){var s=a.alternate!==null&&a.alternate.child===a.child,c=0,f=0;if(s)for(var m=a.child;m!==null;)c|=m.lanes|m.childLanes,f|=m.subtreeFlags&65011712,f|=m.flags&65011712,m.return=a,m=m.sibling;else for(m=a.child;m!==null;)c|=m.lanes|m.childLanes,f|=m.subtreeFlags,f|=m.flags,m.return=a,m=m.sibling;return a.subtreeFlags|=f,a.childLanes=c,s}function ER(a,s,c){var f=s.pendingProps;switch(tp(s),s.tag){case 16:case 15:case 0:case 11:case 7:case 8:case 12:case 9:case 14:return ge(s),null;case 1:return ge(s),null;case 3:return c=s.stateNode,f=null,a!==null&&(f=a.memoizedState.cache),s.memoizedState.cache!==f&&(s.flags|=2048),na(Me),Kt(),c.pendingContext&&(c.context=c.pendingContext,c.pendingContext=null),(a===null||a.child===null)&&(Ls(s)?ca(s):a===null||a.memoizedState.isDehydrated&&(s.flags&256)===0||(s.flags|=1024,rp())),ge(s),null;case 26:var m=s.type,b=s.memoizedState;return a===null?(ca(s),b!==null?(ge(s),cv(s,b)):(ge(s),Gp(s,m,null,f,c))):b?b!==a.memoizedState?(ca(s),ge(s),cv(s,b)):(ge(s),s.flags&=-16777217):(a=a.memoizedProps,a!==f&&ca(s),ge(s),Gp(s,m,a,f,c)),null;case 27:if(nr(s),c=Ct.current,m=s.type,a!==null&&s.stateNode!=null)a.memoizedProps!==f&&ca(s);else{if(!f){if(s.stateNode===null)throw Error(i(166));return ge(s),null}a=ct.current,Ls(s)?Ib(s):(a=m_(m,f,c),s.stateNode=a,ca(s))}return ge(s),null;case 5:if(nr(s),m=s.type,a!==null&&s.stateNode!=null)a.memoizedProps!==f&&ca(s);else{if(!f){if(s.stateNode===null)throw Error(i(166));return ge(s),null}if(b=ct.current,Ls(s))Ib(s);else{var C=uh(Ct.current);switch(b){case 1:b=C.createElementNS("http://www.w3.org/2000/svg",m);break;case 2:b=C.createElementNS("http://www.w3.org/1998/Math/MathML",m);break;default:switch(m){case"svg":b=C.createElementNS("http://www.w3.org/2000/svg",m);break;case"math":b=C.createElementNS("http://www.w3.org/1998/Math/MathML",m);break;case"script":b=C.createElement("div"),b.innerHTML="<script><\/script>",b=b.removeChild(b.firstChild);break;case"select":b=typeof f.is=="string"?C.createElement("select",{is:f.is}):C.createElement("select"),f.multiple?b.multiple=!0:f.size&&(b.size=f.size);break;default:b=typeof f.is=="string"?C.createElement(m,{is:f.is}):C.createElement(m)}}b[Le]=s,b[ye]=f;t:for(C=s.child;C!==null;){if(C.tag===5||C.tag===6)b.appendChild(C.stateNode);else if(C.tag!==4&&C.tag!==27&&C.child!==null){C.child.return=C,C=C.child;continue}if(C===s)break t;for(;C.sibling===null;){if(C.return===null||C.return===s)break t;C=C.return}C.sibling.return=C.return,C=C.sibling}s.stateNode=b;t:switch(tr(b,m,f),m){case"button":case"input":case"select":case"textarea":f=!!f.autoFocus;break t;case"img":f=!0;break t;default:f=!1}f&&ca(s)}}return ge(s),Gp(s,s.type,a===null?null:a.memoizedProps,s.pendingProps,c),null;case 6:if(a&&s.stateNode!=null)a.memoizedProps!==f&&ca(s);else{if(typeof f!="string"&&s.stateNode===null)throw Error(i(166));if(a=Ct.current,Ls(s)){if(a=s.stateNode,c=s.memoizedProps,f=null,m=Qe,m!==null)switch(m.tag){case 27:case 5:f=m.memoizedProps}a[Le]=s,a=!!(a.nodeValue===c||f!==null&&f.suppressHydrationWarning===!0||n_(a.nodeValue,c)),a||Fa(s,!0)}else a=uh(a).createTextNode(f),a[Le]=s,s.stateNode=a}return ge(s),null;case 31:if(c=s.memoizedState,a===null||a.memoizedState!==null){if(f=Ls(s),c!==null){if(a===null){if(!f)throw Error(i(318));if(a=s.memoizedState,a=a!==null?a.dehydrated:null,!a)throw Error(i(557));a[Le]=s}else An(),(s.flags&128)===0&&(s.memoizedState=null),s.flags|=4;ge(s),a=!1}else c=rp(),a!==null&&a.memoizedState!==null&&(a.memoizedState.hydrationErrors=c),a=!0;if(!a)return s.flags&256?(Fr(s),s):(Fr(s),null);if((s.flags&128)!==0)throw Error(i(558))}return ge(s),null;case 13:if(f=s.memoizedState,a===null||a.memoizedState!==null&&a.memoizedState.dehydrated!==null){if(m=Ls(s),f!==null&&f.dehydrated!==null){if(a===null){if(!m)throw Error(i(318));if(m=s.memoizedState,m=m!==null?m.dehydrated:null,!m)throw Error(i(317));m[Le]=s}else An(),(s.flags&128)===0&&(s.memoizedState=null),s.flags|=4;ge(s),m=!1}else m=rp(),a!==null&&a.memoizedState!==null&&(a.memoizedState.hydrationErrors=m),m=!0;if(!m)return s.flags&256?(Fr(s),s):(Fr(s),null)}return Fr(s),(s.flags&128)!==0?(s.lanes=c,s):(c=f!==null,a=a!==null&&a.memoizedState!==null,c&&(f=s.child,m=null,f.alternate!==null&&f.alternate.memoizedState!==null&&f.alternate.memoizedState.cachePool!==null&&(m=f.alternate.memoizedState.cachePool.pool),b=null,f.memoizedState!==null&&f.memoizedState.cachePool!==null&&(b=f.memoizedState.cachePool.pool),b!==m&&(f.flags|=2048)),c!==a&&c&&(s.child.flags|=8192),Xu(s,s.updateQueue),ge(s),null);case 4:return Kt(),a===null&&pg(s.stateNode.containerInfo),ge(s),null;case 10:return na(s.type),ge(s),null;case 19:if(Y(Ee),f=s.memoizedState,f===null)return ge(s),null;if(m=(s.flags&128)!==0,b=f.rendering,b===null)if(m)Ao(f,!1);else{if(ke!==0||a!==null&&(a.flags&128)!==0)for(a=s.child;a!==null;){if(b=ju(a),b!==null){for(s.flags|=128,Ao(f,!1),a=b.updateQueue,s.updateQueue=a,Xu(s,a),s.subtreeFlags=0,a=c,c=s.child;c!==null;)$b(c,a),c=c.sibling;return tt(Ee,Ee.current&1|2),Vt&&ia(s,f.treeForkCount),s.child}a=a.sibling}f.tail!==null&&Xe()>th&&(s.flags|=128,m=!0,Ao(f,!1),s.lanes=4194304)}else{if(!m)if(a=ju(b),a!==null){if(s.flags|=128,m=!0,a=a.updateQueue,s.updateQueue=a,Xu(s,a),Ao(f,!0),f.tail===null&&f.tailMode==="hidden"&&!b.alternate&&!Vt)return ge(s),null}else 2*Xe()-f.renderingStartTime>th&&c!==536870912&&(s.flags|=128,m=!0,Ao(f,!1),s.lanes=4194304);f.isBackwards?(b.sibling=s.child,s.child=b):(a=f.last,a!==null?a.sibling=b:s.child=b,f.last=b)}return f.tail!==null?(a=f.tail,f.rendering=a,f.tail=a.sibling,f.renderingStartTime=Xe(),a.sibling=null,c=Ee.current,tt(Ee,m?c&1|2:c&1),Vt&&ia(s,f.treeForkCount),a):(ge(s),null);case 22:case 23:return Fr(s),gp(),f=s.memoizedState!==null,a!==null?a.memoizedState!==null!==f&&(s.flags|=8192):f&&(s.flags|=8192),f?(c&536870912)!==0&&(s.flags&128)===0&&(ge(s),s.subtreeFlags&6&&(s.flags|=8192)):ge(s),c=s.updateQueue,c!==null&&Xu(s,c.retryQueue),c=null,a!==null&&a.memoizedState!==null&&a.memoizedState.cachePool!==null&&(c=a.memoizedState.cachePool.pool),f=null,s.memoizedState!==null&&s.memoizedState.cachePool!==null&&(f=s.memoizedState.cachePool.pool),f!==c&&(s.flags|=2048),a!==null&&Y(Ln),null;case 24:return c=null,a!==null&&(c=a.memoizedState.cache),s.memoizedState.cache!==c&&(s.flags|=2048),na(Me),ge(s),null;case 25:return null;case 30:return null}throw Error(i(156,s.tag))}function AR(a,s){switch(tp(s),s.tag){case 1:return a=s.flags,a&65536?(s.flags=a&-65537|128,s):null;case 3:return na(Me),Kt(),a=s.flags,(a&65536)!==0&&(a&128)===0?(s.flags=a&-65537|128,s):null;case 26:case 27:case 5:return nr(s),null;case 31:if(s.memoizedState!==null){if(Fr(s),s.alternate===null)throw Error(i(340));An()}return a=s.flags,a&65536?(s.flags=a&-65537|128,s):null;case 13:if(Fr(s),a=s.memoizedState,a!==null&&a.dehydrated!==null){if(s.alternate===null)throw Error(i(340));An()}return a=s.flags,a&65536?(s.flags=a&-65537|128,s):null;case 19:return Y(Ee),null;case 4:return Kt(),null;case 10:return na(s.type),null;case 22:case 23:return Fr(s),gp(),a!==null&&Y(Ln),a=s.flags,a&65536?(s.flags=a&-65537|128,s):null;case 24:return na(Me),null;case 25:return null;default:return null}}function uv(a,s){switch(tp(s),s.tag){case 3:na(Me),Kt();break;case 26:case 27:case 5:nr(s);break;case 4:Kt();break;case 31:s.memoizedState!==null&&Fr(s);break;case 13:Fr(s);break;case 19:Y(Ee);break;case 10:na(s.type);break;case 22:case 23:Fr(s),gp(),a!==null&&Y(Ln);break;case 24:na(Me)}}function Oo(a,s){try{var c=s.updateQueue,f=c!==null?c.lastEffect:null;if(f!==null){var m=f.next;c=m;do{if((c.tag&a)===a){f=void 0;var b=c.create,C=c.inst;f=b(),C.destroy=f}c=c.next}while(c!==m)}}catch(A){le(s,s.return,A)}}function Ga(a,s,c){try{var f=s.updateQueue,m=f!==null?f.lastEffect:null;if(m!==null){var b=m.next;f=b;do{if((f.tag&a)===a){var C=f.inst,A=C.destroy;if(A!==void 0){C.destroy=void 0,m=s;var $=c,X=A;try{X()}catch(rt){le(m,$,rt)}}}f=f.next}while(f!==b)}}catch(rt){le(s,s.return,rt)}}function hv(a){var s=a.updateQueue;if(s!==null){var c=a.stateNode;try{ex(s,c)}catch(f){le(a,a.return,f)}}}function dv(a,s,c){c.props=jn(a.type,a.memoizedProps),c.state=a.memoizedState;try{c.componentWillUnmount()}catch(f){le(a,s,f)}}function Ro(a,s){try{var c=a.ref;if(c!==null){switch(a.tag){case 26:case 27:case 5:var f=a.stateNode;break;case 30:f=a.stateNode;break;default:f=a.stateNode}typeof c=="function"?a.refCleanup=c(f):c.current=f}}catch(m){le(a,s,m)}}function Di(a,s){var c=a.ref,f=a.refCleanup;if(c!==null)if(typeof f=="function")try{f()}catch(m){le(a,s,m)}finally{a.refCleanup=null,a=a.alternate,a!=null&&(a.refCleanup=null)}else if(typeof c=="function")try{c(null)}catch(m){le(a,s,m)}else c.current=null}function fv(a){var s=a.type,c=a.memoizedProps,f=a.stateNode;try{t:switch(s){case"button":case"input":case"select":case"textarea":c.autoFocus&&f.focus();break t;case"img":c.src?f.src=c.src:c.srcSet&&(f.srcset=c.srcSet)}}catch(m){le(a,a.return,m)}}function Yp(a,s,c){try{var f=a.stateNode;KR(f,a.type,c,s),f[ye]=s}catch(m){le(a,a.return,m)}}function pv(a){return a.tag===5||a.tag===3||a.tag===26||a.tag===27&&Ja(a.type)||a.tag===4}function Vp(a){t:for(;;){for(;a.sibling===null;){if(a.return===null||pv(a.return))return null;a=a.return}for(a.sibling.return=a.return,a=a.sibling;a.tag!==5&&a.tag!==6&&a.tag!==18;){if(a.tag===27&&Ja(a.type)||a.flags&2||a.child===null||a.tag===4)continue t;a.child.return=a,a=a.child}if(!(a.flags&2))return a.stateNode}}function Xp(a,s,c){var f=a.tag;if(f===5||f===6)a=a.stateNode,s?(c.nodeType===9?c.body:c.nodeName==="HTML"?c.ownerDocument.body:c).insertBefore(a,s):(s=c.nodeType===9?c.body:c.nodeName==="HTML"?c.ownerDocument.body:c,s.appendChild(a),c=c._reactRootContainer,c!=null||s.onclick!==null||(s.onclick=ta));else if(f!==4&&(f===27&&Ja(a.type)&&(c=a.stateNode,s=null),a=a.child,a!==null))for(Xp(a,s,c),a=a.sibling;a!==null;)Xp(a,s,c),a=a.sibling}function Ku(a,s,c){var f=a.tag;if(f===5||f===6)a=a.stateNode,s?c.insertBefore(a,s):c.appendChild(a);else if(f!==4&&(f===27&&Ja(a.type)&&(c=a.stateNode),a=a.child,a!==null))for(Ku(a,s,c),a=a.sibling;a!==null;)Ku(a,s,c),a=a.sibling}function gv(a){var s=a.stateNode,c=a.memoizedProps;try{for(var f=a.type,m=s.attributes;m.length;)s.removeAttributeNode(m[0]);tr(s,f,c),s[Le]=a,s[ye]=c}catch(b){le(a,a.return,b)}}var ua=!1,De=!1,Kp=!1,mv=typeof WeakSet=="function"?WeakSet:Set,Ve=null;function OR(a,s){if(a=a.containerInfo,yg=yh,a=Ab(a),qf(a)){if("selectionStart"in a)var c={start:a.selectionStart,end:a.selectionEnd};else t:{c=(c=a.ownerDocument)&&c.defaultView||window;var f=c.getSelection&&c.getSelection();if(f&&f.rangeCount!==0){c=f.anchorNode;var m=f.anchorOffset,b=f.focusNode;f=f.focusOffset;try{c.nodeType,b.nodeType}catch{c=null;break t}var C=0,A=-1,$=-1,X=0,rt=0,nt=a,K=null;e:for(;;){for(var Z;nt!==c||m!==0&&nt.nodeType!==3||(A=C+m),nt!==b||f!==0&&nt.nodeType!==3||($=C+f),nt.nodeType===3&&(C+=nt.nodeValue.length),(Z=nt.firstChild)!==null;)K=nt,nt=Z;for(;;){if(nt===a)break e;if(K===c&&++X===m&&(A=C),K===b&&++rt===f&&($=C),(Z=nt.nextSibling)!==null)break;nt=K,K=nt.parentNode}nt=Z}c=A===-1||$===-1?null:{start:A,end:$}}else c=null}c=c||{start:0,end:0}}else c=null;for(bg={focusedElem:a,selectionRange:c},yh=!1,Ve=s;Ve!==null;)if(s=Ve,a=s.child,(s.subtreeFlags&1028)!==0&&a!==null)a.return=s,Ve=a;else for(;Ve!==null;){switch(s=Ve,b=s.alternate,a=s.flags,s.tag){case 0:if((a&4)!==0&&(a=s.updateQueue,a=a!==null?a.events:null,a!==null))for(c=0;c<a.length;c++)m=a[c],m.ref.impl=m.nextImpl;break;case 11:case 15:break;case 1:if((a&1024)!==0&&b!==null){a=void 0,c=s,m=b.memoizedProps,b=b.memoizedState,f=c.stateNode;try{var yt=jn(c.type,m);a=f.getSnapshotBeforeUpdate(yt,b),f.__reactInternalSnapshotBeforeUpdate=a}catch(Mt){le(c,c.return,Mt)}}break;case 3:if((a&1024)!==0){if(a=s.stateNode.containerInfo,c=a.nodeType,c===9)_g(a);else if(c===1)switch(a.nodeName){case"HEAD":case"HTML":case"BODY":_g(a);break;default:a.textContent=""}}break;case 5:case 26:case 27:case 6:case 4:case 17:break;default:if((a&1024)!==0)throw Error(i(163))}if(a=s.sibling,a!==null){a.return=s.return,Ve=a;break}Ve=s.return}}function yv(a,s,c){var f=c.flags;switch(c.tag){case 0:case 11:case 15:da(a,c),f&4&&Oo(5,c);break;case 1:if(da(a,c),f&4)if(a=c.stateNode,s===null)try{a.componentDidMount()}catch(C){le(c,c.return,C)}else{var m=jn(c.type,s.memoizedProps);s=s.memoizedState;try{a.componentDidUpdate(m,s,a.__reactInternalSnapshotBeforeUpdate)}catch(C){le(c,c.return,C)}}f&64&&hv(c),f&512&&Ro(c,c.return);break;case 3:if(da(a,c),f&64&&(a=c.updateQueue,a!==null)){if(s=null,c.child!==null)switch(c.child.tag){case 27:case 5:s=c.child.stateNode;break;case 1:s=c.child.stateNode}try{ex(a,s)}catch(C){le(c,c.return,C)}}break;case 27:s===null&&f&4&&gv(c);case 26:case 5:da(a,c),s===null&&f&4&&fv(c),f&512&&Ro(c,c.return);break;case 12:da(a,c);break;case 31:da(a,c),f&4&&vv(a,c);break;case 13:da(a,c),f&4&&_v(a,c),f&64&&(a=c.memoizedState,a!==null&&(a=a.dehydrated,a!==null&&(c=zR.bind(null,c),aL(a,c))));break;case 22:if(f=c.memoizedState!==null||ua,!f){s=s!==null&&s.memoizedState!==null||De,m=ua;var b=De;ua=f,(De=s)&&!b?fa(a,c,(c.subtreeFlags&8772)!==0):da(a,c),ua=m,De=b}break;case 30:break;default:da(a,c)}}function bv(a){var s=a.alternate;s!==null&&(a.alternate=null,bv(s)),a.child=null,a.deletions=null,a.sibling=null,a.tag===5&&(s=a.stateNode,s!==null&&P(s)),a.stateNode=null,a.return=null,a.dependencies=null,a.memoizedProps=null,a.memoizedState=null,a.pendingProps=null,a.stateNode=null,a.updateQueue=null}var be=null,Cr=!1;function ha(a,s,c){for(c=c.child;c!==null;)xv(a,s,c),c=c.sibling}function xv(a,s,c){if(Ge&&typeof Ge.onCommitFiberUnmount=="function")try{Ge.onCommitFiberUnmount(Li,c)}catch{}switch(c.tag){case 26:De||Di(c,s),ha(a,s,c),c.memoizedState?c.memoizedState.count--:c.stateNode&&(c=c.stateNode,c.parentNode.removeChild(c));break;case 27:De||Di(c,s);var f=be,m=Cr;Ja(c.type)&&(be=c.stateNode,Cr=!1),ha(a,s,c),Fo(c.stateNode),be=f,Cr=m;break;case 5:De||Di(c,s);case 6:if(f=be,m=Cr,be=null,ha(a,s,c),be=f,Cr=m,be!==null)if(Cr)try{(be.nodeType===9?be.body:be.nodeName==="HTML"?be.ownerDocument.body:be).removeChild(c.stateNode)}catch(b){le(c,s,b)}else try{be.removeChild(c.stateNode)}catch(b){le(c,s,b)}break;case 18:be!==null&&(Cr?(a=be,h_(a.nodeType===9?a.body:a.nodeName==="HTML"?a.ownerDocument.body:a,c.stateNode),Zs(a)):h_(be,c.stateNode));break;case 4:f=be,m=Cr,be=c.stateNode.containerInfo,Cr=!0,ha(a,s,c),be=f,Cr=m;break;case 0:case 11:case 14:case 15:Ga(2,c,s),De||Ga(4,c,s),ha(a,s,c);break;case 1:De||(Di(c,s),f=c.stateNode,typeof f.componentWillUnmount=="function"&&dv(c,s,f)),ha(a,s,c);break;case 21:ha(a,s,c);break;case 22:De=(f=De)||c.memoizedState!==null,ha(a,s,c),De=f;break;default:ha(a,s,c)}}function vv(a,s){if(s.memoizedState===null&&(a=s.alternate,a!==null&&(a=a.memoizedState,a!==null))){a=a.dehydrated;try{Zs(a)}catch(c){le(s,s.return,c)}}}function _v(a,s){if(s.memoizedState===null&&(a=s.alternate,a!==null&&(a=a.memoizedState,a!==null&&(a=a.dehydrated,a!==null))))try{Zs(a)}catch(c){le(s,s.return,c)}}function RR(a){switch(a.tag){case 31:case 13:case 19:var s=a.stateNode;return s===null&&(s=a.stateNode=new mv),s;case 22:return a=a.stateNode,s=a._retryCache,s===null&&(s=a._retryCache=new mv),s;default:throw Error(i(435,a.tag))}}function Qu(a,s){var c=RR(a);s.forEach(function(f){if(!c.has(f)){c.add(f);var m=FR.bind(null,a,f);f.then(m,m)}})}function Tr(a,s){var c=s.deletions;if(c!==null)for(var f=0;f<c.length;f++){var m=c[f],b=a,C=s,A=C;t:for(;A!==null;){switch(A.tag){case 27:if(Ja(A.type)){be=A.stateNode,Cr=!1;break t}break;case 5:be=A.stateNode,Cr=!1;break t;case 3:case 4:be=A.stateNode.containerInfo,Cr=!0;break t}A=A.return}if(be===null)throw Error(i(160));xv(b,C,m),be=null,Cr=!1,b=m.alternate,b!==null&&(b.return=null),m.return=null}if(s.subtreeFlags&13886)for(s=s.child;s!==null;)wv(s,a),s=s.sibling}var yi=null;function wv(a,s){var c=a.alternate,f=a.flags;switch(a.tag){case 0:case 11:case 14:case 15:Tr(s,a),Er(a),f&4&&(Ga(3,a,a.return),Oo(3,a),Ga(5,a,a.return));break;case 1:Tr(s,a),Er(a),f&512&&(De||c===null||Di(c,c.return)),f&64&&ua&&(a=a.updateQueue,a!==null&&(f=a.callbacks,f!==null&&(c=a.shared.hiddenCallbacks,a.shared.hiddenCallbacks=c===null?f:c.concat(f))));break;case 26:var m=yi;if(Tr(s,a),Er(a),f&512&&(De||c===null||Di(c,c.return)),f&4){var b=c!==null?c.memoizedState:null;if(f=a.memoizedState,c===null)if(f===null)if(a.stateNode===null){t:{f=a.type,c=a.memoizedProps,m=m.ownerDocument||m;e:switch(f){case"title":b=m.getElementsByTagName("title")[0],(!b||b[St]||b[Le]||b.namespaceURI==="http://www.w3.org/2000/svg"||b.hasAttribute("itemprop"))&&(b=m.createElement(f),m.head.insertBefore(b,m.querySelector("head > title"))),tr(b,f,c),b[Le]=a,Ut(b),f=b;break t;case"link":var C=w_("link","href",m).get(f+(c.href||""));if(C){for(var A=0;A<C.length;A++)if(b=C[A],b.getAttribute("href")===(c.href==null||c.href===""?null:c.href)&&b.getAttribute("rel")===(c.rel==null?null:c.rel)&&b.getAttribute("title")===(c.title==null?null:c.title)&&b.getAttribute("crossorigin")===(c.crossOrigin==null?null:c.crossOrigin)){C.splice(A,1);break e}}b=m.createElement(f),tr(b,f,c),m.head.appendChild(b);break;case"meta":if(C=w_("meta","content",m).get(f+(c.content||""))){for(A=0;A<C.length;A++)if(b=C[A],b.getAttribute("content")===(c.content==null?null:""+c.content)&&b.getAttribute("name")===(c.name==null?null:c.name)&&b.getAttribute("property")===(c.property==null?null:c.property)&&b.getAttribute("http-equiv")===(c.httpEquiv==null?null:c.httpEquiv)&&b.getAttribute("charset")===(c.charSet==null?null:c.charSet)){C.splice(A,1);break e}}b=m.createElement(f),tr(b,f,c),m.head.appendChild(b);break;default:throw Error(i(468,f))}b[Le]=a,Ut(b),f=b}a.stateNode=f}else S_(m,a.type,a.stateNode);else a.stateNode=__(m,f,a.memoizedProps);else b!==f?(b===null?c.stateNode!==null&&(c=c.stateNode,c.parentNode.removeChild(c)):b.count--,f===null?S_(m,a.type,a.stateNode):__(m,f,a.memoizedProps)):f===null&&a.stateNode!==null&&Yp(a,a.memoizedProps,c.memoizedProps)}break;case 27:Tr(s,a),Er(a),f&512&&(De||c===null||Di(c,c.return)),c!==null&&f&4&&Yp(a,a.memoizedProps,c.memoizedProps);break;case 5:if(Tr(s,a),Er(a),f&512&&(De||c===null||Di(c,c.return)),a.flags&32){m=a.stateNode;try{_s(m,"")}catch(yt){le(a,a.return,yt)}}f&4&&a.stateNode!=null&&(m=a.memoizedProps,Yp(a,m,c!==null?c.memoizedProps:m)),f&1024&&(Kp=!0);break;case 6:if(Tr(s,a),Er(a),f&4){if(a.stateNode===null)throw Error(i(162));f=a.memoizedProps,c=a.stateNode;try{c.nodeValue=f}catch(yt){le(a,a.return,yt)}}break;case 3:if(fh=null,m=yi,yi=hh(s.containerInfo),Tr(s,a),yi=m,Er(a),f&4&&c!==null&&c.memoizedState.isDehydrated)try{Zs(s.containerInfo)}catch(yt){le(a,a.return,yt)}Kp&&(Kp=!1,Sv(a));break;case 4:f=yi,yi=hh(a.stateNode.containerInfo),Tr(s,a),Er(a),yi=f;break;case 12:Tr(s,a),Er(a);break;case 31:Tr(s,a),Er(a),f&4&&(f=a.updateQueue,f!==null&&(a.updateQueue=null,Qu(a,f)));break;case 13:Tr(s,a),Er(a),a.child.flags&8192&&a.memoizedState!==null!=(c!==null&&c.memoizedState!==null)&&(Ju=Xe()),f&4&&(f=a.updateQueue,f!==null&&(a.updateQueue=null,Qu(a,f)));break;case 22:m=a.memoizedState!==null;var $=c!==null&&c.memoizedState!==null,X=ua,rt=De;if(ua=X||m,De=rt||$,Tr(s,a),De=rt,ua=X,Er(a),f&8192)t:for(s=a.stateNode,s._visibility=m?s._visibility&-2:s._visibility|1,m&&(c===null||$||ua||De||$n(a)),c=null,s=a;;){if(s.tag===5||s.tag===26){if(c===null){$=c=s;try{if(b=$.stateNode,m)C=b.style,typeof C.setProperty=="function"?C.setProperty("display","none","important"):C.display="none";else{A=$.stateNode;var nt=$.memoizedProps.style,K=nt!=null&&nt.hasOwnProperty("display")?nt.display:null;A.style.display=K==null||typeof K=="boolean"?"":(""+K).trim()}}catch(yt){le($,$.return,yt)}}}else if(s.tag===6){if(c===null){$=s;try{$.stateNode.nodeValue=m?"":$.memoizedProps}catch(yt){le($,$.return,yt)}}}else if(s.tag===18){if(c===null){$=s;try{var Z=$.stateNode;m?d_(Z,!0):d_($.stateNode,!1)}catch(yt){le($,$.return,yt)}}}else if((s.tag!==22&&s.tag!==23||s.memoizedState===null||s===a)&&s.child!==null){s.child.return=s,s=s.child;continue}if(s===a)break t;for(;s.sibling===null;){if(s.return===null||s.return===a)break t;c===s&&(c=null),s=s.return}c===s&&(c=null),s.sibling.return=s.return,s=s.sibling}f&4&&(f=a.updateQueue,f!==null&&(c=f.retryQueue,c!==null&&(f.retryQueue=null,Qu(a,c))));break;case 19:Tr(s,a),Er(a),f&4&&(f=a.updateQueue,f!==null&&(a.updateQueue=null,Qu(a,f)));break;case 30:break;case 21:break;default:Tr(s,a),Er(a)}}function Er(a){var s=a.flags;if(s&2){try{for(var c,f=a.return;f!==null;){if(pv(f)){c=f;break}f=f.return}if(c==null)throw Error(i(160));switch(c.tag){case 27:var m=c.stateNode,b=Vp(a);Ku(a,b,m);break;case 5:var C=c.stateNode;c.flags&32&&(_s(C,""),c.flags&=-33);var A=Vp(a);Ku(a,A,C);break;case 3:case 4:var $=c.stateNode.containerInfo,X=Vp(a);Xp(a,X,$);break;default:throw Error(i(161))}}catch(rt){le(a,a.return,rt)}a.flags&=-3}s&4096&&(a.flags&=-4097)}function Sv(a){if(a.subtreeFlags&1024)for(a=a.child;a!==null;){var s=a;Sv(s),s.tag===5&&s.flags&1024&&s.stateNode.reset(),a=a.sibling}}function da(a,s){if(s.subtreeFlags&8772)for(s=s.child;s!==null;)yv(a,s.alternate,s),s=s.sibling}function $n(a){for(a=a.child;a!==null;){var s=a;switch(s.tag){case 0:case 11:case 14:case 15:Ga(4,s,s.return),$n(s);break;case 1:Di(s,s.return);var c=s.stateNode;typeof c.componentWillUnmount=="function"&&dv(s,s.return,c),$n(s);break;case 27:Fo(s.stateNode);case 26:case 5:Di(s,s.return),$n(s);break;case 22:s.memoizedState===null&&$n(s);break;case 30:$n(s);break;default:$n(s)}a=a.sibling}}function fa(a,s,c){for(c=c&&(s.subtreeFlags&8772)!==0,s=s.child;s!==null;){var f=s.alternate,m=a,b=s,C=b.flags;switch(b.tag){case 0:case 11:case 15:fa(m,b,c),Oo(4,b);break;case 1:if(fa(m,b,c),f=b,m=f.stateNode,typeof m.componentDidMount=="function")try{m.componentDidMount()}catch(X){le(f,f.return,X)}if(f=b,m=f.updateQueue,m!==null){var A=f.stateNode;try{var $=m.shared.hiddenCallbacks;if($!==null)for(m.shared.hiddenCallbacks=null,m=0;m<$.length;m++)tx($[m],A)}catch(X){le(f,f.return,X)}}c&&C&64&&hv(b),Ro(b,b.return);break;case 27:gv(b);case 26:case 5:fa(m,b,c),c&&f===null&&C&4&&fv(b),Ro(b,b.return);break;case 12:fa(m,b,c);break;case 31:fa(m,b,c),c&&C&4&&vv(m,b);break;case 13:fa(m,b,c),c&&C&4&&_v(m,b);break;case 22:b.memoizedState===null&&fa(m,b,c),Ro(b,b.return);break;case 30:break;default:fa(m,b,c)}s=s.sibling}}function Qp(a,s){var c=null;a!==null&&a.memoizedState!==null&&a.memoizedState.cachePool!==null&&(c=a.memoizedState.cachePool.pool),a=null,s.memoizedState!==null&&s.memoizedState.cachePool!==null&&(a=s.memoizedState.cachePool.pool),a!==c&&(a!=null&&a.refCount++,c!=null&&mo(c))}function Zp(a,s){a=null,s.alternate!==null&&(a=s.alternate.memoizedState.cache),s=s.memoizedState.cache,s!==a&&(s.refCount++,a!=null&&mo(a))}function bi(a,s,c,f){if(s.subtreeFlags&10256)for(s=s.child;s!==null;)kv(a,s,c,f),s=s.sibling}function kv(a,s,c,f){var m=s.flags;switch(s.tag){case 0:case 11:case 15:bi(a,s,c,f),m&2048&&Oo(9,s);break;case 1:bi(a,s,c,f);break;case 3:bi(a,s,c,f),m&2048&&(a=null,s.alternate!==null&&(a=s.alternate.memoizedState.cache),s=s.memoizedState.cache,s!==a&&(s.refCount++,a!=null&&mo(a)));break;case 12:if(m&2048){bi(a,s,c,f),a=s.stateNode;try{var b=s.memoizedProps,C=b.id,A=b.onPostCommit;typeof A=="function"&&A(C,s.alternate===null?"mount":"update",a.passiveEffectDuration,-0)}catch($){le(s,s.return,$)}}else bi(a,s,c,f);break;case 31:bi(a,s,c,f);break;case 13:bi(a,s,c,f);break;case 23:break;case 22:b=s.stateNode,C=s.alternate,s.memoizedState!==null?b._visibility&2?bi(a,s,c,f):Lo(a,s):b._visibility&2?bi(a,s,c,f):(b._visibility|=2,Us(a,s,c,f,(s.subtreeFlags&10256)!==0||!1)),m&2048&&Qp(C,s);break;case 24:bi(a,s,c,f),m&2048&&Zp(s.alternate,s);break;default:bi(a,s,c,f)}}function Us(a,s,c,f,m){for(m=m&&((s.subtreeFlags&10256)!==0||!1),s=s.child;s!==null;){var b=a,C=s,A=c,$=f,X=C.flags;switch(C.tag){case 0:case 11:case 15:Us(b,C,A,$,m),Oo(8,C);break;case 23:break;case 22:var rt=C.stateNode;C.memoizedState!==null?rt._visibility&2?Us(b,C,A,$,m):Lo(b,C):(rt._visibility|=2,Us(b,C,A,$,m)),m&&X&2048&&Qp(C.alternate,C);break;case 24:Us(b,C,A,$,m),m&&X&2048&&Zp(C.alternate,C);break;default:Us(b,C,A,$,m)}s=s.sibling}}function Lo(a,s){if(s.subtreeFlags&10256)for(s=s.child;s!==null;){var c=a,f=s,m=f.flags;switch(f.tag){case 22:Lo(c,f),m&2048&&Qp(f.alternate,f);break;case 24:Lo(c,f),m&2048&&Zp(f.alternate,f);break;default:Lo(c,f)}s=s.sibling}}var Mo=8192;function Is(a,s,c){if(a.subtreeFlags&Mo)for(a=a.child;a!==null;)Cv(a,s,c),a=a.sibling}function Cv(a,s,c){switch(a.tag){case 26:Is(a,s,c),a.flags&Mo&&a.memoizedState!==null&&mL(c,yi,a.memoizedState,a.memoizedProps);break;case 5:Is(a,s,c);break;case 3:case 4:var f=yi;yi=hh(a.stateNode.containerInfo),Is(a,s,c),yi=f;break;case 22:a.memoizedState===null&&(f=a.alternate,f!==null&&f.memoizedState!==null?(f=Mo,Mo=16777216,Is(a,s,c),Mo=f):Is(a,s,c));break;default:Is(a,s,c)}}function Tv(a){var s=a.alternate;if(s!==null&&(a=s.child,a!==null)){s.child=null;do s=a.sibling,a.sibling=null,a=s;while(a!==null)}}function Bo(a){var s=a.deletions;if((a.flags&16)!==0){if(s!==null)for(var c=0;c<s.length;c++){var f=s[c];Ve=f,Av(f,a)}Tv(a)}if(a.subtreeFlags&10256)for(a=a.child;a!==null;)Ev(a),a=a.sibling}function Ev(a){switch(a.tag){case 0:case 11:case 15:Bo(a),a.flags&2048&&Ga(9,a,a.return);break;case 3:Bo(a);break;case 12:Bo(a);break;case 22:var s=a.stateNode;a.memoizedState!==null&&s._visibility&2&&(a.return===null||a.return.tag!==13)?(s._visibility&=-3,Zu(a)):Bo(a);break;default:Bo(a)}}function Zu(a){var s=a.deletions;if((a.flags&16)!==0){if(s!==null)for(var c=0;c<s.length;c++){var f=s[c];Ve=f,Av(f,a)}Tv(a)}for(a=a.child;a!==null;){switch(s=a,s.tag){case 0:case 11:case 15:Ga(8,s,s.return),Zu(s);break;case 22:c=s.stateNode,c._visibility&2&&(c._visibility&=-3,Zu(s));break;default:Zu(s)}a=a.sibling}}function Av(a,s){for(;Ve!==null;){var c=Ve;switch(c.tag){case 0:case 11:case 15:Ga(8,c,s);break;case 23:case 22:if(c.memoizedState!==null&&c.memoizedState.cachePool!==null){var f=c.memoizedState.cachePool.pool;f!=null&&f.refCount++}break;case 24:mo(c.memoizedState.cache)}if(f=c.child,f!==null)f.return=c,Ve=f;else t:for(c=a;Ve!==null;){f=Ve;var m=f.sibling,b=f.return;if(bv(f),f===c){Ve=null;break t}if(m!==null){m.return=b,Ve=m;break t}Ve=b}}}var LR={getCacheForType:function(a){var s=Ze(Me),c=s.data.get(a);return c===void 0&&(c=a(),s.data.set(a,c)),c},cacheSignal:function(){return Ze(Me).controller.signal}},MR=typeof WeakMap=="function"?WeakMap:Map,ee=0,de=null,qt=null,Gt=0,se=0,Pr=null,Ya=!1,qs=!1,Jp=!1,pa=0,ke=0,Va=0,zn=0,tg=0,Ur=0,Hs=0,No=null,Ar=null,eg=!1,Ju=0,Ov=0,th=1/0,eh=null,Xa=null,Fe=0,Ka=null,Ws=null,ga=0,rg=0,ig=null,Rv=null,Do=0,ag=null;function Ir(){return(ee&2)!==0&&Gt!==0?Gt&-Gt:R.T!==null?ug():to()}function Lv(){if(Ur===0)if((Gt&536870912)===0||Vt){var a=Ki;Ki<<=1,(Ki&3932160)===0&&(Ki=262144),Ur=a}else Ur=536870912;return a=zr.current,a!==null&&(a.flags|=32),Ur}function Or(a,s,c){(a===de&&(se===2||se===9)||a.cancelPendingCommit!==null)&&(Gs(a,0),Qa(a,Gt,Ur,!1)),Da(a,c),((ee&2)===0||a!==de)&&(a===de&&((ee&2)===0&&(zn|=c),ke===4&&Qa(a,Gt,Ur,!1)),ji(a))}function Mv(a,s,c){if((ee&6)!==0)throw Error(i(327));var f=!c&&(s&127)===0&&(s&a.expiredLanes)===0||wn(a,s),m=f?DR(a,s):sg(a,s,!0),b=f;do{if(m===0){qs&&!f&&Qa(a,s,0,!1);break}else{if(c=a.current.alternate,b&&!BR(c)){m=sg(a,s,!1),b=!1;continue}if(m===2){if(b=s,a.errorRecoveryDisabledLanes&b)var C=0;else C=a.pendingLanes&-536870913,C=C!==0?C:C&536870912?536870912:0;if(C!==0){s=C;t:{var A=a;m=No;var $=A.current.memoizedState.isDehydrated;if($&&(Gs(A,C).flags|=256),C=sg(A,C,!1),C!==2){if(Jp&&!$){A.errorRecoveryDisabledLanes|=b,zn|=b,m=4;break t}b=Ar,Ar=m,b!==null&&(Ar===null?Ar=b:Ar.push.apply(Ar,b))}m=C}if(b=!1,m!==2)continue}}if(m===1){Gs(a,0),Qa(a,s,0,!0);break}t:{switch(f=a,b=m,b){case 0:case 1:throw Error(i(345));case 4:if((s&4194048)!==s)break;case 6:Qa(f,s,Ur,!Ya);break t;case 2:Ar=null;break;case 3:case 5:break;default:throw Error(i(329))}if((s&62914560)===s&&(m=Ju+300-Xe(),10<m)){if(Qa(f,s,Ur,!Ya),bs(f,0,!0)!==0)break t;ga=s,f.timeoutHandle=c_(Bv.bind(null,f,c,Ar,eh,eg,s,Ur,zn,Hs,Ya,b,"Throttled",-0,0),m);break t}Bv(f,c,Ar,eh,eg,s,Ur,zn,Hs,Ya,b,null,-0,0)}}break}while(!0);ji(a)}function Bv(a,s,c,f,m,b,C,A,$,X,rt,nt,K,Z){if(a.timeoutHandle=-1,nt=s.subtreeFlags,nt&8192||(nt&16785408)===16785408){nt={stylesheets:null,count:0,imgCount:0,imgBytes:0,suspenseyImages:[],waitingForImages:!0,waitingForViewTransition:!1,unsuspend:ta},Cv(s,b,nt);var yt=(b&62914560)===b?Ju-Xe():(b&4194048)===b?Ov-Xe():0;if(yt=yL(nt,yt),yt!==null){ga=b,a.cancelPendingCommit=yt(Uv.bind(null,a,s,b,c,f,m,C,A,$,rt,nt,null,K,Z)),Qa(a,b,C,!X);return}}Uv(a,s,b,c,f,m,C,A,$)}function BR(a){for(var s=a;;){var c=s.tag;if((c===0||c===11||c===15)&&s.flags&16384&&(c=s.updateQueue,c!==null&&(c=c.stores,c!==null)))for(var f=0;f<c.length;f++){var m=c[f],b=m.getSnapshot;m=m.value;try{if(!jr(b(),m))return!1}catch{return!1}}if(c=s.child,s.subtreeFlags&16384&&c!==null)c.return=s,s=c;else{if(s===a)break;for(;s.sibling===null;){if(s.return===null||s.return===a)return!0;s=s.return}s.sibling.return=s.return,s=s.sibling}}return!0}function Qa(a,s,c,f){s&=~tg,s&=~zn,a.suspendedLanes|=s,a.pingedLanes&=~s,f&&(a.warmLanes|=s),f=a.expirationTimes;for(var m=s;0<m;){var b=31-Re(m),C=1<<b;f[b]=-1,m&=~C}c!==0&&Zl(a,c,s)}function rh(){return(ee&6)===0?(jo(0),!1):!0}function ng(){if(qt!==null){if(se===0)var a=qt.return;else a=qt,aa=On=null,_p(a),js=null,bo=0,a=qt;for(;a!==null;)uv(a.alternate,a),a=a.return;qt=null}}function Gs(a,s){var c=a.timeoutHandle;c!==-1&&(a.timeoutHandle=-1,JR(c)),c=a.cancelPendingCommit,c!==null&&(a.cancelPendingCommit=null,c()),ga=0,ng(),de=a,qt=c=ra(a.current,null),Gt=s,se=0,Pr=null,Ya=!1,qs=wn(a,s),Jp=!1,Hs=Ur=tg=zn=Va=ke=0,Ar=No=null,eg=!1,(s&8)!==0&&(s|=s&32);var f=a.entangledLanes;if(f!==0)for(a=a.entanglements,f&=s;0<f;){var m=31-Re(f),b=1<<m;s|=a[m],f&=~b}return pa=s,Su(),c}function Nv(a,s){Ft=null,R.H=To,s===Ds||s===Lu?(s=Kb(),se=3):s===cp?(s=Kb(),se=4):se=s===$p?8:s!==null&&typeof s=="object"&&typeof s.then=="function"?6:1,Pr=s,qt===null&&(ke=1,Wu(a,ii(s,a.current)))}function Dv(){var a=zr.current;return a===null?!0:(Gt&4194048)===Gt?li===null:(Gt&62914560)===Gt||(Gt&536870912)!==0?a===li:!1}function jv(){var a=R.H;return R.H=To,a===null?To:a}function $v(){var a=R.A;return R.A=LR,a}function ih(){ke=4,Ya||(Gt&4194048)!==Gt&&zr.current!==null||(qs=!0),(Va&134217727)===0&&(zn&134217727)===0||de===null||Qa(de,Gt,Ur,!1)}function sg(a,s,c){var f=ee;ee|=2;var m=jv(),b=$v();(de!==a||Gt!==s)&&(eh=null,Gs(a,s)),s=!1;var C=ke;t:do try{if(se!==0&&qt!==null){var A=qt,$=Pr;switch(se){case 8:ng(),C=6;break t;case 3:case 2:case 9:case 6:zr.current===null&&(s=!0);var X=se;if(se=0,Pr=null,Ys(a,A,$,X),c&&qs){C=0;break t}break;default:X=se,se=0,Pr=null,Ys(a,A,$,X)}}NR(),C=ke;break}catch(rt){Nv(a,rt)}while(!0);return s&&a.shellSuspendCounter++,aa=On=null,ee=f,R.H=m,R.A=b,qt===null&&(de=null,Gt=0,Su()),C}function NR(){for(;qt!==null;)zv(qt)}function DR(a,s){var c=ee;ee|=2;var f=jv(),m=$v();de!==a||Gt!==s?(eh=null,th=Xe()+500,Gs(a,s)):qs=wn(a,s);t:do try{if(se!==0&&qt!==null){s=qt;var b=Pr;e:switch(se){case 1:se=0,Pr=null,Ys(a,s,b,1);break;case 2:case 9:if(Vb(b)){se=0,Pr=null,Fv(s);break}s=function(){se!==2&&se!==9||de!==a||(se=7),ji(a)},b.then(s,s);break t;case 3:se=7;break t;case 4:se=5;break t;case 7:Vb(b)?(se=0,Pr=null,Fv(s)):(se=0,Pr=null,Ys(a,s,b,7));break;case 5:var C=null;switch(qt.tag){case 26:C=qt.memoizedState;case 5:case 27:var A=qt;if(C?k_(C):A.stateNode.complete){se=0,Pr=null;var $=A.sibling;if($!==null)qt=$;else{var X=A.return;X!==null?(qt=X,ah(X)):qt=null}break e}}se=0,Pr=null,Ys(a,s,b,5);break;case 6:se=0,Pr=null,Ys(a,s,b,6);break;case 8:ng(),ke=6;break t;default:throw Error(i(462))}}jR();break}catch(rt){Nv(a,rt)}while(!0);return aa=On=null,R.H=f,R.A=m,ee=c,qt!==null?0:(de=null,Gt=0,Su(),ke)}function jR(){for(;qt!==null&&!nu();)zv(qt)}function zv(a){var s=ov(a.alternate,a,pa);a.memoizedProps=a.pendingProps,s===null?ah(a):qt=s}function Fv(a){var s=a,c=s.alternate;switch(s.tag){case 15:case 0:s=rv(c,s,s.pendingProps,s.type,void 0,Gt);break;case 11:s=rv(c,s,s.pendingProps,s.type.render,s.ref,Gt);break;case 5:_p(s);default:uv(c,s),s=qt=$b(s,pa),s=ov(c,s,pa)}a.memoizedProps=a.pendingProps,s===null?ah(a):qt=s}function Ys(a,s,c,f){aa=On=null,_p(s),js=null,bo=0;var m=s.return;try{if(kR(a,m,s,c,Gt)){ke=1,Wu(a,ii(c,a.current)),qt=null;return}}catch(b){if(m!==null)throw qt=m,b;ke=1,Wu(a,ii(c,a.current)),qt=null;return}s.flags&32768?(Vt||f===1?a=!0:qs||(Gt&536870912)!==0?a=!1:(Ya=a=!0,(f===2||f===9||f===3||f===6)&&(f=zr.current,f!==null&&f.tag===13&&(f.flags|=16384))),Pv(s,a)):ah(s)}function ah(a){var s=a;do{if((s.flags&32768)!==0){Pv(s,Ya);return}a=s.return;var c=ER(s.alternate,s,pa);if(c!==null){qt=c;return}if(s=s.sibling,s!==null){qt=s;return}qt=s=a}while(s!==null);ke===0&&(ke=5)}function Pv(a,s){do{var c=AR(a.alternate,a);if(c!==null){c.flags&=32767,qt=c;return}if(c=a.return,c!==null&&(c.flags|=32768,c.subtreeFlags=0,c.deletions=null),!s&&(a=a.sibling,a!==null)){qt=a;return}qt=a=c}while(a!==null);ke=6,qt=null}function Uv(a,s,c,f,m,b,C,A,$){a.cancelPendingCommit=null;do nh();while(Fe!==0);if((ee&6)!==0)throw Error(i(327));if(s!==null){if(s===a.current)throw Error(i(177));if(b=s.lanes|s.childLanes,b|=Vf,Ql(a,c,b,C,A,$),a===de&&(qt=de=null,Gt=0),Ws=s,Ka=a,ga=c,rg=b,ig=m,Rv=f,(s.subtreeFlags&10256)!==0||(s.flags&10256)!==0?(a.callbackNode=null,a.callbackPriority=0,PR(Na,function(){return Gv(),null})):(a.callbackNode=null,a.callbackPriority=0),f=(s.flags&13878)!==0,(s.subtreeFlags&13878)!==0||f){f=R.T,R.T=null,m=j.p,j.p=2,C=ee,ee|=4;try{OR(a,s,c)}finally{ee=C,j.p=m,R.T=f}}Fe=1,Iv(),qv(),Hv()}}function Iv(){if(Fe===1){Fe=0;var a=Ka,s=Ws,c=(s.flags&13878)!==0;if((s.subtreeFlags&13878)!==0||c){c=R.T,R.T=null;var f=j.p;j.p=2;var m=ee;ee|=4;try{wv(s,a);var b=bg,C=Ab(a.containerInfo),A=b.focusedElem,$=b.selectionRange;if(C!==A&&A&&A.ownerDocument&&Eb(A.ownerDocument.documentElement,A)){if($!==null&&qf(A)){var X=$.start,rt=$.end;if(rt===void 0&&(rt=X),"selectionStart"in A)A.selectionStart=X,A.selectionEnd=Math.min(rt,A.value.length);else{var nt=A.ownerDocument||document,K=nt&&nt.defaultView||window;if(K.getSelection){var Z=K.getSelection(),yt=A.textContent.length,Mt=Math.min($.start,yt),he=$.end===void 0?Mt:Math.min($.end,yt);!Z.extend&&Mt>he&&(C=he,he=Mt,Mt=C);var W=Tb(A,Mt),U=Tb(A,he);if(W&&U&&(Z.rangeCount!==1||Z.anchorNode!==W.node||Z.anchorOffset!==W.offset||Z.focusNode!==U.node||Z.focusOffset!==U.offset)){var V=nt.createRange();V.setStart(W.node,W.offset),Z.removeAllRanges(),Mt>he?(Z.addRange(V),Z.extend(U.node,U.offset)):(V.setEnd(U.node,U.offset),Z.addRange(V))}}}}for(nt=[],Z=A;Z=Z.parentNode;)Z.nodeType===1&&nt.push({element:Z,left:Z.scrollLeft,top:Z.scrollTop});for(typeof A.focus=="function"&&A.focus(),A=0;A<nt.length;A++){var at=nt[A];at.element.scrollLeft=at.left,at.element.scrollTop=at.top}}yh=!!yg,bg=yg=null}finally{ee=m,j.p=f,R.T=c}}a.current=s,Fe=2}}function qv(){if(Fe===2){Fe=0;var a=Ka,s=Ws,c=(s.flags&8772)!==0;if((s.subtreeFlags&8772)!==0||c){c=R.T,R.T=null;var f=j.p;j.p=2;var m=ee;ee|=4;try{yv(a,s.alternate,s)}finally{ee=m,j.p=f,R.T=c}}Fe=3}}function Hv(){if(Fe===4||Fe===3){Fe=0,Cf();var a=Ka,s=Ws,c=ga,f=Rv;(s.subtreeFlags&10256)!==0||(s.flags&10256)!==0?Fe=5:(Fe=0,Ws=Ka=null,Wv(a,a.pendingLanes));var m=a.pendingLanes;if(m===0&&(Xa=null),gi(c),s=s.stateNode,Ge&&typeof Ge.onCommitFiberRoot=="function")try{Ge.onCommitFiberRoot(Li,s,void 0,(s.current.flags&128)===128)}catch{}if(f!==null){s=R.T,m=j.p,j.p=2,R.T=null;try{for(var b=a.onRecoverableError,C=0;C<f.length;C++){var A=f[C];b(A.value,{componentStack:A.stack})}}finally{R.T=s,j.p=m}}(ga&3)!==0&&nh(),ji(a),m=a.pendingLanes,(c&261930)!==0&&(m&42)!==0?a===ag?Do++:(Do=0,ag=a):Do=0,jo(0)}}function Wv(a,s){(a.pooledCacheLanes&=s)===0&&(s=a.pooledCache,s!=null&&(a.pooledCache=null,mo(s)))}function nh(){return Iv(),qv(),Hv(),Gv()}function Gv(){if(Fe!==5)return!1;var a=Ka,s=rg;rg=0;var c=gi(ga),f=R.T,m=j.p;try{j.p=32>c?32:c,R.T=null,c=ig,ig=null;var b=Ka,C=ga;if(Fe=0,Ws=Ka=null,ga=0,(ee&6)!==0)throw Error(i(331));var A=ee;if(ee|=4,Ev(b.current),kv(b,b.current,C,c),ee=A,jo(0,!1),Ge&&typeof Ge.onPostCommitFiberRoot=="function")try{Ge.onPostCommitFiberRoot(Li,b)}catch{}return!0}finally{j.p=m,R.T=f,Wv(a,s)}}function Yv(a,s,c){s=ii(c,s),s=jp(a.stateNode,s,2),a=qa(a,s,2),a!==null&&(Da(a,2),ji(a))}function le(a,s,c){if(a.tag===3)Yv(a,a,c);else for(;s!==null;){if(s.tag===3){Yv(s,a,c);break}else if(s.tag===1){var f=s.stateNode;if(typeof s.type.getDerivedStateFromError=="function"||typeof f.componentDidCatch=="function"&&(Xa===null||!Xa.has(f))){a=ii(c,a),c=Vx(2),f=qa(s,c,2),f!==null&&(Xx(c,f,s,a),Da(f,2),ji(f));break}}s=s.return}}function lg(a,s,c){var f=a.pingCache;if(f===null){f=a.pingCache=new MR;var m=new Set;f.set(s,m)}else m=f.get(s),m===void 0&&(m=new Set,f.set(s,m));m.has(c)||(Jp=!0,m.add(c),a=$R.bind(null,a,s,c),s.then(a,a))}function $R(a,s,c){var f=a.pingCache;f!==null&&f.delete(s),a.pingedLanes|=a.suspendedLanes&c,a.warmLanes&=~c,de===a&&(Gt&c)===c&&(ke===4||ke===3&&(Gt&62914560)===Gt&&300>Xe()-Ju?(ee&2)===0&&Gs(a,0):tg|=c,Hs===Gt&&(Hs=0)),ji(a)}function Vv(a,s){s===0&&(s=Qi()),a=Tn(a,s),a!==null&&(Da(a,s),ji(a))}function zR(a){var s=a.memoizedState,c=0;s!==null&&(c=s.retryLane),Vv(a,c)}function FR(a,s){var c=0;switch(a.tag){case 31:case 13:var f=a.stateNode,m=a.memoizedState;m!==null&&(c=m.retryLane);break;case 19:f=a.stateNode;break;case 22:f=a.stateNode._retryCache;break;default:throw Error(i(314))}f!==null&&f.delete(s),Vv(a,c)}function PR(a,s){return Ba(a,s)}var sh=null,Vs=null,og=!1,lh=!1,cg=!1,Za=0;function ji(a){a!==Vs&&a.next===null&&(Vs===null?sh=Vs=a:Vs=Vs.next=a),lh=!0,og||(og=!0,IR())}function jo(a,s){if(!cg&&lh){cg=!0;do for(var c=!1,f=sh;f!==null;){if(a!==0){var m=f.pendingLanes;if(m===0)var b=0;else{var C=f.suspendedLanes,A=f.pingedLanes;b=(1<<31-Re(42|a)+1)-1,b&=m&~(C&~A),b=b&201326741?b&201326741|1:b?b|2:0}b!==0&&(c=!0,Zv(f,b))}else b=Gt,b=bs(f,f===de?b:0,f.cancelPendingCommit!==null||f.timeoutHandle!==-1),(b&3)===0||wn(f,b)||(c=!0,Zv(f,b));f=f.next}while(c);cg=!1}}function UR(){Xv()}function Xv(){lh=og=!1;var a=0;Za!==0&&ZR()&&(a=Za);for(var s=Xe(),c=null,f=sh;f!==null;){var m=f.next,b=Kv(f,s);b===0?(f.next=null,c===null?sh=m:c.next=m,m===null&&(Vs=c)):(c=f,(a!==0||(b&3)!==0)&&(lh=!0)),f=m}Fe!==0&&Fe!==5||jo(a),Za!==0&&(Za=0)}function Kv(a,s){for(var c=a.suspendedLanes,f=a.pingedLanes,m=a.expirationTimes,b=a.pendingLanes&-62914561;0<b;){var C=31-Re(b),A=1<<C,$=m[C];$===-1?((A&c)===0||(A&f)!==0)&&(m[C]=Te(A,s)):$<=s&&(a.expiredLanes|=A),b&=~A}if(s=de,c=Gt,c=bs(a,a===s?c:0,a.cancelPendingCommit!==null||a.timeoutHandle!==-1),f=a.callbackNode,c===0||a===s&&(se===2||se===9)||a.cancelPendingCommit!==null)return f!==null&&f!==null&&ms(f),a.callbackNode=null,a.callbackPriority=0;if((c&3)===0||wn(a,c)){if(s=c&-c,s===a.callbackPriority)return s;switch(f!==null&&ms(f),gi(c)){case 2:case 8:c=Nr;break;case 32:c=Na;break;case 268435456:c=Gl;break;default:c=Na}return f=Qv.bind(null,a),c=Ba(c,f),a.callbackPriority=s,a.callbackNode=c,s}return f!==null&&f!==null&&ms(f),a.callbackPriority=2,a.callbackNode=null,2}function Qv(a,s){if(Fe!==0&&Fe!==5)return a.callbackNode=null,a.callbackPriority=0,null;var c=a.callbackNode;if(nh()&&a.callbackNode!==c)return null;var f=Gt;return f=bs(a,a===de?f:0,a.cancelPendingCommit!==null||a.timeoutHandle!==-1),f===0?null:(Mv(a,f,s),Kv(a,Xe()),a.callbackNode!=null&&a.callbackNode===c?Qv.bind(null,a):null)}function Zv(a,s){if(nh())return null;Mv(a,s,!0)}function IR(){tL(function(){(ee&6)!==0?Ba(Vi,UR):Xv()})}function ug(){if(Za===0){var a=Bs;a===0&&(a=Xi,Xi<<=1,(Xi&261888)===0&&(Xi=256)),Za=a}return Za}function Jv(a){return a==null||typeof a=="symbol"||typeof a=="boolean"?null:typeof a=="function"?a:gu(""+a)}function t_(a,s){var c=s.ownerDocument.createElement("input");return c.name=s.name,c.value=s.value,a.id&&c.setAttribute("form",a.id),s.parentNode.insertBefore(c,s),a=new FormData(a),c.parentNode.removeChild(c),a}function qR(a,s,c,f,m){if(s==="submit"&&c&&c.stateNode===m){var b=Jv((m[ye]||null).action),C=f.submitter;C&&(s=(s=C[ye]||null)?Jv(s.formAction):C.getAttribute("formAction"),s!==null&&(b=s,C=null));var A=new xu("action","action",null,f,m);a.push({event:A,listeners:[{instance:null,listener:function(){if(f.defaultPrevented){if(Za!==0){var $=C?t_(m,C):new FormData(m);Rp(c,{pending:!0,data:$,method:m.method,action:b},null,$)}}else typeof b=="function"&&(A.preventDefault(),$=C?t_(m,C):new FormData(m),Rp(c,{pending:!0,data:$,method:m.method,action:b},b,$))},currentTarget:m}]})}}for(var hg=0;hg<Yf.length;hg++){var dg=Yf[hg],HR=dg.toLowerCase(),WR=dg[0].toUpperCase()+dg.slice(1);mi(HR,"on"+WR)}mi(Lb,"onAnimationEnd"),mi(Mb,"onAnimationIteration"),mi(Bb,"onAnimationStart"),mi("dblclick","onDoubleClick"),mi("focusin","onFocus"),mi("focusout","onBlur"),mi(lR,"onTransitionRun"),mi(oR,"onTransitionStart"),mi(cR,"onTransitionCancel"),mi(Nb,"onTransitionEnd"),Mi("onMouseEnter",["mouseout","mouseover"]),Mi("onMouseLeave",["mouseout","mouseover"]),Mi("onPointerEnter",["pointerout","pointerover"]),Mi("onPointerLeave",["pointerout","pointerover"]),Sr("onChange","change click focusin focusout input keydown keyup selectionchange".split(" ")),Sr("onSelect","focusout contextmenu dragend focusin keydown keyup mousedown mouseup selectionchange".split(" ")),Sr("onBeforeInput",["compositionend","keypress","textInput","paste"]),Sr("onCompositionEnd","compositionend focusout keydown keypress keyup mousedown".split(" ")),Sr("onCompositionStart","compositionstart focusout keydown keypress keyup mousedown".split(" ")),Sr("onCompositionUpdate","compositionupdate focusout keydown keypress keyup mousedown".split(" "));var $o="abort canplay canplaythrough durationchange emptied encrypted ended error loadeddata loadedmetadata loadstart pause play playing progress ratechange resize seeked seeking stalled suspend timeupdate volumechange waiting".split(" "),GR=new Set("beforetoggle cancel close invalid load scroll scrollend toggle".split(" ").concat($o));function e_(a,s){s=(s&4)!==0;for(var c=0;c<a.length;c++){var f=a[c],m=f.event;f=f.listeners;t:{var b=void 0;if(s)for(var C=f.length-1;0<=C;C--){var A=f[C],$=A.instance,X=A.currentTarget;if(A=A.listener,$!==b&&m.isPropagationStopped())break t;b=A,m.currentTarget=X;try{b(m)}catch(rt){wu(rt)}m.currentTarget=null,b=$}else for(C=0;C<f.length;C++){if(A=f[C],$=A.instance,X=A.currentTarget,A=A.listener,$!==b&&m.isPropagationStopped())break t;b=A,m.currentTarget=X;try{b(m)}catch(rt){wu(rt)}m.currentTarget=null,b=$}}}}function Ht(a,s){var c=s[xs];c===void 0&&(c=s[xs]=new Set);var f=a+"__bubble";c.has(f)||(r_(s,a,2,!1),c.add(f))}function fg(a,s,c){var f=0;s&&(f|=4),r_(c,a,f,s)}var oh="_reactListening"+Math.random().toString(36).slice(2);function pg(a){if(!a[oh]){a[oh]=!0,Ke.forEach(function(c){c!=="selectionchange"&&(GR.has(c)||fg(c,!1,a),fg(c,!0,a))});var s=a.nodeType===9?a:a.ownerDocument;s===null||s[oh]||(s[oh]=!0,fg("selectionchange",!1,s))}}function r_(a,s,c,f){switch(L_(s)){case 2:var m=vL;break;case 8:m=_L;break;default:m=Og}c=m.bind(null,s,c,a),m=void 0,!Nf||s!=="touchstart"&&s!=="touchmove"&&s!=="wheel"||(m=!0),f?m!==void 0?a.addEventListener(s,c,{capture:!0,passive:m}):a.addEventListener(s,c,!0):m!==void 0?a.addEventListener(s,c,{passive:m}):a.addEventListener(s,c,!1)}function gg(a,s,c,f,m){var b=f;if((s&1)===0&&(s&2)===0&&f!==null)t:for(;;){if(f===null)return;var C=f.tag;if(C===3||C===4){var A=f.stateNode.containerInfo;if(A===m)break;if(C===4)for(C=f.return;C!==null;){var $=C.tag;if(($===3||$===4)&&C.stateNode.containerInfo===m)return;C=C.return}for(;A!==null;){if(C=ut(A),C===null)return;if($=C.tag,$===5||$===6||$===26||$===27){f=b=C;continue t}A=A.parentNode}}f=f.return}lb(function(){var X=b,rt=Mf(c),nt=[];t:{var K=Db.get(a);if(K!==void 0){var Z=xu,yt=a;switch(a){case"keypress":if(yu(c)===0)break t;case"keydown":case"keyup":Z=FO;break;case"focusin":yt="focus",Z=zf;break;case"focusout":yt="blur",Z=zf;break;case"beforeblur":case"afterblur":Z=zf;break;case"click":if(c.button===2)break t;case"auxclick":case"dblclick":case"mousedown":case"mousemove":case"mouseup":case"mouseout":case"mouseover":case"contextmenu":Z=ub;break;case"drag":case"dragend":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"dragstart":case"drop":Z=EO;break;case"touchcancel":case"touchend":case"touchmove":case"touchstart":Z=IO;break;case Lb:case Mb:case Bb:Z=RO;break;case Nb:Z=HO;break;case"scroll":case"scrollend":Z=CO;break;case"wheel":Z=GO;break;case"copy":case"cut":case"paste":Z=MO;break;case"gotpointercapture":case"lostpointercapture":case"pointercancel":case"pointerdown":case"pointermove":case"pointerout":case"pointerover":case"pointerup":Z=db;break;case"toggle":case"beforetoggle":Z=VO}var Mt=(s&4)!==0,he=!Mt&&(a==="scroll"||a==="scrollend"),W=Mt?K!==null?K+"Capture":null:K;Mt=[];for(var U=X,V;U!==null;){var at=U;if(V=at.stateNode,at=at.tag,at!==5&&at!==26&&at!==27||V===null||W===null||(at=ao(U,W),at!=null&&Mt.push(zo(U,at,V))),he)break;U=U.return}0<Mt.length&&(K=new Z(K,yt,null,c,rt),nt.push({event:K,listeners:Mt}))}}if((s&7)===0){t:{if(K=a==="mouseover"||a==="pointerover",Z=a==="mouseout"||a==="pointerout",K&&c!==Lf&&(yt=c.relatedTarget||c.fromElement)&&(ut(yt)||yt[Zi]))break t;if((Z||K)&&(K=rt.window===rt?rt:(K=rt.ownerDocument)?K.defaultView||K.parentWindow:window,Z?(yt=c.relatedTarget||c.toElement,Z=X,yt=yt?ut(yt):null,yt!==null&&(he=l(yt),Mt=yt.tag,yt!==he||Mt!==5&&Mt!==27&&Mt!==6)&&(yt=null)):(Z=null,yt=X),Z!==yt)){if(Mt=ub,at="onMouseLeave",W="onMouseEnter",U="mouse",(a==="pointerout"||a==="pointerover")&&(Mt=db,at="onPointerLeave",W="onPointerEnter",U="pointer"),he=Z==null?K:re(Z),V=yt==null?K:re(yt),K=new Mt(at,U+"leave",Z,c,rt),K.target=he,K.relatedTarget=V,at=null,ut(rt)===X&&(Mt=new Mt(W,U+"enter",yt,c,rt),Mt.target=V,Mt.relatedTarget=he,at=Mt),he=at,Z&&yt)e:{for(Mt=YR,W=Z,U=yt,V=0,at=W;at;at=Mt(at))V++;at=0;for(var At=U;At;At=Mt(At))at++;for(;0<V-at;)W=Mt(W),V--;for(;0<at-V;)U=Mt(U),at--;for(;V--;){if(W===U||U!==null&&W===U.alternate){Mt=W;break e}W=Mt(W),U=Mt(U)}Mt=null}else Mt=null;Z!==null&&i_(nt,K,Z,Mt,!1),yt!==null&&he!==null&&i_(nt,he,yt,Mt,!0)}}t:{if(K=X?re(X):window,Z=K.nodeName&&K.nodeName.toLowerCase(),Z==="select"||Z==="input"&&K.type==="file")var Qt=vb;else if(bb(K))if(_b)Qt=aR;else{Qt=rR;var kt=eR}else Z=K.nodeName,!Z||Z.toLowerCase()!=="input"||K.type!=="checkbox"&&K.type!=="radio"?X&&Rf(X.elementType)&&(Qt=vb):Qt=iR;if(Qt&&(Qt=Qt(a,X))){xb(nt,Qt,c,rt);break t}kt&&kt(a,K,X),a==="focusout"&&X&&K.type==="number"&&X.memoizedProps.value!=null&&Of(K,"number",K.value)}switch(kt=X?re(X):window,a){case"focusin":(bb(kt)||kt.contentEditable==="true")&&(Cs=kt,Hf=X,fo=null);break;case"focusout":fo=Hf=Cs=null;break;case"mousedown":Wf=!0;break;case"contextmenu":case"mouseup":case"dragend":Wf=!1,Ob(nt,c,rt);break;case"selectionchange":if(sR)break;case"keydown":case"keyup":Ob(nt,c,rt)}var Pt;if(Pf)t:{switch(a){case"compositionstart":var Yt="onCompositionStart";break t;case"compositionend":Yt="onCompositionEnd";break t;case"compositionupdate":Yt="onCompositionUpdate";break t}Yt=void 0}else ks?mb(a,c)&&(Yt="onCompositionEnd"):a==="keydown"&&c.keyCode===229&&(Yt="onCompositionStart");Yt&&(fb&&c.locale!=="ko"&&(ks||Yt!=="onCompositionStart"?Yt==="onCompositionEnd"&&ks&&(Pt=ob()):(ja=rt,Df="value"in ja?ja.value:ja.textContent,ks=!0)),kt=ch(X,Yt),0<kt.length&&(Yt=new hb(Yt,a,null,c,rt),nt.push({event:Yt,listeners:kt}),Pt?Yt.data=Pt:(Pt=yb(c),Pt!==null&&(Yt.data=Pt)))),(Pt=KO?QO(a,c):ZO(a,c))&&(Yt=ch(X,"onBeforeInput"),0<Yt.length&&(kt=new hb("onBeforeInput","beforeinput",null,c,rt),nt.push({event:kt,listeners:Yt}),kt.data=Pt)),qR(nt,a,X,c,rt)}e_(nt,s)})}function zo(a,s,c){return{instance:a,listener:s,currentTarget:c}}function ch(a,s){for(var c=s+"Capture",f=[];a!==null;){var m=a,b=m.stateNode;if(m=m.tag,m!==5&&m!==26&&m!==27||b===null||(m=ao(a,c),m!=null&&f.unshift(zo(a,m,b)),m=ao(a,s),m!=null&&f.push(zo(a,m,b))),a.tag===3)return f;a=a.return}return[]}function YR(a){if(a===null)return null;do a=a.return;while(a&&a.tag!==5&&a.tag!==27);return a||null}function i_(a,s,c,f,m){for(var b=s._reactName,C=[];c!==null&&c!==f;){var A=c,$=A.alternate,X=A.stateNode;if(A=A.tag,$!==null&&$===f)break;A!==5&&A!==26&&A!==27||X===null||($=X,m?(X=ao(c,b),X!=null&&C.unshift(zo(c,X,$))):m||(X=ao(c,b),X!=null&&C.push(zo(c,X,$)))),c=c.return}C.length!==0&&a.push({event:s,listeners:C})}var VR=/\r\n?/g,XR=/\u0000|\uFFFD/g;function a_(a){return(typeof a=="string"?a:""+a).replace(VR,`
`).replace(XR,"")}function n_(a,s){return s=a_(s),a_(a)===s}function ue(a,s,c,f,m,b){switch(c){case"children":typeof f=="string"?s==="body"||s==="textarea"&&f===""||_s(a,f):(typeof f=="number"||typeof f=="bigint")&&s!=="body"&&_s(a,""+f);break;case"className":fu(a,"class",f);break;case"tabIndex":fu(a,"tabindex",f);break;case"dir":case"role":case"viewBox":case"width":case"height":fu(a,c,f);break;case"style":nb(a,f,b);break;case"data":if(s!=="object"){fu(a,"data",f);break}case"src":case"href":if(f===""&&(s!=="a"||c!=="href")){a.removeAttribute(c);break}if(f==null||typeof f=="function"||typeof f=="symbol"||typeof f=="boolean"){a.removeAttribute(c);break}f=gu(""+f),a.setAttribute(c,f);break;case"action":case"formAction":if(typeof f=="function"){a.setAttribute(c,"javascript:throw new Error('A React form was unexpectedly submitted. If you called form.submit() manually, consider using form.requestSubmit() instead. If you\\'re trying to use event.stopPropagation() in a submit event handler, consider also calling event.preventDefault().')");break}else typeof b=="function"&&(c==="formAction"?(s!=="input"&&ue(a,s,"name",m.name,m,null),ue(a,s,"formEncType",m.formEncType,m,null),ue(a,s,"formMethod",m.formMethod,m,null),ue(a,s,"formTarget",m.formTarget,m,null)):(ue(a,s,"encType",m.encType,m,null),ue(a,s,"method",m.method,m,null),ue(a,s,"target",m.target,m,null)));if(f==null||typeof f=="symbol"||typeof f=="boolean"){a.removeAttribute(c);break}f=gu(""+f),a.setAttribute(c,f);break;case"onClick":f!=null&&(a.onclick=ta);break;case"onScroll":f!=null&&Ht("scroll",a);break;case"onScrollEnd":f!=null&&Ht("scrollend",a);break;case"dangerouslySetInnerHTML":if(f!=null){if(typeof f!="object"||!("__html"in f))throw Error(i(61));if(c=f.__html,c!=null){if(m.children!=null)throw Error(i(60));a.innerHTML=c}}break;case"multiple":a.multiple=f&&typeof f!="function"&&typeof f!="symbol";break;case"muted":a.muted=f&&typeof f!="function"&&typeof f!="symbol";break;case"suppressContentEditableWarning":case"suppressHydrationWarning":case"defaultValue":case"defaultChecked":case"innerHTML":case"ref":break;case"autoFocus":break;case"xlinkHref":if(f==null||typeof f=="function"||typeof f=="boolean"||typeof f=="symbol"){a.removeAttribute("xlink:href");break}c=gu(""+f),a.setAttributeNS("http://www.w3.org/1999/xlink","xlink:href",c);break;case"contentEditable":case"spellCheck":case"draggable":case"value":case"autoReverse":case"externalResourcesRequired":case"focusable":case"preserveAlpha":f!=null&&typeof f!="function"&&typeof f!="symbol"?a.setAttribute(c,""+f):a.removeAttribute(c);break;case"inert":case"allowFullScreen":case"async":case"autoPlay":case"controls":case"default":case"defer":case"disabled":case"disablePictureInPicture":case"disableRemotePlayback":case"formNoValidate":case"hidden":case"loop":case"noModule":case"noValidate":case"open":case"playsInline":case"readOnly":case"required":case"reversed":case"scoped":case"seamless":case"itemScope":f&&typeof f!="function"&&typeof f!="symbol"?a.setAttribute(c,""):a.removeAttribute(c);break;case"capture":case"download":f===!0?a.setAttribute(c,""):f!==!1&&f!=null&&typeof f!="function"&&typeof f!="symbol"?a.setAttribute(c,f):a.removeAttribute(c);break;case"cols":case"rows":case"size":case"span":f!=null&&typeof f!="function"&&typeof f!="symbol"&&!isNaN(f)&&1<=f?a.setAttribute(c,f):a.removeAttribute(c);break;case"rowSpan":case"start":f==null||typeof f=="function"||typeof f=="symbol"||isNaN(f)?a.removeAttribute(c):a.setAttribute(c,f);break;case"popover":Ht("beforetoggle",a),Ht("toggle",a),du(a,"popover",f);break;case"xlinkActuate":Ji(a,"http://www.w3.org/1999/xlink","xlink:actuate",f);break;case"xlinkArcrole":Ji(a,"http://www.w3.org/1999/xlink","xlink:arcrole",f);break;case"xlinkRole":Ji(a,"http://www.w3.org/1999/xlink","xlink:role",f);break;case"xlinkShow":Ji(a,"http://www.w3.org/1999/xlink","xlink:show",f);break;case"xlinkTitle":Ji(a,"http://www.w3.org/1999/xlink","xlink:title",f);break;case"xlinkType":Ji(a,"http://www.w3.org/1999/xlink","xlink:type",f);break;case"xmlBase":Ji(a,"http://www.w3.org/XML/1998/namespace","xml:base",f);break;case"xmlLang":Ji(a,"http://www.w3.org/XML/1998/namespace","xml:lang",f);break;case"xmlSpace":Ji(a,"http://www.w3.org/XML/1998/namespace","xml:space",f);break;case"is":du(a,"is",f);break;case"innerText":case"textContent":break;default:(!(2<c.length)||c[0]!=="o"&&c[0]!=="O"||c[1]!=="n"&&c[1]!=="N")&&(c=SO.get(c)||c,du(a,c,f))}}function mg(a,s,c,f,m,b){switch(c){case"style":nb(a,f,b);break;case"dangerouslySetInnerHTML":if(f!=null){if(typeof f!="object"||!("__html"in f))throw Error(i(61));if(c=f.__html,c!=null){if(m.children!=null)throw Error(i(60));a.innerHTML=c}}break;case"children":typeof f=="string"?_s(a,f):(typeof f=="number"||typeof f=="bigint")&&_s(a,""+f);break;case"onScroll":f!=null&&Ht("scroll",a);break;case"onScrollEnd":f!=null&&Ht("scrollend",a);break;case"onClick":f!=null&&(a.onclick=ta);break;case"suppressContentEditableWarning":case"suppressHydrationWarning":case"innerHTML":case"ref":break;case"innerText":case"textContent":break;default:if(!Jr.hasOwnProperty(c))t:{if(c[0]==="o"&&c[1]==="n"&&(m=c.endsWith("Capture"),s=c.slice(2,m?c.length-7:void 0),b=a[ye]||null,b=b!=null?b[c]:null,typeof b=="function"&&a.removeEventListener(s,b,m),typeof f=="function")){typeof b!="function"&&b!==null&&(c in a?a[c]=null:a.hasAttribute(c)&&a.removeAttribute(c)),a.addEventListener(s,f,m);break t}c in a?a[c]=f:f===!0?a.setAttribute(c,""):du(a,c,f)}}}function tr(a,s,c){switch(s){case"div":case"span":case"svg":case"path":case"a":case"g":case"p":case"li":break;case"img":Ht("error",a),Ht("load",a);var f=!1,m=!1,b;for(b in c)if(c.hasOwnProperty(b)){var C=c[b];if(C!=null)switch(b){case"src":f=!0;break;case"srcSet":m=!0;break;case"children":case"dangerouslySetInnerHTML":throw Error(i(137,s));default:ue(a,s,b,C,c,null)}}m&&ue(a,s,"srcSet",c.srcSet,c,null),f&&ue(a,s,"src",c.src,c,null);return;case"input":Ht("invalid",a);var A=b=C=m=null,$=null,X=null;for(f in c)if(c.hasOwnProperty(f)){var rt=c[f];if(rt!=null)switch(f){case"name":m=rt;break;case"type":C=rt;break;case"checked":$=rt;break;case"defaultChecked":X=rt;break;case"value":b=rt;break;case"defaultValue":A=rt;break;case"children":case"dangerouslySetInnerHTML":if(rt!=null)throw Error(i(137,s));break;default:ue(a,s,f,rt,c,null)}}eb(a,b,A,$,X,C,m,!1);return;case"select":Ht("invalid",a),f=C=b=null;for(m in c)if(c.hasOwnProperty(m)&&(A=c[m],A!=null))switch(m){case"value":b=A;break;case"defaultValue":C=A;break;case"multiple":f=A;default:ue(a,s,m,A,c,null)}s=b,c=C,a.multiple=!!f,s!=null?vs(a,!!f,s,!1):c!=null&&vs(a,!!f,c,!0);return;case"textarea":Ht("invalid",a),b=m=f=null;for(C in c)if(c.hasOwnProperty(C)&&(A=c[C],A!=null))switch(C){case"value":f=A;break;case"defaultValue":m=A;break;case"children":b=A;break;case"dangerouslySetInnerHTML":if(A!=null)throw Error(i(91));break;default:ue(a,s,C,A,c,null)}ib(a,f,m,b);return;case"option":for($ in c)c.hasOwnProperty($)&&(f=c[$],f!=null)&&($==="selected"?a.selected=f&&typeof f!="function"&&typeof f!="symbol":ue(a,s,$,f,c,null));return;case"dialog":Ht("beforetoggle",a),Ht("toggle",a),Ht("cancel",a),Ht("close",a);break;case"iframe":case"object":Ht("load",a);break;case"video":case"audio":for(f=0;f<$o.length;f++)Ht($o[f],a);break;case"image":Ht("error",a),Ht("load",a);break;case"details":Ht("toggle",a);break;case"embed":case"source":case"link":Ht("error",a),Ht("load",a);case"area":case"base":case"br":case"col":case"hr":case"keygen":case"meta":case"param":case"track":case"wbr":case"menuitem":for(X in c)if(c.hasOwnProperty(X)&&(f=c[X],f!=null))switch(X){case"children":case"dangerouslySetInnerHTML":throw Error(i(137,s));default:ue(a,s,X,f,c,null)}return;default:if(Rf(s)){for(rt in c)c.hasOwnProperty(rt)&&(f=c[rt],f!==void 0&&mg(a,s,rt,f,c,void 0));return}}for(A in c)c.hasOwnProperty(A)&&(f=c[A],f!=null&&ue(a,s,A,f,c,null))}function KR(a,s,c,f){switch(s){case"div":case"span":case"svg":case"path":case"a":case"g":case"p":case"li":break;case"input":var m=null,b=null,C=null,A=null,$=null,X=null,rt=null;for(Z in c){var nt=c[Z];if(c.hasOwnProperty(Z)&&nt!=null)switch(Z){case"checked":break;case"value":break;case"defaultValue":$=nt;default:f.hasOwnProperty(Z)||ue(a,s,Z,null,f,nt)}}for(var K in f){var Z=f[K];if(nt=c[K],f.hasOwnProperty(K)&&(Z!=null||nt!=null))switch(K){case"type":b=Z;break;case"name":m=Z;break;case"checked":X=Z;break;case"defaultChecked":rt=Z;break;case"value":C=Z;break;case"defaultValue":A=Z;break;case"children":case"dangerouslySetInnerHTML":if(Z!=null)throw Error(i(137,s));break;default:Z!==nt&&ue(a,s,K,Z,f,nt)}}Af(a,C,A,$,X,rt,b,m);return;case"select":Z=C=A=K=null;for(b in c)if($=c[b],c.hasOwnProperty(b)&&$!=null)switch(b){case"value":break;case"multiple":Z=$;default:f.hasOwnProperty(b)||ue(a,s,b,null,f,$)}for(m in f)if(b=f[m],$=c[m],f.hasOwnProperty(m)&&(b!=null||$!=null))switch(m){case"value":K=b;break;case"defaultValue":A=b;break;case"multiple":C=b;default:b!==$&&ue(a,s,m,b,f,$)}s=A,c=C,f=Z,K!=null?vs(a,!!c,K,!1):!!f!=!!c&&(s!=null?vs(a,!!c,s,!0):vs(a,!!c,c?[]:"",!1));return;case"textarea":Z=K=null;for(A in c)if(m=c[A],c.hasOwnProperty(A)&&m!=null&&!f.hasOwnProperty(A))switch(A){case"value":break;case"children":break;default:ue(a,s,A,null,f,m)}for(C in f)if(m=f[C],b=c[C],f.hasOwnProperty(C)&&(m!=null||b!=null))switch(C){case"value":K=m;break;case"defaultValue":Z=m;break;case"children":break;case"dangerouslySetInnerHTML":if(m!=null)throw Error(i(91));break;default:m!==b&&ue(a,s,C,m,f,b)}rb(a,K,Z);return;case"option":for(var yt in c)K=c[yt],c.hasOwnProperty(yt)&&K!=null&&!f.hasOwnProperty(yt)&&(yt==="selected"?a.selected=!1:ue(a,s,yt,null,f,K));for($ in f)K=f[$],Z=c[$],f.hasOwnProperty($)&&K!==Z&&(K!=null||Z!=null)&&($==="selected"?a.selected=K&&typeof K!="function"&&typeof K!="symbol":ue(a,s,$,K,f,Z));return;case"img":case"link":case"area":case"base":case"br":case"col":case"embed":case"hr":case"keygen":case"meta":case"param":case"source":case"track":case"wbr":case"menuitem":for(var Mt in c)K=c[Mt],c.hasOwnProperty(Mt)&&K!=null&&!f.hasOwnProperty(Mt)&&ue(a,s,Mt,null,f,K);for(X in f)if(K=f[X],Z=c[X],f.hasOwnProperty(X)&&K!==Z&&(K!=null||Z!=null))switch(X){case"children":case"dangerouslySetInnerHTML":if(K!=null)throw Error(i(137,s));break;default:ue(a,s,X,K,f,Z)}return;default:if(Rf(s)){for(var he in c)K=c[he],c.hasOwnProperty(he)&&K!==void 0&&!f.hasOwnProperty(he)&&mg(a,s,he,void 0,f,K);for(rt in f)K=f[rt],Z=c[rt],!f.hasOwnProperty(rt)||K===Z||K===void 0&&Z===void 0||mg(a,s,rt,K,f,Z);return}}for(var W in c)K=c[W],c.hasOwnProperty(W)&&K!=null&&!f.hasOwnProperty(W)&&ue(a,s,W,null,f,K);for(nt in f)K=f[nt],Z=c[nt],!f.hasOwnProperty(nt)||K===Z||K==null&&Z==null||ue(a,s,nt,K,f,Z)}function s_(a){switch(a){case"css":case"script":case"font":case"img":case"image":case"input":case"link":return!0;default:return!1}}function QR(){if(typeof performance.getEntriesByType=="function"){for(var a=0,s=0,c=performance.getEntriesByType("resource"),f=0;f<c.length;f++){var m=c[f],b=m.transferSize,C=m.initiatorType,A=m.duration;if(b&&A&&s_(C)){for(C=0,A=m.responseEnd,f+=1;f<c.length;f++){var $=c[f],X=$.startTime;if(X>A)break;var rt=$.transferSize,nt=$.initiatorType;rt&&s_(nt)&&($=$.responseEnd,C+=rt*($<A?1:(A-X)/($-X)))}if(--f,s+=8*(b+C)/(m.duration/1e3),a++,10<a)break}}if(0<a)return s/a/1e6}return navigator.connection&&(a=navigator.connection.downlink,typeof a=="number")?a:5}var yg=null,bg=null;function uh(a){return a.nodeType===9?a:a.ownerDocument}function l_(a){switch(a){case"http://www.w3.org/2000/svg":return 1;case"http://www.w3.org/1998/Math/MathML":return 2;default:return 0}}function o_(a,s){if(a===0)switch(s){case"svg":return 1;case"math":return 2;default:return 0}return a===1&&s==="foreignObject"?0:a}function xg(a,s){return a==="textarea"||a==="noscript"||typeof s.children=="string"||typeof s.children=="number"||typeof s.children=="bigint"||typeof s.dangerouslySetInnerHTML=="object"&&s.dangerouslySetInnerHTML!==null&&s.dangerouslySetInnerHTML.__html!=null}var vg=null;function ZR(){var a=window.event;return a&&a.type==="popstate"?a===vg?!1:(vg=a,!0):(vg=null,!1)}var c_=typeof setTimeout=="function"?setTimeout:void 0,JR=typeof clearTimeout=="function"?clearTimeout:void 0,u_=typeof Promise=="function"?Promise:void 0,tL=typeof queueMicrotask=="function"?queueMicrotask:typeof u_<"u"?function(a){return u_.resolve(null).then(a).catch(eL)}:c_;function eL(a){setTimeout(function(){throw a})}function Ja(a){return a==="head"}function h_(a,s){var c=s,f=0;do{var m=c.nextSibling;if(a.removeChild(c),m&&m.nodeType===8)if(c=m.data,c==="/$"||c==="/&"){if(f===0){a.removeChild(m),Zs(s);return}f--}else if(c==="$"||c==="$?"||c==="$~"||c==="$!"||c==="&")f++;else if(c==="html")Fo(a.ownerDocument.documentElement);else if(c==="head"){c=a.ownerDocument.head,Fo(c);for(var b=c.firstChild;b;){var C=b.nextSibling,A=b.nodeName;b[St]||A==="SCRIPT"||A==="STYLE"||A==="LINK"&&b.rel.toLowerCase()==="stylesheet"||c.removeChild(b),b=C}}else c==="body"&&Fo(a.ownerDocument.body);c=m}while(c);Zs(s)}function d_(a,s){var c=a;a=0;do{var f=c.nextSibling;if(c.nodeType===1?s?(c._stashedDisplay=c.style.display,c.style.display="none"):(c.style.display=c._stashedDisplay||"",c.getAttribute("style")===""&&c.removeAttribute("style")):c.nodeType===3&&(s?(c._stashedText=c.nodeValue,c.nodeValue=""):c.nodeValue=c._stashedText||""),f&&f.nodeType===8)if(c=f.data,c==="/$"){if(a===0)break;a--}else c!=="$"&&c!=="$?"&&c!=="$~"&&c!=="$!"||a++;c=f}while(c)}function _g(a){var s=a.firstChild;for(s&&s.nodeType===10&&(s=s.nextSibling);s;){var c=s;switch(s=s.nextSibling,c.nodeName){case"HTML":case"HEAD":case"BODY":_g(c),P(c);continue;case"SCRIPT":case"STYLE":continue;case"LINK":if(c.rel.toLowerCase()==="stylesheet")continue}a.removeChild(c)}}function rL(a,s,c,f){for(;a.nodeType===1;){var m=c;if(a.nodeName.toLowerCase()!==s.toLowerCase()){if(!f&&(a.nodeName!=="INPUT"||a.type!=="hidden"))break}else if(f){if(!a[St])switch(s){case"meta":if(!a.hasAttribute("itemprop"))break;return a;case"link":if(b=a.getAttribute("rel"),b==="stylesheet"&&a.hasAttribute("data-precedence"))break;if(b!==m.rel||a.getAttribute("href")!==(m.href==null||m.href===""?null:m.href)||a.getAttribute("crossorigin")!==(m.crossOrigin==null?null:m.crossOrigin)||a.getAttribute("title")!==(m.title==null?null:m.title))break;return a;case"style":if(a.hasAttribute("data-precedence"))break;return a;case"script":if(b=a.getAttribute("src"),(b!==(m.src==null?null:m.src)||a.getAttribute("type")!==(m.type==null?null:m.type)||a.getAttribute("crossorigin")!==(m.crossOrigin==null?null:m.crossOrigin))&&b&&a.hasAttribute("async")&&!a.hasAttribute("itemprop"))break;return a;default:return a}}else if(s==="input"&&a.type==="hidden"){var b=m.name==null?null:""+m.name;if(m.type==="hidden"&&a.getAttribute("name")===b)return a}else return a;if(a=oi(a.nextSibling),a===null)break}return null}function iL(a,s,c){if(s==="")return null;for(;a.nodeType!==3;)if((a.nodeType!==1||a.nodeName!=="INPUT"||a.type!=="hidden")&&!c||(a=oi(a.nextSibling),a===null))return null;return a}function f_(a,s){for(;a.nodeType!==8;)if((a.nodeType!==1||a.nodeName!=="INPUT"||a.type!=="hidden")&&!s||(a=oi(a.nextSibling),a===null))return null;return a}function wg(a){return a.data==="$?"||a.data==="$~"}function Sg(a){return a.data==="$!"||a.data==="$?"&&a.ownerDocument.readyState!=="loading"}function aL(a,s){var c=a.ownerDocument;if(a.data==="$~")a._reactRetry=s;else if(a.data!=="$?"||c.readyState!=="loading")s();else{var f=function(){s(),c.removeEventListener("DOMContentLoaded",f)};c.addEventListener("DOMContentLoaded",f),a._reactRetry=f}}function oi(a){for(;a!=null;a=a.nextSibling){var s=a.nodeType;if(s===1||s===3)break;if(s===8){if(s=a.data,s==="$"||s==="$!"||s==="$?"||s==="$~"||s==="&"||s==="F!"||s==="F")break;if(s==="/$"||s==="/&")return null}}return a}var kg=null;function p_(a){a=a.nextSibling;for(var s=0;a;){if(a.nodeType===8){var c=a.data;if(c==="/$"||c==="/&"){if(s===0)return oi(a.nextSibling);s--}else c!=="$"&&c!=="$!"&&c!=="$?"&&c!=="$~"&&c!=="&"||s++}a=a.nextSibling}return null}function g_(a){a=a.previousSibling;for(var s=0;a;){if(a.nodeType===8){var c=a.data;if(c==="$"||c==="$!"||c==="$?"||c==="$~"||c==="&"){if(s===0)return a;s--}else c!=="/$"&&c!=="/&"||s++}a=a.previousSibling}return null}function m_(a,s,c){switch(s=uh(c),a){case"html":if(a=s.documentElement,!a)throw Error(i(452));return a;case"head":if(a=s.head,!a)throw Error(i(453));return a;case"body":if(a=s.body,!a)throw Error(i(454));return a;default:throw Error(i(451))}}function Fo(a){for(var s=a.attributes;s.length;)a.removeAttributeNode(s[0]);P(a)}var ci=new Map,y_=new Set;function hh(a){return typeof a.getRootNode=="function"?a.getRootNode():a.nodeType===9?a:a.ownerDocument}var ma=j.d;j.d={f:nL,r:sL,D:lL,C:oL,L:cL,m:uL,X:dL,S:hL,M:fL};function nL(){var a=ma.f(),s=rh();return a||s}function sL(a){var s=mt(a);s!==null&&s.tag===5&&s.type==="form"?Nx(s):ma.r(a)}var Xs=typeof document>"u"?null:document;function b_(a,s,c){var f=Xs;if(f&&typeof s=="string"&&s){var m=ei(s);m='link[rel="'+a+'"][href="'+m+'"]',typeof c=="string"&&(m+='[crossorigin="'+c+'"]'),y_.has(m)||(y_.add(m),a={rel:a,crossOrigin:c,href:s},f.querySelector(m)===null&&(s=f.createElement("link"),tr(s,"link",a),Ut(s),f.head.appendChild(s)))}}function lL(a){ma.D(a),b_("dns-prefetch",a,null)}function oL(a,s){ma.C(a,s),b_("preconnect",a,s)}function cL(a,s,c){ma.L(a,s,c);var f=Xs;if(f&&a&&s){var m='link[rel="preload"][as="'+ei(s)+'"]';s==="image"&&c&&c.imageSrcSet?(m+='[imagesrcset="'+ei(c.imageSrcSet)+'"]',typeof c.imageSizes=="string"&&(m+='[imagesizes="'+ei(c.imageSizes)+'"]')):m+='[href="'+ei(a)+'"]';var b=m;switch(s){case"style":b=Ks(a);break;case"script":b=Qs(a)}ci.has(b)||(a=g({rel:"preload",href:s==="image"&&c&&c.imageSrcSet?void 0:a,as:s},c),ci.set(b,a),f.querySelector(m)!==null||s==="style"&&f.querySelector(Po(b))||s==="script"&&f.querySelector(Uo(b))||(s=f.createElement("link"),tr(s,"link",a),Ut(s),f.head.appendChild(s)))}}function uL(a,s){ma.m(a,s);var c=Xs;if(c&&a){var f=s&&typeof s.as=="string"?s.as:"script",m='link[rel="modulepreload"][as="'+ei(f)+'"][href="'+ei(a)+'"]',b=m;switch(f){case"audioworklet":case"paintworklet":case"serviceworker":case"sharedworker":case"worker":case"script":b=Qs(a)}if(!ci.has(b)&&(a=g({rel:"modulepreload",href:a},s),ci.set(b,a),c.querySelector(m)===null)){switch(f){case"audioworklet":case"paintworklet":case"serviceworker":case"sharedworker":case"worker":case"script":if(c.querySelector(Uo(b)))return}f=c.createElement("link"),tr(f,"link",a),Ut(f),c.head.appendChild(f)}}}function hL(a,s,c){ma.S(a,s,c);var f=Xs;if(f&&a){var m=_e(f).hoistableStyles,b=Ks(a);s=s||"default";var C=m.get(b);if(!C){var A={loading:0,preload:null};if(C=f.querySelector(Po(b)))A.loading=5;else{a=g({rel:"stylesheet",href:a,"data-precedence":s},c),(c=ci.get(b))&&Cg(a,c);var $=C=f.createElement("link");Ut($),tr($,"link",a),$._p=new Promise(function(X,rt){$.onload=X,$.onerror=rt}),$.addEventListener("load",function(){A.loading|=1}),$.addEventListener("error",function(){A.loading|=2}),A.loading|=4,dh(C,s,f)}C={type:"stylesheet",instance:C,count:1,state:A},m.set(b,C)}}}function dL(a,s){ma.X(a,s);var c=Xs;if(c&&a){var f=_e(c).hoistableScripts,m=Qs(a),b=f.get(m);b||(b=c.querySelector(Uo(m)),b||(a=g({src:a,async:!0},s),(s=ci.get(m))&&Tg(a,s),b=c.createElement("script"),Ut(b),tr(b,"link",a),c.head.appendChild(b)),b={type:"script",instance:b,count:1,state:null},f.set(m,b))}}function fL(a,s){ma.M(a,s);var c=Xs;if(c&&a){var f=_e(c).hoistableScripts,m=Qs(a),b=f.get(m);b||(b=c.querySelector(Uo(m)),b||(a=g({src:a,async:!0,type:"module"},s),(s=ci.get(m))&&Tg(a,s),b=c.createElement("script"),Ut(b),tr(b,"link",a),c.head.appendChild(b)),b={type:"script",instance:b,count:1,state:null},f.set(m,b))}}function x_(a,s,c,f){var m=(m=Ct.current)?hh(m):null;if(!m)throw Error(i(446));switch(a){case"meta":case"title":return null;case"style":return typeof c.precedence=="string"&&typeof c.href=="string"?(s=Ks(c.href),c=_e(m).hoistableStyles,f=c.get(s),f||(f={type:"style",instance:null,count:0,state:null},c.set(s,f)),f):{type:"void",instance:null,count:0,state:null};case"link":if(c.rel==="stylesheet"&&typeof c.href=="string"&&typeof c.precedence=="string"){a=Ks(c.href);var b=_e(m).hoistableStyles,C=b.get(a);if(C||(m=m.ownerDocument||m,C={type:"stylesheet",instance:null,count:0,state:{loading:0,preload:null}},b.set(a,C),(b=m.querySelector(Po(a)))&&!b._p&&(C.instance=b,C.state.loading=5),ci.has(a)||(c={rel:"preload",as:"style",href:c.href,crossOrigin:c.crossOrigin,integrity:c.integrity,media:c.media,hrefLang:c.hrefLang,referrerPolicy:c.referrerPolicy},ci.set(a,c),b||pL(m,a,c,C.state))),s&&f===null)throw Error(i(528,""));return C}if(s&&f!==null)throw Error(i(529,""));return null;case"script":return s=c.async,c=c.src,typeof c=="string"&&s&&typeof s!="function"&&typeof s!="symbol"?(s=Qs(c),c=_e(m).hoistableScripts,f=c.get(s),f||(f={type:"script",instance:null,count:0,state:null},c.set(s,f)),f):{type:"void",instance:null,count:0,state:null};default:throw Error(i(444,a))}}function Ks(a){return'href="'+ei(a)+'"'}function Po(a){return'link[rel="stylesheet"]['+a+"]"}function v_(a){return g({},a,{"data-precedence":a.precedence,precedence:null})}function pL(a,s,c,f){a.querySelector('link[rel="preload"][as="style"]['+s+"]")?f.loading=1:(s=a.createElement("link"),f.preload=s,s.addEventListener("load",function(){return f.loading|=1}),s.addEventListener("error",function(){return f.loading|=2}),tr(s,"link",c),Ut(s),a.head.appendChild(s))}function Qs(a){return'[src="'+ei(a)+'"]'}function Uo(a){return"script[async]"+a}function __(a,s,c){if(s.count++,s.instance===null)switch(s.type){case"style":var f=a.querySelector('style[data-href~="'+ei(c.href)+'"]');if(f)return s.instance=f,Ut(f),f;var m=g({},c,{"data-href":c.href,"data-precedence":c.precedence,href:null,precedence:null});return f=(a.ownerDocument||a).createElement("style"),Ut(f),tr(f,"style",m),dh(f,c.precedence,a),s.instance=f;case"stylesheet":m=Ks(c.href);var b=a.querySelector(Po(m));if(b)return s.state.loading|=4,s.instance=b,Ut(b),b;f=v_(c),(m=ci.get(m))&&Cg(f,m),b=(a.ownerDocument||a).createElement("link"),Ut(b);var C=b;return C._p=new Promise(function(A,$){C.onload=A,C.onerror=$}),tr(b,"link",f),s.state.loading|=4,dh(b,c.precedence,a),s.instance=b;case"script":return b=Qs(c.src),(m=a.querySelector(Uo(b)))?(s.instance=m,Ut(m),m):(f=c,(m=ci.get(b))&&(f=g({},c),Tg(f,m)),a=a.ownerDocument||a,m=a.createElement("script"),Ut(m),tr(m,"link",f),a.head.appendChild(m),s.instance=m);case"void":return null;default:throw Error(i(443,s.type))}else s.type==="stylesheet"&&(s.state.loading&4)===0&&(f=s.instance,s.state.loading|=4,dh(f,c.precedence,a));return s.instance}function dh(a,s,c){for(var f=c.querySelectorAll('link[rel="stylesheet"][data-precedence],style[data-precedence]'),m=f.length?f[f.length-1]:null,b=m,C=0;C<f.length;C++){var A=f[C];if(A.dataset.precedence===s)b=A;else if(b!==m)break}b?b.parentNode.insertBefore(a,b.nextSibling):(s=c.nodeType===9?c.head:c,s.insertBefore(a,s.firstChild))}function Cg(a,s){a.crossOrigin==null&&(a.crossOrigin=s.crossOrigin),a.referrerPolicy==null&&(a.referrerPolicy=s.referrerPolicy),a.title==null&&(a.title=s.title)}function Tg(a,s){a.crossOrigin==null&&(a.crossOrigin=s.crossOrigin),a.referrerPolicy==null&&(a.referrerPolicy=s.referrerPolicy),a.integrity==null&&(a.integrity=s.integrity)}var fh=null;function w_(a,s,c){if(fh===null){var f=new Map,m=fh=new Map;m.set(c,f)}else m=fh,f=m.get(c),f||(f=new Map,m.set(c,f));if(f.has(a))return f;for(f.set(a,null),c=c.getElementsByTagName(a),m=0;m<c.length;m++){var b=c[m];if(!(b[St]||b[Le]||a==="link"&&b.getAttribute("rel")==="stylesheet")&&b.namespaceURI!=="http://www.w3.org/2000/svg"){var C=b.getAttribute(s)||"";C=a+C;var A=f.get(C);A?A.push(b):f.set(C,[b])}}return f}function S_(a,s,c){a=a.ownerDocument||a,a.head.insertBefore(c,s==="title"?a.querySelector("head > title"):null)}function gL(a,s,c){if(c===1||s.itemProp!=null)return!1;switch(a){case"meta":case"title":return!0;case"style":if(typeof s.precedence!="string"||typeof s.href!="string"||s.href==="")break;return!0;case"link":if(typeof s.rel!="string"||typeof s.href!="string"||s.href===""||s.onLoad||s.onError)break;return s.rel==="stylesheet"?(a=s.disabled,typeof s.precedence=="string"&&a==null):!0;case"script":if(s.async&&typeof s.async!="function"&&typeof s.async!="symbol"&&!s.onLoad&&!s.onError&&s.src&&typeof s.src=="string")return!0}return!1}function k_(a){return!(a.type==="stylesheet"&&(a.state.loading&3)===0)}function mL(a,s,c,f){if(c.type==="stylesheet"&&(typeof f.media!="string"||matchMedia(f.media).matches!==!1)&&(c.state.loading&4)===0){if(c.instance===null){var m=Ks(f.href),b=s.querySelector(Po(m));if(b){s=b._p,s!==null&&typeof s=="object"&&typeof s.then=="function"&&(a.count++,a=ph.bind(a),s.then(a,a)),c.state.loading|=4,c.instance=b,Ut(b);return}b=s.ownerDocument||s,f=v_(f),(m=ci.get(m))&&Cg(f,m),b=b.createElement("link"),Ut(b);var C=b;C._p=new Promise(function(A,$){C.onload=A,C.onerror=$}),tr(b,"link",f),c.instance=b}a.stylesheets===null&&(a.stylesheets=new Map),a.stylesheets.set(c,s),(s=c.state.preload)&&(c.state.loading&3)===0&&(a.count++,c=ph.bind(a),s.addEventListener("load",c),s.addEventListener("error",c))}}var Eg=0;function yL(a,s){return a.stylesheets&&a.count===0&&mh(a,a.stylesheets),0<a.count||0<a.imgCount?function(c){var f=setTimeout(function(){if(a.stylesheets&&mh(a,a.stylesheets),a.unsuspend){var b=a.unsuspend;a.unsuspend=null,b()}},6e4+s);0<a.imgBytes&&Eg===0&&(Eg=62500*QR());var m=setTimeout(function(){if(a.waitingForImages=!1,a.count===0&&(a.stylesheets&&mh(a,a.stylesheets),a.unsuspend)){var b=a.unsuspend;a.unsuspend=null,b()}},(a.imgBytes>Eg?50:800)+s);return a.unsuspend=c,function(){a.unsuspend=null,clearTimeout(f),clearTimeout(m)}}:null}function ph(){if(this.count--,this.count===0&&(this.imgCount===0||!this.waitingForImages)){if(this.stylesheets)mh(this,this.stylesheets);else if(this.unsuspend){var a=this.unsuspend;this.unsuspend=null,a()}}}var gh=null;function mh(a,s){a.stylesheets=null,a.unsuspend!==null&&(a.count++,gh=new Map,s.forEach(bL,a),gh=null,ph.call(a))}function bL(a,s){if(!(s.state.loading&4)){var c=gh.get(a);if(c)var f=c.get(null);else{c=new Map,gh.set(a,c);for(var m=a.querySelectorAll("link[data-precedence],style[data-precedence]"),b=0;b<m.length;b++){var C=m[b];(C.nodeName==="LINK"||C.getAttribute("media")!=="not all")&&(c.set(C.dataset.precedence,C),f=C)}f&&c.set(null,f)}m=s.instance,C=m.getAttribute("data-precedence"),b=c.get(C)||f,b===f&&c.set(null,m),c.set(C,m),this.count++,f=ph.bind(this),m.addEventListener("load",f),m.addEventListener("error",f),b?b.parentNode.insertBefore(m,b.nextSibling):(a=a.nodeType===9?a.head:a,a.insertBefore(m,a.firstChild)),s.state.loading|=4}}var Io={$$typeof:O,Provider:null,Consumer:null,_currentValue:I,_currentValue2:I,_threadCount:0};function xL(a,s,c,f,m,b,C,A,$){this.tag=1,this.containerInfo=a,this.pingCache=this.current=this.pendingChildren=null,this.timeoutHandle=-1,this.callbackNode=this.next=this.pendingContext=this.context=this.cancelPendingCommit=null,this.callbackPriority=0,this.expirationTimes=Kl(-1),this.entangledLanes=this.shellSuspendCounter=this.errorRecoveryDisabledLanes=this.expiredLanes=this.warmLanes=this.pingedLanes=this.suspendedLanes=this.pendingLanes=0,this.entanglements=Kl(0),this.hiddenUpdates=Kl(null),this.identifierPrefix=f,this.onUncaughtError=m,this.onCaughtError=b,this.onRecoverableError=C,this.pooledCache=null,this.pooledCacheLanes=0,this.formState=$,this.incompleteTransitions=new Map}function C_(a,s,c,f,m,b,C,A,$,X,rt,nt){return a=new xL(a,s,c,C,$,X,rt,nt,A),s=1,b===!0&&(s|=24),b=$r(3,null,null,s),a.current=b,b.stateNode=a,s=sp(),s.refCount++,a.pooledCache=s,s.refCount++,b.memoizedState={element:f,isDehydrated:c,cache:s},up(b),a}function T_(a){return a?(a=As,a):As}function E_(a,s,c,f,m,b){m=T_(m),f.context===null?f.context=m:f.pendingContext=m,f=Ia(s),f.payload={element:c},b=b===void 0?null:b,b!==null&&(f.callback=b),c=qa(a,f,s),c!==null&&(Or(c,a,s),vo(c,a,s))}function A_(a,s){if(a=a.memoizedState,a!==null&&a.dehydrated!==null){var c=a.retryLane;a.retryLane=c!==0&&c<s?c:s}}function Ag(a,s){A_(a,s),(a=a.alternate)&&A_(a,s)}function O_(a){if(a.tag===13||a.tag===31){var s=Tn(a,67108864);s!==null&&Or(s,a,67108864),Ag(a,67108864)}}function R_(a){if(a.tag===13||a.tag===31){var s=Ir();s=wr(s);var c=Tn(a,s);c!==null&&Or(c,a,s),Ag(a,s)}}var yh=!0;function vL(a,s,c,f){var m=R.T;R.T=null;var b=j.p;try{j.p=2,Og(a,s,c,f)}finally{j.p=b,R.T=m}}function _L(a,s,c,f){var m=R.T;R.T=null;var b=j.p;try{j.p=8,Og(a,s,c,f)}finally{j.p=b,R.T=m}}function Og(a,s,c,f){if(yh){var m=Rg(f);if(m===null)gg(a,s,f,bh,c),M_(a,f);else if(SL(m,a,s,c,f))f.stopPropagation();else if(M_(a,f),s&4&&-1<wL.indexOf(a)){for(;m!==null;){var b=mt(m);if(b!==null)switch(b.tag){case 3:if(b=b.stateNode,b.current.memoizedState.isDehydrated){var C=Dr(b.pendingLanes);if(C!==0){var A=b;for(A.pendingLanes|=2,A.entangledLanes|=2;C;){var $=1<<31-Re(C);A.entanglements[1]|=$,C&=~$}ji(b),(ee&6)===0&&(th=Xe()+500,jo(0))}}break;case 31:case 13:A=Tn(b,2),A!==null&&Or(A,b,2),rh(),Ag(b,2)}if(b=Rg(f),b===null&&gg(a,s,f,bh,c),b===m)break;m=b}m!==null&&f.stopPropagation()}else gg(a,s,f,null,c)}}function Rg(a){return a=Mf(a),Lg(a)}var bh=null;function Lg(a){if(bh=null,a=ut(a),a!==null){var s=l(a);if(s===null)a=null;else{var c=s.tag;if(c===13){if(a=o(s),a!==null)return a;a=null}else if(c===31){if(a=u(s),a!==null)return a;a=null}else if(c===3){if(s.stateNode.current.memoizedState.isDehydrated)return s.tag===3?s.stateNode.containerInfo:null;a=null}else s!==a&&(a=null)}}return bh=a,null}function L_(a){switch(a){case"beforetoggle":case"cancel":case"click":case"close":case"contextmenu":case"copy":case"cut":case"auxclick":case"dblclick":case"dragend":case"dragstart":case"drop":case"focusin":case"focusout":case"input":case"invalid":case"keydown":case"keypress":case"keyup":case"mousedown":case"mouseup":case"paste":case"pause":case"play":case"pointercancel":case"pointerdown":case"pointerup":case"ratechange":case"reset":case"resize":case"seeked":case"submit":case"toggle":case"touchcancel":case"touchend":case"touchstart":case"volumechange":case"change":case"selectionchange":case"textInput":case"compositionstart":case"compositionend":case"compositionupdate":case"beforeblur":case"afterblur":case"beforeinput":case"blur":case"fullscreenchange":case"focus":case"hashchange":case"popstate":case"select":case"selectstart":return 2;case"drag":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"mousemove":case"mouseout":case"mouseover":case"pointermove":case"pointerout":case"pointerover":case"scroll":case"touchmove":case"wheel":case"mouseenter":case"mouseleave":case"pointerenter":case"pointerleave":return 8;case"message":switch(_n()){case Vi:return 2;case Nr:return 8;case Na:case su:return 32;case Gl:return 268435456;default:return 32}default:return 32}}var Mg=!1,tn=null,en=null,rn=null,qo=new Map,Ho=new Map,an=[],wL="mousedown mouseup touchcancel touchend touchstart auxclick dblclick pointercancel pointerdown pointerup dragend dragstart drop compositionend compositionstart keydown keypress keyup input textInput copy cut paste click change contextmenu reset".split(" ");function M_(a,s){switch(a){case"focusin":case"focusout":tn=null;break;case"dragenter":case"dragleave":en=null;break;case"mouseover":case"mouseout":rn=null;break;case"pointerover":case"pointerout":qo.delete(s.pointerId);break;case"gotpointercapture":case"lostpointercapture":Ho.delete(s.pointerId)}}function Wo(a,s,c,f,m,b){return a===null||a.nativeEvent!==b?(a={blockedOn:s,domEventName:c,eventSystemFlags:f,nativeEvent:b,targetContainers:[m]},s!==null&&(s=mt(s),s!==null&&O_(s)),a):(a.eventSystemFlags|=f,s=a.targetContainers,m!==null&&s.indexOf(m)===-1&&s.push(m),a)}function SL(a,s,c,f,m){switch(s){case"focusin":return tn=Wo(tn,a,s,c,f,m),!0;case"dragenter":return en=Wo(en,a,s,c,f,m),!0;case"mouseover":return rn=Wo(rn,a,s,c,f,m),!0;case"pointerover":var b=m.pointerId;return qo.set(b,Wo(qo.get(b)||null,a,s,c,f,m)),!0;case"gotpointercapture":return b=m.pointerId,Ho.set(b,Wo(Ho.get(b)||null,a,s,c,f,m)),!0}return!1}function B_(a){var s=ut(a.target);if(s!==null){var c=l(s);if(c!==null){if(s=c.tag,s===13){if(s=o(c),s!==null){a.blockedOn=s,eo(a.priority,function(){R_(c)});return}}else if(s===31){if(s=u(c),s!==null){a.blockedOn=s,eo(a.priority,function(){R_(c)});return}}else if(s===3&&c.stateNode.current.memoizedState.isDehydrated){a.blockedOn=c.tag===3?c.stateNode.containerInfo:null;return}}}a.blockedOn=null}function xh(a){if(a.blockedOn!==null)return!1;for(var s=a.targetContainers;0<s.length;){var c=Rg(a.nativeEvent);if(c===null){c=a.nativeEvent;var f=new c.constructor(c.type,c);Lf=f,c.target.dispatchEvent(f),Lf=null}else return s=mt(c),s!==null&&O_(s),a.blockedOn=c,!1;s.shift()}return!0}function N_(a,s,c){xh(a)&&c.delete(s)}function kL(){Mg=!1,tn!==null&&xh(tn)&&(tn=null),en!==null&&xh(en)&&(en=null),rn!==null&&xh(rn)&&(rn=null),qo.forEach(N_),Ho.forEach(N_)}function vh(a,s){a.blockedOn===s&&(a.blockedOn=null,Mg||(Mg=!0,e.unstable_scheduleCallback(e.unstable_NormalPriority,kL)))}var _h=null;function D_(a){_h!==a&&(_h=a,e.unstable_scheduleCallback(e.unstable_NormalPriority,function(){_h===a&&(_h=null);for(var s=0;s<a.length;s+=3){var c=a[s],f=a[s+1],m=a[s+2];if(typeof f!="function"){if(Lg(f||c)===null)continue;break}var b=mt(c);b!==null&&(a.splice(s,3),s-=3,Rp(b,{pending:!0,data:m,method:c.method,action:f},f,m))}}))}function Zs(a){function s($){return vh($,a)}tn!==null&&vh(tn,a),en!==null&&vh(en,a),rn!==null&&vh(rn,a),qo.forEach(s),Ho.forEach(s);for(var c=0;c<an.length;c++){var f=an[c];f.blockedOn===a&&(f.blockedOn=null)}for(;0<an.length&&(c=an[0],c.blockedOn===null);)B_(c),c.blockedOn===null&&an.shift();if(c=(a.ownerDocument||a).$$reactFormReplay,c!=null)for(f=0;f<c.length;f+=3){var m=c[f],b=c[f+1],C=m[ye]||null;if(typeof b=="function")C||D_(c);else if(C){var A=null;if(b&&b.hasAttribute("formAction")){if(m=b,C=b[ye]||null)A=C.formAction;else if(Lg(m)!==null)continue}else A=C.action;typeof A=="function"?c[f+1]=A:(c.splice(f,3),f-=3),D_(c)}}}function j_(){function a(b){b.canIntercept&&b.info==="react-transition"&&b.intercept({handler:function(){return new Promise(function(C){return m=C})},focusReset:"manual",scroll:"manual"})}function s(){m!==null&&(m(),m=null),f||setTimeout(c,20)}function c(){if(!f&&!navigation.transition){var b=navigation.currentEntry;b&&b.url!=null&&navigation.navigate(b.url,{state:b.getState(),info:"react-transition",history:"replace"})}}if(typeof navigation=="object"){var f=!1,m=null;return navigation.addEventListener("navigate",a),navigation.addEventListener("navigatesuccess",s),navigation.addEventListener("navigateerror",s),setTimeout(c,100),function(){f=!0,navigation.removeEventListener("navigate",a),navigation.removeEventListener("navigatesuccess",s),navigation.removeEventListener("navigateerror",s),m!==null&&(m(),m=null)}}}function Bg(a){this._internalRoot=a}wh.prototype.render=Bg.prototype.render=function(a){var s=this._internalRoot;if(s===null)throw Error(i(409));var c=s.current,f=Ir();E_(c,f,a,s,null,null)},wh.prototype.unmount=Bg.prototype.unmount=function(){var a=this._internalRoot;if(a!==null){this._internalRoot=null;var s=a.containerInfo;E_(a.current,2,null,a,null,null),rh(),s[Zi]=null}};function wh(a){this._internalRoot=a}wh.prototype.unstable_scheduleHydration=function(a){if(a){var s=to();a={blockedOn:null,target:a,priority:s};for(var c=0;c<an.length&&s!==0&&s<an[c].priority;c++);an.splice(c,0,a),c===0&&B_(a)}};var $_=t.version;if($_!=="19.2.3")throw Error(i(527,$_,"19.2.3"));j.findDOMNode=function(a){var s=a._reactInternals;if(s===void 0)throw typeof a.render=="function"?Error(i(188)):(a=Object.keys(a).join(","),Error(i(268,a)));return a=d(s),a=a!==null?p(a):null,a=a===null?null:a.stateNode,a};var CL={bundleType:0,version:"19.2.3",rendererPackageName:"react-dom",currentDispatcherRef:R,reconcilerVersion:"19.2.3"};if(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__<"u"){var Sh=__REACT_DEVTOOLS_GLOBAL_HOOK__;if(!Sh.isDisabled&&Sh.supportsFiber)try{Li=Sh.inject(CL),Ge=Sh}catch{}}return Yo.createRoot=function(a,s){if(!n(a))throw Error(i(299));var c=!1,f="",m=Hx,b=Wx,C=Gx;return s!=null&&(s.unstable_strictMode===!0&&(c=!0),s.identifierPrefix!==void 0&&(f=s.identifierPrefix),s.onUncaughtError!==void 0&&(m=s.onUncaughtError),s.onCaughtError!==void 0&&(b=s.onCaughtError),s.onRecoverableError!==void 0&&(C=s.onRecoverableError)),s=C_(a,1,!1,null,null,c,f,null,m,b,C,j_),a[Zi]=s.current,pg(a),new Bg(s)},Yo.hydrateRoot=function(a,s,c){if(!n(a))throw Error(i(299));var f=!1,m="",b=Hx,C=Wx,A=Gx,$=null;return c!=null&&(c.unstable_strictMode===!0&&(f=!0),c.identifierPrefix!==void 0&&(m=c.identifierPrefix),c.onUncaughtError!==void 0&&(b=c.onUncaughtError),c.onCaughtError!==void 0&&(C=c.onCaughtError),c.onRecoverableError!==void 0&&(A=c.onRecoverableError),c.formState!==void 0&&($=c.formState)),s=C_(a,1,!0,s,c??null,f,m,$,b,C,A,j_),s.context=T_(null),c=s.current,f=Ir(),f=wr(f),m=Ia(f),m.callback=null,qa(c,m,f),c=f,s.current.lanes=c,Da(s,c),ji(s),a[Zi]=s.current,pg(a),new wh(s)},Yo.version="19.2.3",Yo}var Y_;function jL(){if(Y_)return jg.exports;Y_=1;function e(){if(!(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__>"u"||typeof __REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE!="function"))try{__REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE(e)}catch(t){console.error(t)}}return e(),jg.exports=DL(),jg.exports}var $L=jL();var V_="popstate";function zL(e={}){function t(i,n){let{pathname:l,search:o,hash:u}=i.location;return km("",{pathname:l,search:o,hash:u},n.state&&n.state.usr||null,n.state&&n.state.key||"default")}function r(i,n){return typeof n=="string"?n:Tc(n)}return PL(t,r,null,e)}function ve(e,t){if(e===!1||e===null||typeof e>"u")throw new Error(t)}function Yr(e,t){if(!e){typeof console<"u"&&console.warn(t);try{throw new Error(t)}catch{}}}function FL(){return Math.random().toString(36).substring(2,10)}function X_(e,t){return{usr:e.state,key:e.key,idx:t}}function km(e,t,r=null,i){return{pathname:typeof e=="string"?e:e.pathname,search:"",hash:"",...typeof t=="string"?Dl(t):t,state:r,key:t&&t.key||i||FL()}}function Tc({pathname:e="/",search:t="",hash:r=""}){return t&&t!=="?"&&(e+=t.charAt(0)==="?"?t:"?"+t),r&&r!=="#"&&(e+=r.charAt(0)==="#"?r:"#"+r),e}function Dl(e){let t={};if(e){let r=e.indexOf("#");r>=0&&(t.hash=e.substring(r),e=e.substring(0,r));let i=e.indexOf("?");i>=0&&(t.search=e.substring(i),e=e.substring(0,i)),e&&(t.pathname=e)}return t}function PL(e,t,r,i={}){let{window:n=document.defaultView,v5Compat:l=!1}=i,o=n.history,u="POP",h=null,d=p();d==null&&(d=0,o.replaceState({...o.state,idx:d},""));function p(){return(o.state||{idx:null}).idx}function g(){u="POP";let S=p(),T=S==null?null:S-d;d=S,h&&h({action:u,location:_.location,delta:T})}function y(S,T){u="PUSH";let E=km(_.location,S,T);d=p()+1;let O=X_(E,d),M=_.createHref(E);try{o.pushState(O,"",M)}catch(N){if(N instanceof DOMException&&N.name==="DataCloneError")throw N;n.location.assign(M)}l&&h&&h({action:u,location:_.location,delta:1})}function x(S,T){u="REPLACE";let E=km(_.location,S,T);d=p();let O=X_(E,d),M=_.createHref(E);o.replaceState(O,"",M),l&&h&&h({action:u,location:_.location,delta:0})}function v(S){return UL(S)}let _={get action(){return u},get location(){return e(n,o)},listen(S){if(h)throw new Error("A history only accepts one active listener");return n.addEventListener(V_,g),h=S,()=>{n.removeEventListener(V_,g),h=null}},createHref(S){return t(n,S)},createURL:v,encodeLocation(S){let T=v(S);return{pathname:T.pathname,search:T.search,hash:T.hash}},push:y,replace:x,go(S){return o.go(S)}};return _}function UL(e,t=!1){let r="http://localhost";typeof window<"u"&&(r=window.location.origin!=="null"?window.location.origin:window.location.href),ve(r,"No window.location.(origin|href) available to create URL");let i=typeof e=="string"?e:Tc(e);return i=i.replace(/ $/,"%20"),!t&&i.startsWith("//")&&(i=r+i),new URL(i,r)}function gS(e,t,r="/"){return IL(e,t,r,!1)}function IL(e,t,r,i){let n=typeof t=="string"?Dl(t):t,l=Ca(n.pathname||"/",r);if(l==null)return null;let o=mS(e);qL(o);let u=null;for(let h=0;u==null&&h<o.length;++h){let d=tM(l);u=ZL(o[h],d,i)}return u}function mS(e,t=[],r=[],i="",n=!1){let l=(o,u,h=n,d)=>{let p={relativePath:d===void 0?o.path||"":d,caseSensitive:o.caseSensitive===!0,childrenIndex:u,route:o};if(p.relativePath.startsWith("/")){if(!p.relativePath.startsWith(i)&&h)return;ve(p.relativePath.startsWith(i),`Absolute route path "${p.relativePath}" nested under path "${i}" is not valid. An absolute child route path must start with the combined path of all its parent routes.`),p.relativePath=p.relativePath.slice(i.length)}let g=wa([i,p.relativePath]),y=r.concat(p);o.children&&o.children.length>0&&(ve(o.index!==!0,`Index routes must not have child routes. Please remove all child routes from route path "${g}".`),mS(o.children,t,y,g,h)),!(o.path==null&&!o.index)&&t.push({path:g,score:KL(g,o.index),routesMeta:y})};return e.forEach((o,u)=>{if(o.path===""||!o.path?.includes("?"))l(o,u);else for(let h of yS(o.path))l(o,u,!0,h)}),t}function yS(e){let t=e.split("/");if(t.length===0)return[];let[r,...i]=t,n=r.endsWith("?"),l=r.replace(/\?$/,"");if(i.length===0)return n?[l,""]:[l];let o=yS(i.join("/")),u=[];return u.push(...o.map(h=>h===""?l:[l,h].join("/"))),n&&u.push(...o),u.map(h=>e.startsWith("/")&&h===""?"/":h)}function qL(e){e.sort((t,r)=>t.score!==r.score?r.score-t.score:QL(t.routesMeta.map(i=>i.childrenIndex),r.routesMeta.map(i=>i.childrenIndex)))}var HL=/^:[\w-]+$/,WL=3,GL=2,YL=1,VL=10,XL=-2,K_=e=>e==="*";function KL(e,t){let r=e.split("/"),i=r.length;return r.some(K_)&&(i+=XL),t&&(i+=GL),r.filter(n=>!K_(n)).reduce((n,l)=>n+(HL.test(l)?WL:l===""?YL:VL),i)}function QL(e,t){return e.length===t.length&&e.slice(0,-1).every((i,n)=>i===t[n])?e[e.length-1]-t[t.length-1]:0}function ZL(e,t,r=!1){let{routesMeta:i}=e,n={},l="/",o=[];for(let u=0;u<i.length;++u){let h=i[u],d=u===i.length-1,p=l==="/"?t:t.slice(l.length)||"/",g=nd({path:h.relativePath,caseSensitive:h.caseSensitive,end:d},p),y=h.route;if(!g&&d&&r&&!i[i.length-1].route.index&&(g=nd({path:h.relativePath,caseSensitive:h.caseSensitive,end:!1},p)),!g)return null;Object.assign(n,g.params),o.push({params:n,pathname:wa([l,g.pathname]),pathnameBase:aM(wa([l,g.pathnameBase])),route:y}),g.pathnameBase!=="/"&&(l=wa([l,g.pathnameBase]))}return o}function nd(e,t){typeof e=="string"&&(e={path:e,caseSensitive:!1,end:!0});let[r,i]=JL(e.path,e.caseSensitive,e.end),n=t.match(r);if(!n)return null;let l=n[0],o=l.replace(/(.)\/+$/,"$1"),u=n.slice(1);return{params:i.reduce((d,{paramName:p,isOptional:g},y)=>{if(p==="*"){let v=u[y]||"";o=l.slice(0,l.length-v.length).replace(/(.)\/+$/,"$1")}const x=u[y];return g&&!x?d[p]=void 0:d[p]=(x||"").replace(/%2F/g,"/"),d},{}),pathname:l,pathnameBase:o,pattern:e}}function JL(e,t=!1,r=!0){Yr(e==="*"||!e.endsWith("*")||e.endsWith("/*"),`Route path "${e}" will be treated as if it were "${e.replace(/\*$/,"/*")}" because the \`*\` character must always follow a \`/\` in the pattern. To get rid of this warning, please change the route path to "${e.replace(/\*$/,"/*")}".`);let i=[],n="^"+e.replace(/\/*\*?$/,"").replace(/^\/*/,"/").replace(/[\\.*+^${}|()[\]]/g,"\\$&").replace(/\/:([\w-]+)(\?)?/g,(o,u,h)=>(i.push({paramName:u,isOptional:h!=null}),h?"/?([^\\/]+)?":"/([^\\/]+)")).replace(/\/([\w-]+)\?(\/|$)/g,"(/$1)?$2");return e.endsWith("*")?(i.push({paramName:"*"}),n+=e==="*"||e==="/*"?"(.*)$":"(?:\\/(.+)|\\/*)$"):r?n+="\\/*$":e!==""&&e!=="/"&&(n+="(?:(?=\\/|$))"),[new RegExp(n,t?void 0:"i"),i]}function tM(e){try{return e.split("/").map(t=>decodeURIComponent(t).replace(/\//g,"%2F")).join("/")}catch(t){return Yr(!1,`The URL path "${e}" could not be decoded because it is a malformed URL segment. This is probably due to a bad percent encoding (${t}).`),e}}function Ca(e,t){if(t==="/")return e;if(!e.toLowerCase().startsWith(t.toLowerCase()))return null;let r=t.endsWith("/")?t.length-1:t.length,i=e.charAt(r);return i&&i!=="/"?null:e.slice(r)||"/"}var bS=/^(?:[a-z][a-z0-9+.-]*:|\/\/)/i,eM=e=>bS.test(e);function rM(e,t="/"){let{pathname:r,search:i="",hash:n=""}=typeof e=="string"?Dl(e):e,l;if(r)if(eM(r))l=r;else{if(r.includes("//")){let o=r;r=r.replace(/\/\/+/g,"/"),Yr(!1,`Pathnames cannot have embedded double slashes - normalizing ${o} -> ${r}`)}r.startsWith("/")?l=Q_(r.substring(1),"/"):l=Q_(r,t)}else l=t;return{pathname:l,search:nM(i),hash:sM(n)}}function Q_(e,t){let r=t.replace(/\/+$/,"").split("/");return e.split("/").forEach(n=>{n===".."?r.length>1&&r.pop():n!=="."&&r.push(n)}),r.length>1?r.join("/"):"/"}function Pg(e,t,r,i){return`Cannot include a '${e}' character in a manually specified \`to.${t}\` field [${JSON.stringify(i)}].  Please separate it out to the \`to.${r}\` field. Alternatively you may provide the full path as a string in <Link to="..."> and the router will parse it for you.`}function iM(e){return e.filter((t,r)=>r===0||t.route.path&&t.route.path.length>0)}function zy(e){let t=iM(e);return t.map((r,i)=>i===t.length-1?r.pathname:r.pathnameBase)}function Fy(e,t,r,i=!1){let n;typeof e=="string"?n=Dl(e):(n={...e},ve(!n.pathname||!n.pathname.includes("?"),Pg("?","pathname","search",n)),ve(!n.pathname||!n.pathname.includes("#"),Pg("#","pathname","hash",n)),ve(!n.search||!n.search.includes("#"),Pg("#","search","hash",n)));let l=e===""||n.pathname==="",o=l?"/":n.pathname,u;if(o==null)u=r;else{let g=t.length-1;if(!i&&o.startsWith("..")){let y=o.split("/");for(;y[0]==="..";)y.shift(),g-=1;n.pathname=y.join("/")}u=g>=0?t[g]:"/"}let h=rM(n,u),d=o&&o!=="/"&&o.endsWith("/"),p=(l||o===".")&&r.endsWith("/");return!h.pathname.endsWith("/")&&(d||p)&&(h.pathname+="/"),h}var wa=e=>e.join("/").replace(/\/\/+/g,"/"),aM=e=>e.replace(/\/+$/,"").replace(/^\/*/,"/"),nM=e=>!e||e==="?"?"":e.startsWith("?")?e:"?"+e,sM=e=>!e||e==="#"?"":e.startsWith("#")?e:"#"+e,lM=class{constructor(e,t,r,i=!1){this.status=e,this.statusText=t||"",this.internal=i,r instanceof Error?(this.data=r.toString(),this.error=r):this.data=r}};function oM(e){return e!=null&&typeof e.status=="number"&&typeof e.statusText=="string"&&typeof e.internal=="boolean"&&"data"in e}function cM(e){return e.map(t=>t.route.path).filter(Boolean).join("/").replace(/\/\/*/g,"/")||"/"}var xS=typeof window<"u"&&typeof window.document<"u"&&typeof window.document.createElement<"u";function vS(e,t){let r=e;if(typeof r!="string"||!bS.test(r))return{absoluteURL:void 0,isExternal:!1,to:r};let i=r,n=!1;if(xS)try{let l=new URL(window.location.href),o=r.startsWith("//")?new URL(l.protocol+r):new URL(r),u=Ca(o.pathname,t);o.origin===l.origin&&u!=null?r=u+o.search+o.hash:n=!0}catch{Yr(!1,`<Link to="${r}"> contains an invalid URL which will probably break when clicked - please update to a valid URL path.`)}return{absoluteURL:i,isExternal:n,to:r}}Object.getOwnPropertyNames(Object.prototype).sort().join("\0");var _S=["POST","PUT","PATCH","DELETE"];new Set(_S);var uM=["GET",..._S];new Set(uM);var jl=H.createContext(null);jl.displayName="DataRouter";var Gd=H.createContext(null);Gd.displayName="DataRouterState";var hM=H.createContext(!1),wS=H.createContext({isTransitioning:!1});wS.displayName="ViewTransition";var dM=H.createContext(new Map);dM.displayName="Fetchers";var fM=H.createContext(null);fM.displayName="Await";var Xr=H.createContext(null);Xr.displayName="Navigation";var Gc=H.createContext(null);Gc.displayName="Location";var Oi=H.createContext({outlet:null,matches:[],isDataRoute:!1});Oi.displayName="Route";var Py=H.createContext(null);Py.displayName="RouteError";var SS="REACT_ROUTER_ERROR",pM="REDIRECT",gM="ROUTE_ERROR_RESPONSE";function mM(e){if(e.startsWith(`${SS}:${pM}:{`))try{let t=JSON.parse(e.slice(28));if(typeof t=="object"&&t&&typeof t.status=="number"&&typeof t.statusText=="string"&&typeof t.location=="string"&&typeof t.reloadDocument=="boolean"&&typeof t.replace=="boolean")return t}catch{}}function yM(e){if(e.startsWith(`${SS}:${gM}:{`))try{let t=JSON.parse(e.slice(40));if(typeof t=="object"&&t&&typeof t.status=="number"&&typeof t.statusText=="string")return new lM(t.status,t.statusText,t.data)}catch{}}function bM(e,{relative:t}={}){ve($l(),"useHref() may be used only in the context of a <Router> component.");let{basename:r,navigator:i}=H.useContext(Xr),{hash:n,pathname:l,search:o}=Yc(e,{relative:t}),u=l;return r!=="/"&&(u=l==="/"?r:wa([r,l])),i.createHref({pathname:u,search:o,hash:n})}function $l(){return H.useContext(Gc)!=null}function Oa(){return ve($l(),"useLocation() may be used only in the context of a <Router> component."),H.useContext(Gc).location}var kS="You should call navigate() in a React.useEffect(), not when your component is first rendered.";function CS(e){H.useContext(Xr).static||H.useLayoutEffect(e)}function zl(){let{isDataRoute:e}=H.useContext(Oi);return e?LM():xM()}function xM(){ve($l(),"useNavigate() may be used only in the context of a <Router> component.");let e=H.useContext(jl),{basename:t,navigator:r}=H.useContext(Xr),{matches:i}=H.useContext(Oi),{pathname:n}=Oa(),l=JSON.stringify(zy(i)),o=H.useRef(!1);return CS(()=>{o.current=!0}),H.useCallback((h,d={})=>{if(Yr(o.current,kS),!o.current)return;if(typeof h=="number"){r.go(h);return}let p=Fy(h,JSON.parse(l),n,d.relative==="path");e==null&&t!=="/"&&(p.pathname=p.pathname==="/"?t:wa([t,p.pathname])),(d.replace?r.replace:r.push)(p,d.state,d)},[t,r,l,n,e])}H.createContext(null);function TS(){let{matches:e}=H.useContext(Oi),t=e[e.length-1];return t?t.params:{}}function Yc(e,{relative:t}={}){let{matches:r}=H.useContext(Oi),{pathname:i}=Oa(),n=JSON.stringify(zy(r));return H.useMemo(()=>Fy(e,JSON.parse(n),i,t==="path"),[e,n,i,t])}function vM(e,t){return ES(e,t)}function ES(e,t,r,i,n){ve($l(),"useRoutes() may be used only in the context of a <Router> component.");let{navigator:l}=H.useContext(Xr),{matches:o}=H.useContext(Oi),u=o[o.length-1],h=u?u.params:{},d=u?u.pathname:"/",p=u?u.pathnameBase:"/",g=u&&u.route;{let E=g&&g.path||"";OS(d,!g||E.endsWith("*")||E.endsWith("*?"),`You rendered descendant <Routes> (or called \`useRoutes()\`) at "${d}" (under <Route path="${E}">) but the parent route path has no trailing "*". This means if you navigate deeper, the parent won't match anymore and therefore the child routes will never render.

Please change the parent <Route path="${E}"> to <Route path="${E==="/"?"*":`${E}/*`}">.`)}let y=Oa(),x;if(t){let E=typeof t=="string"?Dl(t):t;ve(p==="/"||E.pathname?.startsWith(p),`When overriding the location using \`<Routes location>\` or \`useRoutes(routes, location)\`, the location pathname must begin with the portion of the URL pathname that was matched by all parent routes. The current pathname base is "${p}" but pathname "${E.pathname}" was given in the \`location\` prop.`),x=E}else x=y;let v=x.pathname||"/",_=v;if(p!=="/"){let E=p.replace(/^\//,"").split("/");_="/"+v.replace(/^\//,"").split("/").slice(E.length).join("/")}let S=gS(e,{pathname:_});Yr(g||S!=null,`No routes matched location "${x.pathname}${x.search}${x.hash}" `),Yr(S==null||S[S.length-1].route.element!==void 0||S[S.length-1].route.Component!==void 0||S[S.length-1].route.lazy!==void 0,`Matched leaf route at location "${x.pathname}${x.search}${x.hash}" does not have an element or Component. This means it will render an <Outlet /> with a null value by default resulting in an "empty" page.`);let T=CM(S&&S.map(E=>Object.assign({},E,{params:Object.assign({},h,E.params),pathname:wa([p,l.encodeLocation?l.encodeLocation(E.pathname.replace(/\?/g,"%3F").replace(/#/g,"%23")).pathname:E.pathname]),pathnameBase:E.pathnameBase==="/"?p:wa([p,l.encodeLocation?l.encodeLocation(E.pathnameBase.replace(/\?/g,"%3F").replace(/#/g,"%23")).pathname:E.pathnameBase])})),o,r,i,n);return t&&T?H.createElement(Gc.Provider,{value:{location:{pathname:"/",search:"",hash:"",state:null,key:"default",...x},navigationType:"POP"}},T):T}function _M(){let e=RM(),t=oM(e)?`${e.status} ${e.statusText}`:e instanceof Error?e.message:JSON.stringify(e),r=e instanceof Error?e.stack:null,i="rgba(200,200,200, 0.5)",n={padding:"0.5rem",backgroundColor:i},l={padding:"2px 4px",backgroundColor:i},o=null;return console.error("Error handled by React Router default ErrorBoundary:",e),o=H.createElement(H.Fragment,null,H.createElement("p",null," Hey developer "),H.createElement("p",null,"You can provide a way better UX than this when your app throws errors by providing your own ",H.createElement("code",{style:l},"ErrorBoundary")," or"," ",H.createElement("code",{style:l},"errorElement")," prop on your route.")),H.createElement(H.Fragment,null,H.createElement("h2",null,"Unexpected Application Error!"),H.createElement("h3",{style:{fontStyle:"italic"}},t),r?H.createElement("pre",{style:n},r):null,o)}var wM=H.createElement(_M,null),AS=class extends H.Component{constructor(e){super(e),this.state={location:e.location,revalidation:e.revalidation,error:e.error}}static getDerivedStateFromError(e){return{error:e}}static getDerivedStateFromProps(e,t){return t.location!==e.location||t.revalidation!=="idle"&&e.revalidation==="idle"?{error:e.error,location:e.location,revalidation:e.revalidation}:{error:e.error!==void 0?e.error:t.error,location:t.location,revalidation:e.revalidation||t.revalidation}}componentDidCatch(e,t){this.props.onError?this.props.onError(e,t):console.error("React Router caught the following error during render",e)}render(){let e=this.state.error;if(this.context&&typeof e=="object"&&e&&"digest"in e&&typeof e.digest=="string"){const r=yM(e.digest);r&&(e=r)}let t=e!==void 0?H.createElement(Oi.Provider,{value:this.props.routeContext},H.createElement(Py.Provider,{value:e,children:this.props.component})):this.props.children;return this.context?H.createElement(SM,{error:e},t):t}};AS.contextType=hM;var Ug=new WeakMap;function SM({children:e,error:t}){let{basename:r}=H.useContext(Xr);if(typeof t=="object"&&t&&"digest"in t&&typeof t.digest=="string"){let i=mM(t.digest);if(i){let n=Ug.get(t);if(n)throw n;let l=vS(i.location,r);if(xS&&!Ug.get(t))if(l.isExternal||i.reloadDocument)window.location.href=l.absoluteURL||l.to;else{const o=Promise.resolve().then(()=>window.__reactRouterDataRouter.navigate(l.to,{replace:i.replace}));throw Ug.set(t,o),o}return H.createElement("meta",{httpEquiv:"refresh",content:`0;url=${l.absoluteURL||l.to}`})}}return e}function kM({routeContext:e,match:t,children:r}){let i=H.useContext(jl);return i&&i.static&&i.staticContext&&(t.route.errorElement||t.route.ErrorBoundary)&&(i.staticContext._deepestRenderedBoundaryId=t.route.id),H.createElement(Oi.Provider,{value:e},r)}function CM(e,t=[],r=null,i=null,n=null){if(e==null){if(!r)return null;if(r.errors)e=r.matches;else if(t.length===0&&!r.initialized&&r.matches.length>0)e=r.matches;else return null}let l=e,o=r?.errors;if(o!=null){let p=l.findIndex(g=>g.route.id&&o?.[g.route.id]!==void 0);ve(p>=0,`Could not find a matching route for errors on route IDs: ${Object.keys(o).join(",")}`),l=l.slice(0,Math.min(l.length,p+1))}let u=!1,h=-1;if(r)for(let p=0;p<l.length;p++){let g=l[p];if((g.route.HydrateFallback||g.route.hydrateFallbackElement)&&(h=p),g.route.id){let{loaderData:y,errors:x}=r,v=g.route.loader&&!y.hasOwnProperty(g.route.id)&&(!x||x[g.route.id]===void 0);if(g.route.lazy||v){u=!0,h>=0?l=l.slice(0,h+1):l=[l[0]];break}}}let d=r&&i?(p,g)=>{i(p,{location:r.location,params:r.matches?.[0]?.params??{},unstable_pattern:cM(r.matches),errorInfo:g})}:void 0;return l.reduceRight((p,g,y)=>{let x,v=!1,_=null,S=null;r&&(x=o&&g.route.id?o[g.route.id]:void 0,_=g.route.errorElement||wM,u&&(h<0&&y===0?(OS("route-fallback",!1,"No `HydrateFallback` element provided to render during initial hydration"),v=!0,S=null):h===y&&(v=!0,S=g.route.hydrateFallbackElement||null)));let T=t.concat(l.slice(0,y+1)),E=()=>{let O;return x?O=_:v?O=S:g.route.Component?O=H.createElement(g.route.Component,null):g.route.element?O=g.route.element:O=p,H.createElement(kM,{match:g,routeContext:{outlet:p,matches:T,isDataRoute:r!=null},children:O})};return r&&(g.route.ErrorBoundary||g.route.errorElement||y===0)?H.createElement(AS,{location:r.location,revalidation:r.revalidation,component:_,error:x,children:E(),routeContext:{outlet:null,matches:T,isDataRoute:!0},onError:d}):E()},null)}function Uy(e){return`${e} must be used within a data router.  See https://reactrouter.com/en/main/routers/picking-a-router.`}function TM(e){let t=H.useContext(jl);return ve(t,Uy(e)),t}function EM(e){let t=H.useContext(Gd);return ve(t,Uy(e)),t}function AM(e){let t=H.useContext(Oi);return ve(t,Uy(e)),t}function Iy(e){let t=AM(e),r=t.matches[t.matches.length-1];return ve(r.route.id,`${e} can only be used on routes that contain a unique "id"`),r.route.id}function OM(){return Iy("useRouteId")}function RM(){let e=H.useContext(Py),t=EM("useRouteError"),r=Iy("useRouteError");return e!==void 0?e:t.errors?.[r]}function LM(){let{router:e}=TM("useNavigate"),t=Iy("useNavigate"),r=H.useRef(!1);return CS(()=>{r.current=!0}),H.useCallback(async(n,l={})=>{Yr(r.current,kS),r.current&&(typeof n=="number"?await e.navigate(n):await e.navigate(n,{fromRouteId:t,...l}))},[e,t])}var Z_={};function OS(e,t,r){!t&&!Z_[e]&&(Z_[e]=!0,Yr(!1,r))}H.memo(MM);function MM({routes:e,future:t,state:r,onError:i}){return ES(e,void 0,r,i,t)}function BM({to:e,replace:t,state:r,relative:i}){ve($l(),"<Navigate> may be used only in the context of a <Router> component.");let{static:n}=H.useContext(Xr);Yr(!n,"<Navigate> must not be used on the initial render in a <StaticRouter>. This is a no-op, but you should modify your code so the <Navigate> is only ever rendered in response to some user interaction or state change.");let{matches:l}=H.useContext(Oi),{pathname:o}=Oa(),u=zl(),h=Fy(e,zy(l),o,i==="path"),d=JSON.stringify(h);return H.useEffect(()=>{u(JSON.parse(d),{replace:t,state:r,relative:i})},[u,d,i,t,r]),null}function In(e){ve(!1,"A <Route> is only ever to be used as the child of <Routes> element, never rendered directly. Please wrap your <Route> in a <Routes>.")}function NM({basename:e="/",children:t=null,location:r,navigationType:i="POP",navigator:n,static:l=!1,unstable_useTransitions:o}){ve(!$l(),"You cannot render a <Router> inside another <Router>. You should never have more than one in your app.");let u=e.replace(/^\/*/,"/"),h=H.useMemo(()=>({basename:u,navigator:n,static:l,unstable_useTransitions:o,future:{}}),[u,n,l,o]);typeof r=="string"&&(r=Dl(r));let{pathname:d="/",search:p="",hash:g="",state:y=null,key:x="default"}=r,v=H.useMemo(()=>{let _=Ca(d,u);return _==null?null:{location:{pathname:_,search:p,hash:g,state:y,key:x},navigationType:i}},[u,d,p,g,y,x,i]);return Yr(v!=null,`<Router basename="${u}"> is not able to match the URL "${d}${p}${g}" because it does not start with the basename, so the <Router> won't render anything.`),v==null?null:H.createElement(Xr.Provider,{value:h},H.createElement(Gc.Provider,{children:t,value:v}))}function DM({children:e,location:t}){return vM(Cm(e),t)}function Cm(e,t=[]){let r=[];return H.Children.forEach(e,(i,n)=>{if(!H.isValidElement(i))return;let l=[...t,n];if(i.type===H.Fragment){r.push.apply(r,Cm(i.props.children,l));return}ve(i.type===In,`[${typeof i.type=="string"?i.type:i.type.name}] is not a <Route> component. All component children of <Routes> must be a <Route> or <React.Fragment>`),ve(!i.props.index||!i.props.children,"An index route cannot have child routes.");let o={id:i.props.id||l.join("-"),caseSensitive:i.props.caseSensitive,element:i.props.element,Component:i.props.Component,index:i.props.index,path:i.props.path,middleware:i.props.middleware,loader:i.props.loader,action:i.props.action,hydrateFallbackElement:i.props.hydrateFallbackElement,HydrateFallback:i.props.HydrateFallback,errorElement:i.props.errorElement,ErrorBoundary:i.props.ErrorBoundary,hasErrorBoundary:i.props.hasErrorBoundary===!0||i.props.ErrorBoundary!=null||i.props.errorElement!=null,shouldRevalidate:i.props.shouldRevalidate,handle:i.props.handle,lazy:i.props.lazy};i.props.children&&(o.children=Cm(i.props.children,l)),r.push(o)}),r}var Uh="get",Ih="application/x-www-form-urlencoded";function Yd(e){return typeof HTMLElement<"u"&&e instanceof HTMLElement}function jM(e){return Yd(e)&&e.tagName.toLowerCase()==="button"}function $M(e){return Yd(e)&&e.tagName.toLowerCase()==="form"}function zM(e){return Yd(e)&&e.tagName.toLowerCase()==="input"}function FM(e){return!!(e.metaKey||e.altKey||e.ctrlKey||e.shiftKey)}function PM(e,t){return e.button===0&&(!t||t==="_self")&&!FM(e)}function Tm(e=""){return new URLSearchParams(typeof e=="string"||Array.isArray(e)||e instanceof URLSearchParams?e:Object.keys(e).reduce((t,r)=>{let i=e[r];return t.concat(Array.isArray(i)?i.map(n=>[r,n]):[[r,i]])},[]))}function UM(e,t){let r=Tm(e);return t&&t.forEach((i,n)=>{r.has(n)||t.getAll(n).forEach(l=>{r.append(n,l)})}),r}var kh=null;function IM(){if(kh===null)try{new FormData(document.createElement("form"),0),kh=!1}catch{kh=!0}return kh}var qM=new Set(["application/x-www-form-urlencoded","multipart/form-data","text/plain"]);function Ig(e){return e!=null&&!qM.has(e)?(Yr(!1,`"${e}" is not a valid \`encType\` for \`<Form>\`/\`<fetcher.Form>\` and will default to "${Ih}"`),null):e}function HM(e,t){let r,i,n,l,o;if($M(e)){let u=e.getAttribute("action");i=u?Ca(u,t):null,r=e.getAttribute("method")||Uh,n=Ig(e.getAttribute("enctype"))||Ih,l=new FormData(e)}else if(jM(e)||zM(e)&&(e.type==="submit"||e.type==="image")){let u=e.form;if(u==null)throw new Error('Cannot submit a <button> or <input type="submit"> without a <form>');let h=e.getAttribute("formaction")||u.getAttribute("action");if(i=h?Ca(h,t):null,r=e.getAttribute("formmethod")||u.getAttribute("method")||Uh,n=Ig(e.getAttribute("formenctype"))||Ig(u.getAttribute("enctype"))||Ih,l=new FormData(u,e),!IM()){let{name:d,type:p,value:g}=e;if(p==="image"){let y=d?`${d}.`:"";l.append(`${y}x`,"0"),l.append(`${y}y`,"0")}else d&&l.append(d,g)}}else{if(Yd(e))throw new Error('Cannot submit element that is not <form>, <button>, or <input type="submit|image">');r=Uh,i=null,n=Ih,o=e}return l&&n==="text/plain"&&(o=l,l=void 0),{action:i,method:r.toLowerCase(),encType:n,formData:l,body:o}}Object.getOwnPropertyNames(Object.prototype).sort().join("\0");function qy(e,t){if(e===!1||e===null||typeof e>"u")throw new Error(t)}function WM(e,t,r){let i=typeof e=="string"?new URL(e,typeof window>"u"?"server://singlefetch/":window.location.origin):e;return i.pathname==="/"?i.pathname=`_root.${r}`:t&&Ca(i.pathname,t)==="/"?i.pathname=`${t.replace(/\/$/,"")}/_root.${r}`:i.pathname=`${i.pathname.replace(/\/$/,"")}.${r}`,i}async function GM(e,t){if(e.id in t)return t[e.id];try{let r=await import(e.module);return t[e.id]=r,r}catch(r){return console.error(`Error loading route module \`${e.module}\`, reloading page...`),console.error(r),window.__reactRouterContext&&window.__reactRouterContext.isSpaMode,window.location.reload(),new Promise(()=>{})}}function YM(e){return e==null?!1:e.href==null?e.rel==="preload"&&typeof e.imageSrcSet=="string"&&typeof e.imageSizes=="string":typeof e.rel=="string"&&typeof e.href=="string"}async function VM(e,t,r){let i=await Promise.all(e.map(async n=>{let l=t.routes[n.route.id];if(l){let o=await GM(l,r);return o.links?o.links():[]}return[]}));return ZM(i.flat(1).filter(YM).filter(n=>n.rel==="stylesheet"||n.rel==="preload").map(n=>n.rel==="stylesheet"?{...n,rel:"prefetch",as:"style"}:{...n,rel:"prefetch"}))}function J_(e,t,r,i,n,l){let o=(h,d)=>r[d]?h.route.id!==r[d].route.id:!0,u=(h,d)=>r[d].pathname!==h.pathname||r[d].route.path?.endsWith("*")&&r[d].params["*"]!==h.params["*"];return l==="assets"?t.filter((h,d)=>o(h,d)||u(h,d)):l==="data"?t.filter((h,d)=>{let p=i.routes[h.route.id];if(!p||!p.hasLoader)return!1;if(o(h,d)||u(h,d))return!0;if(h.route.shouldRevalidate){let g=h.route.shouldRevalidate({currentUrl:new URL(n.pathname+n.search+n.hash,window.origin),currentParams:r[0]?.params||{},nextUrl:new URL(e,window.origin),nextParams:h.params,defaultShouldRevalidate:!0});if(typeof g=="boolean")return g}return!0}):[]}function XM(e,t,{includeHydrateFallback:r}={}){return KM(e.map(i=>{let n=t.routes[i.route.id];if(!n)return[];let l=[n.module];return n.clientActionModule&&(l=l.concat(n.clientActionModule)),n.clientLoaderModule&&(l=l.concat(n.clientLoaderModule)),r&&n.hydrateFallbackModule&&(l=l.concat(n.hydrateFallbackModule)),n.imports&&(l=l.concat(n.imports)),l}).flat(1))}function KM(e){return[...new Set(e)]}function QM(e){let t={},r=Object.keys(e).sort();for(let i of r)t[i]=e[i];return t}function ZM(e,t){let r=new Set;return new Set(t),e.reduce((i,n)=>{let l=JSON.stringify(QM(n));return r.has(l)||(r.add(l),i.push({key:l,link:n})),i},[])}function RS(){let e=H.useContext(jl);return qy(e,"You must render this element inside a <DataRouterContext.Provider> element"),e}function JM(){let e=H.useContext(Gd);return qy(e,"You must render this element inside a <DataRouterStateContext.Provider> element"),e}var Hy=H.createContext(void 0);Hy.displayName="FrameworkContext";function LS(){let e=H.useContext(Hy);return qy(e,"You must render this element inside a <HydratedRouter> element"),e}function tB(e,t){let r=H.useContext(Hy),[i,n]=H.useState(!1),[l,o]=H.useState(!1),{onFocus:u,onBlur:h,onMouseEnter:d,onMouseLeave:p,onTouchStart:g}=t,y=H.useRef(null);H.useEffect(()=>{if(e==="render"&&o(!0),e==="viewport"){let _=T=>{T.forEach(E=>{o(E.isIntersecting)})},S=new IntersectionObserver(_,{threshold:.5});return y.current&&S.observe(y.current),()=>{S.disconnect()}}},[e]),H.useEffect(()=>{if(i){let _=setTimeout(()=>{o(!0)},100);return()=>{clearTimeout(_)}}},[i]);let x=()=>{n(!0)},v=()=>{n(!1),o(!1)};return r?e!=="intent"?[l,y,{}]:[l,y,{onFocus:Vo(u,x),onBlur:Vo(h,v),onMouseEnter:Vo(d,x),onMouseLeave:Vo(p,v),onTouchStart:Vo(g,x)}]:[!1,y,{}]}function Vo(e,t){return r=>{e&&e(r),r.defaultPrevented||t(r)}}function eB({page:e,...t}){let{router:r}=RS(),i=H.useMemo(()=>gS(r.routes,e,r.basename),[r.routes,e,r.basename]);return i?H.createElement(iB,{page:e,matches:i,...t}):null}function rB(e){let{manifest:t,routeModules:r}=LS(),[i,n]=H.useState([]);return H.useEffect(()=>{let l=!1;return VM(e,t,r).then(o=>{l||n(o)}),()=>{l=!0}},[e,t,r]),i}function iB({page:e,matches:t,...r}){let i=Oa(),{manifest:n,routeModules:l}=LS(),{basename:o}=RS(),{loaderData:u,matches:h}=JM(),d=H.useMemo(()=>J_(e,t,h,n,i,"data"),[e,t,h,n,i]),p=H.useMemo(()=>J_(e,t,h,n,i,"assets"),[e,t,h,n,i]),g=H.useMemo(()=>{if(e===i.pathname+i.search+i.hash)return[];let v=new Set,_=!1;if(t.forEach(T=>{let E=n.routes[T.route.id];!E||!E.hasLoader||(!d.some(O=>O.route.id===T.route.id)&&T.route.id in u&&l[T.route.id]?.shouldRevalidate||E.hasClientLoader?_=!0:v.add(T.route.id))}),v.size===0)return[];let S=WM(e,o,"data");return _&&v.size>0&&S.searchParams.set("_routes",t.filter(T=>v.has(T.route.id)).map(T=>T.route.id).join(",")),[S.pathname+S.search]},[o,u,i,n,d,t,e,l]),y=H.useMemo(()=>XM(p,n),[p,n]),x=rB(p);return H.createElement(H.Fragment,null,g.map(v=>H.createElement("link",{key:v,rel:"prefetch",as:"fetch",href:v,...r})),y.map(v=>H.createElement("link",{key:v,rel:"modulepreload",href:v,...r})),x.map(({key:v,link:_})=>H.createElement("link",{key:v,nonce:r.nonce,..._})))}function aB(...e){return t=>{e.forEach(r=>{typeof r=="function"?r(t):r!=null&&(r.current=t)})}}var nB=typeof window<"u"&&typeof window.document<"u"&&typeof window.document.createElement<"u";try{nB&&(window.__reactRouterVersion="7.11.0")}catch{}function sB({basename:e,children:t,unstable_useTransitions:r,window:i}){let n=H.useRef();n.current==null&&(n.current=zL({window:i,v5Compat:!0}));let l=n.current,[o,u]=H.useState({action:l.action,location:l.location}),h=H.useCallback(d=>{r===!1?u(d):H.startTransition(()=>u(d))},[r]);return H.useLayoutEffect(()=>l.listen(h),[l,h]),H.createElement(NM,{basename:e,children:t,location:o.location,navigationType:o.action,navigator:l,unstable_useTransitions:r})}var MS=/^(?:[a-z][a-z0-9+.-]*:|\/\/)/i,br=H.forwardRef(function({onClick:t,discover:r="render",prefetch:i="none",relative:n,reloadDocument:l,replace:o,state:u,target:h,to:d,preventScrollReset:p,viewTransition:g,unstable_defaultShouldRevalidate:y,...x},v){let{basename:_,unstable_useTransitions:S}=H.useContext(Xr),T=typeof d=="string"&&MS.test(d),E=vS(d,_);d=E.to;let O=bM(d,{relative:n}),[M,N,q]=tB(i,x),z=uB(d,{replace:o,state:u,target:h,preventScrollReset:p,relative:n,viewTransition:g,unstable_defaultShouldRevalidate:y,unstable_useTransitions:S});function Q(it){t&&t(it),it.defaultPrevented||z(it)}let et=H.createElement("a",{...x,...q,href:E.absoluteURL||O,onClick:E.isExternal||l?t:Q,ref:aB(v,N),target:h,"data-discover":!T&&r==="render"?"true":void 0});return M&&!T?H.createElement(H.Fragment,null,et,H.createElement(eB,{page:O})):et});br.displayName="Link";var lB=H.forwardRef(function({"aria-current":t="page",caseSensitive:r=!1,className:i="",end:n=!1,style:l,to:o,viewTransition:u,children:h,...d},p){let g=Yc(o,{relative:d.relative}),y=Oa(),x=H.useContext(Gd),{navigator:v,basename:_}=H.useContext(Xr),S=x!=null&&mB(g)&&u===!0,T=v.encodeLocation?v.encodeLocation(g).pathname:g.pathname,E=y.pathname,O=x&&x.navigation&&x.navigation.location?x.navigation.location.pathname:null;r||(E=E.toLowerCase(),O=O?O.toLowerCase():null,T=T.toLowerCase()),O&&_&&(O=Ca(O,_)||O);const M=T!=="/"&&T.endsWith("/")?T.length-1:T.length;let N=E===T||!n&&E.startsWith(T)&&E.charAt(M)==="/",q=O!=null&&(O===T||!n&&O.startsWith(T)&&O.charAt(T.length)==="/"),z={isActive:N,isPending:q,isTransitioning:S},Q=N?t:void 0,et;typeof i=="function"?et=i(z):et=[i,N?"active":null,q?"pending":null,S?"transitioning":null].filter(Boolean).join(" ");let it=typeof l=="function"?l(z):l;return H.createElement(br,{...d,"aria-current":Q,className:et,ref:p,style:it,to:o,viewTransition:u},typeof h=="function"?h(z):h)});lB.displayName="NavLink";var oB=H.forwardRef(({discover:e="render",fetcherKey:t,navigate:r,reloadDocument:i,replace:n,state:l,method:o=Uh,action:u,onSubmit:h,relative:d,preventScrollReset:p,viewTransition:g,unstable_defaultShouldRevalidate:y,...x},v)=>{let{unstable_useTransitions:_}=H.useContext(Xr),S=pB(),T=gB(u,{relative:d}),E=o.toLowerCase()==="get"?"get":"post",O=typeof u=="string"&&MS.test(u),M=N=>{if(h&&h(N),N.defaultPrevented)return;N.preventDefault();let q=N.nativeEvent.submitter,z=q?.getAttribute("formmethod")||o,Q=()=>S(q||N.currentTarget,{fetcherKey:t,method:z,navigate:r,replace:n,state:l,relative:d,preventScrollReset:p,viewTransition:g,unstable_defaultShouldRevalidate:y});_&&r!==!1?H.startTransition(()=>Q()):Q()};return H.createElement("form",{ref:v,method:E,action:T,onSubmit:i?h:M,...x,"data-discover":!O&&e==="render"?"true":void 0})});oB.displayName="Form";function cB(e){return`${e} must be used within a data router.  See https://reactrouter.com/en/main/routers/picking-a-router.`}function BS(e){let t=H.useContext(jl);return ve(t,cB(e)),t}function uB(e,{target:t,replace:r,state:i,preventScrollReset:n,relative:l,viewTransition:o,unstable_defaultShouldRevalidate:u,unstable_useTransitions:h}={}){let d=zl(),p=Oa(),g=Yc(e,{relative:l});return H.useCallback(y=>{if(PM(y,t)){y.preventDefault();let x=r!==void 0?r:Tc(p)===Tc(g),v=()=>d(e,{replace:x,state:i,preventScrollReset:n,relative:l,viewTransition:o,unstable_defaultShouldRevalidate:u});h?H.startTransition(()=>v()):v()}},[p,d,g,r,i,t,e,n,l,o,u,h])}function hB(e){Yr(typeof URLSearchParams<"u","You cannot use the `useSearchParams` hook in a browser that does not support the URLSearchParams API. If you need to support Internet Explorer 11, we recommend you load a polyfill such as https://github.com/ungap/url-search-params.");let t=H.useRef(Tm(e)),r=H.useRef(!1),i=Oa(),n=H.useMemo(()=>UM(i.search,r.current?null:t.current),[i.search]),l=zl(),o=H.useCallback((u,h)=>{const d=Tm(typeof u=="function"?u(new URLSearchParams(n)):u);r.current=!0,l("?"+d,h)},[l,n]);return[n,o]}var dB=0,fB=()=>`__${String(++dB)}__`;function pB(){let{router:e}=BS("useSubmit"),{basename:t}=H.useContext(Xr),r=OM(),i=e.fetch,n=e.navigate;return H.useCallback(async(l,o={})=>{let{action:u,method:h,encType:d,formData:p,body:g}=HM(l,t);if(o.navigate===!1){let y=o.fetcherKey||fB();await i(y,r,o.action||u,{unstable_defaultShouldRevalidate:o.unstable_defaultShouldRevalidate,preventScrollReset:o.preventScrollReset,formData:p,body:g,formMethod:o.method||h,formEncType:o.encType||d,flushSync:o.flushSync})}else await n(o.action||u,{unstable_defaultShouldRevalidate:o.unstable_defaultShouldRevalidate,preventScrollReset:o.preventScrollReset,formData:p,body:g,formMethod:o.method||h,formEncType:o.encType||d,replace:o.replace,state:o.state,fromRouteId:r,flushSync:o.flushSync,viewTransition:o.viewTransition})},[i,n,t,r])}function gB(e,{relative:t}={}){let{basename:r}=H.useContext(Xr),i=H.useContext(Oi);ve(i,"useFormAction must be used inside a RouteContext");let[n]=i.matches.slice(-1),l={...Yc(e||".",{relative:t})},o=Oa();if(e==null){l.search=o.search;let u=new URLSearchParams(l.search),h=u.getAll("index");if(h.some(p=>p==="")){u.delete("index"),h.filter(g=>g).forEach(g=>u.append("index",g));let p=u.toString();l.search=p?`?${p}`:""}}return(!e||e===".")&&n.route.index&&(l.search=l.search?l.search.replace(/^\?/,"?index&"):"?index"),r!=="/"&&(l.pathname=l.pathname==="/"?r:wa([r,l.pathname])),Tc(l)}function mB(e,{relative:t}={}){let r=H.useContext(wS);ve(r!=null,"`useViewTransitionState` must be used within `react-router-dom`'s `RouterProvider`.  Did you accidentally import `RouterProvider` from `react-router`?");let{basename:i}=BS("useViewTransitionState"),n=Yc(e,{relative:t});if(!r.isTransitioning)return!1;let l=Ca(r.currentLocation.pathname,i)||r.currentLocation.pathname,o=Ca(r.nextLocation.pathname,i)||r.nextLocation.pathname;return nd(n.pathname,o)!=null||nd(n.pathname,l)!=null}const NS=H.createContext(null);function yB({children:e}){const[t,r]=H.useState(()=>{if(typeof window<"u"){const n=localStorage.getItem("theme");return n||(window.matchMedia("(prefers-color-scheme: dark)").matches?"dark":"light")}return"light"});H.useEffect(()=>{const n=document.documentElement;t==="dark"?n.classList.add("dark"):n.classList.remove("dark"),localStorage.setItem("theme",t)},[t]);const i=()=>{r(n=>n==="dark"?"light":"dark")};return k.jsx(NS.Provider,{value:{theme:t,toggleTheme:i},children:e})}const DS=H.createContext(null);function Vd(e,t){var r={};for(var i in e)Object.prototype.hasOwnProperty.call(e,i)&&t.indexOf(i)<0&&(r[i]=e[i]);if(e!=null&&typeof Object.getOwnPropertySymbols=="function")for(var n=0,i=Object.getOwnPropertySymbols(e);n<i.length;n++)t.indexOf(i[n])<0&&Object.prototype.propertyIsEnumerable.call(e,i[n])&&(r[i[n]]=e[i[n]]);return r}function bB(e,t,r,i){function n(l){return l instanceof r?l:new r(function(o){o(l)})}return new(r||(r=Promise))(function(l,o){function u(p){try{d(i.next(p))}catch(g){o(g)}}function h(p){try{d(i.throw(p))}catch(g){o(g)}}function d(p){p.done?l(p.value):n(p.value).then(u,h)}d((i=i.apply(e,t||[])).next())})}const xB=e=>e?(...t)=>e(...t):(...t)=>fetch(...t);class Wy extends Error{constructor(t,r="FunctionsError",i){super(t),this.name=r,this.context=i}}class vB extends Wy{constructor(t){super("Failed to send a request to the Edge Function","FunctionsFetchError",t)}}class tw extends Wy{constructor(t){super("Relay Error invoking the Edge Function","FunctionsRelayError",t)}}class ew extends Wy{constructor(t){super("Edge Function returned a non-2xx status code","FunctionsHttpError",t)}}var Em;(function(e){e.Any="any",e.ApNortheast1="ap-northeast-1",e.ApNortheast2="ap-northeast-2",e.ApSouth1="ap-south-1",e.ApSoutheast1="ap-southeast-1",e.ApSoutheast2="ap-southeast-2",e.CaCentral1="ca-central-1",e.EuCentral1="eu-central-1",e.EuWest1="eu-west-1",e.EuWest2="eu-west-2",e.EuWest3="eu-west-3",e.SaEast1="sa-east-1",e.UsEast1="us-east-1",e.UsWest1="us-west-1",e.UsWest2="us-west-2"})(Em||(Em={}));class _B{constructor(t,{headers:r={},customFetch:i,region:n=Em.Any}={}){this.url=t,this.headers=r,this.region=n,this.fetch=xB(i)}setAuth(t){this.headers.Authorization=`Bearer ${t}`}invoke(t){return bB(this,arguments,void 0,function*(r,i={}){var n;let l,o;try{const{headers:u,method:h,body:d,signal:p,timeout:g}=i;let y={},{region:x}=i;x||(x=this.region);const v=new URL(`${this.url}/${r}`);x&&x!=="any"&&(y["x-region"]=x,v.searchParams.set("forceFunctionRegion",x));let _;d&&(u&&!Object.prototype.hasOwnProperty.call(u,"Content-Type")||!u)?typeof Blob<"u"&&d instanceof Blob||d instanceof ArrayBuffer?(y["Content-Type"]="application/octet-stream",_=d):typeof d=="string"?(y["Content-Type"]="text/plain",_=d):typeof FormData<"u"&&d instanceof FormData?_=d:(y["Content-Type"]="application/json",_=JSON.stringify(d)):_=d;let S=p;g&&(o=new AbortController,l=setTimeout(()=>o.abort(),g),p?(S=o.signal,p.addEventListener("abort",()=>o.abort())):S=o.signal);const T=yield this.fetch(v.toString(),{method:h||"POST",headers:Object.assign(Object.assign(Object.assign({},y),this.headers),u),body:_,signal:S}).catch(N=>{throw new vB(N)}),E=T.headers.get("x-relay-error");if(E&&E==="true")throw new tw(T);if(!T.ok)throw new ew(T);let O=((n=T.headers.get("Content-Type"))!==null&&n!==void 0?n:"text/plain").split(";")[0].trim(),M;return O==="application/json"?M=yield T.json():O==="application/octet-stream"||O==="application/pdf"?M=yield T.blob():O==="text/event-stream"?M=T:O==="multipart/form-data"?M=yield T.formData():M=yield T.text(),{data:M,error:null,response:T}}catch(u){return{data:null,error:u,response:u instanceof ew||u instanceof tw?u.context:void 0}}finally{l&&clearTimeout(l)}})}}var wB=class extends Error{constructor(e){super(e.message),this.name="PostgrestError",this.details=e.details,this.hint=e.hint,this.code=e.code}},SB=class{constructor(e){var t,r;this.shouldThrowOnError=!1,this.method=e.method,this.url=e.url,this.headers=new Headers(e.headers),this.schema=e.schema,this.body=e.body,this.shouldThrowOnError=(t=e.shouldThrowOnError)!==null&&t!==void 0?t:!1,this.signal=e.signal,this.isMaybeSingle=(r=e.isMaybeSingle)!==null&&r!==void 0?r:!1,e.fetch?this.fetch=e.fetch:this.fetch=fetch}throwOnError(){return this.shouldThrowOnError=!0,this}setHeader(e,t){return this.headers=new Headers(this.headers),this.headers.set(e,t),this}then(e,t){var r=this;this.schema===void 0||(["GET","HEAD"].includes(this.method)?this.headers.set("Accept-Profile",this.schema):this.headers.set("Content-Profile",this.schema)),this.method!=="GET"&&this.method!=="HEAD"&&this.headers.set("Content-Type","application/json");const i=this.fetch;let n=i(this.url.toString(),{method:this.method,headers:this.headers,body:JSON.stringify(this.body),signal:this.signal}).then(async l=>{let o=null,u=null,h=null,d=l.status,p=l.statusText;if(l.ok){var g,y;if(r.method!=="HEAD"){var x;const T=await l.text();T===""||(r.headers.get("Accept")==="text/csv"||r.headers.get("Accept")&&(!((x=r.headers.get("Accept"))===null||x===void 0)&&x.includes("application/vnd.pgrst.plan+text"))?u=T:u=JSON.parse(T))}const _=(g=r.headers.get("Prefer"))===null||g===void 0?void 0:g.match(/count=(exact|planned|estimated)/),S=(y=l.headers.get("content-range"))===null||y===void 0?void 0:y.split("/");_&&S&&S.length>1&&(h=parseInt(S[1])),r.isMaybeSingle&&r.method==="GET"&&Array.isArray(u)&&(u.length>1?(o={code:"PGRST116",details:`Results contain ${u.length} rows, application/vnd.pgrst.object+json requires 1 row`,hint:null,message:"JSON object requested, multiple (or no) rows returned"},u=null,h=null,d=406,p="Not Acceptable"):u.length===1?u=u[0]:u=null)}else{var v;const _=await l.text();try{o=JSON.parse(_),Array.isArray(o)&&l.status===404&&(u=[],o=null,d=200,p="OK")}catch{l.status===404&&_===""?(d=204,p="No Content"):o={message:_}}if(o&&r.isMaybeSingle&&(!(o==null||(v=o.details)===null||v===void 0)&&v.includes("0 rows"))&&(o=null,d=200,p="OK"),o&&r.shouldThrowOnError)throw new wB(o)}return{error:o,data:u,count:h,status:d,statusText:p}});return this.shouldThrowOnError||(n=n.catch(l=>{var o;let u="";const h=l?.cause;if(h){var d,p,g,y;const v=(d=h?.message)!==null&&d!==void 0?d:"",_=(p=h?.code)!==null&&p!==void 0?p:"";u=`${(g=l?.name)!==null&&g!==void 0?g:"FetchError"}: ${l?.message}`,u+=`

Caused by: ${(y=h?.name)!==null&&y!==void 0?y:"Error"}: ${v}`,_&&(u+=` (${_})`),h?.stack&&(u+=`
${h.stack}`)}else{var x;u=(x=l?.stack)!==null&&x!==void 0?x:""}return{error:{message:`${(o=l?.name)!==null&&o!==void 0?o:"FetchError"}: ${l?.message}`,details:u,hint:"",code:""},data:null,count:null,status:0,statusText:""}})),n.then(e,t)}returns(){return this}overrideTypes(){return this}},kB=class extends SB{select(e){let t=!1;const r=(e??"*").split("").map(i=>/\s/.test(i)&&!t?"":(i==='"'&&(t=!t),i)).join("");return this.url.searchParams.set("select",r),this.headers.append("Prefer","return=representation"),this}order(e,{ascending:t=!0,nullsFirst:r,foreignTable:i,referencedTable:n=i}={}){const l=n?`${n}.order`:"order",o=this.url.searchParams.get(l);return this.url.searchParams.set(l,`${o?`${o},`:""}${e}.${t?"asc":"desc"}${r===void 0?"":r?".nullsfirst":".nullslast"}`),this}limit(e,{foreignTable:t,referencedTable:r=t}={}){const i=typeof r>"u"?"limit":`${r}.limit`;return this.url.searchParams.set(i,`${e}`),this}range(e,t,{foreignTable:r,referencedTable:i=r}={}){const n=typeof i>"u"?"offset":`${i}.offset`,l=typeof i>"u"?"limit":`${i}.limit`;return this.url.searchParams.set(n,`${e}`),this.url.searchParams.set(l,`${t-e+1}`),this}abortSignal(e){return this.signal=e,this}single(){return this.headers.set("Accept","application/vnd.pgrst.object+json"),this}maybeSingle(){return this.method==="GET"?this.headers.set("Accept","application/json"):this.headers.set("Accept","application/vnd.pgrst.object+json"),this.isMaybeSingle=!0,this}csv(){return this.headers.set("Accept","text/csv"),this}geojson(){return this.headers.set("Accept","application/geo+json"),this}explain({analyze:e=!1,verbose:t=!1,settings:r=!1,buffers:i=!1,wal:n=!1,format:l="text"}={}){var o;const u=[e?"analyze":null,t?"verbose":null,r?"settings":null,i?"buffers":null,n?"wal":null].filter(Boolean).join("|"),h=(o=this.headers.get("Accept"))!==null&&o!==void 0?o:"application/json";return this.headers.set("Accept",`application/vnd.pgrst.plan+${l}; for="${h}"; options=${u};`),l==="json"?this:this}rollback(){return this.headers.append("Prefer","tx=rollback"),this}returns(){return this}maxAffected(e){return this.headers.append("Prefer","handling=strict"),this.headers.append("Prefer",`max-affected=${e}`),this}};const rw=new RegExp("[,()]");var ll=class extends kB{eq(e,t){return this.url.searchParams.append(e,`eq.${t}`),this}neq(e,t){return this.url.searchParams.append(e,`neq.${t}`),this}gt(e,t){return this.url.searchParams.append(e,`gt.${t}`),this}gte(e,t){return this.url.searchParams.append(e,`gte.${t}`),this}lt(e,t){return this.url.searchParams.append(e,`lt.${t}`),this}lte(e,t){return this.url.searchParams.append(e,`lte.${t}`),this}like(e,t){return this.url.searchParams.append(e,`like.${t}`),this}likeAllOf(e,t){return this.url.searchParams.append(e,`like(all).{${t.join(",")}}`),this}likeAnyOf(e,t){return this.url.searchParams.append(e,`like(any).{${t.join(",")}}`),this}ilike(e,t){return this.url.searchParams.append(e,`ilike.${t}`),this}ilikeAllOf(e,t){return this.url.searchParams.append(e,`ilike(all).{${t.join(",")}}`),this}ilikeAnyOf(e,t){return this.url.searchParams.append(e,`ilike(any).{${t.join(",")}}`),this}regexMatch(e,t){return this.url.searchParams.append(e,`match.${t}`),this}regexIMatch(e,t){return this.url.searchParams.append(e,`imatch.${t}`),this}is(e,t){return this.url.searchParams.append(e,`is.${t}`),this}isDistinct(e,t){return this.url.searchParams.append(e,`isdistinct.${t}`),this}in(e,t){const r=Array.from(new Set(t)).map(i=>typeof i=="string"&&rw.test(i)?`"${i}"`:`${i}`).join(",");return this.url.searchParams.append(e,`in.(${r})`),this}notIn(e,t){const r=Array.from(new Set(t)).map(i=>typeof i=="string"&&rw.test(i)?`"${i}"`:`${i}`).join(",");return this.url.searchParams.append(e,`not.in.(${r})`),this}contains(e,t){return typeof t=="string"?this.url.searchParams.append(e,`cs.${t}`):Array.isArray(t)?this.url.searchParams.append(e,`cs.{${t.join(",")}}`):this.url.searchParams.append(e,`cs.${JSON.stringify(t)}`),this}containedBy(e,t){return typeof t=="string"?this.url.searchParams.append(e,`cd.${t}`):Array.isArray(t)?this.url.searchParams.append(e,`cd.{${t.join(",")}}`):this.url.searchParams.append(e,`cd.${JSON.stringify(t)}`),this}rangeGt(e,t){return this.url.searchParams.append(e,`sr.${t}`),this}rangeGte(e,t){return this.url.searchParams.append(e,`nxl.${t}`),this}rangeLt(e,t){return this.url.searchParams.append(e,`sl.${t}`),this}rangeLte(e,t){return this.url.searchParams.append(e,`nxr.${t}`),this}rangeAdjacent(e,t){return this.url.searchParams.append(e,`adj.${t}`),this}overlaps(e,t){return typeof t=="string"?this.url.searchParams.append(e,`ov.${t}`):this.url.searchParams.append(e,`ov.{${t.join(",")}}`),this}textSearch(e,t,{config:r,type:i}={}){let n="";i==="plain"?n="pl":i==="phrase"?n="ph":i==="websearch"&&(n="w");const l=r===void 0?"":`(${r})`;return this.url.searchParams.append(e,`${n}fts${l}.${t}`),this}match(e){return Object.entries(e).forEach(([t,r])=>{this.url.searchParams.append(t,`eq.${r}`)}),this}not(e,t,r){return this.url.searchParams.append(e,`not.${t}.${r}`),this}or(e,{foreignTable:t,referencedTable:r=t}={}){const i=r?`${r}.or`:"or";return this.url.searchParams.append(i,`(${e})`),this}filter(e,t,r){return this.url.searchParams.append(e,`${t}.${r}`),this}},CB=class{constructor(e,{headers:t={},schema:r,fetch:i}){this.url=e,this.headers=new Headers(t),this.schema=r,this.fetch=i}select(e,t){const{head:r=!1,count:i}=t??{},n=r?"HEAD":"GET";let l=!1;const o=(e??"*").split("").map(u=>/\s/.test(u)&&!l?"":(u==='"'&&(l=!l),u)).join("");return this.url.searchParams.set("select",o),i&&this.headers.append("Prefer",`count=${i}`),new ll({method:n,url:this.url,headers:this.headers,schema:this.schema,fetch:this.fetch})}insert(e,{count:t,defaultToNull:r=!0}={}){var i;const n="POST";if(t&&this.headers.append("Prefer",`count=${t}`),r||this.headers.append("Prefer","missing=default"),Array.isArray(e)){const l=e.reduce((o,u)=>o.concat(Object.keys(u)),[]);if(l.length>0){const o=[...new Set(l)].map(u=>`"${u}"`);this.url.searchParams.set("columns",o.join(","))}}return new ll({method:n,url:this.url,headers:this.headers,schema:this.schema,body:e,fetch:(i=this.fetch)!==null&&i!==void 0?i:fetch})}upsert(e,{onConflict:t,ignoreDuplicates:r=!1,count:i,defaultToNull:n=!0}={}){var l;const o="POST";if(this.headers.append("Prefer",`resolution=${r?"ignore":"merge"}-duplicates`),t!==void 0&&this.url.searchParams.set("on_conflict",t),i&&this.headers.append("Prefer",`count=${i}`),n||this.headers.append("Prefer","missing=default"),Array.isArray(e)){const u=e.reduce((h,d)=>h.concat(Object.keys(d)),[]);if(u.length>0){const h=[...new Set(u)].map(d=>`"${d}"`);this.url.searchParams.set("columns",h.join(","))}}return new ll({method:o,url:this.url,headers:this.headers,schema:this.schema,body:e,fetch:(l=this.fetch)!==null&&l!==void 0?l:fetch})}update(e,{count:t}={}){var r;const i="PATCH";return t&&this.headers.append("Prefer",`count=${t}`),new ll({method:i,url:this.url,headers:this.headers,schema:this.schema,body:e,fetch:(r=this.fetch)!==null&&r!==void 0?r:fetch})}delete({count:e}={}){var t;const r="DELETE";return e&&this.headers.append("Prefer",`count=${e}`),new ll({method:r,url:this.url,headers:this.headers,schema:this.schema,fetch:(t=this.fetch)!==null&&t!==void 0?t:fetch})}},TB=class jS{constructor(t,{headers:r={},schema:i,fetch:n}={}){this.url=t,this.headers=new Headers(r),this.schemaName=i,this.fetch=n}from(t){if(!t||typeof t!="string"||t.trim()==="")throw new Error("Invalid relation name: relation must be a non-empty string.");return new CB(new URL(`${this.url}/${t}`),{headers:new Headers(this.headers),schema:this.schemaName,fetch:this.fetch})}schema(t){return new jS(this.url,{headers:this.headers,schema:t,fetch:this.fetch})}rpc(t,r={},{head:i=!1,get:n=!1,count:l}={}){var o;let u;const h=new URL(`${this.url}/rpc/${t}`);let d;i||n?(u=i?"HEAD":"GET",Object.entries(r).filter(([g,y])=>y!==void 0).map(([g,y])=>[g,Array.isArray(y)?`{${y.join(",")}}`:`${y}`]).forEach(([g,y])=>{h.searchParams.append(g,y)})):(u="POST",d=r);const p=new Headers(this.headers);return l&&p.set("Prefer",`count=${l}`),new ll({method:u,url:h,headers:p,schema:this.schemaName,body:d,fetch:(o=this.fetch)!==null&&o!==void 0?o:fetch})}};class EB{constructor(){}static detectEnvironment(){var t;if(typeof WebSocket<"u")return{type:"native",constructor:WebSocket};if(typeof globalThis<"u"&&typeof globalThis.WebSocket<"u")return{type:"native",constructor:globalThis.WebSocket};if(typeof global<"u"&&typeof global.WebSocket<"u")return{type:"native",constructor:global.WebSocket};if(typeof globalThis<"u"&&typeof globalThis.WebSocketPair<"u"&&typeof globalThis.WebSocket>"u")return{type:"cloudflare",error:"Cloudflare Workers detected. WebSocket clients are not supported in Cloudflare Workers.",workaround:"Use Cloudflare Workers WebSocket API for server-side WebSocket handling, or deploy to a different runtime."};if(typeof globalThis<"u"&&globalThis.EdgeRuntime||typeof navigator<"u"&&(!((t=navigator.userAgent)===null||t===void 0)&&t.includes("Vercel-Edge")))return{type:"unsupported",error:"Edge runtime detected (Vercel Edge/Netlify Edge). WebSockets are not supported in edge functions.",workaround:"Use serverless functions or a different deployment target for WebSocket functionality."};if(typeof process<"u"){const r=process.versions;if(r&&r.node){const i=r.node,n=parseInt(i.replace(/^v/,"").split(".")[0]);return n>=22?typeof globalThis.WebSocket<"u"?{type:"native",constructor:globalThis.WebSocket}:{type:"unsupported",error:`Node.js ${n} detected but native WebSocket not found.`,workaround:"Provide a WebSocket implementation via the transport option."}:{type:"unsupported",error:`Node.js ${n} detected without native WebSocket support.`,workaround:`For Node.js < 22, install "ws" package and provide it via the transport option:
import ws from "ws"
new RealtimeClient(url, { transport: ws })`}}}return{type:"unsupported",error:"Unknown JavaScript runtime without WebSocket support.",workaround:"Ensure you're running in a supported environment (browser, Node.js, Deno) or provide a custom WebSocket implementation."}}static getWebSocketConstructor(){const t=this.detectEnvironment();if(t.constructor)return t.constructor;let r=t.error||"WebSocket not supported in this environment.";throw t.workaround&&(r+=`

Suggested solution: ${t.workaround}`),new Error(r)}static createWebSocket(t,r){const i=this.getWebSocketConstructor();return new i(t,r)}static isWebSocketSupported(){try{const t=this.detectEnvironment();return t.type==="native"||t.type==="ws"}catch{return!1}}}const AB="2.89.0",OB=`realtime-js/${AB}`,$S="1.0.0",RB="2.0.0",iw=$S,Am=1e4,LB=1e3,MB=100;var ln;(function(e){e[e.connecting=0]="connecting",e[e.open=1]="open",e[e.closing=2]="closing",e[e.closed=3]="closed"})(ln||(ln={}));var Ue;(function(e){e.closed="closed",e.errored="errored",e.joined="joined",e.joining="joining",e.leaving="leaving"})(Ue||(Ue={}));var wi;(function(e){e.close="phx_close",e.error="phx_error",e.join="phx_join",e.reply="phx_reply",e.leave="phx_leave",e.access_token="access_token"})(wi||(wi={}));var Om;(function(e){e.websocket="websocket"})(Om||(Om={}));var Yn;(function(e){e.Connecting="connecting",e.Open="open",e.Closing="closing",e.Closed="closed"})(Yn||(Yn={}));class BB{constructor(t){this.HEADER_LENGTH=1,this.USER_BROADCAST_PUSH_META_LENGTH=6,this.KINDS={userBroadcastPush:3,userBroadcast:4},this.BINARY_ENCODING=0,this.JSON_ENCODING=1,this.BROADCAST_EVENT="broadcast",this.allowedMetadataKeys=[],this.allowedMetadataKeys=t??[]}encode(t,r){if(t.event===this.BROADCAST_EVENT&&!(t.payload instanceof ArrayBuffer)&&typeof t.payload.event=="string")return r(this._binaryEncodeUserBroadcastPush(t));let i=[t.join_ref,t.ref,t.topic,t.event,t.payload];return r(JSON.stringify(i))}_binaryEncodeUserBroadcastPush(t){var r;return this._isArrayBuffer((r=t.payload)===null||r===void 0?void 0:r.payload)?this._encodeBinaryUserBroadcastPush(t):this._encodeJsonUserBroadcastPush(t)}_encodeBinaryUserBroadcastPush(t){var r,i;const n=(i=(r=t.payload)===null||r===void 0?void 0:r.payload)!==null&&i!==void 0?i:new ArrayBuffer(0);return this._encodeUserBroadcastPush(t,this.BINARY_ENCODING,n)}_encodeJsonUserBroadcastPush(t){var r,i;const n=(i=(r=t.payload)===null||r===void 0?void 0:r.payload)!==null&&i!==void 0?i:{},o=new TextEncoder().encode(JSON.stringify(n)).buffer;return this._encodeUserBroadcastPush(t,this.JSON_ENCODING,o)}_encodeUserBroadcastPush(t,r,i){var n,l;const o=t.topic,u=(n=t.ref)!==null&&n!==void 0?n:"",h=(l=t.join_ref)!==null&&l!==void 0?l:"",d=t.payload.event,p=this.allowedMetadataKeys?this._pick(t.payload,this.allowedMetadataKeys):{},g=Object.keys(p).length===0?"":JSON.stringify(p);if(h.length>255)throw new Error(`joinRef length ${h.length} exceeds maximum of 255`);if(u.length>255)throw new Error(`ref length ${u.length} exceeds maximum of 255`);if(o.length>255)throw new Error(`topic length ${o.length} exceeds maximum of 255`);if(d.length>255)throw new Error(`userEvent length ${d.length} exceeds maximum of 255`);if(g.length>255)throw new Error(`metadata length ${g.length} exceeds maximum of 255`);const y=this.USER_BROADCAST_PUSH_META_LENGTH+h.length+u.length+o.length+d.length+g.length,x=new ArrayBuffer(this.HEADER_LENGTH+y);let v=new DataView(x),_=0;v.setUint8(_++,this.KINDS.userBroadcastPush),v.setUint8(_++,h.length),v.setUint8(_++,u.length),v.setUint8(_++,o.length),v.setUint8(_++,d.length),v.setUint8(_++,g.length),v.setUint8(_++,r),Array.from(h,T=>v.setUint8(_++,T.charCodeAt(0))),Array.from(u,T=>v.setUint8(_++,T.charCodeAt(0))),Array.from(o,T=>v.setUint8(_++,T.charCodeAt(0))),Array.from(d,T=>v.setUint8(_++,T.charCodeAt(0))),Array.from(g,T=>v.setUint8(_++,T.charCodeAt(0)));var S=new Uint8Array(x.byteLength+i.byteLength);return S.set(new Uint8Array(x),0),S.set(new Uint8Array(i),x.byteLength),S.buffer}decode(t,r){if(this._isArrayBuffer(t)){let i=this._binaryDecode(t);return r(i)}if(typeof t=="string"){const i=JSON.parse(t),[n,l,o,u,h]=i;return r({join_ref:n,ref:l,topic:o,event:u,payload:h})}return r({})}_binaryDecode(t){const r=new DataView(t),i=r.getUint8(0),n=new TextDecoder;if(i===this.KINDS.userBroadcast)return this._decodeUserBroadcast(t,r,n)}_decodeUserBroadcast(t,r,i){const n=r.getUint8(1),l=r.getUint8(2),o=r.getUint8(3),u=r.getUint8(4);let h=this.HEADER_LENGTH+4;const d=i.decode(t.slice(h,h+n));h=h+n;const p=i.decode(t.slice(h,h+l));h=h+l;const g=i.decode(t.slice(h,h+o));h=h+o;const y=t.slice(h,t.byteLength),x=u===this.JSON_ENCODING?JSON.parse(i.decode(y)):y,v={type:this.BROADCAST_EVENT,event:p,payload:x};return o>0&&(v.meta=JSON.parse(g)),{join_ref:null,ref:null,topic:d,event:this.BROADCAST_EVENT,payload:v}}_isArrayBuffer(t){var r;return t instanceof ArrayBuffer||((r=t?.constructor)===null||r===void 0?void 0:r.name)==="ArrayBuffer"}_pick(t,r){return!t||typeof t!="object"?{}:Object.fromEntries(Object.entries(t).filter(([i])=>r.includes(i)))}}let zS=class{constructor(t,r){this.callback=t,this.timerCalc=r,this.timer=void 0,this.tries=0,this.callback=t,this.timerCalc=r}reset(){this.tries=0,clearTimeout(this.timer),this.timer=void 0}scheduleTimeout(){clearTimeout(this.timer),this.timer=setTimeout(()=>{this.tries=this.tries+1,this.callback()},this.timerCalc(this.tries+1))}};var fe;(function(e){e.abstime="abstime",e.bool="bool",e.date="date",e.daterange="daterange",e.float4="float4",e.float8="float8",e.int2="int2",e.int4="int4",e.int4range="int4range",e.int8="int8",e.int8range="int8range",e.json="json",e.jsonb="jsonb",e.money="money",e.numeric="numeric",e.oid="oid",e.reltime="reltime",e.text="text",e.time="time",e.timestamp="timestamp",e.timestamptz="timestamptz",e.timetz="timetz",e.tsrange="tsrange",e.tstzrange="tstzrange"})(fe||(fe={}));const aw=(e,t,r={})=>{var i;const n=(i=r.skipTypes)!==null&&i!==void 0?i:[];return t?Object.keys(t).reduce((l,o)=>(l[o]=NB(o,e,t,n),l),{}):{}},NB=(e,t,r,i)=>{const n=t.find(u=>u.name===e),l=n?.type,o=r[e];return l&&!i.includes(l)?FS(l,o):Rm(o)},FS=(e,t)=>{if(e.charAt(0)==="_"){const r=e.slice(1,e.length);return zB(t,r)}switch(e){case fe.bool:return DB(t);case fe.float4:case fe.float8:case fe.int2:case fe.int4:case fe.int8:case fe.numeric:case fe.oid:return jB(t);case fe.json:case fe.jsonb:return $B(t);case fe.timestamp:return FB(t);case fe.abstime:case fe.date:case fe.daterange:case fe.int4range:case fe.int8range:case fe.money:case fe.reltime:case fe.text:case fe.time:case fe.timestamptz:case fe.timetz:case fe.tsrange:case fe.tstzrange:return Rm(t);default:return Rm(t)}},Rm=e=>e,DB=e=>{switch(e){case"t":return!0;case"f":return!1;default:return e}},jB=e=>{if(typeof e=="string"){const t=parseFloat(e);if(!Number.isNaN(t))return t}return e},$B=e=>{if(typeof e=="string")try{return JSON.parse(e)}catch{return e}return e},zB=(e,t)=>{if(typeof e!="string")return e;const r=e.length-1,i=e[r];if(e[0]==="{"&&i==="}"){let l;const o=e.slice(1,r);try{l=JSON.parse("["+o+"]")}catch{l=o?o.split(","):[]}return l.map(u=>FS(t,u))}return e},FB=e=>typeof e=="string"?e.replace(" ","T"):e,PS=e=>{const t=new URL(e);return t.protocol=t.protocol.replace(/^ws/i,"http"),t.pathname=t.pathname.replace(/\/+$/,"").replace(/\/socket\/websocket$/i,"").replace(/\/socket$/i,"").replace(/\/websocket$/i,""),t.pathname===""||t.pathname==="/"?t.pathname="/api/broadcast":t.pathname=t.pathname+"/api/broadcast",t.href};class qg{constructor(t,r,i={},n=Am){this.channel=t,this.event=r,this.payload=i,this.timeout=n,this.sent=!1,this.timeoutTimer=void 0,this.ref="",this.receivedResp=null,this.recHooks=[],this.refEvent=null}resend(t){this.timeout=t,this._cancelRefEvent(),this.ref="",this.refEvent=null,this.receivedResp=null,this.sent=!1,this.send()}send(){this._hasReceived("timeout")||(this.startTimeout(),this.sent=!0,this.channel.socket.push({topic:this.channel.topic,event:this.event,payload:this.payload,ref:this.ref,join_ref:this.channel._joinRef()}))}updatePayload(t){this.payload=Object.assign(Object.assign({},this.payload),t)}receive(t,r){var i;return this._hasReceived(t)&&r((i=this.receivedResp)===null||i===void 0?void 0:i.response),this.recHooks.push({status:t,callback:r}),this}startTimeout(){if(this.timeoutTimer)return;this.ref=this.channel.socket._makeRef(),this.refEvent=this.channel._replyEventName(this.ref);const t=r=>{this._cancelRefEvent(),this._cancelTimeout(),this.receivedResp=r,this._matchReceive(r)};this.channel._on(this.refEvent,{},t),this.timeoutTimer=setTimeout(()=>{this.trigger("timeout",{})},this.timeout)}trigger(t,r){this.refEvent&&this.channel._trigger(this.refEvent,{status:t,response:r})}destroy(){this._cancelRefEvent(),this._cancelTimeout()}_cancelRefEvent(){this.refEvent&&this.channel._off(this.refEvent,{})}_cancelTimeout(){clearTimeout(this.timeoutTimer),this.timeoutTimer=void 0}_matchReceive({status:t,response:r}){this.recHooks.filter(i=>i.status===t).forEach(i=>i.callback(r))}_hasReceived(t){return this.receivedResp&&this.receivedResp.status===t}}var nw;(function(e){e.SYNC="sync",e.JOIN="join",e.LEAVE="leave"})(nw||(nw={}));class bc{constructor(t,r){this.channel=t,this.state={},this.pendingDiffs=[],this.joinRef=null,this.enabled=!1,this.caller={onJoin:()=>{},onLeave:()=>{},onSync:()=>{}};const i=r?.events||{state:"presence_state",diff:"presence_diff"};this.channel._on(i.state,{},n=>{const{onJoin:l,onLeave:o,onSync:u}=this.caller;this.joinRef=this.channel._joinRef(),this.state=bc.syncState(this.state,n,l,o),this.pendingDiffs.forEach(h=>{this.state=bc.syncDiff(this.state,h,l,o)}),this.pendingDiffs=[],u()}),this.channel._on(i.diff,{},n=>{const{onJoin:l,onLeave:o,onSync:u}=this.caller;this.inPendingSyncState()?this.pendingDiffs.push(n):(this.state=bc.syncDiff(this.state,n,l,o),u())}),this.onJoin((n,l,o)=>{this.channel._trigger("presence",{event:"join",key:n,currentPresences:l,newPresences:o})}),this.onLeave((n,l,o)=>{this.channel._trigger("presence",{event:"leave",key:n,currentPresences:l,leftPresences:o})}),this.onSync(()=>{this.channel._trigger("presence",{event:"sync"})})}static syncState(t,r,i,n){const l=this.cloneDeep(t),o=this.transformState(r),u={},h={};return this.map(l,(d,p)=>{o[d]||(h[d]=p)}),this.map(o,(d,p)=>{const g=l[d];if(g){const y=p.map(S=>S.presence_ref),x=g.map(S=>S.presence_ref),v=p.filter(S=>x.indexOf(S.presence_ref)<0),_=g.filter(S=>y.indexOf(S.presence_ref)<0);v.length>0&&(u[d]=v),_.length>0&&(h[d]=_)}else u[d]=p}),this.syncDiff(l,{joins:u,leaves:h},i,n)}static syncDiff(t,r,i,n){const{joins:l,leaves:o}={joins:this.transformState(r.joins),leaves:this.transformState(r.leaves)};return i||(i=()=>{}),n||(n=()=>{}),this.map(l,(u,h)=>{var d;const p=(d=t[u])!==null&&d!==void 0?d:[];if(t[u]=this.cloneDeep(h),p.length>0){const g=t[u].map(x=>x.presence_ref),y=p.filter(x=>g.indexOf(x.presence_ref)<0);t[u].unshift(...y)}i(u,p,h)}),this.map(o,(u,h)=>{let d=t[u];if(!d)return;const p=h.map(g=>g.presence_ref);d=d.filter(g=>p.indexOf(g.presence_ref)<0),t[u]=d,n(u,d,h),d.length===0&&delete t[u]}),t}static map(t,r){return Object.getOwnPropertyNames(t).map(i=>r(i,t[i]))}static transformState(t){return t=this.cloneDeep(t),Object.getOwnPropertyNames(t).reduce((r,i)=>{const n=t[i];return"metas"in n?r[i]=n.metas.map(l=>(l.presence_ref=l.phx_ref,delete l.phx_ref,delete l.phx_ref_prev,l)):r[i]=n,r},{})}static cloneDeep(t){return JSON.parse(JSON.stringify(t))}onJoin(t){this.caller.onJoin=t}onLeave(t){this.caller.onLeave=t}onSync(t){this.caller.onSync=t}inPendingSyncState(){return!this.joinRef||this.joinRef!==this.channel._joinRef()}}var sw;(function(e){e.ALL="*",e.INSERT="INSERT",e.UPDATE="UPDATE",e.DELETE="DELETE"})(sw||(sw={}));var xc;(function(e){e.BROADCAST="broadcast",e.PRESENCE="presence",e.POSTGRES_CHANGES="postgres_changes",e.SYSTEM="system"})(xc||(xc={}));var _a;(function(e){e.SUBSCRIBED="SUBSCRIBED",e.TIMED_OUT="TIMED_OUT",e.CLOSED="CLOSED",e.CHANNEL_ERROR="CHANNEL_ERROR"})(_a||(_a={}));class dl{constructor(t,r={config:{}},i){var n,l;if(this.topic=t,this.params=r,this.socket=i,this.bindings={},this.state=Ue.closed,this.joinedOnce=!1,this.pushBuffer=[],this.subTopic=t.replace(/^realtime:/i,""),this.params.config=Object.assign({broadcast:{ack:!1,self:!1},presence:{key:"",enabled:!1},private:!1},r.config),this.timeout=this.socket.timeout,this.joinPush=new qg(this,wi.join,this.params,this.timeout),this.rejoinTimer=new zS(()=>this._rejoinUntilConnected(),this.socket.reconnectAfterMs),this.joinPush.receive("ok",()=>{this.state=Ue.joined,this.rejoinTimer.reset(),this.pushBuffer.forEach(o=>o.send()),this.pushBuffer=[]}),this._onClose(()=>{this.rejoinTimer.reset(),this.socket.log("channel",`close ${this.topic} ${this._joinRef()}`),this.state=Ue.closed,this.socket._remove(this)}),this._onError(o=>{this._isLeaving()||this._isClosed()||(this.socket.log("channel",`error ${this.topic}`,o),this.state=Ue.errored,this.rejoinTimer.scheduleTimeout())}),this.joinPush.receive("timeout",()=>{this._isJoining()&&(this.socket.log("channel",`timeout ${this.topic}`,this.joinPush.timeout),this.state=Ue.errored,this.rejoinTimer.scheduleTimeout())}),this.joinPush.receive("error",o=>{this._isLeaving()||this._isClosed()||(this.socket.log("channel",`error ${this.topic}`,o),this.state=Ue.errored,this.rejoinTimer.scheduleTimeout())}),this._on(wi.reply,{},(o,u)=>{this._trigger(this._replyEventName(u),o)}),this.presence=new bc(this),this.broadcastEndpointURL=PS(this.socket.endPoint),this.private=this.params.config.private||!1,!this.private&&(!((l=(n=this.params.config)===null||n===void 0?void 0:n.broadcast)===null||l===void 0)&&l.replay))throw`tried to use replay on public channel '${this.topic}'. It must be a private channel.`}subscribe(t,r=this.timeout){var i,n,l;if(this.socket.isConnected()||this.socket.connect(),this.state==Ue.closed){const{config:{broadcast:o,presence:u,private:h}}=this.params,d=(n=(i=this.bindings.postgres_changes)===null||i===void 0?void 0:i.map(x=>x.filter))!==null&&n!==void 0?n:[],p=!!this.bindings[xc.PRESENCE]&&this.bindings[xc.PRESENCE].length>0||((l=this.params.config.presence)===null||l===void 0?void 0:l.enabled)===!0,g={},y={broadcast:o,presence:Object.assign(Object.assign({},u),{enabled:p}),postgres_changes:d,private:h};this.socket.accessTokenValue&&(g.access_token=this.socket.accessTokenValue),this._onError(x=>t?.(_a.CHANNEL_ERROR,x)),this._onClose(()=>t?.(_a.CLOSED)),this.updateJoinPayload(Object.assign({config:y},g)),this.joinedOnce=!0,this._rejoin(r),this.joinPush.receive("ok",async({postgres_changes:x})=>{var v;if(this.socket._isManualToken()||this.socket.setAuth(),x===void 0){t?.(_a.SUBSCRIBED);return}else{const _=this.bindings.postgres_changes,S=(v=_?.length)!==null&&v!==void 0?v:0,T=[];for(let E=0;E<S;E++){const O=_[E],{filter:{event:M,schema:N,table:q,filter:z}}=O,Q=x&&x[E];if(Q&&Q.event===M&&dl.isFilterValueEqual(Q.schema,N)&&dl.isFilterValueEqual(Q.table,q)&&dl.isFilterValueEqual(Q.filter,z))T.push(Object.assign(Object.assign({},O),{id:Q.id}));else{this.unsubscribe(),this.state=Ue.errored,t?.(_a.CHANNEL_ERROR,new Error("mismatch between server and client bindings for postgres changes"));return}}this.bindings.postgres_changes=T,t&&t(_a.SUBSCRIBED);return}}).receive("error",x=>{this.state=Ue.errored,t?.(_a.CHANNEL_ERROR,new Error(JSON.stringify(Object.values(x).join(", ")||"error")))}).receive("timeout",()=>{t?.(_a.TIMED_OUT)})}return this}presenceState(){return this.presence.state}async track(t,r={}){return await this.send({type:"presence",event:"track",payload:t},r.timeout||this.timeout)}async untrack(t={}){return await this.send({type:"presence",event:"untrack"},t)}on(t,r,i){return this.state===Ue.joined&&t===xc.PRESENCE&&(this.socket.log("channel",`resubscribe to ${this.topic} due to change in presence callbacks on joined channel`),this.unsubscribe().then(async()=>await this.subscribe())),this._on(t,r,i)}async httpSend(t,r,i={}){var n;if(r==null)return Promise.reject("Payload is required for httpSend()");const l={apikey:this.socket.apiKey?this.socket.apiKey:"","Content-Type":"application/json"};this.socket.accessTokenValue&&(l.Authorization=`Bearer ${this.socket.accessTokenValue}`);const o={method:"POST",headers:l,body:JSON.stringify({messages:[{topic:this.subTopic,event:t,payload:r,private:this.private}]})},u=await this._fetchWithTimeout(this.broadcastEndpointURL,o,(n=i.timeout)!==null&&n!==void 0?n:this.timeout);if(u.status===202)return{success:!0};let h=u.statusText;try{const d=await u.json();h=d.error||d.message||h}catch{}return Promise.reject(new Error(h))}async send(t,r={}){var i,n;if(!this._canPush()&&t.type==="broadcast"){console.warn("Realtime send() is automatically falling back to REST API. This behavior will be deprecated in the future. Please use httpSend() explicitly for REST delivery.");const{event:l,payload:o}=t,u={apikey:this.socket.apiKey?this.socket.apiKey:"","Content-Type":"application/json"};this.socket.accessTokenValue&&(u.Authorization=`Bearer ${this.socket.accessTokenValue}`);const h={method:"POST",headers:u,body:JSON.stringify({messages:[{topic:this.subTopic,event:l,payload:o,private:this.private}]})};try{const d=await this._fetchWithTimeout(this.broadcastEndpointURL,h,(i=r.timeout)!==null&&i!==void 0?i:this.timeout);return await((n=d.body)===null||n===void 0?void 0:n.cancel()),d.ok?"ok":"error"}catch(d){return d.name==="AbortError"?"timed out":"error"}}else return new Promise(l=>{var o,u,h;const d=this._push(t.type,t,r.timeout||this.timeout);t.type==="broadcast"&&!(!((h=(u=(o=this.params)===null||o===void 0?void 0:o.config)===null||u===void 0?void 0:u.broadcast)===null||h===void 0)&&h.ack)&&l("ok"),d.receive("ok",()=>l("ok")),d.receive("error",()=>l("error")),d.receive("timeout",()=>l("timed out"))})}updateJoinPayload(t){this.joinPush.updatePayload(t)}unsubscribe(t=this.timeout){this.state=Ue.leaving;const r=()=>{this.socket.log("channel",`leave ${this.topic}`),this._trigger(wi.close,"leave",this._joinRef())};this.joinPush.destroy();let i=null;return new Promise(n=>{i=new qg(this,wi.leave,{},t),i.receive("ok",()=>{r(),n("ok")}).receive("timeout",()=>{r(),n("timed out")}).receive("error",()=>{n("error")}),i.send(),this._canPush()||i.trigger("ok",{})}).finally(()=>{i?.destroy()})}teardown(){this.pushBuffer.forEach(t=>t.destroy()),this.pushBuffer=[],this.rejoinTimer.reset(),this.joinPush.destroy(),this.state=Ue.closed,this.bindings={}}async _fetchWithTimeout(t,r,i){const n=new AbortController,l=setTimeout(()=>n.abort(),i),o=await this.socket.fetch(t,Object.assign(Object.assign({},r),{signal:n.signal}));return clearTimeout(l),o}_push(t,r,i=this.timeout){if(!this.joinedOnce)throw`tried to push '${t}' to '${this.topic}' before joining. Use channel.subscribe() before pushing events`;let n=new qg(this,t,r,i);return this._canPush()?n.send():this._addToPushBuffer(n),n}_addToPushBuffer(t){if(t.startTimeout(),this.pushBuffer.push(t),this.pushBuffer.length>MB){const r=this.pushBuffer.shift();r&&(r.destroy(),this.socket.log("channel",`discarded push due to buffer overflow: ${r.event}`,r.payload))}}_onMessage(t,r,i){return r}_isMember(t){return this.topic===t}_joinRef(){return this.joinPush.ref}_trigger(t,r,i){var n,l;const o=t.toLocaleLowerCase(),{close:u,error:h,leave:d,join:p}=wi;if(i&&[u,h,d,p].indexOf(o)>=0&&i!==this._joinRef())return;let y=this._onMessage(o,r,i);if(r&&!y)throw"channel onMessage callbacks must return the payload, modified or unmodified";["insert","update","delete"].includes(o)?(n=this.bindings.postgres_changes)===null||n===void 0||n.filter(x=>{var v,_,S;return((v=x.filter)===null||v===void 0?void 0:v.event)==="*"||((S=(_=x.filter)===null||_===void 0?void 0:_.event)===null||S===void 0?void 0:S.toLocaleLowerCase())===o}).map(x=>x.callback(y,i)):(l=this.bindings[o])===null||l===void 0||l.filter(x=>{var v,_,S,T,E,O;if(["broadcast","presence","postgres_changes"].includes(o))if("id"in x){const M=x.id,N=(v=x.filter)===null||v===void 0?void 0:v.event;return M&&((_=r.ids)===null||_===void 0?void 0:_.includes(M))&&(N==="*"||N?.toLocaleLowerCase()===((S=r.data)===null||S===void 0?void 0:S.type.toLocaleLowerCase()))}else{const M=(E=(T=x?.filter)===null||T===void 0?void 0:T.event)===null||E===void 0?void 0:E.toLocaleLowerCase();return M==="*"||M===((O=r?.event)===null||O===void 0?void 0:O.toLocaleLowerCase())}else return x.type.toLocaleLowerCase()===o}).map(x=>{if(typeof y=="object"&&"ids"in y){const v=y.data,{schema:_,table:S,commit_timestamp:T,type:E,errors:O}=v;y=Object.assign(Object.assign({},{schema:_,table:S,commit_timestamp:T,eventType:E,new:{},old:{},errors:O}),this._getPayloadRecords(v))}x.callback(y,i)})}_isClosed(){return this.state===Ue.closed}_isJoined(){return this.state===Ue.joined}_isJoining(){return this.state===Ue.joining}_isLeaving(){return this.state===Ue.leaving}_replyEventName(t){return`chan_reply_${t}`}_on(t,r,i){const n=t.toLocaleLowerCase(),l={type:n,filter:r,callback:i};return this.bindings[n]?this.bindings[n].push(l):this.bindings[n]=[l],this}_off(t,r){const i=t.toLocaleLowerCase();return this.bindings[i]&&(this.bindings[i]=this.bindings[i].filter(n=>{var l;return!(((l=n.type)===null||l===void 0?void 0:l.toLocaleLowerCase())===i&&dl.isEqual(n.filter,r))})),this}static isEqual(t,r){if(Object.keys(t).length!==Object.keys(r).length)return!1;for(const i in t)if(t[i]!==r[i])return!1;return!0}static isFilterValueEqual(t,r){return(t??void 0)===(r??void 0)}_rejoinUntilConnected(){this.rejoinTimer.scheduleTimeout(),this.socket.isConnected()&&this._rejoin()}_onClose(t){this._on(wi.close,{},t)}_onError(t){this._on(wi.error,{},r=>t(r))}_canPush(){return this.socket.isConnected()&&this._isJoined()}_rejoin(t=this.timeout){this._isLeaving()||(this.socket._leaveOpenTopic(this.topic),this.state=Ue.joining,this.joinPush.resend(t))}_getPayloadRecords(t){const r={new:{},old:{}};return(t.type==="INSERT"||t.type==="UPDATE")&&(r.new=aw(t.columns,t.record)),(t.type==="UPDATE"||t.type==="DELETE")&&(r.old=aw(t.columns,t.old_record)),r}}const Hg=()=>{},Ch={HEARTBEAT_INTERVAL:25e3,RECONNECT_DELAY:10,HEARTBEAT_TIMEOUT_FALLBACK:100},PB=[1e3,2e3,5e3,1e4],UB=1e4,IB=`
  addEventListener("message", (e) => {
    if (e.data.event === "start") {
      setInterval(() => postMessage({ event: "keepAlive" }), e.data.interval);
    }
  });`;class qB{constructor(t,r){var i;if(this.accessTokenValue=null,this.apiKey=null,this._manuallySetToken=!1,this.channels=new Array,this.endPoint="",this.httpEndpoint="",this.headers={},this.params={},this.timeout=Am,this.transport=null,this.heartbeatIntervalMs=Ch.HEARTBEAT_INTERVAL,this.heartbeatTimer=void 0,this.pendingHeartbeatRef=null,this.heartbeatCallback=Hg,this.ref=0,this.reconnectTimer=null,this.vsn=iw,this.logger=Hg,this.conn=null,this.sendBuffer=[],this.serializer=new BB,this.stateChangeCallbacks={open:[],close:[],error:[],message:[]},this.accessToken=null,this._connectionState="disconnected",this._wasManualDisconnect=!1,this._authPromise=null,this._resolveFetch=n=>n?(...l)=>n(...l):(...l)=>fetch(...l),!(!((i=r?.params)===null||i===void 0)&&i.apikey))throw new Error("API key is required to connect to Realtime");this.apiKey=r.params.apikey,this.endPoint=`${t}/${Om.websocket}`,this.httpEndpoint=PS(t),this._initializeOptions(r),this._setupReconnectionTimer(),this.fetch=this._resolveFetch(r?.fetch)}connect(){if(!(this.isConnecting()||this.isDisconnecting()||this.conn!==null&&this.isConnected())){if(this._setConnectionState("connecting"),this.accessToken&&!this._authPromise&&this._setAuthSafely("connect"),this.transport)this.conn=new this.transport(this.endpointURL());else try{this.conn=EB.createWebSocket(this.endpointURL())}catch(t){this._setConnectionState("disconnected");const r=t.message;throw r.includes("Node.js")?new Error(`${r}

To use Realtime in Node.js, you need to provide a WebSocket implementation:

Option 1: Use Node.js 22+ which has native WebSocket support
Option 2: Install and provide the "ws" package:

  npm install ws

  import ws from "ws"
  const client = new RealtimeClient(url, {
    ...options,
    transport: ws
  })`):new Error(`WebSocket not available: ${r}`)}this._setupConnectionHandlers()}}endpointURL(){return this._appendParams(this.endPoint,Object.assign({},this.params,{vsn:this.vsn}))}disconnect(t,r){if(!this.isDisconnecting())if(this._setConnectionState("disconnecting",!0),this.conn){const i=setTimeout(()=>{this._setConnectionState("disconnected")},100);this.conn.onclose=()=>{clearTimeout(i),this._setConnectionState("disconnected")},typeof this.conn.close=="function"&&(t?this.conn.close(t,r??""):this.conn.close()),this._teardownConnection()}else this._setConnectionState("disconnected")}getChannels(){return this.channels}async removeChannel(t){const r=await t.unsubscribe();return this.channels.length===0&&this.disconnect(),r}async removeAllChannels(){const t=await Promise.all(this.channels.map(r=>r.unsubscribe()));return this.channels=[],this.disconnect(),t}log(t,r,i){this.logger(t,r,i)}connectionState(){switch(this.conn&&this.conn.readyState){case ln.connecting:return Yn.Connecting;case ln.open:return Yn.Open;case ln.closing:return Yn.Closing;default:return Yn.Closed}}isConnected(){return this.connectionState()===Yn.Open}isConnecting(){return this._connectionState==="connecting"}isDisconnecting(){return this._connectionState==="disconnecting"}channel(t,r={config:{}}){const i=`realtime:${t}`,n=this.getChannels().find(l=>l.topic===i);if(n)return n;{const l=new dl(`realtime:${t}`,r,this);return this.channels.push(l),l}}push(t){const{topic:r,event:i,payload:n,ref:l}=t,o=()=>{this.encode(t,u=>{var h;(h=this.conn)===null||h===void 0||h.send(u)})};this.log("push",`${r} ${i} (${l})`,n),this.isConnected()?o():this.sendBuffer.push(o)}async setAuth(t=null){this._authPromise=this._performAuth(t);try{await this._authPromise}finally{this._authPromise=null}}_isManualToken(){return this._manuallySetToken}async sendHeartbeat(){var t;if(!this.isConnected()){try{this.heartbeatCallback("disconnected")}catch(r){this.log("error","error in heartbeat callback",r)}return}if(this.pendingHeartbeatRef){this.pendingHeartbeatRef=null,this.log("transport","heartbeat timeout. Attempting to re-establish connection");try{this.heartbeatCallback("timeout")}catch(r){this.log("error","error in heartbeat callback",r)}this._wasManualDisconnect=!1,(t=this.conn)===null||t===void 0||t.close(LB,"heartbeat timeout"),setTimeout(()=>{var r;this.isConnected()||(r=this.reconnectTimer)===null||r===void 0||r.scheduleTimeout()},Ch.HEARTBEAT_TIMEOUT_FALLBACK);return}this.pendingHeartbeatRef=this._makeRef(),this.push({topic:"phoenix",event:"heartbeat",payload:{},ref:this.pendingHeartbeatRef});try{this.heartbeatCallback("sent")}catch(r){this.log("error","error in heartbeat callback",r)}this._setAuthSafely("heartbeat")}onHeartbeat(t){this.heartbeatCallback=t}flushSendBuffer(){this.isConnected()&&this.sendBuffer.length>0&&(this.sendBuffer.forEach(t=>t()),this.sendBuffer=[])}_makeRef(){let t=this.ref+1;return t===this.ref?this.ref=0:this.ref=t,this.ref.toString()}_leaveOpenTopic(t){let r=this.channels.find(i=>i.topic===t&&(i._isJoined()||i._isJoining()));r&&(this.log("transport",`leaving duplicate topic "${t}"`),r.unsubscribe())}_remove(t){this.channels=this.channels.filter(r=>r.topic!==t.topic)}_onConnMessage(t){this.decode(t.data,r=>{if(r.topic==="phoenix"&&r.event==="phx_reply")try{this.heartbeatCallback(r.payload.status==="ok"?"ok":"error")}catch(d){this.log("error","error in heartbeat callback",d)}r.ref&&r.ref===this.pendingHeartbeatRef&&(this.pendingHeartbeatRef=null);const{topic:i,event:n,payload:l,ref:o}=r,u=o?`(${o})`:"",h=l.status||"";this.log("receive",`${h} ${i} ${n} ${u}`.trim(),l),this.channels.filter(d=>d._isMember(i)).forEach(d=>d._trigger(n,l,o)),this._triggerStateCallbacks("message",r)})}_clearTimer(t){var r;t==="heartbeat"&&this.heartbeatTimer?(clearInterval(this.heartbeatTimer),this.heartbeatTimer=void 0):t==="reconnect"&&((r=this.reconnectTimer)===null||r===void 0||r.reset())}_clearAllTimers(){this._clearTimer("heartbeat"),this._clearTimer("reconnect")}_setupConnectionHandlers(){this.conn&&("binaryType"in this.conn&&(this.conn.binaryType="arraybuffer"),this.conn.onopen=()=>this._onConnOpen(),this.conn.onerror=t=>this._onConnError(t),this.conn.onmessage=t=>this._onConnMessage(t),this.conn.onclose=t=>this._onConnClose(t),this.conn.readyState===ln.open&&this._onConnOpen())}_teardownConnection(){if(this.conn){if(this.conn.readyState===ln.open||this.conn.readyState===ln.connecting)try{this.conn.close()}catch(t){this.log("error","Error closing connection",t)}this.conn.onopen=null,this.conn.onerror=null,this.conn.onmessage=null,this.conn.onclose=null,this.conn=null}this._clearAllTimers(),this._terminateWorker(),this.channels.forEach(t=>t.teardown())}_onConnOpen(){this._setConnectionState("connected"),this.log("transport",`connected to ${this.endpointURL()}`),(this._authPromise||(this.accessToken&&!this.accessTokenValue?this.setAuth():Promise.resolve())).then(()=>{this.flushSendBuffer()}).catch(r=>{this.log("error","error waiting for auth on connect",r),this.flushSendBuffer()}),this._clearTimer("reconnect"),this.worker?this.workerRef||this._startWorkerHeartbeat():this._startHeartbeat(),this._triggerStateCallbacks("open")}_startHeartbeat(){this.heartbeatTimer&&clearInterval(this.heartbeatTimer),this.heartbeatTimer=setInterval(()=>this.sendHeartbeat(),this.heartbeatIntervalMs)}_startWorkerHeartbeat(){this.workerUrl?this.log("worker",`starting worker for from ${this.workerUrl}`):this.log("worker","starting default worker");const t=this._workerObjectUrl(this.workerUrl);this.workerRef=new Worker(t),this.workerRef.onerror=r=>{this.log("worker","worker error",r.message),this._terminateWorker()},this.workerRef.onmessage=r=>{r.data.event==="keepAlive"&&this.sendHeartbeat()},this.workerRef.postMessage({event:"start",interval:this.heartbeatIntervalMs})}_terminateWorker(){this.workerRef&&(this.log("worker","terminating worker"),this.workerRef.terminate(),this.workerRef=void 0)}_onConnClose(t){var r;this._setConnectionState("disconnected"),this.log("transport","close",t),this._triggerChanError(),this._clearTimer("heartbeat"),this._wasManualDisconnect||(r=this.reconnectTimer)===null||r===void 0||r.scheduleTimeout(),this._triggerStateCallbacks("close",t)}_onConnError(t){this._setConnectionState("disconnected"),this.log("transport",`${t}`),this._triggerChanError(),this._triggerStateCallbacks("error",t)}_triggerChanError(){this.channels.forEach(t=>t._trigger(wi.error))}_appendParams(t,r){if(Object.keys(r).length===0)return t;const i=t.match(/\?/)?"&":"?",n=new URLSearchParams(r);return`${t}${i}${n}`}_workerObjectUrl(t){let r;if(t)r=t;else{const i=new Blob([IB],{type:"application/javascript"});r=URL.createObjectURL(i)}return r}_setConnectionState(t,r=!1){this._connectionState=t,t==="connecting"?this._wasManualDisconnect=!1:t==="disconnecting"&&(this._wasManualDisconnect=r)}async _performAuth(t=null){let r,i=!1;if(t)r=t,i=!0;else if(this.accessToken)try{r=await this.accessToken()}catch(n){this.log("error","Error fetching access token from callback",n),r=this.accessTokenValue}else r=this.accessTokenValue;i?this._manuallySetToken=!0:this.accessToken&&(this._manuallySetToken=!1),this.accessTokenValue!=r&&(this.accessTokenValue=r,this.channels.forEach(n=>{const l={access_token:r,version:OB};r&&n.updateJoinPayload(l),n.joinedOnce&&n._isJoined()&&n._push(wi.access_token,{access_token:r})}))}async _waitForAuthIfNeeded(){this._authPromise&&await this._authPromise}_setAuthSafely(t="general"){this._isManualToken()||this.setAuth().catch(r=>{this.log("error",`Error setting auth in ${t}`,r)})}_triggerStateCallbacks(t,r){try{this.stateChangeCallbacks[t].forEach(i=>{try{i(r)}catch(n){this.log("error",`error in ${t} callback`,n)}})}catch(i){this.log("error",`error triggering ${t} callbacks`,i)}}_setupReconnectionTimer(){this.reconnectTimer=new zS(async()=>{setTimeout(async()=>{await this._waitForAuthIfNeeded(),this.isConnected()||this.connect()},Ch.RECONNECT_DELAY)},this.reconnectAfterMs)}_initializeOptions(t){var r,i,n,l,o,u,h,d,p,g,y,x;switch(this.transport=(r=t?.transport)!==null&&r!==void 0?r:null,this.timeout=(i=t?.timeout)!==null&&i!==void 0?i:Am,this.heartbeatIntervalMs=(n=t?.heartbeatIntervalMs)!==null&&n!==void 0?n:Ch.HEARTBEAT_INTERVAL,this.worker=(l=t?.worker)!==null&&l!==void 0?l:!1,this.accessToken=(o=t?.accessToken)!==null&&o!==void 0?o:null,this.heartbeatCallback=(u=t?.heartbeatCallback)!==null&&u!==void 0?u:Hg,this.vsn=(h=t?.vsn)!==null&&h!==void 0?h:iw,t?.params&&(this.params=t.params),t?.logger&&(this.logger=t.logger),(t?.logLevel||t?.log_level)&&(this.logLevel=t.logLevel||t.log_level,this.params=Object.assign(Object.assign({},this.params),{log_level:this.logLevel})),this.reconnectAfterMs=(d=t?.reconnectAfterMs)!==null&&d!==void 0?d:(v=>PB[v-1]||UB),this.vsn){case $S:this.encode=(p=t?.encode)!==null&&p!==void 0?p:((v,_)=>_(JSON.stringify(v))),this.decode=(g=t?.decode)!==null&&g!==void 0?g:((v,_)=>_(JSON.parse(v)));break;case RB:this.encode=(y=t?.encode)!==null&&y!==void 0?y:this.serializer.encode.bind(this.serializer),this.decode=(x=t?.decode)!==null&&x!==void 0?x:this.serializer.decode.bind(this.serializer);break;default:throw new Error(`Unsupported serializer version: ${this.vsn}`)}if(this.worker){if(typeof window<"u"&&!window.Worker)throw new Error("Web Worker is not supported");this.workerUrl=t?.workerUrl}}}var Ec=class extends Error{constructor(e,t){super(e),this.name="IcebergError",this.status=t.status,this.icebergType=t.icebergType,this.icebergCode=t.icebergCode,this.details=t.details,this.isCommitStateUnknown=t.icebergType==="CommitStateUnknownException"||[500,502,504].includes(t.status)&&t.icebergType?.includes("CommitState")===!0}isNotFound(){return this.status===404}isConflict(){return this.status===409}isAuthenticationTimeout(){return this.status===419}};function HB(e,t,r){const i=new URL(t,e);if(r)for(const[n,l]of Object.entries(r))l!==void 0&&i.searchParams.set(n,l);return i.toString()}async function WB(e){return!e||e.type==="none"?{}:e.type==="bearer"?{Authorization:`Bearer ${e.token}`}:e.type==="header"?{[e.name]:e.value}:e.type==="custom"?await e.getHeaders():{}}function GB(e){const t=e.fetchImpl??globalThis.fetch;return{async request({method:r,path:i,query:n,body:l,headers:o}){const u=HB(e.baseUrl,i,n),h=await WB(e.auth),d=await t(u,{method:r,headers:{...l?{"Content-Type":"application/json"}:{},...h,...o},body:l?JSON.stringify(l):void 0}),p=await d.text(),g=(d.headers.get("content-type")||"").includes("application/json"),y=g&&p?JSON.parse(p):p;if(!d.ok){const x=g?y:void 0,v=x?.error;throw new Ec(v?.message??`Request failed with status ${d.status}`,{status:d.status,icebergType:v?.type,icebergCode:v?.code,details:x})}return{status:d.status,headers:d.headers,data:y}}}}function Th(e){return e.join("")}var YB=class{constructor(e,t=""){this.client=e,this.prefix=t}async listNamespaces(e){const t=e?{parent:Th(e.namespace)}:void 0;return(await this.client.request({method:"GET",path:`${this.prefix}/namespaces`,query:t})).data.namespaces.map(i=>({namespace:i}))}async createNamespace(e,t){const r={namespace:e.namespace,properties:t?.properties};return(await this.client.request({method:"POST",path:`${this.prefix}/namespaces`,body:r})).data}async dropNamespace(e){await this.client.request({method:"DELETE",path:`${this.prefix}/namespaces/${Th(e.namespace)}`})}async loadNamespaceMetadata(e){return{properties:(await this.client.request({method:"GET",path:`${this.prefix}/namespaces/${Th(e.namespace)}`})).data.properties}}async namespaceExists(e){try{return await this.client.request({method:"HEAD",path:`${this.prefix}/namespaces/${Th(e.namespace)}`}),!0}catch(t){if(t instanceof Ec&&t.status===404)return!1;throw t}}async createNamespaceIfNotExists(e,t){try{return await this.createNamespace(e,t)}catch(r){if(r instanceof Ec&&r.status===409)return;throw r}}};function Js(e){return e.join("")}var VB=class{constructor(e,t="",r){this.client=e,this.prefix=t,this.accessDelegation=r}async listTables(e){return(await this.client.request({method:"GET",path:`${this.prefix}/namespaces/${Js(e.namespace)}/tables`})).data.identifiers}async createTable(e,t){const r={};return this.accessDelegation&&(r["X-Iceberg-Access-Delegation"]=this.accessDelegation),(await this.client.request({method:"POST",path:`${this.prefix}/namespaces/${Js(e.namespace)}/tables`,body:t,headers:r})).data.metadata}async updateTable(e,t){const r=await this.client.request({method:"POST",path:`${this.prefix}/namespaces/${Js(e.namespace)}/tables/${e.name}`,body:t});return{"metadata-location":r.data["metadata-location"],metadata:r.data.metadata}}async dropTable(e,t){await this.client.request({method:"DELETE",path:`${this.prefix}/namespaces/${Js(e.namespace)}/tables/${e.name}`,query:{purgeRequested:String(t?.purge??!1)}})}async loadTable(e){const t={};return this.accessDelegation&&(t["X-Iceberg-Access-Delegation"]=this.accessDelegation),(await this.client.request({method:"GET",path:`${this.prefix}/namespaces/${Js(e.namespace)}/tables/${e.name}`,headers:t})).data.metadata}async tableExists(e){const t={};this.accessDelegation&&(t["X-Iceberg-Access-Delegation"]=this.accessDelegation);try{return await this.client.request({method:"HEAD",path:`${this.prefix}/namespaces/${Js(e.namespace)}/tables/${e.name}`,headers:t}),!0}catch(r){if(r instanceof Ec&&r.status===404)return!1;throw r}}async createTableIfNotExists(e,t){try{return await this.createTable(e,t)}catch(r){if(r instanceof Ec&&r.status===409)return await this.loadTable({namespace:e.namespace,name:t.name});throw r}}},XB=class{constructor(e){let t="v1";e.catalogName&&(t+=`/${e.catalogName}`);const r=e.baseUrl.endsWith("/")?e.baseUrl:`${e.baseUrl}/`;this.client=GB({baseUrl:r,auth:e.auth,fetchImpl:e.fetch}),this.accessDelegation=e.accessDelegation?.join(","),this.namespaceOps=new YB(this.client,t),this.tableOps=new VB(this.client,t,this.accessDelegation)}async listNamespaces(e){return this.namespaceOps.listNamespaces(e)}async createNamespace(e,t){return this.namespaceOps.createNamespace(e,t)}async dropNamespace(e){await this.namespaceOps.dropNamespace(e)}async loadNamespaceMetadata(e){return this.namespaceOps.loadNamespaceMetadata(e)}async listTables(e){return this.tableOps.listTables(e)}async createTable(e,t){return this.tableOps.createTable(e,t)}async updateTable(e,t){return this.tableOps.updateTable(e,t)}async dropTable(e,t){await this.tableOps.dropTable(e,t)}async loadTable(e){return this.tableOps.loadTable(e)}async namespaceExists(e){return this.namespaceOps.namespaceExists(e)}async tableExists(e){return this.tableOps.tableExists(e)}async createNamespaceIfNotExists(e,t){return this.namespaceOps.createNamespaceIfNotExists(e,t)}async createTableIfNotExists(e,t){return this.tableOps.createTableIfNotExists(e,t)}},Xd=class extends Error{constructor(e){super(e),this.__isStorageError=!0,this.name="StorageError"}};function we(e){return typeof e=="object"&&e!==null&&"__isStorageError"in e}var KB=class extends Xd{constructor(e,t,r){super(e),this.name="StorageApiError",this.status=t,this.statusCode=r}toJSON(){return{name:this.name,message:this.message,status:this.status,statusCode:this.statusCode}}},Lm=class extends Xd{constructor(e,t){super(e),this.name="StorageUnknownError",this.originalError=t}};const Gy=e=>e?(...t)=>e(...t):(...t)=>fetch(...t),QB=()=>Response,Mm=e=>{if(Array.isArray(e))return e.map(r=>Mm(r));if(typeof e=="function"||e!==Object(e))return e;const t={};return Object.entries(e).forEach(([r,i])=>{const n=r.replace(/([-_][a-z])/gi,l=>l.toUpperCase().replace(/[-_]/g,""));t[n]=Mm(i)}),t},ZB=e=>{if(typeof e!="object"||e===null)return!1;const t=Object.getPrototypeOf(e);return(t===null||t===Object.prototype||Object.getPrototypeOf(t)===null)&&!(Symbol.toStringTag in e)&&!(Symbol.iterator in e)},JB=e=>!e||typeof e!="string"||e.length===0||e.length>100||e.trim()!==e||e.includes("/")||e.includes("\\")?!1:/^[\w!.\*'() &$@=;:+,?-]+$/.test(e);function Ac(e){"@babel/helpers - typeof";return Ac=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(t){return typeof t}:function(t){return t&&typeof Symbol=="function"&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},Ac(e)}function tN(e,t){if(Ac(e)!="object"||!e)return e;var r=e[Symbol.toPrimitive];if(r!==void 0){var i=r.call(e,t);if(Ac(i)!="object")return i;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}function eN(e){var t=tN(e,"string");return Ac(t)=="symbol"?t:t+""}function rN(e,t,r){return(t=eN(t))in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function lw(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(e);t&&(i=i.filter(function(n){return Object.getOwnPropertyDescriptor(e,n).enumerable})),r.push.apply(r,i)}return r}function Dt(e){for(var t=1;t<arguments.length;t++){var r=arguments[t]!=null?arguments[t]:{};t%2?lw(Object(r),!0).forEach(function(i){rN(e,i,r[i])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):lw(Object(r)).forEach(function(i){Object.defineProperty(e,i,Object.getOwnPropertyDescriptor(r,i))})}return e}const Wg=e=>{var t;return e.msg||e.message||e.error_description||(typeof e.error=="string"?e.error:(t=e.error)===null||t===void 0?void 0:t.message)||JSON.stringify(e)},iN=async(e,t,r)=>{e instanceof await QB()&&!r?.noResolveJson?e.json().then(i=>{const n=e.status||500,l=i?.statusCode||n+"";t(new KB(Wg(i),n,l))}).catch(i=>{t(new Lm(Wg(i),i))}):t(new Lm(Wg(e),e))},aN=(e,t,r,i)=>{const n={method:e,headers:t?.headers||{}};return e==="GET"||!i?n:(ZB(i)?(n.headers=Dt({"Content-Type":"application/json"},t?.headers),n.body=JSON.stringify(i)):n.body=i,t?.duplex&&(n.duplex=t.duplex),Dt(Dt({},n),r))};async function Vc(e,t,r,i,n,l){return new Promise((o,u)=>{e(r,aN(t,i,n,l)).then(h=>{if(!h.ok)throw h;return i?.noResolveJson?h:h.json()}).then(h=>o(h)).catch(h=>iN(h,u,i))})}async function Oc(e,t,r,i){return Vc(e,"GET",t,r,i)}async function _i(e,t,r,i,n){return Vc(e,"POST",t,i,n,r)}async function Bm(e,t,r,i,n){return Vc(e,"PUT",t,i,n,r)}async function nN(e,t,r,i){return Vc(e,"HEAD",t,Dt(Dt({},r),{},{noResolveJson:!0}),i)}async function Yy(e,t,r,i,n){return Vc(e,"DELETE",t,i,n,r)}var sN=class{constructor(e,t){this.downloadFn=e,this.shouldThrowOnError=t}then(e,t){return this.execute().then(e,t)}async execute(){var e=this;try{return{data:(await e.downloadFn()).body,error:null}}catch(t){if(e.shouldThrowOnError)throw t;if(we(t))return{data:null,error:t};throw t}}};let US;US=Symbol.toStringTag;var lN=class{constructor(e,t){this.downloadFn=e,this.shouldThrowOnError=t,this[US]="BlobDownloadBuilder",this.promise=null}asStream(){return new sN(this.downloadFn,this.shouldThrowOnError)}then(e,t){return this.getPromise().then(e,t)}catch(e){return this.getPromise().catch(e)}finally(e){return this.getPromise().finally(e)}getPromise(){return this.promise||(this.promise=this.execute()),this.promise}async execute(){var e=this;try{return{data:await(await e.downloadFn()).blob(),error:null}}catch(t){if(e.shouldThrowOnError)throw t;if(we(t))return{data:null,error:t};throw t}}};const oN={limit:100,offset:0,sortBy:{column:"name",order:"asc"}},ow={cacheControl:"3600",contentType:"text/plain;charset=UTF-8",upsert:!1};var cN=class{constructor(e,t={},r,i){this.shouldThrowOnError=!1,this.url=e,this.headers=t,this.bucketId=r,this.fetch=Gy(i)}throwOnError(){return this.shouldThrowOnError=!0,this}async uploadOrUpdate(e,t,r,i){var n=this;try{let l;const o=Dt(Dt({},ow),i);let u=Dt(Dt({},n.headers),e==="POST"&&{"x-upsert":String(o.upsert)});const h=o.metadata;typeof Blob<"u"&&r instanceof Blob?(l=new FormData,l.append("cacheControl",o.cacheControl),h&&l.append("metadata",n.encodeMetadata(h)),l.append("",r)):typeof FormData<"u"&&r instanceof FormData?(l=r,l.has("cacheControl")||l.append("cacheControl",o.cacheControl),h&&!l.has("metadata")&&l.append("metadata",n.encodeMetadata(h))):(l=r,u["cache-control"]=`max-age=${o.cacheControl}`,u["content-type"]=o.contentType,h&&(u["x-metadata"]=n.toBase64(n.encodeMetadata(h))),(typeof ReadableStream<"u"&&l instanceof ReadableStream||l&&typeof l=="object"&&"pipe"in l&&typeof l.pipe=="function")&&!o.duplex&&(o.duplex="half")),i?.headers&&(u=Dt(Dt({},u),i.headers));const d=n._removeEmptyFolders(t),p=n._getFinalPath(d),g=await(e=="PUT"?Bm:_i)(n.fetch,`${n.url}/object/${p}`,l,Dt({headers:u},o?.duplex?{duplex:o.duplex}:{}));return{data:{path:d,id:g.Id,fullPath:g.Key},error:null}}catch(l){if(n.shouldThrowOnError)throw l;if(we(l))return{data:null,error:l};throw l}}async upload(e,t,r){return this.uploadOrUpdate("POST",e,t,r)}async uploadToSignedUrl(e,t,r,i){var n=this;const l=n._removeEmptyFolders(e),o=n._getFinalPath(l),u=new URL(n.url+`/object/upload/sign/${o}`);u.searchParams.set("token",t);try{let h;const d=Dt({upsert:ow.upsert},i),p=Dt(Dt({},n.headers),{"x-upsert":String(d.upsert)});return typeof Blob<"u"&&r instanceof Blob?(h=new FormData,h.append("cacheControl",d.cacheControl),h.append("",r)):typeof FormData<"u"&&r instanceof FormData?(h=r,h.append("cacheControl",d.cacheControl)):(h=r,p["cache-control"]=`max-age=${d.cacheControl}`,p["content-type"]=d.contentType),{data:{path:l,fullPath:(await Bm(n.fetch,u.toString(),h,{headers:p})).Key},error:null}}catch(h){if(n.shouldThrowOnError)throw h;if(we(h))return{data:null,error:h};throw h}}async createSignedUploadUrl(e,t){var r=this;try{let i=r._getFinalPath(e);const n=Dt({},r.headers);t?.upsert&&(n["x-upsert"]="true");const l=await _i(r.fetch,`${r.url}/object/upload/sign/${i}`,{},{headers:n}),o=new URL(r.url+l.url),u=o.searchParams.get("token");if(!u)throw new Xd("No token returned by API");return{data:{signedUrl:o.toString(),path:e,token:u},error:null}}catch(i){if(r.shouldThrowOnError)throw i;if(we(i))return{data:null,error:i};throw i}}async update(e,t,r){return this.uploadOrUpdate("PUT",e,t,r)}async move(e,t,r){var i=this;try{return{data:await _i(i.fetch,`${i.url}/object/move`,{bucketId:i.bucketId,sourceKey:e,destinationKey:t,destinationBucket:r?.destinationBucket},{headers:i.headers}),error:null}}catch(n){if(i.shouldThrowOnError)throw n;if(we(n))return{data:null,error:n};throw n}}async copy(e,t,r){var i=this;try{return{data:{path:(await _i(i.fetch,`${i.url}/object/copy`,{bucketId:i.bucketId,sourceKey:e,destinationKey:t,destinationBucket:r?.destinationBucket},{headers:i.headers})).Key},error:null}}catch(n){if(i.shouldThrowOnError)throw n;if(we(n))return{data:null,error:n};throw n}}async createSignedUrl(e,t,r){var i=this;try{let n=i._getFinalPath(e),l=await _i(i.fetch,`${i.url}/object/sign/${n}`,Dt({expiresIn:t},r?.transform?{transform:r.transform}:{}),{headers:i.headers});const o=r?.download?`&download=${r.download===!0?"":r.download}`:"";return l={signedUrl:encodeURI(`${i.url}${l.signedURL}${o}`)},{data:l,error:null}}catch(n){if(i.shouldThrowOnError)throw n;if(we(n))return{data:null,error:n};throw n}}async createSignedUrls(e,t,r){var i=this;try{const n=await _i(i.fetch,`${i.url}/object/sign/${i.bucketId}`,{expiresIn:t,paths:e},{headers:i.headers}),l=r?.download?`&download=${r.download===!0?"":r.download}`:"";return{data:n.map(o=>Dt(Dt({},o),{},{signedUrl:o.signedURL?encodeURI(`${i.url}${o.signedURL}${l}`):null})),error:null}}catch(n){if(i.shouldThrowOnError)throw n;if(we(n))return{data:null,error:n};throw n}}download(e,t){const r=typeof t?.transform<"u"?"render/image/authenticated":"object",i=this.transformOptsToQueryString(t?.transform||{}),n=i?`?${i}`:"",l=this._getFinalPath(e),o=()=>Oc(this.fetch,`${this.url}/${r}/${l}${n}`,{headers:this.headers,noResolveJson:!0});return new lN(o,this.shouldThrowOnError)}async info(e){var t=this;const r=t._getFinalPath(e);try{return{data:Mm(await Oc(t.fetch,`${t.url}/object/info/${r}`,{headers:t.headers})),error:null}}catch(i){if(t.shouldThrowOnError)throw i;if(we(i))return{data:null,error:i};throw i}}async exists(e){var t=this;const r=t._getFinalPath(e);try{return await nN(t.fetch,`${t.url}/object/${r}`,{headers:t.headers}),{data:!0,error:null}}catch(i){if(t.shouldThrowOnError)throw i;if(we(i)&&i instanceof Lm){const n=i.originalError;if([400,404].includes(n?.status))return{data:!1,error:i}}throw i}}getPublicUrl(e,t){const r=this._getFinalPath(e),i=[],n=t?.download?`download=${t.download===!0?"":t.download}`:"";n!==""&&i.push(n);const l=typeof t?.transform<"u"?"render/image":"object",o=this.transformOptsToQueryString(t?.transform||{});o!==""&&i.push(o);let u=i.join("&");return u!==""&&(u=`?${u}`),{data:{publicUrl:encodeURI(`${this.url}/${l}/public/${r}${u}`)}}}async remove(e){var t=this;try{return{data:await Yy(t.fetch,`${t.url}/object/${t.bucketId}`,{prefixes:e},{headers:t.headers}),error:null}}catch(r){if(t.shouldThrowOnError)throw r;if(we(r))return{data:null,error:r};throw r}}async list(e,t,r){var i=this;try{const n=Dt(Dt(Dt({},oN),t),{},{prefix:e||""});return{data:await _i(i.fetch,`${i.url}/object/list/${i.bucketId}`,n,{headers:i.headers},r),error:null}}catch(n){if(i.shouldThrowOnError)throw n;if(we(n))return{data:null,error:n};throw n}}async listV2(e,t){var r=this;try{const i=Dt({},e);return{data:await _i(r.fetch,`${r.url}/object/list-v2/${r.bucketId}`,i,{headers:r.headers},t),error:null}}catch(i){if(r.shouldThrowOnError)throw i;if(we(i))return{data:null,error:i};throw i}}encodeMetadata(e){return JSON.stringify(e)}toBase64(e){return typeof Buffer<"u"?Buffer.from(e).toString("base64"):btoa(e)}_getFinalPath(e){return`${this.bucketId}/${e.replace(/^\/+/,"")}`}_removeEmptyFolders(e){return e.replace(/^\/|\/$/g,"").replace(/\/+/g,"/")}transformOptsToQueryString(e){const t=[];return e.width&&t.push(`width=${e.width}`),e.height&&t.push(`height=${e.height}`),e.resize&&t.push(`resize=${e.resize}`),e.format&&t.push(`format=${e.format}`),e.quality&&t.push(`quality=${e.quality}`),t.join("&")}};const IS="2.89.0",qS={"X-Client-Info":`storage-js/${IS}`};var uN=class{constructor(e,t={},r,i){this.shouldThrowOnError=!1;const n=new URL(e);i?.useNewHostname&&/supabase\.(co|in|red)$/.test(n.hostname)&&!n.hostname.includes("storage.supabase.")&&(n.hostname=n.hostname.replace("supabase.","storage.supabase.")),this.url=n.href.replace(/\/$/,""),this.headers=Dt(Dt({},qS),t),this.fetch=Gy(r)}throwOnError(){return this.shouldThrowOnError=!0,this}async listBuckets(e){var t=this;try{const r=t.listBucketOptionsToQueryString(e);return{data:await Oc(t.fetch,`${t.url}/bucket${r}`,{headers:t.headers}),error:null}}catch(r){if(t.shouldThrowOnError)throw r;if(we(r))return{data:null,error:r};throw r}}async getBucket(e){var t=this;try{return{data:await Oc(t.fetch,`${t.url}/bucket/${e}`,{headers:t.headers}),error:null}}catch(r){if(t.shouldThrowOnError)throw r;if(we(r))return{data:null,error:r};throw r}}async createBucket(e,t={public:!1}){var r=this;try{return{data:await _i(r.fetch,`${r.url}/bucket`,{id:e,name:e,type:t.type,public:t.public,file_size_limit:t.fileSizeLimit,allowed_mime_types:t.allowedMimeTypes},{headers:r.headers}),error:null}}catch(i){if(r.shouldThrowOnError)throw i;if(we(i))return{data:null,error:i};throw i}}async updateBucket(e,t){var r=this;try{return{data:await Bm(r.fetch,`${r.url}/bucket/${e}`,{id:e,name:e,public:t.public,file_size_limit:t.fileSizeLimit,allowed_mime_types:t.allowedMimeTypes},{headers:r.headers}),error:null}}catch(i){if(r.shouldThrowOnError)throw i;if(we(i))return{data:null,error:i};throw i}}async emptyBucket(e){var t=this;try{return{data:await _i(t.fetch,`${t.url}/bucket/${e}/empty`,{},{headers:t.headers}),error:null}}catch(r){if(t.shouldThrowOnError)throw r;if(we(r))return{data:null,error:r};throw r}}async deleteBucket(e){var t=this;try{return{data:await Yy(t.fetch,`${t.url}/bucket/${e}`,{},{headers:t.headers}),error:null}}catch(r){if(t.shouldThrowOnError)throw r;if(we(r))return{data:null,error:r};throw r}}listBucketOptionsToQueryString(e){const t={};return e&&("limit"in e&&(t.limit=String(e.limit)),"offset"in e&&(t.offset=String(e.offset)),e.search&&(t.search=e.search),e.sortColumn&&(t.sortColumn=e.sortColumn),e.sortOrder&&(t.sortOrder=e.sortOrder)),Object.keys(t).length>0?"?"+new URLSearchParams(t).toString():""}},hN=class{constructor(e,t={},r){this.shouldThrowOnError=!1,this.url=e.replace(/\/$/,""),this.headers=Dt(Dt({},qS),t),this.fetch=Gy(r)}throwOnError(){return this.shouldThrowOnError=!0,this}async createBucket(e){var t=this;try{return{data:await _i(t.fetch,`${t.url}/bucket`,{name:e},{headers:t.headers}),error:null}}catch(r){if(t.shouldThrowOnError)throw r;if(we(r))return{data:null,error:r};throw r}}async listBuckets(e){var t=this;try{const r=new URLSearchParams;e?.limit!==void 0&&r.set("limit",e.limit.toString()),e?.offset!==void 0&&r.set("offset",e.offset.toString()),e?.sortColumn&&r.set("sortColumn",e.sortColumn),e?.sortOrder&&r.set("sortOrder",e.sortOrder),e?.search&&r.set("search",e.search);const i=r.toString(),n=i?`${t.url}/bucket?${i}`:`${t.url}/bucket`;return{data:await Oc(t.fetch,n,{headers:t.headers}),error:null}}catch(r){if(t.shouldThrowOnError)throw r;if(we(r))return{data:null,error:r};throw r}}async deleteBucket(e){var t=this;try{return{data:await Yy(t.fetch,`${t.url}/bucket/${e}`,{},{headers:t.headers}),error:null}}catch(r){if(t.shouldThrowOnError)throw r;if(we(r))return{data:null,error:r};throw r}}from(e){var t=this;if(!JB(e))throw new Xd("Invalid bucket name: File, folder, and bucket names must follow AWS object key naming guidelines and should avoid the use of any other characters.");const r=new XB({baseUrl:this.url,catalogName:e,auth:{type:"custom",getHeaders:async()=>t.headers},fetch:this.fetch}),i=this.shouldThrowOnError;return new Proxy(r,{get(n,l){const o=n[l];return typeof o!="function"?o:async(...u)=>{try{return{data:await o.apply(n,u),error:null}}catch(h){if(i)throw h;return{data:null,error:h}}}}})}};const Vy={"X-Client-Info":`storage-js/${IS}`,"Content-Type":"application/json"};var HS=class extends Error{constructor(e){super(e),this.__isStorageVectorsError=!0,this.name="StorageVectorsError"}};function Wr(e){return typeof e=="object"&&e!==null&&"__isStorageVectorsError"in e}var Gg=class extends HS{constructor(e,t,r){super(e),this.name="StorageVectorsApiError",this.status=t,this.statusCode=r}toJSON(){return{name:this.name,message:this.message,status:this.status,statusCode:this.statusCode}}},dN=class extends HS{constructor(e,t){super(e),this.name="StorageVectorsUnknownError",this.originalError=t}};const Xy=e=>e?(...t)=>e(...t):(...t)=>fetch(...t),fN=e=>{if(typeof e!="object"||e===null)return!1;const t=Object.getPrototypeOf(e);return(t===null||t===Object.prototype||Object.getPrototypeOf(t)===null)&&!(Symbol.toStringTag in e)&&!(Symbol.iterator in e)},cw=e=>e.msg||e.message||e.error_description||e.error||JSON.stringify(e),pN=async(e,t,r)=>{if(e&&typeof e=="object"&&"status"in e&&"ok"in e&&typeof e.status=="number"&&!r?.noResolveJson){const i=e.status||500,n=e;if(typeof n.json=="function")n.json().then(l=>{const o=l?.statusCode||l?.code||i+"";t(new Gg(cw(l),i,o))}).catch(()=>{const l=i+"";t(new Gg(n.statusText||`HTTP ${i} error`,i,l))});else{const l=i+"";t(new Gg(n.statusText||`HTTP ${i} error`,i,l))}}else t(new dN(cw(e),e))},gN=(e,t,r,i)=>{const n={method:e,headers:t?.headers||{}};return i?(fN(i)?(n.headers=Dt({"Content-Type":"application/json"},t?.headers),n.body=JSON.stringify(i)):n.body=i,Dt(Dt({},n),r)):n};async function mN(e,t,r,i,n,l){return new Promise((o,u)=>{e(r,gN(t,i,n,l)).then(h=>{if(!h.ok)throw h;if(i?.noResolveJson)return h;const d=h.headers.get("content-type");return!d||!d.includes("application/json")?{}:h.json()}).then(h=>o(h)).catch(h=>pN(h,u,i))})}async function Gr(e,t,r,i,n){return mN(e,"POST",t,i,n,r)}var yN=class{constructor(e,t={},r){this.shouldThrowOnError=!1,this.url=e.replace(/\/$/,""),this.headers=Dt(Dt({},Vy),t),this.fetch=Xy(r)}throwOnError(){return this.shouldThrowOnError=!0,this}async createIndex(e){var t=this;try{return{data:await Gr(t.fetch,`${t.url}/CreateIndex`,e,{headers:t.headers})||{},error:null}}catch(r){if(t.shouldThrowOnError)throw r;if(Wr(r))return{data:null,error:r};throw r}}async getIndex(e,t){var r=this;try{return{data:await Gr(r.fetch,`${r.url}/GetIndex`,{vectorBucketName:e,indexName:t},{headers:r.headers}),error:null}}catch(i){if(r.shouldThrowOnError)throw i;if(Wr(i))return{data:null,error:i};throw i}}async listIndexes(e){var t=this;try{return{data:await Gr(t.fetch,`${t.url}/ListIndexes`,e,{headers:t.headers}),error:null}}catch(r){if(t.shouldThrowOnError)throw r;if(Wr(r))return{data:null,error:r};throw r}}async deleteIndex(e,t){var r=this;try{return{data:await Gr(r.fetch,`${r.url}/DeleteIndex`,{vectorBucketName:e,indexName:t},{headers:r.headers})||{},error:null}}catch(i){if(r.shouldThrowOnError)throw i;if(Wr(i))return{data:null,error:i};throw i}}},bN=class{constructor(e,t={},r){this.shouldThrowOnError=!1,this.url=e.replace(/\/$/,""),this.headers=Dt(Dt({},Vy),t),this.fetch=Xy(r)}throwOnError(){return this.shouldThrowOnError=!0,this}async putVectors(e){var t=this;try{if(e.vectors.length<1||e.vectors.length>500)throw new Error("Vector batch size must be between 1 and 500 items");return{data:await Gr(t.fetch,`${t.url}/PutVectors`,e,{headers:t.headers})||{},error:null}}catch(r){if(t.shouldThrowOnError)throw r;if(Wr(r))return{data:null,error:r};throw r}}async getVectors(e){var t=this;try{return{data:await Gr(t.fetch,`${t.url}/GetVectors`,e,{headers:t.headers}),error:null}}catch(r){if(t.shouldThrowOnError)throw r;if(Wr(r))return{data:null,error:r};throw r}}async listVectors(e){var t=this;try{if(e.segmentCount!==void 0){if(e.segmentCount<1||e.segmentCount>16)throw new Error("segmentCount must be between 1 and 16");if(e.segmentIndex!==void 0&&(e.segmentIndex<0||e.segmentIndex>=e.segmentCount))throw new Error(`segmentIndex must be between 0 and ${e.segmentCount-1}`)}return{data:await Gr(t.fetch,`${t.url}/ListVectors`,e,{headers:t.headers}),error:null}}catch(r){if(t.shouldThrowOnError)throw r;if(Wr(r))return{data:null,error:r};throw r}}async queryVectors(e){var t=this;try{return{data:await Gr(t.fetch,`${t.url}/QueryVectors`,e,{headers:t.headers}),error:null}}catch(r){if(t.shouldThrowOnError)throw r;if(Wr(r))return{data:null,error:r};throw r}}async deleteVectors(e){var t=this;try{if(e.keys.length<1||e.keys.length>500)throw new Error("Keys batch size must be between 1 and 500 items");return{data:await Gr(t.fetch,`${t.url}/DeleteVectors`,e,{headers:t.headers})||{},error:null}}catch(r){if(t.shouldThrowOnError)throw r;if(Wr(r))return{data:null,error:r};throw r}}},xN=class{constructor(e,t={},r){this.shouldThrowOnError=!1,this.url=e.replace(/\/$/,""),this.headers=Dt(Dt({},Vy),t),this.fetch=Xy(r)}throwOnError(){return this.shouldThrowOnError=!0,this}async createBucket(e){var t=this;try{return{data:await Gr(t.fetch,`${t.url}/CreateVectorBucket`,{vectorBucketName:e},{headers:t.headers})||{},error:null}}catch(r){if(t.shouldThrowOnError)throw r;if(Wr(r))return{data:null,error:r};throw r}}async getBucket(e){var t=this;try{return{data:await Gr(t.fetch,`${t.url}/GetVectorBucket`,{vectorBucketName:e},{headers:t.headers}),error:null}}catch(r){if(t.shouldThrowOnError)throw r;if(Wr(r))return{data:null,error:r};throw r}}async listBuckets(e={}){var t=this;try{return{data:await Gr(t.fetch,`${t.url}/ListVectorBuckets`,e,{headers:t.headers}),error:null}}catch(r){if(t.shouldThrowOnError)throw r;if(Wr(r))return{data:null,error:r};throw r}}async deleteBucket(e){var t=this;try{return{data:await Gr(t.fetch,`${t.url}/DeleteVectorBucket`,{vectorBucketName:e},{headers:t.headers})||{},error:null}}catch(r){if(t.shouldThrowOnError)throw r;if(Wr(r))return{data:null,error:r};throw r}}},vN=class extends xN{constructor(e,t={}){super(e,t.headers||{},t.fetch)}from(e){return new _N(this.url,this.headers,e,this.fetch)}async createBucket(e){var t=()=>super.createBucket,r=this;return t().call(r,e)}async getBucket(e){var t=()=>super.getBucket,r=this;return t().call(r,e)}async listBuckets(e={}){var t=()=>super.listBuckets,r=this;return t().call(r,e)}async deleteBucket(e){var t=()=>super.deleteBucket,r=this;return t().call(r,e)}},_N=class extends yN{constructor(e,t,r,i){super(e,t,i),this.vectorBucketName=r}async createIndex(e){var t=()=>super.createIndex,r=this;return t().call(r,Dt(Dt({},e),{},{vectorBucketName:r.vectorBucketName}))}async listIndexes(e={}){var t=()=>super.listIndexes,r=this;return t().call(r,Dt(Dt({},e),{},{vectorBucketName:r.vectorBucketName}))}async getIndex(e){var t=()=>super.getIndex,r=this;return t().call(r,r.vectorBucketName,e)}async deleteIndex(e){var t=()=>super.deleteIndex,r=this;return t().call(r,r.vectorBucketName,e)}index(e){return new wN(this.url,this.headers,this.vectorBucketName,e,this.fetch)}},wN=class extends bN{constructor(e,t,r,i,n){super(e,t,n),this.vectorBucketName=r,this.indexName=i}async putVectors(e){var t=()=>super.putVectors,r=this;return t().call(r,Dt(Dt({},e),{},{vectorBucketName:r.vectorBucketName,indexName:r.indexName}))}async getVectors(e){var t=()=>super.getVectors,r=this;return t().call(r,Dt(Dt({},e),{},{vectorBucketName:r.vectorBucketName,indexName:r.indexName}))}async listVectors(e={}){var t=()=>super.listVectors,r=this;return t().call(r,Dt(Dt({},e),{},{vectorBucketName:r.vectorBucketName,indexName:r.indexName}))}async queryVectors(e){var t=()=>super.queryVectors,r=this;return t().call(r,Dt(Dt({},e),{},{vectorBucketName:r.vectorBucketName,indexName:r.indexName}))}async deleteVectors(e){var t=()=>super.deleteVectors,r=this;return t().call(r,Dt(Dt({},e),{},{vectorBucketName:r.vectorBucketName,indexName:r.indexName}))}},SN=class extends uN{constructor(e,t={},r,i){super(e,t,r,i)}from(e){return new cN(this.url,this.headers,e,this.fetch)}get vectors(){return new vN(this.url+"/vector",{headers:this.headers,fetch:this.fetch})}get analytics(){return new hN(this.url+"/iceberg",this.headers,this.fetch)}};const WS="2.89.0",ol=30*1e3,Nm=3,Yg=Nm*ol,kN="http://localhost:9999",CN="supabase.auth.token",TN={"X-Client-Info":`gotrue-js/${WS}`},Dm="X-Supabase-Api-Version",GS={"2024-01-01":{timestamp:Date.parse("2024-01-01T00:00:00.0Z"),name:"2024-01-01"}},EN=/^([a-z0-9_-]{4})*($|[a-z0-9_-]{3}$|[a-z0-9_-]{2}$)$/i,AN=600*1e3;class Rc extends Error{constructor(t,r,i){super(t),this.__isAuthError=!0,this.name="AuthError",this.status=r,this.code=i}}function Tt(e){return typeof e=="object"&&e!==null&&"__isAuthError"in e}class ON extends Rc{constructor(t,r,i){super(t,r,i),this.name="AuthApiError",this.status=r,this.code=i}}function RN(e){return Tt(e)&&e.name==="AuthApiError"}class Vn extends Rc{constructor(t,r){super(t),this.name="AuthUnknownError",this.originalError=r}}class Ra extends Rc{constructor(t,r,i,n){super(t,i,n),this.name=r,this.status=i}}class Hr extends Ra{constructor(){super("Auth session missing!","AuthSessionMissingError",400,void 0)}}function LN(e){return Tt(e)&&e.name==="AuthSessionMissingError"}class tl extends Ra{constructor(){super("Auth session or user missing","AuthInvalidTokenResponseError",500,void 0)}}class Eh extends Ra{constructor(t){super(t,"AuthInvalidCredentialsError",400,void 0)}}class Ah extends Ra{constructor(t,r=null){super(t,"AuthImplicitGrantRedirectError",500,void 0),this.details=null,this.details=r}toJSON(){return{name:this.name,message:this.message,status:this.status,details:this.details}}}function MN(e){return Tt(e)&&e.name==="AuthImplicitGrantRedirectError"}class uw extends Ra{constructor(t,r=null){super(t,"AuthPKCEGrantCodeExchangeError",500,void 0),this.details=null,this.details=r}toJSON(){return{name:this.name,message:this.message,status:this.status,details:this.details}}}class BN extends Ra{constructor(){super("PKCE code verifier not found in storage. This can happen if the auth flow was initiated in a different browser or device, or if the storage was cleared. For SSR frameworks (Next.js, SvelteKit, etc.), use @supabase/ssr on both the server and client to store the code verifier in cookies.","AuthPKCECodeVerifierMissingError",400,"pkce_code_verifier_not_found")}}class jm extends Ra{constructor(t,r){super(t,"AuthRetryableFetchError",r,void 0)}}function Vg(e){return Tt(e)&&e.name==="AuthRetryableFetchError"}class hw extends Ra{constructor(t,r,i){super(t,"AuthWeakPasswordError",r,"weak_password"),this.reasons=i}}class $m extends Ra{constructor(t){super(t,"AuthInvalidJwtError",400,"invalid_jwt")}}const sd="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789-_".split(""),dw=` 	
\r=`.split(""),NN=(()=>{const e=new Array(128);for(let t=0;t<e.length;t+=1)e[t]=-1;for(let t=0;t<dw.length;t+=1)e[dw[t].charCodeAt(0)]=-2;for(let t=0;t<sd.length;t+=1)e[sd[t].charCodeAt(0)]=t;return e})();function fw(e,t,r){if(e!==null)for(t.queue=t.queue<<8|e,t.queuedBits+=8;t.queuedBits>=6;){const i=t.queue>>t.queuedBits-6&63;r(sd[i]),t.queuedBits-=6}else if(t.queuedBits>0)for(t.queue=t.queue<<6-t.queuedBits,t.queuedBits=6;t.queuedBits>=6;){const i=t.queue>>t.queuedBits-6&63;r(sd[i]),t.queuedBits-=6}}function YS(e,t,r){const i=NN[e];if(i>-1)for(t.queue=t.queue<<6|i,t.queuedBits+=6;t.queuedBits>=8;)r(t.queue>>t.queuedBits-8&255),t.queuedBits-=8;else{if(i===-2)return;throw new Error(`Invalid Base64-URL character "${String.fromCharCode(e)}"`)}}function pw(e){const t=[],r=o=>{t.push(String.fromCodePoint(o))},i={utf8seq:0,codepoint:0},n={queue:0,queuedBits:0},l=o=>{$N(o,i,r)};for(let o=0;o<e.length;o+=1)YS(e.charCodeAt(o),n,l);return t.join("")}function DN(e,t){if(e<=127){t(e);return}else if(e<=2047){t(192|e>>6),t(128|e&63);return}else if(e<=65535){t(224|e>>12),t(128|e>>6&63),t(128|e&63);return}else if(e<=1114111){t(240|e>>18),t(128|e>>12&63),t(128|e>>6&63),t(128|e&63);return}throw new Error(`Unrecognized Unicode codepoint: ${e.toString(16)}`)}function jN(e,t){for(let r=0;r<e.length;r+=1){let i=e.charCodeAt(r);if(i>55295&&i<=56319){const n=(i-55296)*1024&65535;i=(e.charCodeAt(r+1)-56320&65535|n)+65536,r+=1}DN(i,t)}}function $N(e,t,r){if(t.utf8seq===0){if(e<=127){r(e);return}for(let i=1;i<6;i+=1)if((e>>7-i&1)===0){t.utf8seq=i;break}if(t.utf8seq===2)t.codepoint=e&31;else if(t.utf8seq===3)t.codepoint=e&15;else if(t.utf8seq===4)t.codepoint=e&7;else throw new Error("Invalid UTF-8 sequence");t.utf8seq-=1}else if(t.utf8seq>0){if(e<=127)throw new Error("Invalid UTF-8 sequence");t.codepoint=t.codepoint<<6|e&63,t.utf8seq-=1,t.utf8seq===0&&r(t.codepoint)}}function pl(e){const t=[],r={queue:0,queuedBits:0},i=n=>{t.push(n)};for(let n=0;n<e.length;n+=1)YS(e.charCodeAt(n),r,i);return new Uint8Array(t)}function zN(e){const t=[];return jN(e,r=>t.push(r)),new Uint8Array(t)}function Xn(e){const t=[],r={queue:0,queuedBits:0},i=n=>{t.push(n)};return e.forEach(n=>fw(n,r,i)),fw(null,r,i),t.join("")}function FN(e){return Math.round(Date.now()/1e3)+e}function PN(){return Symbol("auth-callback")}const ir=()=>typeof window<"u"&&typeof document<"u",Fn={tested:!1,writable:!1},VS=()=>{if(!ir())return!1;try{if(typeof globalThis.localStorage!="object")return!1}catch{return!1}if(Fn.tested)return Fn.writable;const e=`lswt-${Math.random()}${Math.random()}`;try{globalThis.localStorage.setItem(e,e),globalThis.localStorage.removeItem(e),Fn.tested=!0,Fn.writable=!0}catch{Fn.tested=!0,Fn.writable=!1}return Fn.writable};function UN(e){const t={},r=new URL(e);if(r.hash&&r.hash[0]==="#")try{new URLSearchParams(r.hash.substring(1)).forEach((n,l)=>{t[l]=n})}catch{}return r.searchParams.forEach((i,n)=>{t[n]=i}),t}const XS=e=>e?(...t)=>e(...t):(...t)=>fetch(...t),IN=e=>typeof e=="object"&&e!==null&&"status"in e&&"ok"in e&&"json"in e&&typeof e.json=="function",cl=async(e,t,r)=>{await e.setItem(t,JSON.stringify(r))},Pn=async(e,t)=>{const r=await e.getItem(t);if(!r)return null;try{return JSON.parse(r)}catch{return r}},er=async(e,t)=>{await e.removeItem(t)};class Kd{constructor(){this.promise=new Kd.promiseConstructor((t,r)=>{this.resolve=t,this.reject=r})}}Kd.promiseConstructor=Promise;function Xg(e){const t=e.split(".");if(t.length!==3)throw new $m("Invalid JWT structure");for(let i=0;i<t.length;i++)if(!EN.test(t[i]))throw new $m("JWT not in base64url format");return{header:JSON.parse(pw(t[0])),payload:JSON.parse(pw(t[1])),signature:pl(t[2]),raw:{header:t[0],payload:t[1]}}}async function qN(e){return await new Promise(t=>{setTimeout(()=>t(null),e)})}function HN(e,t){return new Promise((i,n)=>{(async()=>{for(let l=0;l<1/0;l++)try{const o=await e(l);if(!t(l,null,o)){i(o);return}}catch(o){if(!t(l,o)){n(o);return}}})()})}function WN(e){return("0"+e.toString(16)).substr(-2)}function GN(){const t=new Uint32Array(56);if(typeof crypto>"u"){const r="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789-._~",i=r.length;let n="";for(let l=0;l<56;l++)n+=r.charAt(Math.floor(Math.random()*i));return n}return crypto.getRandomValues(t),Array.from(t,WN).join("")}async function YN(e){const r=new TextEncoder().encode(e),i=await crypto.subtle.digest("SHA-256",r),n=new Uint8Array(i);return Array.from(n).map(l=>String.fromCharCode(l)).join("")}async function VN(e){if(!(typeof crypto<"u"&&typeof crypto.subtle<"u"&&typeof TextEncoder<"u"))return console.warn("WebCrypto API is not supported. Code challenge method will default to use plain instead of sha256."),e;const r=await YN(e);return btoa(r).replace(/\+/g,"-").replace(/\//g,"_").replace(/=+$/,"")}async function el(e,t,r=!1){const i=GN();let n=i;r&&(n+="/PASSWORD_RECOVERY"),await cl(e,`${t}-code-verifier`,n);const l=await VN(i);return[l,i===l?"plain":"s256"]}const XN=/^2[0-9]{3}-(0[1-9]|1[0-2])-(0[1-9]|1[0-9]|2[0-9]|3[0-1])$/i;function KN(e){const t=e.headers.get(Dm);if(!t||!t.match(XN))return null;try{return new Date(`${t}T00:00:00.0Z`)}catch{return null}}function QN(e){if(!e)throw new Error("Missing exp claim");const t=Math.floor(Date.now()/1e3);if(e<=t)throw new Error("JWT has expired")}function ZN(e){switch(e){case"RS256":return{name:"RSASSA-PKCS1-v1_5",hash:{name:"SHA-256"}};case"ES256":return{name:"ECDSA",namedCurve:"P-256",hash:{name:"SHA-256"}};default:throw new Error("Invalid alg claim")}}const JN=/^[0-9a-f]{8}-[0-9a-f]{4}-[0-9a-f]{4}-[0-9a-f]{4}-[0-9a-f]{12}$/;function rl(e){if(!JN.test(e))throw new Error("@supabase/auth-js: Expected parameter to be UUID but is not")}function Kg(){const e={};return new Proxy(e,{get:(t,r)=>{if(r==="__isUserNotAvailableProxy")return!0;if(typeof r=="symbol"){const i=r.toString();if(i==="Symbol(Symbol.toPrimitive)"||i==="Symbol(Symbol.toStringTag)"||i==="Symbol(util.inspect.custom)")return}throw new Error(`@supabase/auth-js: client was created with userStorage option and there was no user stored in the user storage. Accessing the "${r}" property of the session object is not supported. Please use getUser() instead.`)},set:(t,r)=>{throw new Error(`@supabase/auth-js: client was created with userStorage option and there was no user stored in the user storage. Setting the "${r}" property of the session object is not supported. Please use getUser() to fetch a user object you can manipulate.`)},deleteProperty:(t,r)=>{throw new Error(`@supabase/auth-js: client was created with userStorage option and there was no user stored in the user storage. Deleting the "${r}" property of the session object is not supported. Please use getUser() to fetch a user object you can manipulate.`)}})}function t3(e,t){return new Proxy(e,{get:(r,i,n)=>{if(i==="__isInsecureUserWarningProxy")return!0;if(typeof i=="symbol"){const l=i.toString();if(l==="Symbol(Symbol.toPrimitive)"||l==="Symbol(Symbol.toStringTag)"||l==="Symbol(util.inspect.custom)"||l==="Symbol(nodejs.util.inspect.custom)")return Reflect.get(r,i,n)}return!t.value&&typeof i=="string"&&(console.warn("Using the user object as returned from supabase.auth.getSession() or from some supabase.auth.onAuthStateChange() events could be insecure! This value comes directly from the storage medium (usually cookies on the server) and may not be authentic. Use supabase.auth.getUser() instead which authenticates the data by contacting the Supabase Auth server."),t.value=!0),Reflect.get(r,i,n)}})}function gw(e){return JSON.parse(JSON.stringify(e))}const qn=e=>e.msg||e.message||e.error_description||e.error||JSON.stringify(e),e3=[502,503,504];async function mw(e){var t;if(!IN(e))throw new jm(qn(e),0);if(e3.includes(e.status))throw new jm(qn(e),e.status);let r;try{r=await e.json()}catch(l){throw new Vn(qn(l),l)}let i;const n=KN(e);if(n&&n.getTime()>=GS["2024-01-01"].timestamp&&typeof r=="object"&&r&&typeof r.code=="string"?i=r.code:typeof r=="object"&&r&&typeof r.error_code=="string"&&(i=r.error_code),i){if(i==="weak_password")throw new hw(qn(r),e.status,((t=r.weak_password)===null||t===void 0?void 0:t.reasons)||[]);if(i==="session_not_found")throw new Hr}else if(typeof r=="object"&&r&&typeof r.weak_password=="object"&&r.weak_password&&Array.isArray(r.weak_password.reasons)&&r.weak_password.reasons.length&&r.weak_password.reasons.reduce((l,o)=>l&&typeof o=="string",!0))throw new hw(qn(r),e.status,r.weak_password.reasons);throw new ON(qn(r),e.status||500,i)}const r3=(e,t,r,i)=>{const n={method:e,headers:t?.headers||{}};return e==="GET"?n:(n.headers=Object.assign({"Content-Type":"application/json;charset=UTF-8"},t?.headers),n.body=JSON.stringify(i),Object.assign(Object.assign({},n),r))};async function Nt(e,t,r,i){var n;const l=Object.assign({},i?.headers);l[Dm]||(l[Dm]=GS["2024-01-01"].name),i?.jwt&&(l.Authorization=`Bearer ${i.jwt}`);const o=(n=i?.query)!==null&&n!==void 0?n:{};i?.redirectTo&&(o.redirect_to=i.redirectTo);const u=Object.keys(o).length?"?"+new URLSearchParams(o).toString():"",h=await i3(e,t,r+u,{headers:l,noResolveJson:i?.noResolveJson},{},i?.body);return i?.xform?i?.xform(h):{data:Object.assign({},h),error:null}}async function i3(e,t,r,i,n,l){const o=r3(t,i,n,l);let u;try{u=await e(r,Object.assign({},o))}catch(h){throw console.error(h),new jm(qn(h),0)}if(u.ok||await mw(u),i?.noResolveJson)return u;try{return await u.json()}catch(h){await mw(h)}}function xi(e){var t;let r=null;s3(e)&&(r=Object.assign({},e),e.expires_at||(r.expires_at=FN(e.expires_in)));const i=(t=e.user)!==null&&t!==void 0?t:e;return{data:{session:r,user:i},error:null}}function yw(e){const t=xi(e);return!t.error&&e.weak_password&&typeof e.weak_password=="object"&&Array.isArray(e.weak_password.reasons)&&e.weak_password.reasons.length&&e.weak_password.message&&typeof e.weak_password.message=="string"&&e.weak_password.reasons.reduce((r,i)=>r&&typeof i=="string",!0)&&(t.data.weak_password=e.weak_password),t}function cn(e){var t;return{data:{user:(t=e.user)!==null&&t!==void 0?t:e},error:null}}function a3(e){return{data:e,error:null}}function n3(e){const{action_link:t,email_otp:r,hashed_token:i,redirect_to:n,verification_type:l}=e,o=Vd(e,["action_link","email_otp","hashed_token","redirect_to","verification_type"]),u={action_link:t,email_otp:r,hashed_token:i,redirect_to:n,verification_type:l},h=Object.assign({},o);return{data:{properties:u,user:h},error:null}}function bw(e){return e}function s3(e){return e.access_token&&e.refresh_token&&e.expires_in}const Qg=["global","local","others"];class l3{constructor({url:t="",headers:r={},fetch:i}){this.url=t,this.headers=r,this.fetch=XS(i),this.mfa={listFactors:this._listFactors.bind(this),deleteFactor:this._deleteFactor.bind(this)},this.oauth={listClients:this._listOAuthClients.bind(this),createClient:this._createOAuthClient.bind(this),getClient:this._getOAuthClient.bind(this),updateClient:this._updateOAuthClient.bind(this),deleteClient:this._deleteOAuthClient.bind(this),regenerateClientSecret:this._regenerateOAuthClientSecret.bind(this)}}async signOut(t,r=Qg[0]){if(Qg.indexOf(r)<0)throw new Error(`@supabase/auth-js: Parameter scope must be one of ${Qg.join(", ")}`);try{return await Nt(this.fetch,"POST",`${this.url}/logout?scope=${r}`,{headers:this.headers,jwt:t,noResolveJson:!0}),{data:null,error:null}}catch(i){if(Tt(i))return{data:null,error:i};throw i}}async inviteUserByEmail(t,r={}){try{return await Nt(this.fetch,"POST",`${this.url}/invite`,{body:{email:t,data:r.data},headers:this.headers,redirectTo:r.redirectTo,xform:cn})}catch(i){if(Tt(i))return{data:{user:null},error:i};throw i}}async generateLink(t){try{const{options:r}=t,i=Vd(t,["options"]),n=Object.assign(Object.assign({},i),r);return"newEmail"in i&&(n.new_email=i?.newEmail,delete n.newEmail),await Nt(this.fetch,"POST",`${this.url}/admin/generate_link`,{body:n,headers:this.headers,xform:n3,redirectTo:r?.redirectTo})}catch(r){if(Tt(r))return{data:{properties:null,user:null},error:r};throw r}}async createUser(t){try{return await Nt(this.fetch,"POST",`${this.url}/admin/users`,{body:t,headers:this.headers,xform:cn})}catch(r){if(Tt(r))return{data:{user:null},error:r};throw r}}async listUsers(t){var r,i,n,l,o,u,h;try{const d={nextPage:null,lastPage:0,total:0},p=await Nt(this.fetch,"GET",`${this.url}/admin/users`,{headers:this.headers,noResolveJson:!0,query:{page:(i=(r=t?.page)===null||r===void 0?void 0:r.toString())!==null&&i!==void 0?i:"",per_page:(l=(n=t?.perPage)===null||n===void 0?void 0:n.toString())!==null&&l!==void 0?l:""},xform:bw});if(p.error)throw p.error;const g=await p.json(),y=(o=p.headers.get("x-total-count"))!==null&&o!==void 0?o:0,x=(h=(u=p.headers.get("link"))===null||u===void 0?void 0:u.split(","))!==null&&h!==void 0?h:[];return x.length>0&&(x.forEach(v=>{const _=parseInt(v.split(";")[0].split("=")[1].substring(0,1)),S=JSON.parse(v.split(";")[1].split("=")[1]);d[`${S}Page`]=_}),d.total=parseInt(y)),{data:Object.assign(Object.assign({},g),d),error:null}}catch(d){if(Tt(d))return{data:{users:[]},error:d};throw d}}async getUserById(t){rl(t);try{return await Nt(this.fetch,"GET",`${this.url}/admin/users/${t}`,{headers:this.headers,xform:cn})}catch(r){if(Tt(r))return{data:{user:null},error:r};throw r}}async updateUserById(t,r){rl(t);try{return await Nt(this.fetch,"PUT",`${this.url}/admin/users/${t}`,{body:r,headers:this.headers,xform:cn})}catch(i){if(Tt(i))return{data:{user:null},error:i};throw i}}async deleteUser(t,r=!1){rl(t);try{return await Nt(this.fetch,"DELETE",`${this.url}/admin/users/${t}`,{headers:this.headers,body:{should_soft_delete:r},xform:cn})}catch(i){if(Tt(i))return{data:{user:null},error:i};throw i}}async _listFactors(t){rl(t.userId);try{const{data:r,error:i}=await Nt(this.fetch,"GET",`${this.url}/admin/users/${t.userId}/factors`,{headers:this.headers,xform:n=>({data:{factors:n},error:null})});return{data:r,error:i}}catch(r){if(Tt(r))return{data:null,error:r};throw r}}async _deleteFactor(t){rl(t.userId),rl(t.id);try{return{data:await Nt(this.fetch,"DELETE",`${this.url}/admin/users/${t.userId}/factors/${t.id}`,{headers:this.headers}),error:null}}catch(r){if(Tt(r))return{data:null,error:r};throw r}}async _listOAuthClients(t){var r,i,n,l,o,u,h;try{const d={nextPage:null,lastPage:0,total:0},p=await Nt(this.fetch,"GET",`${this.url}/admin/oauth/clients`,{headers:this.headers,noResolveJson:!0,query:{page:(i=(r=t?.page)===null||r===void 0?void 0:r.toString())!==null&&i!==void 0?i:"",per_page:(l=(n=t?.perPage)===null||n===void 0?void 0:n.toString())!==null&&l!==void 0?l:""},xform:bw});if(p.error)throw p.error;const g=await p.json(),y=(o=p.headers.get("x-total-count"))!==null&&o!==void 0?o:0,x=(h=(u=p.headers.get("link"))===null||u===void 0?void 0:u.split(","))!==null&&h!==void 0?h:[];return x.length>0&&(x.forEach(v=>{const _=parseInt(v.split(";")[0].split("=")[1].substring(0,1)),S=JSON.parse(v.split(";")[1].split("=")[1]);d[`${S}Page`]=_}),d.total=parseInt(y)),{data:Object.assign(Object.assign({},g),d),error:null}}catch(d){if(Tt(d))return{data:{clients:[]},error:d};throw d}}async _createOAuthClient(t){try{return await Nt(this.fetch,"POST",`${this.url}/admin/oauth/clients`,{body:t,headers:this.headers,xform:r=>({data:r,error:null})})}catch(r){if(Tt(r))return{data:null,error:r};throw r}}async _getOAuthClient(t){try{return await Nt(this.fetch,"GET",`${this.url}/admin/oauth/clients/${t}`,{headers:this.headers,xform:r=>({data:r,error:null})})}catch(r){if(Tt(r))return{data:null,error:r};throw r}}async _updateOAuthClient(t,r){try{return await Nt(this.fetch,"PUT",`${this.url}/admin/oauth/clients/${t}`,{body:r,headers:this.headers,xform:i=>({data:i,error:null})})}catch(i){if(Tt(i))return{data:null,error:i};throw i}}async _deleteOAuthClient(t){try{return await Nt(this.fetch,"DELETE",`${this.url}/admin/oauth/clients/${t}`,{headers:this.headers,noResolveJson:!0}),{data:null,error:null}}catch(r){if(Tt(r))return{data:null,error:r};throw r}}async _regenerateOAuthClientSecret(t){try{return await Nt(this.fetch,"POST",`${this.url}/admin/oauth/clients/${t}/regenerate_secret`,{headers:this.headers,xform:r=>({data:r,error:null})})}catch(r){if(Tt(r))return{data:null,error:r};throw r}}}function xw(e={}){return{getItem:t=>e[t]||null,setItem:(t,r)=>{e[t]=r},removeItem:t=>{delete e[t]}}}const il={debug:!!(globalThis&&VS()&&globalThis.localStorage&&globalThis.localStorage.getItem("supabase.gotrue-js.locks.debug")==="true")};class KS extends Error{constructor(t){super(t),this.isAcquireTimeout=!0}}class o3 extends KS{}async function c3(e,t,r){il.debug&&console.log("@supabase/gotrue-js: navigatorLock: acquire lock",e,t);const i=new globalThis.AbortController;return t>0&&setTimeout(()=>{i.abort(),il.debug&&console.log("@supabase/gotrue-js: navigatorLock acquire timed out",e)},t),await Promise.resolve().then(()=>globalThis.navigator.locks.request(e,t===0?{mode:"exclusive",ifAvailable:!0}:{mode:"exclusive",signal:i.signal},async n=>{if(n){il.debug&&console.log("@supabase/gotrue-js: navigatorLock: acquired",e,n.name);try{return await r()}finally{il.debug&&console.log("@supabase/gotrue-js: navigatorLock: released",e,n.name)}}else{if(t===0)throw il.debug&&console.log("@supabase/gotrue-js: navigatorLock: not immediately available",e),new o3(`Acquiring an exclusive Navigator LockManager lock "${e}" immediately failed`);if(il.debug)try{const l=await globalThis.navigator.locks.query();console.log("@supabase/gotrue-js: Navigator LockManager state",JSON.stringify(l,null,"  "))}catch(l){console.warn("@supabase/gotrue-js: Error when querying Navigator LockManager state",l)}return console.warn("@supabase/gotrue-js: Navigator LockManager returned a null lock when using #request without ifAvailable set to true, it appears this browser is not following the LockManager spec https://developer.mozilla.org/en-US/docs/Web/API/LockManager/request"),await r()}}))}function u3(){if(typeof globalThis!="object")try{Object.defineProperty(Object.prototype,"__magic__",{get:function(){return this},configurable:!0}),__magic__.globalThis=__magic__,delete Object.prototype.__magic__}catch{typeof self<"u"&&(self.globalThis=self)}}function QS(e){if(!/^0x[a-fA-F0-9]{40}$/.test(e))throw new Error(`@supabase/auth-js: Address "${e}" is invalid.`);return e.toLowerCase()}function h3(e){return parseInt(e,16)}function d3(e){const t=new TextEncoder().encode(e);return"0x"+Array.from(t,i=>i.toString(16).padStart(2,"0")).join("")}function f3(e){var t;const{chainId:r,domain:i,expirationTime:n,issuedAt:l=new Date,nonce:o,notBefore:u,requestId:h,resources:d,scheme:p,uri:g,version:y}=e;{if(!Number.isInteger(r))throw new Error(`@supabase/auth-js: Invalid SIWE message field "chainId". Chain ID must be a EIP-155 chain ID. Provided value: ${r}`);if(!i)throw new Error('@supabase/auth-js: Invalid SIWE message field "domain". Domain must be provided.');if(o&&o.length<8)throw new Error(`@supabase/auth-js: Invalid SIWE message field "nonce". Nonce must be at least 8 characters. Provided value: ${o}`);if(!g)throw new Error('@supabase/auth-js: Invalid SIWE message field "uri". URI must be provided.');if(y!=="1")throw new Error(`@supabase/auth-js: Invalid SIWE message field "version". Version must be '1'. Provided value: ${y}`);if(!((t=e.statement)===null||t===void 0)&&t.includes(`
`))throw new Error(`@supabase/auth-js: Invalid SIWE message field "statement". Statement must not include '\\n'. Provided value: ${e.statement}`)}const x=QS(e.address),v=p?`${p}://${i}`:i,_=e.statement?`${e.statement}
`:"",S=`${v} wants you to sign in with your Ethereum account:
${x}

${_}`;let T=`URI: ${g}
Version: ${y}
Chain ID: ${r}${o?`
Nonce: ${o}`:""}
Issued At: ${l.toISOString()}`;if(n&&(T+=`
Expiration Time: ${n.toISOString()}`),u&&(T+=`
Not Before: ${u.toISOString()}`),h&&(T+=`
Request ID: ${h}`),d){let E=`
Resources:`;for(const O of d){if(!O||typeof O!="string")throw new Error(`@supabase/auth-js: Invalid SIWE message field "resources". Every resource must be a valid string. Provided value: ${O}`);E+=`
- ${O}`}T+=E}return`${S}
${T}`}class je extends Error{constructor({message:t,code:r,cause:i,name:n}){var l;super(t,{cause:i}),this.__isWebAuthnError=!0,this.name=(l=n??(i instanceof Error?i.name:void 0))!==null&&l!==void 0?l:"Unknown Error",this.code=r}}class ld extends je{constructor(t,r){super({code:"ERROR_PASSTHROUGH_SEE_CAUSE_PROPERTY",cause:r,message:t}),this.name="WebAuthnUnknownError",this.originalError=r}}function p3({error:e,options:t}){var r,i,n;const{publicKey:l}=t;if(!l)throw Error("options was missing required publicKey property");if(e.name==="AbortError"){if(t.signal instanceof AbortSignal)return new je({message:"Registration ceremony was sent an abort signal",code:"ERROR_CEREMONY_ABORTED",cause:e})}else if(e.name==="ConstraintError"){if(((r=l.authenticatorSelection)===null||r===void 0?void 0:r.requireResidentKey)===!0)return new je({message:"Discoverable credentials were required but no available authenticator supported it",code:"ERROR_AUTHENTICATOR_MISSING_DISCOVERABLE_CREDENTIAL_SUPPORT",cause:e});if(t.mediation==="conditional"&&((i=l.authenticatorSelection)===null||i===void 0?void 0:i.userVerification)==="required")return new je({message:"User verification was required during automatic registration but it could not be performed",code:"ERROR_AUTO_REGISTER_USER_VERIFICATION_FAILURE",cause:e});if(((n=l.authenticatorSelection)===null||n===void 0?void 0:n.userVerification)==="required")return new je({message:"User verification was required but no available authenticator supported it",code:"ERROR_AUTHENTICATOR_MISSING_USER_VERIFICATION_SUPPORT",cause:e})}else{if(e.name==="InvalidStateError")return new je({message:"The authenticator was previously registered",code:"ERROR_AUTHENTICATOR_PREVIOUSLY_REGISTERED",cause:e});if(e.name==="NotAllowedError")return new je({message:e.message,code:"ERROR_PASSTHROUGH_SEE_CAUSE_PROPERTY",cause:e});if(e.name==="NotSupportedError")return l.pubKeyCredParams.filter(u=>u.type==="public-key").length===0?new je({message:'No entry in pubKeyCredParams was of type "public-key"',code:"ERROR_MALFORMED_PUBKEYCREDPARAMS",cause:e}):new je({message:"No available authenticator supported any of the specified pubKeyCredParams algorithms",code:"ERROR_AUTHENTICATOR_NO_SUPPORTED_PUBKEYCREDPARAMS_ALG",cause:e});if(e.name==="SecurityError"){const o=window.location.hostname;if(ZS(o)){if(l.rp.id!==o)return new je({message:`The RP ID "${l.rp.id}" is invalid for this domain`,code:"ERROR_INVALID_RP_ID",cause:e})}else return new je({message:`${window.location.hostname} is an invalid domain`,code:"ERROR_INVALID_DOMAIN",cause:e})}else if(e.name==="TypeError"){if(l.user.id.byteLength<1||l.user.id.byteLength>64)return new je({message:"User ID was not between 1 and 64 characters",code:"ERROR_INVALID_USER_ID_LENGTH",cause:e})}else if(e.name==="UnknownError")return new je({message:"The authenticator was unable to process the specified options, or could not create a new credential",code:"ERROR_AUTHENTICATOR_GENERAL_ERROR",cause:e})}return new je({message:"a Non-Webauthn related error has occurred",code:"ERROR_PASSTHROUGH_SEE_CAUSE_PROPERTY",cause:e})}function g3({error:e,options:t}){const{publicKey:r}=t;if(!r)throw Error("options was missing required publicKey property");if(e.name==="AbortError"){if(t.signal instanceof AbortSignal)return new je({message:"Authentication ceremony was sent an abort signal",code:"ERROR_CEREMONY_ABORTED",cause:e})}else{if(e.name==="NotAllowedError")return new je({message:e.message,code:"ERROR_PASSTHROUGH_SEE_CAUSE_PROPERTY",cause:e});if(e.name==="SecurityError"){const i=window.location.hostname;if(ZS(i)){if(r.rpId!==i)return new je({message:`The RP ID "${r.rpId}" is invalid for this domain`,code:"ERROR_INVALID_RP_ID",cause:e})}else return new je({message:`${window.location.hostname} is an invalid domain`,code:"ERROR_INVALID_DOMAIN",cause:e})}else if(e.name==="UnknownError")return new je({message:"The authenticator was unable to process the specified options, or could not create a new assertion signature",code:"ERROR_AUTHENTICATOR_GENERAL_ERROR",cause:e})}return new je({message:"a Non-Webauthn related error has occurred",code:"ERROR_PASSTHROUGH_SEE_CAUSE_PROPERTY",cause:e})}class m3{createNewAbortSignal(){if(this.controller){const r=new Error("Cancelling existing WebAuthn API call for new one");r.name="AbortError",this.controller.abort(r)}const t=new AbortController;return this.controller=t,t.signal}cancelCeremony(){if(this.controller){const t=new Error("Manually cancelling existing WebAuthn API call");t.name="AbortError",this.controller.abort(t),this.controller=void 0}}}const y3=new m3;function b3(e){if(!e)throw new Error("Credential creation options are required");if(typeof PublicKeyCredential<"u"&&"parseCreationOptionsFromJSON"in PublicKeyCredential&&typeof PublicKeyCredential.parseCreationOptionsFromJSON=="function")return PublicKeyCredential.parseCreationOptionsFromJSON(e);const{challenge:t,user:r,excludeCredentials:i}=e,n=Vd(e,["challenge","user","excludeCredentials"]),l=pl(t).buffer,o=Object.assign(Object.assign({},r),{id:pl(r.id).buffer}),u=Object.assign(Object.assign({},n),{challenge:l,user:o});if(i&&i.length>0){u.excludeCredentials=new Array(i.length);for(let h=0;h<i.length;h++){const d=i[h];u.excludeCredentials[h]=Object.assign(Object.assign({},d),{id:pl(d.id).buffer,type:d.type||"public-key",transports:d.transports})}}return u}function x3(e){if(!e)throw new Error("Credential request options are required");if(typeof PublicKeyCredential<"u"&&"parseRequestOptionsFromJSON"in PublicKeyCredential&&typeof PublicKeyCredential.parseRequestOptionsFromJSON=="function")return PublicKeyCredential.parseRequestOptionsFromJSON(e);const{challenge:t,allowCredentials:r}=e,i=Vd(e,["challenge","allowCredentials"]),n=pl(t).buffer,l=Object.assign(Object.assign({},i),{challenge:n});if(r&&r.length>0){l.allowCredentials=new Array(r.length);for(let o=0;o<r.length;o++){const u=r[o];l.allowCredentials[o]=Object.assign(Object.assign({},u),{id:pl(u.id).buffer,type:u.type||"public-key",transports:u.transports})}}return l}function v3(e){var t;if("toJSON"in e&&typeof e.toJSON=="function")return e.toJSON();const r=e;return{id:e.id,rawId:e.id,response:{attestationObject:Xn(new Uint8Array(e.response.attestationObject)),clientDataJSON:Xn(new Uint8Array(e.response.clientDataJSON))},type:"public-key",clientExtensionResults:e.getClientExtensionResults(),authenticatorAttachment:(t=r.authenticatorAttachment)!==null&&t!==void 0?t:void 0}}function _3(e){var t;if("toJSON"in e&&typeof e.toJSON=="function")return e.toJSON();const r=e,i=e.getClientExtensionResults(),n=e.response;return{id:e.id,rawId:e.id,response:{authenticatorData:Xn(new Uint8Array(n.authenticatorData)),clientDataJSON:Xn(new Uint8Array(n.clientDataJSON)),signature:Xn(new Uint8Array(n.signature)),userHandle:n.userHandle?Xn(new Uint8Array(n.userHandle)):void 0},type:"public-key",clientExtensionResults:i,authenticatorAttachment:(t=r.authenticatorAttachment)!==null&&t!==void 0?t:void 0}}function ZS(e){return e==="localhost"||/^([a-z0-9]+(-[a-z0-9]+)*\.)+[a-z]{2,}$/i.test(e)}function vw(){var e,t;return!!(ir()&&"PublicKeyCredential"in window&&window.PublicKeyCredential&&"credentials"in navigator&&typeof((e=navigator?.credentials)===null||e===void 0?void 0:e.create)=="function"&&typeof((t=navigator?.credentials)===null||t===void 0?void 0:t.get)=="function")}async function w3(e){try{const t=await navigator.credentials.create(e);return t?t instanceof PublicKeyCredential?{data:t,error:null}:{data:null,error:new ld("Browser returned unexpected credential type",t)}:{data:null,error:new ld("Empty credential response",t)}}catch(t){return{data:null,error:p3({error:t,options:e})}}}async function S3(e){try{const t=await navigator.credentials.get(e);return t?t instanceof PublicKeyCredential?{data:t,error:null}:{data:null,error:new ld("Browser returned unexpected credential type",t)}:{data:null,error:new ld("Empty credential response",t)}}catch(t){return{data:null,error:g3({error:t,options:e})}}}const k3={hints:["security-key"],authenticatorSelection:{authenticatorAttachment:"cross-platform",requireResidentKey:!1,userVerification:"preferred",residentKey:"discouraged"},attestation:"direct"},C3={userVerification:"preferred",hints:["security-key"],attestation:"direct"};function od(...e){const t=n=>n!==null&&typeof n=="object"&&!Array.isArray(n),r=n=>n instanceof ArrayBuffer||ArrayBuffer.isView(n),i={};for(const n of e)if(n)for(const l in n){const o=n[l];if(o!==void 0)if(Array.isArray(o))i[l]=o;else if(r(o))i[l]=o;else if(t(o)){const u=i[l];t(u)?i[l]=od(u,o):i[l]=od(o)}else i[l]=o}return i}function T3(e,t){return od(k3,e,t||{})}function E3(e,t){return od(C3,e,t||{})}class A3{constructor(t){this.client=t,this.enroll=this._enroll.bind(this),this.challenge=this._challenge.bind(this),this.verify=this._verify.bind(this),this.authenticate=this._authenticate.bind(this),this.register=this._register.bind(this)}async _enroll(t){return this.client.mfa.enroll(Object.assign(Object.assign({},t),{factorType:"webauthn"}))}async _challenge({factorId:t,webauthn:r,friendlyName:i,signal:n},l){try{const{data:o,error:u}=await this.client.mfa.challenge({factorId:t,webauthn:r});if(!o)return{data:null,error:u};const h=n??y3.createNewAbortSignal();if(o.webauthn.type==="create"){const{user:d}=o.webauthn.credential_options.publicKey;d.name||(d.name=`${d.id}:${i}`),d.displayName||(d.displayName=d.name)}switch(o.webauthn.type){case"create":{const d=T3(o.webauthn.credential_options.publicKey,l?.create),{data:p,error:g}=await w3({publicKey:d,signal:h});return p?{data:{factorId:t,challengeId:o.id,webauthn:{type:o.webauthn.type,credential_response:p}},error:null}:{data:null,error:g}}case"request":{const d=E3(o.webauthn.credential_options.publicKey,l?.request),{data:p,error:g}=await S3(Object.assign(Object.assign({},o.webauthn.credential_options),{publicKey:d,signal:h}));return p?{data:{factorId:t,challengeId:o.id,webauthn:{type:o.webauthn.type,credential_response:p}},error:null}:{data:null,error:g}}}}catch(o){return Tt(o)?{data:null,error:o}:{data:null,error:new Vn("Unexpected error in challenge",o)}}}async _verify({challengeId:t,factorId:r,webauthn:i}){return this.client.mfa.verify({factorId:r,challengeId:t,webauthn:i})}async _authenticate({factorId:t,webauthn:{rpId:r=typeof window<"u"?window.location.hostname:void 0,rpOrigins:i=typeof window<"u"?[window.location.origin]:void 0,signal:n}={}},l){if(!r)return{data:null,error:new Rc("rpId is required for WebAuthn authentication")};try{if(!vw())return{data:null,error:new Vn("Browser does not support WebAuthn",null)};const{data:o,error:u}=await this.challenge({factorId:t,webauthn:{rpId:r,rpOrigins:i},signal:n},{request:l});if(!o)return{data:null,error:u};const{webauthn:h}=o;return this._verify({factorId:t,challengeId:o.challengeId,webauthn:{type:h.type,rpId:r,rpOrigins:i,credential_response:h.credential_response}})}catch(o){return Tt(o)?{data:null,error:o}:{data:null,error:new Vn("Unexpected error in authenticate",o)}}}async _register({friendlyName:t,webauthn:{rpId:r=typeof window<"u"?window.location.hostname:void 0,rpOrigins:i=typeof window<"u"?[window.location.origin]:void 0,signal:n}={}},l){if(!r)return{data:null,error:new Rc("rpId is required for WebAuthn registration")};try{if(!vw())return{data:null,error:new Vn("Browser does not support WebAuthn",null)};const{data:o,error:u}=await this._enroll({friendlyName:t});if(!o)return await this.client.mfa.listFactors().then(p=>{var g;return(g=p.data)===null||g===void 0?void 0:g.all.find(y=>y.factor_type==="webauthn"&&y.friendly_name===t&&y.status!=="unverified")}).then(p=>p?this.client.mfa.unenroll({factorId:p?.id}):void 0),{data:null,error:u};const{data:h,error:d}=await this._challenge({factorId:o.id,friendlyName:o.friendly_name,webauthn:{rpId:r,rpOrigins:i},signal:n},{create:l});return h?this._verify({factorId:o.id,challengeId:h.challengeId,webauthn:{rpId:r,rpOrigins:i,type:h.webauthn.type,credential_response:h.webauthn.credential_response}}):{data:null,error:d}}catch(o){return Tt(o)?{data:null,error:o}:{data:null,error:new Vn("Unexpected error in register",o)}}}}u3();const O3={url:kN,storageKey:CN,autoRefreshToken:!0,persistSession:!0,detectSessionInUrl:!0,headers:TN,flowType:"implicit",debug:!1,hasCustomAuthorizationHeader:!1,throwOnError:!1};async function _w(e,t,r){return await r()}const al={};class Lc{get jwks(){var t,r;return(r=(t=al[this.storageKey])===null||t===void 0?void 0:t.jwks)!==null&&r!==void 0?r:{keys:[]}}set jwks(t){al[this.storageKey]=Object.assign(Object.assign({},al[this.storageKey]),{jwks:t})}get jwks_cached_at(){var t,r;return(r=(t=al[this.storageKey])===null||t===void 0?void 0:t.cachedAt)!==null&&r!==void 0?r:Number.MIN_SAFE_INTEGER}set jwks_cached_at(t){al[this.storageKey]=Object.assign(Object.assign({},al[this.storageKey]),{cachedAt:t})}constructor(t){var r,i,n;this.userStorage=null,this.memoryStorage=null,this.stateChangeEmitters=new Map,this.autoRefreshTicker=null,this.visibilityChangedCallback=null,this.refreshingDeferred=null,this.initializePromise=null,this.detectSessionInUrl=!0,this.hasCustomAuthorizationHeader=!1,this.suppressGetSessionWarning=!1,this.lockAcquired=!1,this.pendingInLock=[],this.broadcastChannel=null,this.logger=console.log;const l=Object.assign(Object.assign({},O3),t);if(this.storageKey=l.storageKey,this.instanceID=(r=Lc.nextInstanceID[this.storageKey])!==null&&r!==void 0?r:0,Lc.nextInstanceID[this.storageKey]=this.instanceID+1,this.logDebugMessages=!!l.debug,typeof l.debug=="function"&&(this.logger=l.debug),this.instanceID>0&&ir()){const o=`${this._logPrefix()} Multiple GoTrueClient instances detected in the same browser context. It is not an error, but this should be avoided as it may produce undefined behavior when used concurrently under the same storage key.`;console.warn(o),this.logDebugMessages&&console.trace(o)}if(this.persistSession=l.persistSession,this.autoRefreshToken=l.autoRefreshToken,this.admin=new l3({url:l.url,headers:l.headers,fetch:l.fetch}),this.url=l.url,this.headers=l.headers,this.fetch=XS(l.fetch),this.lock=l.lock||_w,this.detectSessionInUrl=l.detectSessionInUrl,this.flowType=l.flowType,this.hasCustomAuthorizationHeader=l.hasCustomAuthorizationHeader,this.throwOnError=l.throwOnError,l.lock?this.lock=l.lock:this.persistSession&&ir()&&(!((i=globalThis?.navigator)===null||i===void 0)&&i.locks)?this.lock=c3:this.lock=_w,this.jwks||(this.jwks={keys:[]},this.jwks_cached_at=Number.MIN_SAFE_INTEGER),this.mfa={verify:this._verify.bind(this),enroll:this._enroll.bind(this),unenroll:this._unenroll.bind(this),challenge:this._challenge.bind(this),listFactors:this._listFactors.bind(this),challengeAndVerify:this._challengeAndVerify.bind(this),getAuthenticatorAssuranceLevel:this._getAuthenticatorAssuranceLevel.bind(this),webauthn:new A3(this)},this.oauth={getAuthorizationDetails:this._getAuthorizationDetails.bind(this),approveAuthorization:this._approveAuthorization.bind(this),denyAuthorization:this._denyAuthorization.bind(this),listGrants:this._listOAuthGrants.bind(this),revokeGrant:this._revokeOAuthGrant.bind(this)},this.persistSession?(l.storage?this.storage=l.storage:VS()?this.storage=globalThis.localStorage:(this.memoryStorage={},this.storage=xw(this.memoryStorage)),l.userStorage&&(this.userStorage=l.userStorage)):(this.memoryStorage={},this.storage=xw(this.memoryStorage)),ir()&&globalThis.BroadcastChannel&&this.persistSession&&this.storageKey){try{this.broadcastChannel=new globalThis.BroadcastChannel(this.storageKey)}catch(o){console.error("Failed to create a new BroadcastChannel, multi-tab state changes will not be available",o)}(n=this.broadcastChannel)===null||n===void 0||n.addEventListener("message",async o=>{this._debug("received broadcast notification from other tab or client",o),await this._notifyAllSubscribers(o.data.event,o.data.session,!1)})}this.initialize()}isThrowOnErrorEnabled(){return this.throwOnError}_returnResult(t){if(this.throwOnError&&t&&t.error)throw t.error;return t}_logPrefix(){return`GoTrueClient@${this.storageKey}:${this.instanceID} (${WS}) ${new Date().toISOString()}`}_debug(...t){return this.logDebugMessages&&this.logger(this._logPrefix(),...t),this}async initialize(){return this.initializePromise?await this.initializePromise:(this.initializePromise=(async()=>await this._acquireLock(-1,async()=>await this._initialize()))(),await this.initializePromise)}async _initialize(){var t;try{let r={},i="none";if(ir()&&(r=UN(window.location.href),this._isImplicitGrantCallback(r)?i="implicit":await this._isPKCECallback(r)&&(i="pkce")),ir()&&this.detectSessionInUrl&&i!=="none"){const{data:n,error:l}=await this._getSessionFromURL(r,i);if(l){if(this._debug("#_initialize()","error detecting session from URL",l),MN(l)){const h=(t=l.details)===null||t===void 0?void 0:t.code;if(h==="identity_already_exists"||h==="identity_not_found"||h==="single_identity_not_deletable")return{error:l}}return await this._removeSession(),{error:l}}const{session:o,redirectType:u}=n;return this._debug("#_initialize()","detected session in URL",o,"redirect type",u),await this._saveSession(o),setTimeout(async()=>{u==="recovery"?await this._notifyAllSubscribers("PASSWORD_RECOVERY",o):await this._notifyAllSubscribers("SIGNED_IN",o)},0),{error:null}}return await this._recoverAndRefresh(),{error:null}}catch(r){return Tt(r)?this._returnResult({error:r}):this._returnResult({error:new Vn("Unexpected error during initialization",r)})}finally{await this._handleVisibilityChange(),this._debug("#_initialize()","end")}}async signInAnonymously(t){var r,i,n;try{const l=await Nt(this.fetch,"POST",`${this.url}/signup`,{headers:this.headers,body:{data:(i=(r=t?.options)===null||r===void 0?void 0:r.data)!==null&&i!==void 0?i:{},gotrue_meta_security:{captcha_token:(n=t?.options)===null||n===void 0?void 0:n.captchaToken}},xform:xi}),{data:o,error:u}=l;if(u||!o)return this._returnResult({data:{user:null,session:null},error:u});const h=o.session,d=o.user;return o.session&&(await this._saveSession(o.session),await this._notifyAllSubscribers("SIGNED_IN",h)),this._returnResult({data:{user:d,session:h},error:null})}catch(l){if(Tt(l))return this._returnResult({data:{user:null,session:null},error:l});throw l}}async signUp(t){var r,i,n;try{let l;if("email"in t){const{email:p,password:g,options:y}=t;let x=null,v=null;this.flowType==="pkce"&&([x,v]=await el(this.storage,this.storageKey)),l=await Nt(this.fetch,"POST",`${this.url}/signup`,{headers:this.headers,redirectTo:y?.emailRedirectTo,body:{email:p,password:g,data:(r=y?.data)!==null&&r!==void 0?r:{},gotrue_meta_security:{captcha_token:y?.captchaToken},code_challenge:x,code_challenge_method:v},xform:xi})}else if("phone"in t){const{phone:p,password:g,options:y}=t;l=await Nt(this.fetch,"POST",`${this.url}/signup`,{headers:this.headers,body:{phone:p,password:g,data:(i=y?.data)!==null&&i!==void 0?i:{},channel:(n=y?.channel)!==null&&n!==void 0?n:"sms",gotrue_meta_security:{captcha_token:y?.captchaToken}},xform:xi})}else throw new Eh("You must provide either an email or phone number and a password");const{data:o,error:u}=l;if(u||!o)return await er(this.storage,`${this.storageKey}-code-verifier`),this._returnResult({data:{user:null,session:null},error:u});const h=o.session,d=o.user;return o.session&&(await this._saveSession(o.session),await this._notifyAllSubscribers("SIGNED_IN",h)),this._returnResult({data:{user:d,session:h},error:null})}catch(l){if(await er(this.storage,`${this.storageKey}-code-verifier`),Tt(l))return this._returnResult({data:{user:null,session:null},error:l});throw l}}async signInWithPassword(t){try{let r;if("email"in t){const{email:l,password:o,options:u}=t;r=await Nt(this.fetch,"POST",`${this.url}/token?grant_type=password`,{headers:this.headers,body:{email:l,password:o,gotrue_meta_security:{captcha_token:u?.captchaToken}},xform:yw})}else if("phone"in t){const{phone:l,password:o,options:u}=t;r=await Nt(this.fetch,"POST",`${this.url}/token?grant_type=password`,{headers:this.headers,body:{phone:l,password:o,gotrue_meta_security:{captcha_token:u?.captchaToken}},xform:yw})}else throw new Eh("You must provide either an email or phone number and a password");const{data:i,error:n}=r;if(n)return this._returnResult({data:{user:null,session:null},error:n});if(!i||!i.session||!i.user){const l=new tl;return this._returnResult({data:{user:null,session:null},error:l})}return i.session&&(await this._saveSession(i.session),await this._notifyAllSubscribers("SIGNED_IN",i.session)),this._returnResult({data:Object.assign({user:i.user,session:i.session},i.weak_password?{weakPassword:i.weak_password}:null),error:n})}catch(r){if(Tt(r))return this._returnResult({data:{user:null,session:null},error:r});throw r}}async signInWithOAuth(t){var r,i,n,l;return await this._handleProviderSignIn(t.provider,{redirectTo:(r=t.options)===null||r===void 0?void 0:r.redirectTo,scopes:(i=t.options)===null||i===void 0?void 0:i.scopes,queryParams:(n=t.options)===null||n===void 0?void 0:n.queryParams,skipBrowserRedirect:(l=t.options)===null||l===void 0?void 0:l.skipBrowserRedirect})}async exchangeCodeForSession(t){return await this.initializePromise,this._acquireLock(-1,async()=>this._exchangeCodeForSession(t))}async signInWithWeb3(t){const{chain:r}=t;switch(r){case"ethereum":return await this.signInWithEthereum(t);case"solana":return await this.signInWithSolana(t);default:throw new Error(`@supabase/auth-js: Unsupported chain "${r}"`)}}async signInWithEthereum(t){var r,i,n,l,o,u,h,d,p,g,y;let x,v;if("message"in t)x=t.message,v=t.signature;else{const{chain:_,wallet:S,statement:T,options:E}=t;let O;if(ir())if(typeof S=="object")O=S;else{const et=window;if("ethereum"in et&&typeof et.ethereum=="object"&&"request"in et.ethereum&&typeof et.ethereum.request=="function")O=et.ethereum;else throw new Error("@supabase/auth-js: No compatible Ethereum wallet interface on the window object (window.ethereum) detected. Make sure the user already has a wallet installed and connected for this app. Prefer passing the wallet interface object directly to signInWithWeb3({ chain: 'ethereum', wallet: resolvedUserWallet }) instead.")}else{if(typeof S!="object"||!E?.url)throw new Error("@supabase/auth-js: Both wallet and url must be specified in non-browser environments.");O=S}const M=new URL((r=E?.url)!==null&&r!==void 0?r:window.location.href),N=await O.request({method:"eth_requestAccounts"}).then(et=>et).catch(()=>{throw new Error("@supabase/auth-js: Wallet method eth_requestAccounts is missing or invalid")});if(!N||N.length===0)throw new Error("@supabase/auth-js: No accounts available. Please ensure the wallet is connected.");const q=QS(N[0]);let z=(i=E?.signInWithEthereum)===null||i===void 0?void 0:i.chainId;if(!z){const et=await O.request({method:"eth_chainId"});z=h3(et)}const Q={domain:M.host,address:q,statement:T,uri:M.href,version:"1",chainId:z,nonce:(n=E?.signInWithEthereum)===null||n===void 0?void 0:n.nonce,issuedAt:(o=(l=E?.signInWithEthereum)===null||l===void 0?void 0:l.issuedAt)!==null&&o!==void 0?o:new Date,expirationTime:(u=E?.signInWithEthereum)===null||u===void 0?void 0:u.expirationTime,notBefore:(h=E?.signInWithEthereum)===null||h===void 0?void 0:h.notBefore,requestId:(d=E?.signInWithEthereum)===null||d===void 0?void 0:d.requestId,resources:(p=E?.signInWithEthereum)===null||p===void 0?void 0:p.resources};x=f3(Q),v=await O.request({method:"personal_sign",params:[d3(x),q]})}try{const{data:_,error:S}=await Nt(this.fetch,"POST",`${this.url}/token?grant_type=web3`,{headers:this.headers,body:Object.assign({chain:"ethereum",message:x,signature:v},!((g=t.options)===null||g===void 0)&&g.captchaToken?{gotrue_meta_security:{captcha_token:(y=t.options)===null||y===void 0?void 0:y.captchaToken}}:null),xform:xi});if(S)throw S;if(!_||!_.session||!_.user){const T=new tl;return this._returnResult({data:{user:null,session:null},error:T})}return _.session&&(await this._saveSession(_.session),await this._notifyAllSubscribers("SIGNED_IN",_.session)),this._returnResult({data:Object.assign({},_),error:S})}catch(_){if(Tt(_))return this._returnResult({data:{user:null,session:null},error:_});throw _}}async signInWithSolana(t){var r,i,n,l,o,u,h,d,p,g,y,x;let v,_;if("message"in t)v=t.message,_=t.signature;else{const{chain:S,wallet:T,statement:E,options:O}=t;let M;if(ir())if(typeof T=="object")M=T;else{const q=window;if("solana"in q&&typeof q.solana=="object"&&("signIn"in q.solana&&typeof q.solana.signIn=="function"||"signMessage"in q.solana&&typeof q.solana.signMessage=="function"))M=q.solana;else throw new Error("@supabase/auth-js: No compatible Solana wallet interface on the window object (window.solana) detected. Make sure the user already has a wallet installed and connected for this app. Prefer passing the wallet interface object directly to signInWithWeb3({ chain: 'solana', wallet: resolvedUserWallet }) instead.")}else{if(typeof T!="object"||!O?.url)throw new Error("@supabase/auth-js: Both wallet and url must be specified in non-browser environments.");M=T}const N=new URL((r=O?.url)!==null&&r!==void 0?r:window.location.href);if("signIn"in M&&M.signIn){const q=await M.signIn(Object.assign(Object.assign(Object.assign({issuedAt:new Date().toISOString()},O?.signInWithSolana),{version:"1",domain:N.host,uri:N.href}),E?{statement:E}:null));let z;if(Array.isArray(q)&&q[0]&&typeof q[0]=="object")z=q[0];else if(q&&typeof q=="object"&&"signedMessage"in q&&"signature"in q)z=q;else throw new Error("@supabase/auth-js: Wallet method signIn() returned unrecognized value");if("signedMessage"in z&&"signature"in z&&(typeof z.signedMessage=="string"||z.signedMessage instanceof Uint8Array)&&z.signature instanceof Uint8Array)v=typeof z.signedMessage=="string"?z.signedMessage:new TextDecoder().decode(z.signedMessage),_=z.signature;else throw new Error("@supabase/auth-js: Wallet method signIn() API returned object without signedMessage and signature fields")}else{if(!("signMessage"in M)||typeof M.signMessage!="function"||!("publicKey"in M)||typeof M!="object"||!M.publicKey||!("toBase58"in M.publicKey)||typeof M.publicKey.toBase58!="function")throw new Error("@supabase/auth-js: Wallet does not have a compatible signMessage() and publicKey.toBase58() API");v=[`${N.host} wants you to sign in with your Solana account:`,M.publicKey.toBase58(),...E?["",E,""]:[""],"Version: 1",`URI: ${N.href}`,`Issued At: ${(n=(i=O?.signInWithSolana)===null||i===void 0?void 0:i.issuedAt)!==null&&n!==void 0?n:new Date().toISOString()}`,...!((l=O?.signInWithSolana)===null||l===void 0)&&l.notBefore?[`Not Before: ${O.signInWithSolana.notBefore}`]:[],...!((o=O?.signInWithSolana)===null||o===void 0)&&o.expirationTime?[`Expiration Time: ${O.signInWithSolana.expirationTime}`]:[],...!((u=O?.signInWithSolana)===null||u===void 0)&&u.chainId?[`Chain ID: ${O.signInWithSolana.chainId}`]:[],...!((h=O?.signInWithSolana)===null||h===void 0)&&h.nonce?[`Nonce: ${O.signInWithSolana.nonce}`]:[],...!((d=O?.signInWithSolana)===null||d===void 0)&&d.requestId?[`Request ID: ${O.signInWithSolana.requestId}`]:[],...!((g=(p=O?.signInWithSolana)===null||p===void 0?void 0:p.resources)===null||g===void 0)&&g.length?["Resources",...O.signInWithSolana.resources.map(z=>`- ${z}`)]:[]].join(`
`);const q=await M.signMessage(new TextEncoder().encode(v),"utf8");if(!q||!(q instanceof Uint8Array))throw new Error("@supabase/auth-js: Wallet signMessage() API returned an recognized value");_=q}}try{const{data:S,error:T}=await Nt(this.fetch,"POST",`${this.url}/token?grant_type=web3`,{headers:this.headers,body:Object.assign({chain:"solana",message:v,signature:Xn(_)},!((y=t.options)===null||y===void 0)&&y.captchaToken?{gotrue_meta_security:{captcha_token:(x=t.options)===null||x===void 0?void 0:x.captchaToken}}:null),xform:xi});if(T)throw T;if(!S||!S.session||!S.user){const E=new tl;return this._returnResult({data:{user:null,session:null},error:E})}return S.session&&(await this._saveSession(S.session),await this._notifyAllSubscribers("SIGNED_IN",S.session)),this._returnResult({data:Object.assign({},S),error:T})}catch(S){if(Tt(S))return this._returnResult({data:{user:null,session:null},error:S});throw S}}async _exchangeCodeForSession(t){const r=await Pn(this.storage,`${this.storageKey}-code-verifier`),[i,n]=(r??"").split("/");try{if(!i&&this.flowType==="pkce")throw new BN;const{data:l,error:o}=await Nt(this.fetch,"POST",`${this.url}/token?grant_type=pkce`,{headers:this.headers,body:{auth_code:t,code_verifier:i},xform:xi});if(await er(this.storage,`${this.storageKey}-code-verifier`),o)throw o;if(!l||!l.session||!l.user){const u=new tl;return this._returnResult({data:{user:null,session:null,redirectType:null},error:u})}return l.session&&(await this._saveSession(l.session),await this._notifyAllSubscribers("SIGNED_IN",l.session)),this._returnResult({data:Object.assign(Object.assign({},l),{redirectType:n??null}),error:o})}catch(l){if(await er(this.storage,`${this.storageKey}-code-verifier`),Tt(l))return this._returnResult({data:{user:null,session:null,redirectType:null},error:l});throw l}}async signInWithIdToken(t){try{const{options:r,provider:i,token:n,access_token:l,nonce:o}=t,u=await Nt(this.fetch,"POST",`${this.url}/token?grant_type=id_token`,{headers:this.headers,body:{provider:i,id_token:n,access_token:l,nonce:o,gotrue_meta_security:{captcha_token:r?.captchaToken}},xform:xi}),{data:h,error:d}=u;if(d)return this._returnResult({data:{user:null,session:null},error:d});if(!h||!h.session||!h.user){const p=new tl;return this._returnResult({data:{user:null,session:null},error:p})}return h.session&&(await this._saveSession(h.session),await this._notifyAllSubscribers("SIGNED_IN",h.session)),this._returnResult({data:h,error:d})}catch(r){if(Tt(r))return this._returnResult({data:{user:null,session:null},error:r});throw r}}async signInWithOtp(t){var r,i,n,l,o;try{if("email"in t){const{email:u,options:h}=t;let d=null,p=null;this.flowType==="pkce"&&([d,p]=await el(this.storage,this.storageKey));const{error:g}=await Nt(this.fetch,"POST",`${this.url}/otp`,{headers:this.headers,body:{email:u,data:(r=h?.data)!==null&&r!==void 0?r:{},create_user:(i=h?.shouldCreateUser)!==null&&i!==void 0?i:!0,gotrue_meta_security:{captcha_token:h?.captchaToken},code_challenge:d,code_challenge_method:p},redirectTo:h?.emailRedirectTo});return this._returnResult({data:{user:null,session:null},error:g})}if("phone"in t){const{phone:u,options:h}=t,{data:d,error:p}=await Nt(this.fetch,"POST",`${this.url}/otp`,{headers:this.headers,body:{phone:u,data:(n=h?.data)!==null&&n!==void 0?n:{},create_user:(l=h?.shouldCreateUser)!==null&&l!==void 0?l:!0,gotrue_meta_security:{captcha_token:h?.captchaToken},channel:(o=h?.channel)!==null&&o!==void 0?o:"sms"}});return this._returnResult({data:{user:null,session:null,messageId:d?.message_id},error:p})}throw new Eh("You must provide either an email or phone number.")}catch(u){if(await er(this.storage,`${this.storageKey}-code-verifier`),Tt(u))return this._returnResult({data:{user:null,session:null},error:u});throw u}}async verifyOtp(t){var r,i;try{let n,l;"options"in t&&(n=(r=t.options)===null||r===void 0?void 0:r.redirectTo,l=(i=t.options)===null||i===void 0?void 0:i.captchaToken);const{data:o,error:u}=await Nt(this.fetch,"POST",`${this.url}/verify`,{headers:this.headers,body:Object.assign(Object.assign({},t),{gotrue_meta_security:{captcha_token:l}}),redirectTo:n,xform:xi});if(u)throw u;if(!o)throw new Error("An error occurred on token verification.");const h=o.session,d=o.user;return h?.access_token&&(await this._saveSession(h),await this._notifyAllSubscribers(t.type=="recovery"?"PASSWORD_RECOVERY":"SIGNED_IN",h)),this._returnResult({data:{user:d,session:h},error:null})}catch(n){if(Tt(n))return this._returnResult({data:{user:null,session:null},error:n});throw n}}async signInWithSSO(t){var r,i,n,l,o;try{let u=null,h=null;this.flowType==="pkce"&&([u,h]=await el(this.storage,this.storageKey));const d=await Nt(this.fetch,"POST",`${this.url}/sso`,{body:Object.assign(Object.assign(Object.assign(Object.assign(Object.assign({},"providerId"in t?{provider_id:t.providerId}:null),"domain"in t?{domain:t.domain}:null),{redirect_to:(i=(r=t.options)===null||r===void 0?void 0:r.redirectTo)!==null&&i!==void 0?i:void 0}),!((n=t?.options)===null||n===void 0)&&n.captchaToken?{gotrue_meta_security:{captcha_token:t.options.captchaToken}}:null),{skip_http_redirect:!0,code_challenge:u,code_challenge_method:h}),headers:this.headers,xform:a3});return!((l=d.data)===null||l===void 0)&&l.url&&ir()&&!(!((o=t.options)===null||o===void 0)&&o.skipBrowserRedirect)&&window.location.assign(d.data.url),this._returnResult(d)}catch(u){if(await er(this.storage,`${this.storageKey}-code-verifier`),Tt(u))return this._returnResult({data:null,error:u});throw u}}async reauthenticate(){return await this.initializePromise,await this._acquireLock(-1,async()=>await this._reauthenticate())}async _reauthenticate(){try{return await this._useSession(async t=>{const{data:{session:r},error:i}=t;if(i)throw i;if(!r)throw new Hr;const{error:n}=await Nt(this.fetch,"GET",`${this.url}/reauthenticate`,{headers:this.headers,jwt:r.access_token});return this._returnResult({data:{user:null,session:null},error:n})})}catch(t){if(Tt(t))return this._returnResult({data:{user:null,session:null},error:t});throw t}}async resend(t){try{const r=`${this.url}/resend`;if("email"in t){const{email:i,type:n,options:l}=t,{error:o}=await Nt(this.fetch,"POST",r,{headers:this.headers,body:{email:i,type:n,gotrue_meta_security:{captcha_token:l?.captchaToken}},redirectTo:l?.emailRedirectTo});return this._returnResult({data:{user:null,session:null},error:o})}else if("phone"in t){const{phone:i,type:n,options:l}=t,{data:o,error:u}=await Nt(this.fetch,"POST",r,{headers:this.headers,body:{phone:i,type:n,gotrue_meta_security:{captcha_token:l?.captchaToken}}});return this._returnResult({data:{user:null,session:null,messageId:o?.message_id},error:u})}throw new Eh("You must provide either an email or phone number and a type")}catch(r){if(Tt(r))return this._returnResult({data:{user:null,session:null},error:r});throw r}}async getSession(){return await this.initializePromise,await this._acquireLock(-1,async()=>this._useSession(async r=>r))}async _acquireLock(t,r){this._debug("#_acquireLock","begin",t);try{if(this.lockAcquired){const i=this.pendingInLock.length?this.pendingInLock[this.pendingInLock.length-1]:Promise.resolve(),n=(async()=>(await i,await r()))();return this.pendingInLock.push((async()=>{try{await n}catch{}})()),n}return await this.lock(`lock:${this.storageKey}`,t,async()=>{this._debug("#_acquireLock","lock acquired for storage key",this.storageKey);try{this.lockAcquired=!0;const i=r();for(this.pendingInLock.push((async()=>{try{await i}catch{}})()),await i;this.pendingInLock.length;){const n=[...this.pendingInLock];await Promise.all(n),this.pendingInLock.splice(0,n.length)}return await i}finally{this._debug("#_acquireLock","lock released for storage key",this.storageKey),this.lockAcquired=!1}})}finally{this._debug("#_acquireLock","end")}}async _useSession(t){this._debug("#_useSession","begin");try{const r=await this.__loadSession();return await t(r)}finally{this._debug("#_useSession","end")}}async __loadSession(){this._debug("#__loadSession()","begin"),this.lockAcquired||this._debug("#__loadSession()","used outside of an acquired lock!",new Error().stack);try{let t=null;const r=await Pn(this.storage,this.storageKey);if(this._debug("#getSession()","session from storage",r),r!==null&&(this._isValidSession(r)?t=r:(this._debug("#getSession()","session from storage is not valid"),await this._removeSession())),!t)return{data:{session:null},error:null};const i=t.expires_at?t.expires_at*1e3-Date.now()<Yg:!1;if(this._debug("#__loadSession()",`session has${i?"":" not"} expired`,"expires_at",t.expires_at),!i){if(this.userStorage){const o=await Pn(this.userStorage,this.storageKey+"-user");o?.user?t.user=o.user:t.user=Kg()}if(this.storage.isServer&&t.user&&!t.user.__isUserNotAvailableProxy){const o={value:this.suppressGetSessionWarning};t.user=t3(t.user,o),o.value&&(this.suppressGetSessionWarning=!0)}return{data:{session:t},error:null}}const{data:n,error:l}=await this._callRefreshToken(t.refresh_token);return l?this._returnResult({data:{session:null},error:l}):this._returnResult({data:{session:n},error:null})}finally{this._debug("#__loadSession()","end")}}async getUser(t){if(t)return await this._getUser(t);await this.initializePromise;const r=await this._acquireLock(-1,async()=>await this._getUser());return r.data.user&&(this.suppressGetSessionWarning=!0),r}async _getUser(t){try{return t?await Nt(this.fetch,"GET",`${this.url}/user`,{headers:this.headers,jwt:t,xform:cn}):await this._useSession(async r=>{var i,n,l;const{data:o,error:u}=r;if(u)throw u;return!(!((i=o.session)===null||i===void 0)&&i.access_token)&&!this.hasCustomAuthorizationHeader?{data:{user:null},error:new Hr}:await Nt(this.fetch,"GET",`${this.url}/user`,{headers:this.headers,jwt:(l=(n=o.session)===null||n===void 0?void 0:n.access_token)!==null&&l!==void 0?l:void 0,xform:cn})})}catch(r){if(Tt(r))return LN(r)&&(await this._removeSession(),await er(this.storage,`${this.storageKey}-code-verifier`)),this._returnResult({data:{user:null},error:r});throw r}}async updateUser(t,r={}){return await this.initializePromise,await this._acquireLock(-1,async()=>await this._updateUser(t,r))}async _updateUser(t,r={}){try{return await this._useSession(async i=>{const{data:n,error:l}=i;if(l)throw l;if(!n.session)throw new Hr;const o=n.session;let u=null,h=null;this.flowType==="pkce"&&t.email!=null&&([u,h]=await el(this.storage,this.storageKey));const{data:d,error:p}=await Nt(this.fetch,"PUT",`${this.url}/user`,{headers:this.headers,redirectTo:r?.emailRedirectTo,body:Object.assign(Object.assign({},t),{code_challenge:u,code_challenge_method:h}),jwt:o.access_token,xform:cn});if(p)throw p;return o.user=d.user,await this._saveSession(o),await this._notifyAllSubscribers("USER_UPDATED",o),this._returnResult({data:{user:o.user},error:null})})}catch(i){if(await er(this.storage,`${this.storageKey}-code-verifier`),Tt(i))return this._returnResult({data:{user:null},error:i});throw i}}async setSession(t){return await this.initializePromise,await this._acquireLock(-1,async()=>await this._setSession(t))}async _setSession(t){try{if(!t.access_token||!t.refresh_token)throw new Hr;const r=Date.now()/1e3;let i=r,n=!0,l=null;const{payload:o}=Xg(t.access_token);if(o.exp&&(i=o.exp,n=i<=r),n){const{data:u,error:h}=await this._callRefreshToken(t.refresh_token);if(h)return this._returnResult({data:{user:null,session:null},error:h});if(!u)return{data:{user:null,session:null},error:null};l=u}else{const{data:u,error:h}=await this._getUser(t.access_token);if(h)throw h;l={access_token:t.access_token,refresh_token:t.refresh_token,user:u.user,token_type:"bearer",expires_in:i-r,expires_at:i},await this._saveSession(l),await this._notifyAllSubscribers("SIGNED_IN",l)}return this._returnResult({data:{user:l.user,session:l},error:null})}catch(r){if(Tt(r))return this._returnResult({data:{session:null,user:null},error:r});throw r}}async refreshSession(t){return await this.initializePromise,await this._acquireLock(-1,async()=>await this._refreshSession(t))}async _refreshSession(t){try{return await this._useSession(async r=>{var i;if(!t){const{data:o,error:u}=r;if(u)throw u;t=(i=o.session)!==null&&i!==void 0?i:void 0}if(!t?.refresh_token)throw new Hr;const{data:n,error:l}=await this._callRefreshToken(t.refresh_token);return l?this._returnResult({data:{user:null,session:null},error:l}):n?this._returnResult({data:{user:n.user,session:n},error:null}):this._returnResult({data:{user:null,session:null},error:null})})}catch(r){if(Tt(r))return this._returnResult({data:{user:null,session:null},error:r});throw r}}async _getSessionFromURL(t,r){try{if(!ir())throw new Ah("No browser detected.");if(t.error||t.error_description||t.error_code)throw new Ah(t.error_description||"Error in URL with unspecified error_description",{error:t.error||"unspecified_error",code:t.error_code||"unspecified_code"});switch(r){case"implicit":if(this.flowType==="pkce")throw new uw("Not a valid PKCE flow url.");break;case"pkce":if(this.flowType==="implicit")throw new Ah("Not a valid implicit grant flow url.");break;default:}if(r==="pkce"){if(this._debug("#_initialize()","begin","is PKCE flow",!0),!t.code)throw new uw("No code detected.");const{data:E,error:O}=await this._exchangeCodeForSession(t.code);if(O)throw O;const M=new URL(window.location.href);return M.searchParams.delete("code"),window.history.replaceState(window.history.state,"",M.toString()),{data:{session:E.session,redirectType:null},error:null}}const{provider_token:i,provider_refresh_token:n,access_token:l,refresh_token:o,expires_in:u,expires_at:h,token_type:d}=t;if(!l||!u||!o||!d)throw new Ah("No session defined in URL");const p=Math.round(Date.now()/1e3),g=parseInt(u);let y=p+g;h&&(y=parseInt(h));const x=y-p;x*1e3<=ol&&console.warn(`@supabase/gotrue-js: Session as retrieved from URL expires in ${x}s, should have been closer to ${g}s`);const v=y-g;p-v>=120?console.warn("@supabase/gotrue-js: Session as retrieved from URL was issued over 120s ago, URL could be stale",v,y,p):p-v<0&&console.warn("@supabase/gotrue-js: Session as retrieved from URL was issued in the future? Check the device clock for skew",v,y,p);const{data:_,error:S}=await this._getUser(l);if(S)throw S;const T={provider_token:i,provider_refresh_token:n,access_token:l,expires_in:g,expires_at:y,refresh_token:o,token_type:d,user:_.user};return window.location.hash="",this._debug("#_getSessionFromURL()","clearing window.location.hash"),this._returnResult({data:{session:T,redirectType:t.type},error:null})}catch(i){if(Tt(i))return this._returnResult({data:{session:null,redirectType:null},error:i});throw i}}_isImplicitGrantCallback(t){return typeof this.detectSessionInUrl=="function"?this.detectSessionInUrl(new URL(window.location.href),t):!!(t.access_token||t.error_description)}async _isPKCECallback(t){const r=await Pn(this.storage,`${this.storageKey}-code-verifier`);return!!(t.code&&r)}async signOut(t={scope:"global"}){return await this.initializePromise,await this._acquireLock(-1,async()=>await this._signOut(t))}async _signOut({scope:t}={scope:"global"}){return await this._useSession(async r=>{var i;const{data:n,error:l}=r;if(l)return this._returnResult({error:l});const o=(i=n.session)===null||i===void 0?void 0:i.access_token;if(o){const{error:u}=await this.admin.signOut(o,t);if(u&&!(RN(u)&&(u.status===404||u.status===401||u.status===403)))return this._returnResult({error:u})}return t!=="others"&&(await this._removeSession(),await er(this.storage,`${this.storageKey}-code-verifier`)),this._returnResult({error:null})})}onAuthStateChange(t){const r=PN(),i={id:r,callback:t,unsubscribe:()=>{this._debug("#unsubscribe()","state change callback with id removed",r),this.stateChangeEmitters.delete(r)}};return this._debug("#onAuthStateChange()","registered callback with id",r),this.stateChangeEmitters.set(r,i),(async()=>(await this.initializePromise,await this._acquireLock(-1,async()=>{this._emitInitialSession(r)})))(),{data:{subscription:i}}}async _emitInitialSession(t){return await this._useSession(async r=>{var i,n;try{const{data:{session:l},error:o}=r;if(o)throw o;await((i=this.stateChangeEmitters.get(t))===null||i===void 0?void 0:i.callback("INITIAL_SESSION",l)),this._debug("INITIAL_SESSION","callback id",t,"session",l)}catch(l){await((n=this.stateChangeEmitters.get(t))===null||n===void 0?void 0:n.callback("INITIAL_SESSION",null)),this._debug("INITIAL_SESSION","callback id",t,"error",l),console.error(l)}})}async resetPasswordForEmail(t,r={}){let i=null,n=null;this.flowType==="pkce"&&([i,n]=await el(this.storage,this.storageKey,!0));try{return await Nt(this.fetch,"POST",`${this.url}/recover`,{body:{email:t,code_challenge:i,code_challenge_method:n,gotrue_meta_security:{captcha_token:r.captchaToken}},headers:this.headers,redirectTo:r.redirectTo})}catch(l){if(await er(this.storage,`${this.storageKey}-code-verifier`),Tt(l))return this._returnResult({data:null,error:l});throw l}}async getUserIdentities(){var t;try{const{data:r,error:i}=await this.getUser();if(i)throw i;return this._returnResult({data:{identities:(t=r.user.identities)!==null&&t!==void 0?t:[]},error:null})}catch(r){if(Tt(r))return this._returnResult({data:null,error:r});throw r}}async linkIdentity(t){return"token"in t?this.linkIdentityIdToken(t):this.linkIdentityOAuth(t)}async linkIdentityOAuth(t){var r;try{const{data:i,error:n}=await this._useSession(async l=>{var o,u,h,d,p;const{data:g,error:y}=l;if(y)throw y;const x=await this._getUrlForProvider(`${this.url}/user/identities/authorize`,t.provider,{redirectTo:(o=t.options)===null||o===void 0?void 0:o.redirectTo,scopes:(u=t.options)===null||u===void 0?void 0:u.scopes,queryParams:(h=t.options)===null||h===void 0?void 0:h.queryParams,skipBrowserRedirect:!0});return await Nt(this.fetch,"GET",x,{headers:this.headers,jwt:(p=(d=g.session)===null||d===void 0?void 0:d.access_token)!==null&&p!==void 0?p:void 0})});if(n)throw n;return ir()&&!(!((r=t.options)===null||r===void 0)&&r.skipBrowserRedirect)&&window.location.assign(i?.url),this._returnResult({data:{provider:t.provider,url:i?.url},error:null})}catch(i){if(Tt(i))return this._returnResult({data:{provider:t.provider,url:null},error:i});throw i}}async linkIdentityIdToken(t){return await this._useSession(async r=>{var i;try{const{error:n,data:{session:l}}=r;if(n)throw n;const{options:o,provider:u,token:h,access_token:d,nonce:p}=t,g=await Nt(this.fetch,"POST",`${this.url}/token?grant_type=id_token`,{headers:this.headers,jwt:(i=l?.access_token)!==null&&i!==void 0?i:void 0,body:{provider:u,id_token:h,access_token:d,nonce:p,link_identity:!0,gotrue_meta_security:{captcha_token:o?.captchaToken}},xform:xi}),{data:y,error:x}=g;return x?this._returnResult({data:{user:null,session:null},error:x}):!y||!y.session||!y.user?this._returnResult({data:{user:null,session:null},error:new tl}):(y.session&&(await this._saveSession(y.session),await this._notifyAllSubscribers("USER_UPDATED",y.session)),this._returnResult({data:y,error:x}))}catch(n){if(await er(this.storage,`${this.storageKey}-code-verifier`),Tt(n))return this._returnResult({data:{user:null,session:null},error:n});throw n}})}async unlinkIdentity(t){try{return await this._useSession(async r=>{var i,n;const{data:l,error:o}=r;if(o)throw o;return await Nt(this.fetch,"DELETE",`${this.url}/user/identities/${t.identity_id}`,{headers:this.headers,jwt:(n=(i=l.session)===null||i===void 0?void 0:i.access_token)!==null&&n!==void 0?n:void 0})})}catch(r){if(Tt(r))return this._returnResult({data:null,error:r});throw r}}async _refreshAccessToken(t){const r=`#_refreshAccessToken(${t.substring(0,5)}...)`;this._debug(r,"begin");try{const i=Date.now();return await HN(async n=>(n>0&&await qN(200*Math.pow(2,n-1)),this._debug(r,"refreshing attempt",n),await Nt(this.fetch,"POST",`${this.url}/token?grant_type=refresh_token`,{body:{refresh_token:t},headers:this.headers,xform:xi})),(n,l)=>{const o=200*Math.pow(2,n);return l&&Vg(l)&&Date.now()+o-i<ol})}catch(i){if(this._debug(r,"error",i),Tt(i))return this._returnResult({data:{session:null,user:null},error:i});throw i}finally{this._debug(r,"end")}}_isValidSession(t){return typeof t=="object"&&t!==null&&"access_token"in t&&"refresh_token"in t&&"expires_at"in t}async _handleProviderSignIn(t,r){const i=await this._getUrlForProvider(`${this.url}/authorize`,t,{redirectTo:r.redirectTo,scopes:r.scopes,queryParams:r.queryParams});return this._debug("#_handleProviderSignIn()","provider",t,"options",r,"url",i),ir()&&!r.skipBrowserRedirect&&window.location.assign(i),{data:{provider:t,url:i},error:null}}async _recoverAndRefresh(){var t,r;const i="#_recoverAndRefresh()";this._debug(i,"begin");try{const n=await Pn(this.storage,this.storageKey);if(n&&this.userStorage){let o=await Pn(this.userStorage,this.storageKey+"-user");!this.storage.isServer&&Object.is(this.storage,this.userStorage)&&!o&&(o={user:n.user},await cl(this.userStorage,this.storageKey+"-user",o)),n.user=(t=o?.user)!==null&&t!==void 0?t:Kg()}else if(n&&!n.user&&!n.user){const o=await Pn(this.storage,this.storageKey+"-user");o&&o?.user?(n.user=o.user,await er(this.storage,this.storageKey+"-user"),await cl(this.storage,this.storageKey,n)):n.user=Kg()}if(this._debug(i,"session from storage",n),!this._isValidSession(n)){this._debug(i,"session is not valid"),n!==null&&await this._removeSession();return}const l=((r=n.expires_at)!==null&&r!==void 0?r:1/0)*1e3-Date.now()<Yg;if(this._debug(i,`session has${l?"":" not"} expired with margin of ${Yg}s`),l){if(this.autoRefreshToken&&n.refresh_token){const{error:o}=await this._callRefreshToken(n.refresh_token);o&&(console.error(o),Vg(o)||(this._debug(i,"refresh failed with a non-retryable error, removing the session",o),await this._removeSession()))}}else if(n.user&&n.user.__isUserNotAvailableProxy===!0)try{const{data:o,error:u}=await this._getUser(n.access_token);!u&&o?.user?(n.user=o.user,await this._saveSession(n),await this._notifyAllSubscribers("SIGNED_IN",n)):this._debug(i,"could not get user data, skipping SIGNED_IN notification")}catch(o){console.error("Error getting user data:",o),this._debug(i,"error getting user data, skipping SIGNED_IN notification",o)}else await this._notifyAllSubscribers("SIGNED_IN",n)}catch(n){this._debug(i,"error",n),console.error(n);return}finally{this._debug(i,"end")}}async _callRefreshToken(t){var r,i;if(!t)throw new Hr;if(this.refreshingDeferred)return this.refreshingDeferred.promise;const n=`#_callRefreshToken(${t.substring(0,5)}...)`;this._debug(n,"begin");try{this.refreshingDeferred=new Kd;const{data:l,error:o}=await this._refreshAccessToken(t);if(o)throw o;if(!l.session)throw new Hr;await this._saveSession(l.session),await this._notifyAllSubscribers("TOKEN_REFRESHED",l.session);const u={data:l.session,error:null};return this.refreshingDeferred.resolve(u),u}catch(l){if(this._debug(n,"error",l),Tt(l)){const o={data:null,error:l};return Vg(l)||await this._removeSession(),(r=this.refreshingDeferred)===null||r===void 0||r.resolve(o),o}throw(i=this.refreshingDeferred)===null||i===void 0||i.reject(l),l}finally{this.refreshingDeferred=null,this._debug(n,"end")}}async _notifyAllSubscribers(t,r,i=!0){const n=`#_notifyAllSubscribers(${t})`;this._debug(n,"begin",r,`broadcast = ${i}`);try{this.broadcastChannel&&i&&this.broadcastChannel.postMessage({event:t,session:r});const l=[],o=Array.from(this.stateChangeEmitters.values()).map(async u=>{try{await u.callback(t,r)}catch(h){l.push(h)}});if(await Promise.all(o),l.length>0){for(let u=0;u<l.length;u+=1)console.error(l[u]);throw l[0]}}finally{this._debug(n,"end")}}async _saveSession(t){this._debug("#_saveSession()",t),this.suppressGetSessionWarning=!0,await er(this.storage,`${this.storageKey}-code-verifier`);const r=Object.assign({},t),i=r.user&&r.user.__isUserNotAvailableProxy===!0;if(this.userStorage){!i&&r.user&&await cl(this.userStorage,this.storageKey+"-user",{user:r.user});const n=Object.assign({},r);delete n.user;const l=gw(n);await cl(this.storage,this.storageKey,l)}else{const n=gw(r);await cl(this.storage,this.storageKey,n)}}async _removeSession(){this._debug("#_removeSession()"),this.suppressGetSessionWarning=!1,await er(this.storage,this.storageKey),await er(this.storage,this.storageKey+"-code-verifier"),await er(this.storage,this.storageKey+"-user"),this.userStorage&&await er(this.userStorage,this.storageKey+"-user"),await this._notifyAllSubscribers("SIGNED_OUT",null)}_removeVisibilityChangedCallback(){this._debug("#_removeVisibilityChangedCallback()");const t=this.visibilityChangedCallback;this.visibilityChangedCallback=null;try{t&&ir()&&window?.removeEventListener&&window.removeEventListener("visibilitychange",t)}catch(r){console.error("removing visibilitychange callback failed",r)}}async _startAutoRefresh(){await this._stopAutoRefresh(),this._debug("#_startAutoRefresh()");const t=setInterval(()=>this._autoRefreshTokenTick(),ol);this.autoRefreshTicker=t,t&&typeof t=="object"&&typeof t.unref=="function"?t.unref():typeof Deno<"u"&&typeof Deno.unrefTimer=="function"&&Deno.unrefTimer(t),setTimeout(async()=>{await this.initializePromise,await this._autoRefreshTokenTick()},0)}async _stopAutoRefresh(){this._debug("#_stopAutoRefresh()");const t=this.autoRefreshTicker;this.autoRefreshTicker=null,t&&clearInterval(t)}async startAutoRefresh(){this._removeVisibilityChangedCallback(),await this._startAutoRefresh()}async stopAutoRefresh(){this._removeVisibilityChangedCallback(),await this._stopAutoRefresh()}async _autoRefreshTokenTick(){this._debug("#_autoRefreshTokenTick()","begin");try{await this._acquireLock(0,async()=>{try{const t=Date.now();try{return await this._useSession(async r=>{const{data:{session:i}}=r;if(!i||!i.refresh_token||!i.expires_at){this._debug("#_autoRefreshTokenTick()","no session");return}const n=Math.floor((i.expires_at*1e3-t)/ol);this._debug("#_autoRefreshTokenTick()",`access token expires in ${n} ticks, a tick lasts ${ol}ms, refresh threshold is ${Nm} ticks`),n<=Nm&&await this._callRefreshToken(i.refresh_token)})}catch(r){console.error("Auto refresh tick failed with error. This is likely a transient error.",r)}}finally{this._debug("#_autoRefreshTokenTick()","end")}})}catch(t){if(t.isAcquireTimeout||t instanceof KS)this._debug("auto refresh token tick lock not available");else throw t}}async _handleVisibilityChange(){if(this._debug("#_handleVisibilityChange()"),!ir()||!window?.addEventListener)return this.autoRefreshToken&&this.startAutoRefresh(),!1;try{this.visibilityChangedCallback=async()=>await this._onVisibilityChanged(!1),window?.addEventListener("visibilitychange",this.visibilityChangedCallback),await this._onVisibilityChanged(!0)}catch(t){console.error("_handleVisibilityChange",t)}}async _onVisibilityChanged(t){const r=`#_onVisibilityChanged(${t})`;this._debug(r,"visibilityState",document.visibilityState),document.visibilityState==="visible"?(this.autoRefreshToken&&this._startAutoRefresh(),t||(await this.initializePromise,await this._acquireLock(-1,async()=>{if(document.visibilityState!=="visible"){this._debug(r,"acquired the lock to recover the session, but the browser visibilityState is no longer visible, aborting");return}await this._recoverAndRefresh()}))):document.visibilityState==="hidden"&&this.autoRefreshToken&&this._stopAutoRefresh()}async _getUrlForProvider(t,r,i){const n=[`provider=${encodeURIComponent(r)}`];if(i?.redirectTo&&n.push(`redirect_to=${encodeURIComponent(i.redirectTo)}`),i?.scopes&&n.push(`scopes=${encodeURIComponent(i.scopes)}`),this.flowType==="pkce"){const[l,o]=await el(this.storage,this.storageKey),u=new URLSearchParams({code_challenge:`${encodeURIComponent(l)}`,code_challenge_method:`${encodeURIComponent(o)}`});n.push(u.toString())}if(i?.queryParams){const l=new URLSearchParams(i.queryParams);n.push(l.toString())}return i?.skipBrowserRedirect&&n.push(`skip_http_redirect=${i.skipBrowserRedirect}`),`${t}?${n.join("&")}`}async _unenroll(t){try{return await this._useSession(async r=>{var i;const{data:n,error:l}=r;return l?this._returnResult({data:null,error:l}):await Nt(this.fetch,"DELETE",`${this.url}/factors/${t.factorId}`,{headers:this.headers,jwt:(i=n?.session)===null||i===void 0?void 0:i.access_token})})}catch(r){if(Tt(r))return this._returnResult({data:null,error:r});throw r}}async _enroll(t){try{return await this._useSession(async r=>{var i,n;const{data:l,error:o}=r;if(o)return this._returnResult({data:null,error:o});const u=Object.assign({friendly_name:t.friendlyName,factor_type:t.factorType},t.factorType==="phone"?{phone:t.phone}:t.factorType==="totp"?{issuer:t.issuer}:{}),{data:h,error:d}=await Nt(this.fetch,"POST",`${this.url}/factors`,{body:u,headers:this.headers,jwt:(i=l?.session)===null||i===void 0?void 0:i.access_token});return d?this._returnResult({data:null,error:d}):(t.factorType==="totp"&&h.type==="totp"&&(!((n=h?.totp)===null||n===void 0)&&n.qr_code)&&(h.totp.qr_code=`data:image/svg+xml;utf-8,${h.totp.qr_code}`),this._returnResult({data:h,error:null}))})}catch(r){if(Tt(r))return this._returnResult({data:null,error:r});throw r}}async _verify(t){return this._acquireLock(-1,async()=>{try{return await this._useSession(async r=>{var i;const{data:n,error:l}=r;if(l)return this._returnResult({data:null,error:l});const o=Object.assign({challenge_id:t.challengeId},"webauthn"in t?{webauthn:Object.assign(Object.assign({},t.webauthn),{credential_response:t.webauthn.type==="create"?v3(t.webauthn.credential_response):_3(t.webauthn.credential_response)})}:{code:t.code}),{data:u,error:h}=await Nt(this.fetch,"POST",`${this.url}/factors/${t.factorId}/verify`,{body:o,headers:this.headers,jwt:(i=n?.session)===null||i===void 0?void 0:i.access_token});return h?this._returnResult({data:null,error:h}):(await this._saveSession(Object.assign({expires_at:Math.round(Date.now()/1e3)+u.expires_in},u)),await this._notifyAllSubscribers("MFA_CHALLENGE_VERIFIED",u),this._returnResult({data:u,error:h}))})}catch(r){if(Tt(r))return this._returnResult({data:null,error:r});throw r}})}async _challenge(t){return this._acquireLock(-1,async()=>{try{return await this._useSession(async r=>{var i;const{data:n,error:l}=r;if(l)return this._returnResult({data:null,error:l});const o=await Nt(this.fetch,"POST",`${this.url}/factors/${t.factorId}/challenge`,{body:t,headers:this.headers,jwt:(i=n?.session)===null||i===void 0?void 0:i.access_token});if(o.error)return o;const{data:u}=o;if(u.type!=="webauthn")return{data:u,error:null};switch(u.webauthn.type){case"create":return{data:Object.assign(Object.assign({},u),{webauthn:Object.assign(Object.assign({},u.webauthn),{credential_options:Object.assign(Object.assign({},u.webauthn.credential_options),{publicKey:b3(u.webauthn.credential_options.publicKey)})})}),error:null};case"request":return{data:Object.assign(Object.assign({},u),{webauthn:Object.assign(Object.assign({},u.webauthn),{credential_options:Object.assign(Object.assign({},u.webauthn.credential_options),{publicKey:x3(u.webauthn.credential_options.publicKey)})})}),error:null}}})}catch(r){if(Tt(r))return this._returnResult({data:null,error:r});throw r}})}async _challengeAndVerify(t){const{data:r,error:i}=await this._challenge({factorId:t.factorId});return i?this._returnResult({data:null,error:i}):await this._verify({factorId:t.factorId,challengeId:r.id,code:t.code})}async _listFactors(){var t;const{data:{user:r},error:i}=await this.getUser();if(i)return{data:null,error:i};const n={all:[],phone:[],totp:[],webauthn:[]};for(const l of(t=r?.factors)!==null&&t!==void 0?t:[])n.all.push(l),l.status==="verified"&&n[l.factor_type].push(l);return{data:n,error:null}}async _getAuthenticatorAssuranceLevel(){var t,r;const{data:{session:i},error:n}=await this.getSession();if(n)return this._returnResult({data:null,error:n});if(!i)return{data:{currentLevel:null,nextLevel:null,currentAuthenticationMethods:[]},error:null};const{payload:l}=Xg(i.access_token);let o=null;l.aal&&(o=l.aal);let u=o;((r=(t=i.user.factors)===null||t===void 0?void 0:t.filter(p=>p.status==="verified"))!==null&&r!==void 0?r:[]).length>0&&(u="aal2");const d=l.amr||[];return{data:{currentLevel:o,nextLevel:u,currentAuthenticationMethods:d},error:null}}async _getAuthorizationDetails(t){try{return await this._useSession(async r=>{const{data:{session:i},error:n}=r;return n?this._returnResult({data:null,error:n}):i?await Nt(this.fetch,"GET",`${this.url}/oauth/authorizations/${t}`,{headers:this.headers,jwt:i.access_token,xform:l=>({data:l,error:null})}):this._returnResult({data:null,error:new Hr})})}catch(r){if(Tt(r))return this._returnResult({data:null,error:r});throw r}}async _approveAuthorization(t,r){try{return await this._useSession(async i=>{const{data:{session:n},error:l}=i;if(l)return this._returnResult({data:null,error:l});if(!n)return this._returnResult({data:null,error:new Hr});const o=await Nt(this.fetch,"POST",`${this.url}/oauth/authorizations/${t}/consent`,{headers:this.headers,jwt:n.access_token,body:{action:"approve"},xform:u=>({data:u,error:null})});return o.data&&o.data.redirect_url&&ir()&&!r?.skipBrowserRedirect&&window.location.assign(o.data.redirect_url),o})}catch(i){if(Tt(i))return this._returnResult({data:null,error:i});throw i}}async _denyAuthorization(t,r){try{return await this._useSession(async i=>{const{data:{session:n},error:l}=i;if(l)return this._returnResult({data:null,error:l});if(!n)return this._returnResult({data:null,error:new Hr});const o=await Nt(this.fetch,"POST",`${this.url}/oauth/authorizations/${t}/consent`,{headers:this.headers,jwt:n.access_token,body:{action:"deny"},xform:u=>({data:u,error:null})});return o.data&&o.data.redirect_url&&ir()&&!r?.skipBrowserRedirect&&window.location.assign(o.data.redirect_url),o})}catch(i){if(Tt(i))return this._returnResult({data:null,error:i});throw i}}async _listOAuthGrants(){try{return await this._useSession(async t=>{const{data:{session:r},error:i}=t;return i?this._returnResult({data:null,error:i}):r?await Nt(this.fetch,"GET",`${this.url}/user/oauth/grants`,{headers:this.headers,jwt:r.access_token,xform:n=>({data:n,error:null})}):this._returnResult({data:null,error:new Hr})})}catch(t){if(Tt(t))return this._returnResult({data:null,error:t});throw t}}async _revokeOAuthGrant(t){try{return await this._useSession(async r=>{const{data:{session:i},error:n}=r;return n?this._returnResult({data:null,error:n}):i?(await Nt(this.fetch,"DELETE",`${this.url}/user/oauth/grants`,{headers:this.headers,jwt:i.access_token,query:{client_id:t.clientId},noResolveJson:!0}),{data:{},error:null}):this._returnResult({data:null,error:new Hr})})}catch(r){if(Tt(r))return this._returnResult({data:null,error:r});throw r}}async fetchJwk(t,r={keys:[]}){let i=r.keys.find(u=>u.kid===t);if(i)return i;const n=Date.now();if(i=this.jwks.keys.find(u=>u.kid===t),i&&this.jwks_cached_at+AN>n)return i;const{data:l,error:o}=await Nt(this.fetch,"GET",`${this.url}/.well-known/jwks.json`,{headers:this.headers});if(o)throw o;return!l.keys||l.keys.length===0||(this.jwks=l,this.jwks_cached_at=n,i=l.keys.find(u=>u.kid===t),!i)?null:i}async getClaims(t,r={}){try{let i=t;if(!i){const{data:x,error:v}=await this.getSession();if(v||!x.session)return this._returnResult({data:null,error:v});i=x.session.access_token}const{header:n,payload:l,signature:o,raw:{header:u,payload:h}}=Xg(i);r?.allowExpired||QN(l.exp);const d=!n.alg||n.alg.startsWith("HS")||!n.kid||!("crypto"in globalThis&&"subtle"in globalThis.crypto)?null:await this.fetchJwk(n.kid,r?.keys?{keys:r.keys}:r?.jwks);if(!d){const{error:x}=await this.getUser(i);if(x)throw x;return{data:{claims:l,header:n,signature:o},error:null}}const p=ZN(n.alg),g=await crypto.subtle.importKey("jwk",d,p,!0,["verify"]);if(!await crypto.subtle.verify(p,g,o,zN(`${u}.${h}`)))throw new $m("Invalid JWT signature");return{data:{claims:l,header:n,signature:o},error:null}}catch(i){if(Tt(i))return this._returnResult({data:null,error:i});throw i}}}Lc.nextInstanceID={};const R3=Lc,L3="2.89.0";let oc="";typeof Deno<"u"?oc="deno":typeof document<"u"?oc="web":typeof navigator<"u"&&navigator.product==="ReactNative"?oc="react-native":oc="node";const M3={"X-Client-Info":`supabase-js-${oc}/${L3}`},B3={headers:M3},N3={schema:"public"},D3={autoRefreshToken:!0,persistSession:!0,detectSessionInUrl:!0,flowType:"implicit"},j3={};function Mc(e){"@babel/helpers - typeof";return Mc=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(t){return typeof t}:function(t){return t&&typeof Symbol=="function"&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},Mc(e)}function $3(e,t){if(Mc(e)!="object"||!e)return e;var r=e[Symbol.toPrimitive];if(r!==void 0){var i=r.call(e,t);if(Mc(i)!="object")return i;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}function z3(e){var t=$3(e,"string");return Mc(t)=="symbol"?t:t+""}function F3(e,t,r){return(t=z3(t))in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function ww(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(e);t&&(i=i.filter(function(n){return Object.getOwnPropertyDescriptor(e,n).enumerable})),r.push.apply(r,i)}return r}function Ce(e){for(var t=1;t<arguments.length;t++){var r=arguments[t]!=null?arguments[t]:{};t%2?ww(Object(r),!0).forEach(function(i){F3(e,i,r[i])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):ww(Object(r)).forEach(function(i){Object.defineProperty(e,i,Object.getOwnPropertyDescriptor(r,i))})}return e}const P3=e=>e?(...t)=>e(...t):(...t)=>fetch(...t),U3=()=>Headers,I3=(e,t,r)=>{const i=P3(r),n=U3();return async(l,o)=>{var u;const h=(u=await t())!==null&&u!==void 0?u:e;let d=new n(o?.headers);return d.has("apikey")||d.set("apikey",e),d.has("Authorization")||d.set("Authorization",`Bearer ${h}`),i(l,Ce(Ce({},o),{},{headers:d}))}};function q3(e){return e.endsWith("/")?e:e+"/"}function H3(e,t){var r,i;const{db:n,auth:l,realtime:o,global:u}=e,{db:h,auth:d,realtime:p,global:g}=t,y={db:Ce(Ce({},h),n),auth:Ce(Ce({},d),l),realtime:Ce(Ce({},p),o),storage:{},global:Ce(Ce(Ce({},g),u),{},{headers:Ce(Ce({},(r=g?.headers)!==null&&r!==void 0?r:{}),(i=u?.headers)!==null&&i!==void 0?i:{})}),accessToken:async()=>""};return e.accessToken?y.accessToken=e.accessToken:delete y.accessToken,y}function W3(e){const t=e?.trim();if(!t)throw new Error("supabaseUrl is required.");if(!t.match(/^https?:\/\//i))throw new Error("Invalid supabaseUrl: Must be a valid HTTP or HTTPS URL.");try{return new URL(q3(t))}catch{throw Error("Invalid supabaseUrl: Provided URL is malformed.")}}var G3=class extends R3{constructor(e){super(e)}},Y3=class{constructor(e,t,r){var i,n;this.supabaseUrl=e,this.supabaseKey=t;const l=W3(e);if(!t)throw new Error("supabaseKey is required.");this.realtimeUrl=new URL("realtime/v1",l),this.realtimeUrl.protocol=this.realtimeUrl.protocol.replace("http","ws"),this.authUrl=new URL("auth/v1",l),this.storageUrl=new URL("storage/v1",l),this.functionsUrl=new URL("functions/v1",l);const o=`sb-${l.hostname.split(".")[0]}-auth-token`,u={db:N3,realtime:j3,auth:Ce(Ce({},D3),{},{storageKey:o}),global:B3},h=H3(r??{},u);if(this.storageKey=(i=h.auth.storageKey)!==null&&i!==void 0?i:"",this.headers=(n=h.global.headers)!==null&&n!==void 0?n:{},h.accessToken)this.accessToken=h.accessToken,this.auth=new Proxy({},{get:(p,g)=>{throw new Error(`@supabase/supabase-js: Supabase Client is configured with the accessToken option, accessing supabase.auth.${String(g)} is not possible`)}});else{var d;this.auth=this._initSupabaseAuthClient((d=h.auth)!==null&&d!==void 0?d:{},this.headers,h.global.fetch)}this.fetch=I3(t,this._getAccessToken.bind(this),h.global.fetch),this.realtime=this._initRealtimeClient(Ce({headers:this.headers,accessToken:this._getAccessToken.bind(this)},h.realtime)),this.accessToken&&this.accessToken().then(p=>this.realtime.setAuth(p)).catch(p=>console.warn("Failed to set initial Realtime auth token:",p)),this.rest=new TB(new URL("rest/v1",l).href,{headers:this.headers,schema:h.db.schema,fetch:this.fetch}),this.storage=new SN(this.storageUrl.href,this.headers,this.fetch,r?.storage),h.accessToken||this._listenForAuthEvents()}get functions(){return new _B(this.functionsUrl.href,{headers:this.headers,customFetch:this.fetch})}from(e){return this.rest.from(e)}schema(e){return this.rest.schema(e)}rpc(e,t={},r={head:!1,get:!1,count:void 0}){return this.rest.rpc(e,t,r)}channel(e,t={config:{}}){return this.realtime.channel(e,t)}getChannels(){return this.realtime.getChannels()}removeChannel(e){return this.realtime.removeChannel(e)}removeAllChannels(){return this.realtime.removeAllChannels()}async _getAccessToken(){var e=this,t,r;if(e.accessToken)return await e.accessToken();const{data:i}=await e.auth.getSession();return(t=(r=i.session)===null||r===void 0?void 0:r.access_token)!==null&&t!==void 0?t:e.supabaseKey}_initSupabaseAuthClient({autoRefreshToken:e,persistSession:t,detectSessionInUrl:r,storage:i,userStorage:n,storageKey:l,flowType:o,lock:u,debug:h,throwOnError:d},p,g){const y={Authorization:`Bearer ${this.supabaseKey}`,apikey:`${this.supabaseKey}`};return new G3({url:this.authUrl.href,headers:Ce(Ce({},y),p),storageKey:l,autoRefreshToken:e,persistSession:t,detectSessionInUrl:r,storage:i,userStorage:n,flowType:o,lock:u,debug:h,throwOnError:d,fetch:g,hasCustomAuthorizationHeader:Object.keys(this.headers).some(x=>x.toLowerCase()==="authorization")})}_initRealtimeClient(e){return new qB(this.realtimeUrl.href,Ce(Ce({},e),{},{params:Ce(Ce({},{apikey:this.supabaseKey}),e?.params)}))}_listenForAuthEvents(){return this.auth.onAuthStateChange((e,t)=>{this._handleTokenChanged(e,"CLIENT",t?.access_token)})}_handleTokenChanged(e,t,r){(e==="TOKEN_REFRESHED"||e==="SIGNED_IN")&&this.changedAccessToken!==r?(this.changedAccessToken=r,this.realtime.setAuth(r)):e==="SIGNED_OUT"&&(this.realtime.setAuth(),t=="STORAGE"&&this.auth.signOut(),this.changedAccessToken=void 0)}};const V3=(e,t,r)=>new Y3(e,t,r);function X3(){if(typeof window<"u"||typeof process>"u")return!1;const e=process.version;if(e==null)return!1;const t=e.match(/^v(\d+)\./);return t?parseInt(t[1],10)<=18:!1}X3()&&console.warn("  Node.js 18 and below are deprecated and will no longer be supported in future versions of @supabase/supabase-js. Please upgrade to Node.js 20 or later. For more information, visit: https://github.com/orgs/supabase/discussions/37217");const K3="https://xbvsnolaqtiiralhediv.supabase.co",Q3="sb_publishable_GSXFNEoismbrULkhNepKWg_enfVovF_",Ie=V3(K3,Q3);function Z3({children:e}){const[t,r]=H.useState(null),[i,n]=H.useState(null),[l,o]=H.useState(!0);H.useEffect(()=>{Ie.auth.getSession().then(({data:{session:g}})=>{n(g),r(g?.user??null),o(!1)});const{data:{subscription:p}}=Ie.auth.onAuthStateChange((g,y)=>{n(y),r(y?.user??null),o(!1)});return()=>p.unsubscribe()},[]);const d={user:t,session:i,loading:l,signIn:async(p,g)=>{const{data:y,error:x}=await Ie.auth.signInWithPassword({email:p,password:g});if(x)throw x;return y},signOut:async()=>{const{error:p}=await Ie.auth.signOut();if(p)throw p}};return k.jsx(DS.Provider,{value:d,children:e})}function Zg(e=null){const[t,r]=H.useState([]),[i,n]=H.useState(!0),[l,o]=H.useState(null);return H.useEffect(()=>{async function u(){try{n(!0),o(null);let h=Ie.from("projects").select("*").eq("visibility",!0).order("start_date",{ascending:!1});e&&(h=h.eq("category",e));const{data:d,error:p}=await h;if(p)throw p;r(d||[])}catch(h){console.error("Error fetching projects:",h),o(h.message)}finally{n(!1)}}u()},[e]),{projects:t,loading:i,error:l}}function J3(e,t=300){const[r,i]=H.useState(e);return H.useEffect(()=>{const n=setTimeout(()=>i(e),t);return()=>clearTimeout(n)},[e,t]),r}function tD(){const e=H.useContext(NS);if(!e)throw new Error("useTheme must be used within a ThemeProvider");return e}function gt({name:e,className:t=""}){return k.jsx("span",{className:`material-symbols-outlined ${t}`,children:e})}function eD(){const{theme:e,toggleTheme:t}=tD();return k.jsx("button",{onClick:t,className:"w-10 h-10 flex items-center justify-center rounded-full bg-card-light dark:bg-card-dark border border-border-light dark:border-border-dark text-text-secondary-light dark:text-text-secondary-dark hover:text-primary hover:border-primary transition-colors shadow-sm","aria-label":e==="dark"?"Switch to light mode":"Switch to dark mode",children:k.jsx(gt,{name:e==="dark"?"light_mode":"dark_mode"})})}const rD=[{label:"Featured",href:"/#featured"},{label:"Projects",href:"/#projects"},{label:"Labs & Playground",href:"/#labs"}];function qh(){return k.jsx("header",{className:"sticky top-0 z-50 w-full bg-card-light dark:bg-card-dark border-b border-border-light dark:border-border-dark backdrop-blur-sm bg-opacity-90 dark:bg-opacity-90",children:k.jsxs("div",{className:"max-w-[960px] mx-auto px-4 py-4 flex items-center justify-between",children:[k.jsx(br,{to:"/",className:"text-text-primary-light dark:text-text-primary-dark hover:text-primary transition-colors font-bold",children:"JaeHong's Portfolio"}),k.jsxs("div",{className:"flex items-center gap-6",children:[k.jsx("nav",{className:"hidden md:flex items-center gap-6",children:rD.map(e=>k.jsx(br,{to:e.href,className:"text-sm text-text-secondary-light dark:text-text-secondary-dark hover:text-primary transition-colors",children:e.label},e.label))}),k.jsx(eD,{})]})]})})}function iD({value:e,onChange:t,placeholder:r="Search..."}){return k.jsxs("div",{className:"relative w-full",children:[k.jsx("div",{className:"absolute inset-y-0 left-0 pl-3 flex items-center pointer-events-none",children:k.jsx(gt,{name:"search",className:"text-text-secondary-light dark:text-text-secondary-dark"})}),k.jsx("input",{type:"text",value:e,onChange:i=>t(i.target.value),className:"block w-full pl-10 pr-3 py-3 border border-border-light dark:border-border-dark rounded-xl leading-5 bg-card-light dark:bg-card-dark text-text-primary-light dark:text-text-primary-dark placeholder-text-secondary-light focus:outline-none focus:ring-2 focus:ring-primary focus:border-primary sm:text-lg shadow-sm",placeholder:r})]})}function aD({tags:e,onTagClick:t}){return k.jsxs("div",{className:"flex flex-wrap items-center gap-2 text-sm",children:[k.jsx("span",{className:"text-text-secondary-light dark:text-text-secondary-dark font-medium mr-1",children:"Recommended:"}),e.map(r=>k.jsx("button",{onClick:()=>t?.(r),className:"px-3 py-1 bg-card-light dark:bg-card-dark border border-border-light dark:border-border-dark hover:border-primary hover:text-primary rounded-full transition-colors text-text-secondary-light dark:text-text-secondary-dark",children:r},r))]})}function Sw({title:e,icon:t,children:r,defaultOpen:i=!1}){return k.jsxs("details",{className:"group/accordion",open:i,children:[k.jsx("summary",{className:"list-none cursor-pointer",children:k.jsxs("div",{className:"flex items-center justify-between pb-2 border-b border-border-light dark:border-border-dark hover:border-primary/50 transition-colors",children:[k.jsxs("div",{className:"flex items-center gap-3",children:[k.jsx(gt,{name:t,className:"text-text-secondary-light dark:text-text-secondary-dark group-hover/accordion:text-primary transition-colors"}),k.jsx("h2",{className:"text-2xl font-bold text-text-primary-light dark:text-text-primary-dark group-hover/accordion:text-primary transition-colors",children:e})]}),k.jsx(gt,{name:"expand_more",className:"text-text-secondary-light dark:text-text-secondary-dark transform group-open/accordion:rotate-180 transition-transform duration-300"})]})}),k.jsx("div",{className:"pt-8",children:r})]})}function JS({label:e,variant:t="default"}){const r="px-2.5 py-1 text-xs font-medium rounded-md",i={default:"bg-background-light dark:bg-card-dark text-text-secondary-light dark:text-text-secondary-dark border border-border-light dark:border-border-dark",primary:"bg-primary/10 text-primary border border-primary/20"};return k.jsx("span",{className:`${r} ${i[t]}`,children:e})}function nD({project:e}){const{id:t,title:r,description:i,thumbnail_url:n,proj_cover_image_url:l,tags:o=[]}=e,u=l||n,h=p=>p?new Date(p).toLocaleDateString("ko-KR",{year:"numeric",month:"short"}):"",d=e.end_date?`${h(e.start_date)} - ${h(e.end_date)}`:`${h(e.start_date)} - Present`;return k.jsx(br,{to:`/project/${t}`,children:k.jsxs("article",{className:"neumorphic-card rounded-2xl overflow-hidden p-5",children:[k.jsx("div",{className:"neumorphic-inset aspect-video w-full rounded-xl overflow-hidden",children:u?k.jsx("div",{className:"w-full h-full bg-cover bg-center hover:scale-105 transition-transform duration-500",style:{backgroundImage:`url('${u}')`}}):k.jsx("div",{className:"w-full h-full flex items-center justify-center text-text-secondary-light dark:text-text-secondary-dark",children:k.jsx("span",{className:"material-symbols-outlined text-4xl",children:"image"})})}),k.jsxs("div",{className:"pt-4 flex flex-col gap-3",children:[k.jsxs("div",{children:[k.jsxs("div",{className:"flex items-center justify-between mb-2",children:[k.jsx("h3",{className:"text-lg font-semibold text-text-primary-light dark:text-text-primary-dark",children:r}),k.jsx("span",{className:"text-xs text-text-secondary-light dark:text-text-secondary-dark",children:d})]}),i&&k.jsx("p",{className:"text-text-secondary-light dark:text-text-secondary-dark text-sm leading-relaxed line-clamp-2",children:i})]}),o.length>0&&k.jsx("div",{className:"mt-auto flex flex-wrap gap-2",children:o.map(p=>k.jsx(JS,{label:p},p))})]})]})})}function sD({project:e,icon:t="folder"}){const{id:r,title:i,description:n,proj_cover_image_url:l,tags:o=[],start_date:u,end_date:h}=e,d=g=>g?new Date(g).toLocaleDateString("ko-KR",{year:"numeric",month:"short"}):"",p=h?`${d(u)} - ${d(h)}`:`${d(u)} - Present`;return k.jsx(br,{to:`/project/${r}`,className:"block",children:k.jsxs("div",{className:"neumorphic-card rounded-2xl p-4 h-full",children:[k.jsx("div",{className:"neumorphic-inset aspect-[4/3] w-full rounded-xl overflow-hidden mb-4 flex items-center justify-center",children:l?k.jsx("div",{className:"w-full h-full bg-contain bg-center bg-no-repeat hover:scale-105 transition-transform duration-500",style:{backgroundImage:`url('${l}')`}}):k.jsx(gt,{name:t,className:"text-4xl text-primary"})}),k.jsx("h3",{className:"font-semibold text-lg text-text-primary-light dark:text-text-primary-dark mb-1",children:i}),u&&k.jsx("p",{className:"text-xs text-text-secondary-light dark:text-text-secondary-dark mb-2",children:p}),n&&k.jsx("p",{className:"text-sm text-text-secondary-light dark:text-text-secondary-dark mb-4 line-clamp-2",children:n}),o.length>0&&k.jsx("div",{className:"flex gap-2 flex-wrap mt-auto",children:o.slice(0,3).map(g=>k.jsx("span",{className:"text-xs font-medium text-text-secondary-light dark:text-text-secondary-dark bg-white/50 dark:bg-black/20 px-2 py-1 rounded-lg",children:g},g))})]})})}function lD({project:e,icon:t="science"}){const{id:r,title:i,description:n,proj_cover_image_url:l}=e;return k.jsx(br,{to:`/project/${r}`,className:"block",children:k.jsxs("div",{className:"neumorphic-card rounded-2xl p-4",children:[k.jsx("div",{className:"neumorphic-inset aspect-[4/3] w-full rounded-xl overflow-hidden mb-3 flex items-center justify-center",children:l?k.jsx("div",{className:"w-full h-full bg-contain bg-center bg-no-repeat hover:scale-105 transition-transform duration-500",style:{backgroundImage:`url('${l}')`}}):k.jsx(gt,{name:t,className:"text-3xl text-primary"})}),k.jsx("h4",{className:"font-semibold text-text-primary-light dark:text-text-primary-dark text-sm",children:i}),n&&k.jsx("p",{className:"text-xs text-text-secondary-light dark:text-text-secondary-dark mt-1 line-clamp-1",children:n})]})})}function es(){const e=new Date().getFullYear(),t=[{label:"GitHub",href:"https://github.com/MealWithoutSoup"},{label:"LinkedIn",href:"https://linkedin.com/in/jaehong-kim-1b706b26b"},{label:"Email",href:"mailto:asdr111324@gmail.com"}];return k.jsx("footer",{className:"w-full border-t border-border-light dark:border-border-dark mt-auto",children:k.jsxs("div",{className:"w-full lg:w-[70%] max-w-5xl mx-auto px-6 py-8 flex flex-col md:flex-row justify-between items-center gap-4",children:[k.jsxs("p",{className:"text-sm text-text-secondary-light dark:text-text-secondary-dark",children:[" ",e," Jae Hong Kim. All rights reserved."]}),k.jsx("div",{className:"flex gap-6",children:t.map(r=>k.jsx("a",{href:r.href,className:"text-sm text-text-secondary-light dark:text-text-secondary-dark hover:text-primary transition-colors",children:r.label},r.label))})]})})}const oD=["Langgraph","FastAPI","React","Docker"],kw=["dataset","palette","shopping_cart","code","memory","cloud"],Cw=["blue","purple","orange","green","red","blue"],Tw=["brush","animation","functions","terminal","science","auto_awesome"],Ew=["indigo","green","orange","gray","blue","pink"],Jg=(e,t)=>{if(!t.trim())return e;const r=t.toLowerCase();return e.filter(i=>i.title?.toLowerCase().includes(r)||i.proj_description?.toLowerCase().includes(r)||i.tags?.some(n=>n.toLowerCase().includes(r)))};function cD(){const[e,t]=hB(),[r,i]=H.useState(e.get("q")||""),n=J3(r,300),{projects:l,loading:o}=Zg("featured"),{projects:u,loading:h}=Zg("projects"),{projects:d,loading:p}=Zg("labs");H.useEffect(()=>{n?t({q:n},{replace:!0}):t({},{replace:!0})},[n,t]);const g=H.useMemo(()=>Jg(l,r),[l,r]),y=H.useMemo(()=>Jg(u,r),[u,r]),x=H.useMemo(()=>Jg(d,r),[d,r]),v=r.trim().length>0,_=S=>{i(S)};return k.jsxs("div",{className:"min-h-screen flex flex-col bg-background-light dark:bg-background-dark",children:[k.jsx(qh,{}),k.jsxs("main",{className:"w-full lg:w-[70%] max-w-5xl mx-auto flex-grow flex flex-col px-6 py-12 md:py-16 gap-12",children:[k.jsxs("section",{className:"flex flex-col gap-4",children:[k.jsx(iD,{value:r,onChange:i,placeholder:"Search projects, labs, or technologies..."}),k.jsx(aD,{tags:oD,onTagClick:_})]}),k.jsxs("section",{id:"featured",className:"flex flex-col gap-8 scroll-mt-20",children:[k.jsxs("div",{className:"flex items-center gap-3 pb-2 border-b border-border-light dark:border-border-dark",children:[k.jsx(gt,{name:"star",className:"text-primary"}),k.jsx("h2",{className:"text-2xl font-bold text-text-primary-light dark:text-text-primary-dark",children:"Featured Work"})]}),o?k.jsx("div",{className:"flex items-center justify-center py-12",children:k.jsx(gt,{name:"progress_activity",className:"text-primary animate-spin text-3xl"})}):g.length>0?k.jsx("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-8",children:g.map(S=>k.jsx(nD,{project:S},S.id))}):v?k.jsxs("div",{className:"flex flex-col items-center py-12 text-text-secondary-light dark:text-text-secondary-dark",children:[k.jsx(gt,{name:"search_off",className:"text-5xl mb-3"}),k.jsxs("p",{children:['"',r,'"  Featured   ']})]}):k.jsx("p",{className:"text-text-secondary-light dark:text-text-secondary-dark text-center py-8",children:"No featured projects yet."})]}),k.jsx("section",{id:"projects",className:"scroll-mt-20",children:k.jsx(Sw,{title:`Projects (${y.length})`,icon:"folder_open",children:h?k.jsx("div",{className:"flex items-center justify-center py-8",children:k.jsx(gt,{name:"progress_activity",className:"text-primary animate-spin text-3xl"})}):y.length>0?k.jsx("div",{className:"grid grid-cols-1 md:grid-cols-3 gap-6",children:y.map((S,T)=>k.jsx(sD,{project:S,icon:kw[T%kw.length],iconColor:Cw[T%Cw.length]},S.id))}):v?k.jsxs("div",{className:"flex flex-col items-center py-8 text-text-secondary-light dark:text-text-secondary-dark",children:[k.jsx(gt,{name:"search_off",className:"text-5xl mb-3"}),k.jsxs("p",{children:['"',r,'"  Projects   ']})]}):k.jsx("p",{className:"text-text-secondary-light dark:text-text-secondary-dark text-center py-8",children:"No projects yet."})})}),k.jsx("section",{id:"labs",className:"scroll-mt-20",children:k.jsx(Sw,{title:`Labs & Playground (${x.length})`,icon:"science",children:p?k.jsx("div",{className:"flex items-center justify-center py-8",children:k.jsx(gt,{name:"progress_activity",className:"text-primary animate-spin text-3xl"})}):x.length>0?k.jsx("div",{className:"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-4 gap-4",children:x.map((S,T)=>k.jsx(lD,{project:S,icon:Tw[T%Tw.length],gradient:Ew[T%Ew.length]},S.id))}):v?k.jsxs("div",{className:"flex flex-col items-center py-8 text-text-secondary-light dark:text-text-secondary-dark",children:[k.jsx(gt,{name:"search_off",className:"text-5xl mb-3"}),k.jsxs("p",{children:['"',r,'"  Labs   ']})]}):k.jsx("p",{className:"text-text-secondary-light dark:text-text-secondary-dark text-center py-8",children:"No labs yet."})})})]}),k.jsx(es,{})]})}function uD(e){const[t,r]=H.useState(null),[i,n]=H.useState([]),[l,o]=H.useState(!0),[u,h]=H.useState(null);return H.useEffect(()=>{if(!e){o(!1);return}async function d(){try{o(!0),h(null);const{data:p,error:g}=await Ie.from("projects").select(`
            *,
            project_challenges (
              id,
              core_challenge,
              image_url,
              mermaid_syntax,
              problem_items,
              solution_items,
              result_items,
              display_order
            )
          `).eq("id",e).eq("visibility",!0).single();if(g)throw g;if(p){const{project_challenges:y,...x}=p;r(x);const v=(y||[]).sort((_,S)=>_.display_order-S.display_order);n(v)}}catch(p){console.error("Error fetching project detail:",p),h(p.message)}finally{o(!1)}}d()},[e]),{project:t,challenges:i,loading:l,error:u}}function hD({items:e}){return k.jsx("nav",{className:"flex items-center gap-2 text-sm",children:e.map((t,r)=>k.jsxs("span",{className:"flex items-center gap-2",children:[r>0&&k.jsx("span",{className:"text-text-secondary-light dark:text-text-secondary-dark",children:"/"}),t.href?k.jsx(br,{to:t.href,className:"text-text-secondary-light dark:text-text-secondary-dark hover:text-primary transition-colors",children:t.label}):k.jsx("span",{className:"font-medium text-primary",children:t.label})]},r))})}function dD({challenge:e}){const{core_challenge:t}=e;return k.jsxs("div",{className:"bg-card-light dark:bg-card-dark rounded-xl p-6 md:p-8 shadow-sm border border-border-light dark:border-border-dark border-l-4 border-l-primary",children:[k.jsxs("div",{className:"flex items-center gap-2 text-primary font-bold uppercase text-xs tracking-wider mb-4",children:[k.jsx(gt,{name:"flag",className:"text-lg"}),k.jsx("span",{children:"Core Challenge"})]}),k.jsx("p",{className:"text-lg md:text-xl leading-relaxed text-text-primary-light dark:text-text-secondary-dark",children:t})]})}function fD({text:e,bulletColor:t}){return k.jsxs("li",{className:"flex items-start gap-3",children:[k.jsx("span",{className:`mt-1.5 size-1.5 rounded-full ${t} shrink-0`}),k.jsx("span",{className:"text-sm md:text-base leading-relaxed text-text-secondary-light dark:text-text-secondary-dark",children:e})]})}function tm({title:e,icon:t,items:r,bulletColor:i,headerColor:n}){return!r||r.length===0?null:k.jsxs("div",{className:"flex flex-col gap-4",children:[k.jsxs("h3",{className:`text-lg font-bold flex items-center gap-2 border-b border-border-light dark:border-border-dark pb-2 ${n}`,children:[k.jsx(gt,{name:t,className:"text-xl"}),e]}),k.jsx("ul",{className:"flex flex-col gap-3",children:r.map((l,o)=>k.jsx(fD,{text:l,bulletColor:i},o))})]})}function pD({problemItems:e,solutionItems:t,resultItems:r}){return k.jsxs("div",{className:"grid grid-cols-1 lg:grid-cols-3 gap-8",children:[k.jsx(tm,{title:"Problem",icon:"error_outline",items:e,bulletColor:"bg-red-500",headerColor:"text-red-600 dark:text-red-400"}),k.jsx(tm,{title:"Solution",icon:"lightbulb",items:t,bulletColor:"bg-primary",headerColor:"text-primary"}),k.jsx(tm,{title:"Result",icon:"check_circle",items:r,bulletColor:"bg-green-500",headerColor:"text-green-600 dark:text-green-400"})]})}const gD="modulepreload",mD=function(e){return"/"+e},Aw={},ne=function(t,r,i){let n=Promise.resolve();if(r&&r.length>0){let h=function(d){return Promise.all(d.map(p=>Promise.resolve(p).then(g=>({status:"fulfilled",value:g}),g=>({status:"rejected",reason:g}))))};document.getElementsByTagName("link");const o=document.querySelector("meta[property=csp-nonce]"),u=o?.nonce||o?.getAttribute("nonce");n=h(r.map(d=>{if(d=mD(d),d in Aw)return;Aw[d]=!0;const p=d.endsWith(".css"),g=p?'[rel="stylesheet"]':"";if(document.querySelector(`link[href="${d}"]${g}`))return;const y=document.createElement("link");if(y.rel=p?"stylesheet":gD,p||(y.as="script"),y.crossOrigin="",y.href=d,u&&y.setAttribute("nonce",u),document.head.appendChild(y),p)return new Promise((x,v)=>{y.addEventListener("load",x),y.addEventListener("error",()=>v(new Error(`Unable to preload CSS for ${d}`)))})}))}function l(o){const u=new Event("vite:preloadError",{cancelable:!0});if(u.payload=o,window.dispatchEvent(u),!u.defaultPrevented)throw o}return n.then(o=>{for(const u of o||[])u.status==="rejected"&&l(u.reason);return t().catch(l)})};var Ow={name:"mermaid",version:"11.12.2",description:"Markdown-ish syntax for generating flowcharts, mindmaps, sequence diagrams, class diagrams, gantt charts, git graphs and more.",type:"module",module:"./dist/mermaid.core.mjs",types:"./dist/mermaid.d.ts",exports:{".":{types:"./dist/mermaid.d.ts",import:"./dist/mermaid.core.mjs",default:"./dist/mermaid.core.mjs"},"./*":"./*"},keywords:["diagram","markdown","flowchart","sequence diagram","gantt","class diagram","git graph","mindmap","packet diagram","c4 diagram","er diagram","pie chart","pie diagram","quadrant chart","requirement diagram","graph"],scripts:{clean:"rimraf dist",dev:"pnpm -w dev","docs:code":"typedoc src/defaultConfig.ts src/config.ts src/mermaid.ts && prettier --write ./src/docs/config/setup","docs:build":"rimraf ../../docs && pnpm docs:code && pnpm docs:spellcheck && tsx scripts/docs.cli.mts","docs:verify":"pnpm docs:code && pnpm docs:spellcheck && tsx scripts/docs.cli.mts --verify","docs:pre:vitepress":"pnpm --filter ./src/docs prefetch && rimraf src/vitepress && pnpm docs:code && tsx scripts/docs.cli.mts --vitepress && pnpm --filter ./src/vitepress install --no-frozen-lockfile --ignore-scripts","docs:build:vitepress":"pnpm docs:pre:vitepress && (cd src/vitepress && pnpm run build) && cpy --flat src/docs/landing/ ./src/vitepress/.vitepress/dist/landing","docs:dev":'pnpm docs:pre:vitepress && concurrently "pnpm --filter ./src/vitepress dev" "tsx scripts/docs.cli.mts --watch --vitepress"',"docs:dev:docker":'pnpm docs:pre:vitepress && concurrently "pnpm --filter ./src/vitepress dev:docker" "tsx scripts/docs.cli.mts --watch --vitepress"',"docs:serve":"pnpm docs:build:vitepress && vitepress serve src/vitepress","docs:spellcheck":'cspell "src/docs/**/*.md"',"docs:release-version":"tsx scripts/update-release-version.mts","docs:verify-version":"tsx scripts/update-release-version.mts --verify","types:build-config":"tsx scripts/create-types-from-json-schema.mts","types:verify-config":"tsx scripts/create-types-from-json-schema.mts --verify",checkCircle:"npx madge --circular ./src",prepublishOnly:"pnpm docs:verify-version"},repository:{type:"git",url:"https://github.com/mermaid-js/mermaid"},author:"Knut Sveidqvist",license:"MIT",standard:{ignore:["**/parser/*.js","dist/**/*.js","cypress/**/*.js"],globals:["page"]},dependencies:{"@braintree/sanitize-url":"^7.1.1","@iconify/utils":"^3.0.1","@mermaid-js/parser":"workspace:^","@types/d3":"^7.4.3",cytoscape:"^3.29.3","cytoscape-cose-bilkent":"^4.1.0","cytoscape-fcose":"^2.2.0",d3:"^7.9.0","d3-sankey":"^0.12.3","dagre-d3-es":"7.0.13",dayjs:"^1.11.18",dompurify:"^3.2.5",katex:"^0.16.22",khroma:"^2.1.0","lodash-es":"^4.17.21",marked:"^16.2.1",roughjs:"^4.6.6",stylis:"^4.3.6","ts-dedent":"^2.2.0",uuid:"^11.1.0"},devDependencies:{"@adobe/jsonschema2md":"^8.0.5","@iconify/types":"^2.0.0","@types/cytoscape":"^3.21.9","@types/cytoscape-fcose":"^2.2.4","@types/d3-sankey":"^0.12.4","@types/d3-scale":"^4.0.9","@types/d3-scale-chromatic":"^3.1.0","@types/d3-selection":"^3.0.11","@types/d3-shape":"^3.1.7","@types/jsdom":"^21.1.7","@types/katex":"^0.16.7","@types/lodash-es":"^4.17.12","@types/micromatch":"^4.0.9","@types/stylis":"^4.2.7","@types/uuid":"^10.0.0",ajv:"^8.17.1",canvas:"^3.1.2",chokidar:"3.6.0",concurrently:"^9.1.2","csstree-validator":"^4.0.1",globby:"^14.1.0",jison:"^0.4.18","js-base64":"^3.7.8",jsdom:"^26.1.0","json-schema-to-typescript":"^15.0.4",micromatch:"^4.0.8","path-browserify":"^1.0.1",prettier:"^3.5.3",remark:"^15.0.1","remark-frontmatter":"^5.0.0","remark-gfm":"^4.0.1",rimraf:"^6.0.1","start-server-and-test":"^2.0.13","type-fest":"^4.35.0",typedoc:"^0.28.12","typedoc-plugin-markdown":"^4.8.1",typescript:"~5.7.3","unist-util-flatmap":"^1.0.0","unist-util-visit":"^5.0.0",vitepress:"^1.6.4","vitepress-plugin-search":"1.0.4-alpha.22"},files:["dist/","README.md"],publishConfig:{access:"public"}},Hh={exports:{}},yD=Hh.exports,Rw;function bD(){return Rw||(Rw=1,(function(e,t){(function(r,i){e.exports=i()})(yD,(function(){var r=1e3,i=6e4,n=36e5,l="millisecond",o="second",u="minute",h="hour",d="day",p="week",g="month",y="quarter",x="year",v="date",_="Invalid Date",S=/^(\d{4})[-/]?(\d{1,2})?[-/]?(\d{0,2})[Tt\s]*(\d{1,2})?:?(\d{1,2})?:?(\d{1,2})?[.:]?(\d+)?$/,T=/\[([^\]]+)]|Y{1,4}|M{1,4}|D{1,2}|d{1,4}|H{1,2}|h{1,2}|a|A|m{1,2}|s{1,2}|Z{1,2}|SSS/g,E={name:"en",weekdays:"Sunday_Monday_Tuesday_Wednesday_Thursday_Friday_Saturday".split("_"),months:"January_February_March_April_May_June_July_August_September_October_November_December".split("_"),ordinal:function(D){var F=["th","st","nd","rd"],R=D%100;return"["+D+(F[(R-20)%10]||F[R]||F[0])+"]"}},O=function(D,F,R){var j=String(D);return!j||j.length>=F?D:""+Array(F+1-j.length).join(R)+D},M={s:O,z:function(D){var F=-D.utcOffset(),R=Math.abs(F),j=Math.floor(R/60),I=R%60;return(F<=0?"+":"-")+O(j,2,"0")+":"+O(I,2,"0")},m:function D(F,R){if(F.date()<R.date())return-D(R,F);var j=12*(R.year()-F.year())+(R.month()-F.month()),I=F.clone().add(j,g),lt=R-I<0,ht=F.clone().add(j+(lt?-1:1),g);return+(-(j+(R-I)/(lt?I-ht:ht-I))||0)},a:function(D){return D<0?Math.ceil(D)||0:Math.floor(D)},p:function(D){return{M:g,y:x,w:p,d,D:v,h,m:u,s:o,ms:l,Q:y}[D]||String(D||"").toLowerCase().replace(/s$/,"")},u:function(D){return D===void 0}},N="en",q={};q[N]=E;var z="$isDayjsObject",Q=function(D){return D instanceof ot||!(!D||!D[z])},et=function D(F,R,j){var I;if(!F)return N;if(typeof F=="string"){var lt=F.toLowerCase();q[lt]&&(I=lt),R&&(q[lt]=R,I=lt);var ht=F.split("-");if(!I&&ht.length>1)return D(ht[0])}else{var B=F.name;q[B]=F,I=B}return!j&&I&&(N=I),I||!j&&N},it=function(D,F){if(Q(D))return D.clone();var R=typeof F=="object"?F:{};return R.date=D,R.args=arguments,new ot(R)},J=M;J.l=et,J.i=Q,J.w=function(D,F){return it(D,{locale:F.$L,utc:F.$u,x:F.$x,$offset:F.$offset})};var ot=(function(){function D(R){this.$L=et(R.locale,null,!0),this.parse(R),this.$x=this.$x||R.x||{},this[z]=!0}var F=D.prototype;return F.parse=function(R){this.$d=(function(j){var I=j.date,lt=j.utc;if(I===null)return new Date(NaN);if(J.u(I))return new Date;if(I instanceof Date)return new Date(I);if(typeof I=="string"&&!/Z$/i.test(I)){var ht=I.match(S);if(ht){var B=ht[2]-1||0,Y=(ht[7]||"0").substring(0,3);return lt?new Date(Date.UTC(ht[1],B,ht[3]||1,ht[4]||0,ht[5]||0,ht[6]||0,Y)):new Date(ht[1],B,ht[3]||1,ht[4]||0,ht[5]||0,ht[6]||0,Y)}}return new Date(I)})(R),this.init()},F.init=function(){var R=this.$d;this.$y=R.getFullYear(),this.$M=R.getMonth(),this.$D=R.getDate(),this.$W=R.getDay(),this.$H=R.getHours(),this.$m=R.getMinutes(),this.$s=R.getSeconds(),this.$ms=R.getMilliseconds()},F.$utils=function(){return J},F.isValid=function(){return this.$d.toString()!==_},F.isSame=function(R,j){var I=it(R);return this.startOf(j)<=I&&I<=this.endOf(j)},F.isAfter=function(R,j){return it(R)<this.startOf(j)},F.isBefore=function(R,j){return this.endOf(j)<it(R)},F.$g=function(R,j,I){return J.u(R)?this[j]:this.set(I,R)},F.unix=function(){return Math.floor(this.valueOf()/1e3)},F.valueOf=function(){return this.$d.getTime()},F.startOf=function(R,j){var I=this,lt=!!J.u(j)||j,ht=J.p(R),B=function(Kt,oe){var nr=J.w(I.$u?Date.UTC(I.$y,oe,Kt):new Date(I.$y,oe,Kt),I);return lt?nr:nr.endOf(d)},Y=function(Kt,oe){return J.w(I.toDate()[Kt].apply(I.toDate("s"),(lt?[0,0,0,0]:[23,59,59,999]).slice(oe)),I)},tt=this.$W,ct=this.$M,dt=this.$D,Ct="set"+(this.$u?"UTC":"");switch(ht){case x:return lt?B(1,0):B(31,11);case g:return lt?B(1,ct):B(0,ct+1);case p:var Lt=this.$locale().weekStart||0,te=(tt<Lt?tt+7:tt)-Lt;return B(lt?dt-te:dt+(6-te),ct);case d:case v:return Y(Ct+"Hours",0);case h:return Y(Ct+"Minutes",1);case u:return Y(Ct+"Seconds",2);case o:return Y(Ct+"Milliseconds",3);default:return this.clone()}},F.endOf=function(R){return this.startOf(R,!1)},F.$set=function(R,j){var I,lt=J.p(R),ht="set"+(this.$u?"UTC":""),B=(I={},I[d]=ht+"Date",I[v]=ht+"Date",I[g]=ht+"Month",I[x]=ht+"FullYear",I[h]=ht+"Hours",I[u]=ht+"Minutes",I[o]=ht+"Seconds",I[l]=ht+"Milliseconds",I)[lt],Y=lt===d?this.$D+(j-this.$W):j;if(lt===g||lt===x){var tt=this.clone().set(v,1);tt.$d[B](Y),tt.init(),this.$d=tt.set(v,Math.min(this.$D,tt.daysInMonth())).$d}else B&&this.$d[B](Y);return this.init(),this},F.set=function(R,j){return this.clone().$set(R,j)},F.get=function(R){return this[J.p(R)]()},F.add=function(R,j){var I,lt=this;R=Number(R);var ht=J.p(j),B=function(ct){var dt=it(lt);return J.w(dt.date(dt.date()+Math.round(ct*R)),lt)};if(ht===g)return this.set(g,this.$M+R);if(ht===x)return this.set(x,this.$y+R);if(ht===d)return B(1);if(ht===p)return B(7);var Y=(I={},I[u]=i,I[h]=n,I[o]=r,I)[ht]||1,tt=this.$d.getTime()+R*Y;return J.w(tt,this)},F.subtract=function(R,j){return this.add(-1*R,j)},F.format=function(R){var j=this,I=this.$locale();if(!this.isValid())return I.invalidDate||_;var lt=R||"YYYY-MM-DDTHH:mm:ssZ",ht=J.z(this),B=this.$H,Y=this.$m,tt=this.$M,ct=I.weekdays,dt=I.months,Ct=I.meridiem,Lt=function(oe,nr,Kr,_r){return oe&&(oe[nr]||oe(j,lt))||Kr[nr].slice(0,_r)},te=function(oe){return J.s(B%12||12,oe,"0")},Kt=Ct||function(oe,nr,Kr){var _r=oe<12?"AM":"PM";return Kr?_r.toLowerCase():_r};return lt.replace(T,(function(oe,nr){return nr||(function(Kr){switch(Kr){case"YY":return String(j.$y).slice(-2);case"YYYY":return J.s(j.$y,4,"0");case"M":return tt+1;case"MM":return J.s(tt+1,2,"0");case"MMM":return Lt(I.monthsShort,tt,dt,3);case"MMMM":return Lt(dt,tt);case"D":return j.$D;case"DD":return J.s(j.$D,2,"0");case"d":return String(j.$W);case"dd":return Lt(I.weekdaysMin,j.$W,ct,2);case"ddd":return Lt(I.weekdaysShort,j.$W,ct,3);case"dddd":return ct[j.$W];case"H":return String(B);case"HH":return J.s(B,2,"0");case"h":return te(1);case"hh":return te(2);case"a":return Kt(B,Y,!0);case"A":return Kt(B,Y,!1);case"m":return String(Y);case"mm":return J.s(Y,2,"0");case"s":return String(j.$s);case"ss":return J.s(j.$s,2,"0");case"SSS":return J.s(j.$ms,3,"0");case"Z":return ht}return null})(oe)||ht.replace(":","")}))},F.utcOffset=function(){return 15*-Math.round(this.$d.getTimezoneOffset()/15)},F.diff=function(R,j,I){var lt,ht=this,B=J.p(j),Y=it(R),tt=(Y.utcOffset()-this.utcOffset())*i,ct=this-Y,dt=function(){return J.m(ht,Y)};switch(B){case x:lt=dt()/12;break;case g:lt=dt();break;case y:lt=dt()/3;break;case p:lt=(ct-tt)/6048e5;break;case d:lt=(ct-tt)/864e5;break;case h:lt=ct/n;break;case u:lt=ct/i;break;case o:lt=ct/r;break;default:lt=ct}return I?lt:J.a(lt)},F.daysInMonth=function(){return this.endOf(g).$D},F.$locale=function(){return q[this.$L]},F.locale=function(R,j){if(!R)return this.$L;var I=this.clone(),lt=et(R,j,!0);return lt&&(I.$L=lt),I},F.clone=function(){return J.w(this.$d,this)},F.toDate=function(){return new Date(this.valueOf())},F.toJSON=function(){return this.isValid()?this.toISOString():null},F.toISOString=function(){return this.$d.toISOString()},F.toString=function(){return this.$d.toUTCString()},D})(),L=ot.prototype;return it.prototype=L,[["$ms",l],["$s",o],["$m",u],["$H",h],["$W",d],["$M",g],["$y",x],["$D",v]].forEach((function(D){L[D[1]]=function(F){return this.$g(F,D[0],D[1])}})),it.extend=function(D,F){return D.$i||(D(F,ot,it),D.$i=!0),it},it.locale=et,it.isDayjs=Q,it.unix=function(D){return it(1e3*D)},it.en=q[N],it.Ls=q,it.p={},it}))})(Hh)),Hh.exports}var xD=bD();const vD=EL(xD);var t2=Object.defineProperty,w=(e,t)=>t2(e,"name",{value:t,configurable:!0}),_D=(e,t)=>{for(var r in t)t2(e,r,{get:t[r],enumerable:!0})},ya={trace:0,debug:1,info:2,warn:3,error:4,fatal:5},st={trace:w((...e)=>{},"trace"),debug:w((...e)=>{},"debug"),info:w((...e)=>{},"info"),warn:w((...e)=>{},"warn"),error:w((...e)=>{},"error"),fatal:w((...e)=>{},"fatal")},Ky=w(function(e="fatal"){let t=ya.fatal;typeof e=="string"?e.toLowerCase()in ya&&(t=ya[e]):typeof e=="number"&&(t=e),st.trace=()=>{},st.debug=()=>{},st.info=()=>{},st.warn=()=>{},st.error=()=>{},st.fatal=()=>{},t<=ya.fatal&&(st.fatal=console.error?console.error.bind(console,ui("FATAL"),"color: orange"):console.log.bind(console,"\x1B[35m",ui("FATAL"))),t<=ya.error&&(st.error=console.error?console.error.bind(console,ui("ERROR"),"color: orange"):console.log.bind(console,"\x1B[31m",ui("ERROR"))),t<=ya.warn&&(st.warn=console.warn?console.warn.bind(console,ui("WARN"),"color: orange"):console.log.bind(console,"\x1B[33m",ui("WARN"))),t<=ya.info&&(st.info=console.info?console.info.bind(console,ui("INFO"),"color: lightblue"):console.log.bind(console,"\x1B[34m",ui("INFO"))),t<=ya.debug&&(st.debug=console.debug?console.debug.bind(console,ui("DEBUG"),"color: lightgreen"):console.log.bind(console,"\x1B[32m",ui("DEBUG"))),t<=ya.trace&&(st.trace=console.debug?console.debug.bind(console,ui("TRACE"),"color: lightgreen"):console.log.bind(console,"\x1B[32m",ui("TRACE")))},"setLogLevel"),ui=w(e=>`%c${vD().format("ss.SSS")} : ${e} : `,"format");const Wh={min:{r:0,g:0,b:0,s:0,l:0,a:0},max:{r:255,g:255,b:255,h:360,s:100,l:100,a:1},clamp:{r:e=>e>=255?255:e<0?0:e,g:e=>e>=255?255:e<0?0:e,b:e=>e>=255?255:e<0?0:e,h:e=>e%360,s:e=>e>=100?100:e<0?0:e,l:e=>e>=100?100:e<0?0:e,a:e=>e>=1?1:e<0?0:e},toLinear:e=>{const t=e/255;return e>.03928?Math.pow((t+.055)/1.055,2.4):t/12.92},hue2rgb:(e,t,r)=>(r<0&&(r+=1),r>1&&(r-=1),r<1/6?e+(t-e)*6*r:r<1/2?t:r<2/3?e+(t-e)*(2/3-r)*6:e),hsl2rgb:({h:e,s:t,l:r},i)=>{if(!t)return r*2.55;e/=360,t/=100,r/=100;const n=r<.5?r*(1+t):r+t-r*t,l=2*r-n;switch(i){case"r":return Wh.hue2rgb(l,n,e+1/3)*255;case"g":return Wh.hue2rgb(l,n,e)*255;case"b":return Wh.hue2rgb(l,n,e-1/3)*255}},rgb2hsl:({r:e,g:t,b:r},i)=>{e/=255,t/=255,r/=255;const n=Math.max(e,t,r),l=Math.min(e,t,r),o=(n+l)/2;if(i==="l")return o*100;if(n===l)return 0;const u=n-l,h=o>.5?u/(2-n-l):u/(n+l);if(i==="s")return h*100;switch(n){case e:return((t-r)/u+(t<r?6:0))*60;case t:return((r-e)/u+2)*60;case r:return((e-t)/u+4)*60;default:return-1}}},wD={clamp:(e,t,r)=>t>r?Math.min(t,Math.max(r,e)):Math.min(r,Math.max(t,e)),round:e=>Math.round(e*1e10)/1e10},SD={dec2hex:e=>{const t=Math.round(e).toString(16);return t.length>1?t:`0${t}`}},$t={channel:Wh,lang:wD,unit:SD},sn={};for(let e=0;e<=255;e++)sn[e]=$t.unit.dec2hex(e);const lr={ALL:0,RGB:1,HSL:2};class kD{constructor(){this.type=lr.ALL}get(){return this.type}set(t){if(this.type&&this.type!==t)throw new Error("Cannot change both RGB and HSL channels at the same time");this.type=t}reset(){this.type=lr.ALL}is(t){return this.type===t}}class CD{constructor(t,r){this.color=r,this.changed=!1,this.data=t,this.type=new kD}set(t,r){return this.color=r,this.changed=!1,this.data=t,this.type.type=lr.ALL,this}_ensureHSL(){const t=this.data,{h:r,s:i,l:n}=t;r===void 0&&(t.h=$t.channel.rgb2hsl(t,"h")),i===void 0&&(t.s=$t.channel.rgb2hsl(t,"s")),n===void 0&&(t.l=$t.channel.rgb2hsl(t,"l"))}_ensureRGB(){const t=this.data,{r,g:i,b:n}=t;r===void 0&&(t.r=$t.channel.hsl2rgb(t,"r")),i===void 0&&(t.g=$t.channel.hsl2rgb(t,"g")),n===void 0&&(t.b=$t.channel.hsl2rgb(t,"b"))}get r(){const t=this.data,r=t.r;return!this.type.is(lr.HSL)&&r!==void 0?r:(this._ensureHSL(),$t.channel.hsl2rgb(t,"r"))}get g(){const t=this.data,r=t.g;return!this.type.is(lr.HSL)&&r!==void 0?r:(this._ensureHSL(),$t.channel.hsl2rgb(t,"g"))}get b(){const t=this.data,r=t.b;return!this.type.is(lr.HSL)&&r!==void 0?r:(this._ensureHSL(),$t.channel.hsl2rgb(t,"b"))}get h(){const t=this.data,r=t.h;return!this.type.is(lr.RGB)&&r!==void 0?r:(this._ensureRGB(),$t.channel.rgb2hsl(t,"h"))}get s(){const t=this.data,r=t.s;return!this.type.is(lr.RGB)&&r!==void 0?r:(this._ensureRGB(),$t.channel.rgb2hsl(t,"s"))}get l(){const t=this.data,r=t.l;return!this.type.is(lr.RGB)&&r!==void 0?r:(this._ensureRGB(),$t.channel.rgb2hsl(t,"l"))}get a(){return this.data.a}set r(t){this.type.set(lr.RGB),this.changed=!0,this.data.r=t}set g(t){this.type.set(lr.RGB),this.changed=!0,this.data.g=t}set b(t){this.type.set(lr.RGB),this.changed=!0,this.data.b=t}set h(t){this.type.set(lr.HSL),this.changed=!0,this.data.h=t}set s(t){this.type.set(lr.HSL),this.changed=!0,this.data.s=t}set l(t){this.type.set(lr.HSL),this.changed=!0,this.data.l=t}set a(t){this.changed=!0,this.data.a=t}}const Qd=new CD({r:0,g:0,b:0,a:0},"transparent"),gl={re:/^#((?:[a-f0-9]{2}){2,4}|[a-f0-9]{3})$/i,parse:e=>{if(e.charCodeAt(0)!==35)return;const t=e.match(gl.re);if(!t)return;const r=t[1],i=parseInt(r,16),n=r.length,l=n%4===0,o=n>4,u=o?1:17,h=o?8:4,d=l?0:-1,p=o?255:15;return Qd.set({r:(i>>h*(d+3)&p)*u,g:(i>>h*(d+2)&p)*u,b:(i>>h*(d+1)&p)*u,a:l?(i&p)*u/255:1},e)},stringify:e=>{const{r:t,g:r,b:i,a:n}=e;return n<1?`#${sn[Math.round(t)]}${sn[Math.round(r)]}${sn[Math.round(i)]}${sn[Math.round(n*255)]}`:`#${sn[Math.round(t)]}${sn[Math.round(r)]}${sn[Math.round(i)]}`}},Kn={re:/^hsla?\(\s*?(-?(?:\d+(?:\.\d+)?|(?:\.\d+))(?:e-?\d+)?(?:deg|grad|rad|turn)?)\s*?(?:,|\s)\s*?(-?(?:\d+(?:\.\d+)?|(?:\.\d+))(?:e-?\d+)?%)\s*?(?:,|\s)\s*?(-?(?:\d+(?:\.\d+)?|(?:\.\d+))(?:e-?\d+)?%)(?:\s*?(?:,|\/)\s*?\+?(-?(?:\d+(?:\.\d+)?|(?:\.\d+))(?:e-?\d+)?(%)?))?\s*?\)$/i,hueRe:/^(.+?)(deg|grad|rad|turn)$/i,_hue2deg:e=>{const t=e.match(Kn.hueRe);if(t){const[,r,i]=t;switch(i){case"grad":return $t.channel.clamp.h(parseFloat(r)*.9);case"rad":return $t.channel.clamp.h(parseFloat(r)*180/Math.PI);case"turn":return $t.channel.clamp.h(parseFloat(r)*360)}}return $t.channel.clamp.h(parseFloat(e))},parse:e=>{const t=e.charCodeAt(0);if(t!==104&&t!==72)return;const r=e.match(Kn.re);if(!r)return;const[,i,n,l,o,u]=r;return Qd.set({h:Kn._hue2deg(i),s:$t.channel.clamp.s(parseFloat(n)),l:$t.channel.clamp.l(parseFloat(l)),a:o?$t.channel.clamp.a(u?parseFloat(o)/100:parseFloat(o)):1},e)},stringify:e=>{const{h:t,s:r,l:i,a:n}=e;return n<1?`hsla(${$t.lang.round(t)}, ${$t.lang.round(r)}%, ${$t.lang.round(i)}%, ${n})`:`hsl(${$t.lang.round(t)}, ${$t.lang.round(r)}%, ${$t.lang.round(i)}%)`}},vc={colors:{aliceblue:"#f0f8ff",antiquewhite:"#faebd7",aqua:"#00ffff",aquamarine:"#7fffd4",azure:"#f0ffff",beige:"#f5f5dc",bisque:"#ffe4c4",black:"#000000",blanchedalmond:"#ffebcd",blue:"#0000ff",blueviolet:"#8a2be2",brown:"#a52a2a",burlywood:"#deb887",cadetblue:"#5f9ea0",chartreuse:"#7fff00",chocolate:"#d2691e",coral:"#ff7f50",cornflowerblue:"#6495ed",cornsilk:"#fff8dc",crimson:"#dc143c",cyanaqua:"#00ffff",darkblue:"#00008b",darkcyan:"#008b8b",darkgoldenrod:"#b8860b",darkgray:"#a9a9a9",darkgreen:"#006400",darkgrey:"#a9a9a9",darkkhaki:"#bdb76b",darkmagenta:"#8b008b",darkolivegreen:"#556b2f",darkorange:"#ff8c00",darkorchid:"#9932cc",darkred:"#8b0000",darksalmon:"#e9967a",darkseagreen:"#8fbc8f",darkslateblue:"#483d8b",darkslategray:"#2f4f4f",darkslategrey:"#2f4f4f",darkturquoise:"#00ced1",darkviolet:"#9400d3",deeppink:"#ff1493",deepskyblue:"#00bfff",dimgray:"#696969",dimgrey:"#696969",dodgerblue:"#1e90ff",firebrick:"#b22222",floralwhite:"#fffaf0",forestgreen:"#228b22",fuchsia:"#ff00ff",gainsboro:"#dcdcdc",ghostwhite:"#f8f8ff",gold:"#ffd700",goldenrod:"#daa520",gray:"#808080",green:"#008000",greenyellow:"#adff2f",grey:"#808080",honeydew:"#f0fff0",hotpink:"#ff69b4",indianred:"#cd5c5c",indigo:"#4b0082",ivory:"#fffff0",khaki:"#f0e68c",lavender:"#e6e6fa",lavenderblush:"#fff0f5",lawngreen:"#7cfc00",lemonchiffon:"#fffacd",lightblue:"#add8e6",lightcoral:"#f08080",lightcyan:"#e0ffff",lightgoldenrodyellow:"#fafad2",lightgray:"#d3d3d3",lightgreen:"#90ee90",lightgrey:"#d3d3d3",lightpink:"#ffb6c1",lightsalmon:"#ffa07a",lightseagreen:"#20b2aa",lightskyblue:"#87cefa",lightslategray:"#778899",lightslategrey:"#778899",lightsteelblue:"#b0c4de",lightyellow:"#ffffe0",lime:"#00ff00",limegreen:"#32cd32",linen:"#faf0e6",magenta:"#ff00ff",maroon:"#800000",mediumaquamarine:"#66cdaa",mediumblue:"#0000cd",mediumorchid:"#ba55d3",mediumpurple:"#9370db",mediumseagreen:"#3cb371",mediumslateblue:"#7b68ee",mediumspringgreen:"#00fa9a",mediumturquoise:"#48d1cc",mediumvioletred:"#c71585",midnightblue:"#191970",mintcream:"#f5fffa",mistyrose:"#ffe4e1",moccasin:"#ffe4b5",navajowhite:"#ffdead",navy:"#000080",oldlace:"#fdf5e6",olive:"#808000",olivedrab:"#6b8e23",orange:"#ffa500",orangered:"#ff4500",orchid:"#da70d6",palegoldenrod:"#eee8aa",palegreen:"#98fb98",paleturquoise:"#afeeee",palevioletred:"#db7093",papayawhip:"#ffefd5",peachpuff:"#ffdab9",peru:"#cd853f",pink:"#ffc0cb",plum:"#dda0dd",powderblue:"#b0e0e6",purple:"#800080",rebeccapurple:"#663399",red:"#ff0000",rosybrown:"#bc8f8f",royalblue:"#4169e1",saddlebrown:"#8b4513",salmon:"#fa8072",sandybrown:"#f4a460",seagreen:"#2e8b57",seashell:"#fff5ee",sienna:"#a0522d",silver:"#c0c0c0",skyblue:"#87ceeb",slateblue:"#6a5acd",slategray:"#708090",slategrey:"#708090",snow:"#fffafa",springgreen:"#00ff7f",tan:"#d2b48c",teal:"#008080",thistle:"#d8bfd8",transparent:"#00000000",turquoise:"#40e0d0",violet:"#ee82ee",wheat:"#f5deb3",white:"#ffffff",whitesmoke:"#f5f5f5",yellow:"#ffff00",yellowgreen:"#9acd32"},parse:e=>{e=e.toLowerCase();const t=vc.colors[e];if(t)return gl.parse(t)},stringify:e=>{const t=gl.stringify(e);for(const r in vc.colors)if(vc.colors[r]===t)return r}},cc={re:/^rgba?\(\s*?(-?(?:\d+(?:\.\d+)?|(?:\.\d+))(?:e\d+)?(%?))\s*?(?:,|\s)\s*?(-?(?:\d+(?:\.\d+)?|(?:\.\d+))(?:e\d+)?(%?))\s*?(?:,|\s)\s*?(-?(?:\d+(?:\.\d+)?|(?:\.\d+))(?:e\d+)?(%?))(?:\s*?(?:,|\/)\s*?\+?(-?(?:\d+(?:\.\d+)?|(?:\.\d+))(?:e\d+)?(%?)))?\s*?\)$/i,parse:e=>{const t=e.charCodeAt(0);if(t!==114&&t!==82)return;const r=e.match(cc.re);if(!r)return;const[,i,n,l,o,u,h,d,p]=r;return Qd.set({r:$t.channel.clamp.r(n?parseFloat(i)*2.55:parseFloat(i)),g:$t.channel.clamp.g(o?parseFloat(l)*2.55:parseFloat(l)),b:$t.channel.clamp.b(h?parseFloat(u)*2.55:parseFloat(u)),a:d?$t.channel.clamp.a(p?parseFloat(d)/100:parseFloat(d)):1},e)},stringify:e=>{const{r:t,g:r,b:i,a:n}=e;return n<1?`rgba(${$t.lang.round(t)}, ${$t.lang.round(r)}, ${$t.lang.round(i)}, ${$t.lang.round(n)})`:`rgb(${$t.lang.round(t)}, ${$t.lang.round(r)}, ${$t.lang.round(i)})`}},qi={format:{keyword:vc,hex:gl,rgb:cc,rgba:cc,hsl:Kn,hsla:Kn},parse:e=>{if(typeof e!="string")return e;const t=gl.parse(e)||cc.parse(e)||Kn.parse(e)||vc.parse(e);if(t)return t;throw new Error(`Unsupported color format: "${e}"`)},stringify:e=>!e.changed&&e.color?e.color:e.type.is(lr.HSL)||e.data.r===void 0?Kn.stringify(e):e.a<1||!Number.isInteger(e.r)||!Number.isInteger(e.g)||!Number.isInteger(e.b)?cc.stringify(e):gl.stringify(e)},e2=(e,t)=>{const r=qi.parse(e);for(const i in t)r[i]=$t.channel.clamp[i](t[i]);return qi.stringify(r)},_c=(e,t,r=0,i=1)=>{if(typeof e!="number")return e2(e,{a:t});const n=Qd.set({r:$t.channel.clamp.r(e),g:$t.channel.clamp.g(t),b:$t.channel.clamp.b(r),a:$t.channel.clamp.a(i)});return qi.stringify(n)},TD=e=>{const{r:t,g:r,b:i}=qi.parse(e),n=.2126*$t.channel.toLinear(t)+.7152*$t.channel.toLinear(r)+.0722*$t.channel.toLinear(i);return $t.lang.round(n)},ED=e=>TD(e)>=.5,Xc=e=>!ED(e),r2=(e,t,r)=>{const i=qi.parse(e),n=i[t],l=$t.channel.clamp[t](n+r);return n!==l&&(i[t]=l),qi.stringify(i)},bt=(e,t)=>r2(e,"l",t),Ot=(e,t)=>r2(e,"l",-t),G=(e,t)=>{const r=qi.parse(e),i={};for(const n in t)t[n]&&(i[n]=r[n]+t[n]);return e2(e,i)},AD=(e,t,r=50)=>{const{r:i,g:n,b:l,a:o}=qi.parse(e),{r:u,g:h,b:d,a:p}=qi.parse(t),g=r/100,y=g*2-1,x=o-p,_=((y*x===-1?y:(y+x)/(1+y*x))+1)/2,S=1-_,T=i*_+u*S,E=n*_+h*S,O=l*_+d*S,M=o*g+p*(1-g);return _c(T,E,O,M)},ft=(e,t=100)=>{const r=qi.parse(e);return r.r=255-r.r,r.g=255-r.g,r.b=255-r.b,AD(r,e,t)};const{entries:i2,setPrototypeOf:Lw,isFrozen:OD,getPrototypeOf:RD,getOwnPropertyDescriptor:LD}=Object;let{freeze:xr,seal:hi,create:zm}=Object,{apply:Fm,construct:Pm}=typeof Reflect<"u"&&Reflect;xr||(xr=function(t){return t});hi||(hi=function(t){return t});Fm||(Fm=function(t,r){for(var i=arguments.length,n=new Array(i>2?i-2:0),l=2;l<i;l++)n[l-2]=arguments[l];return t.apply(r,n)});Pm||(Pm=function(t){for(var r=arguments.length,i=new Array(r>1?r-1:0),n=1;n<r;n++)i[n-1]=arguments[n];return new t(...i)});const Oh=vr(Array.prototype.forEach),MD=vr(Array.prototype.lastIndexOf),Mw=vr(Array.prototype.pop),Xo=vr(Array.prototype.push),BD=vr(Array.prototype.splice),Gh=vr(String.prototype.toLowerCase),em=vr(String.prototype.toString),rm=vr(String.prototype.match),Ko=vr(String.prototype.replace),ND=vr(String.prototype.indexOf),DD=vr(String.prototype.trim),vi=vr(Object.prototype.hasOwnProperty),pr=vr(RegExp.prototype.test),Qo=jD(TypeError);function vr(e){return function(t){t instanceof RegExp&&(t.lastIndex=0);for(var r=arguments.length,i=new Array(r>1?r-1:0),n=1;n<r;n++)i[n-1]=arguments[n];return Fm(e,t,i)}}function jD(e){return function(){for(var t=arguments.length,r=new Array(t),i=0;i<t;i++)r[i]=arguments[i];return Pm(e,r)}}function It(e,t){let r=arguments.length>2&&arguments[2]!==void 0?arguments[2]:Gh;Lw&&Lw(e,null);let i=t.length;for(;i--;){let n=t[i];if(typeof n=="string"){const l=r(n);l!==n&&(OD(t)||(t[i]=l),n=l)}e[n]=!0}return e}function $D(e){for(let t=0;t<e.length;t++)vi(e,t)||(e[t]=null);return e}function zi(e){const t=zm(null);for(const[r,i]of i2(e))vi(e,r)&&(Array.isArray(i)?t[r]=$D(i):i&&typeof i=="object"&&i.constructor===Object?t[r]=zi(i):t[r]=i);return t}function Zo(e,t){for(;e!==null;){const i=LD(e,t);if(i){if(i.get)return vr(i.get);if(typeof i.value=="function")return vr(i.value)}e=RD(e)}function r(){return null}return r}const Bw=xr(["a","abbr","acronym","address","area","article","aside","audio","b","bdi","bdo","big","blink","blockquote","body","br","button","canvas","caption","center","cite","code","col","colgroup","content","data","datalist","dd","decorator","del","details","dfn","dialog","dir","div","dl","dt","element","em","fieldset","figcaption","figure","font","footer","form","h1","h2","h3","h4","h5","h6","head","header","hgroup","hr","html","i","img","input","ins","kbd","label","legend","li","main","map","mark","marquee","menu","menuitem","meter","nav","nobr","ol","optgroup","option","output","p","picture","pre","progress","q","rp","rt","ruby","s","samp","search","section","select","shadow","slot","small","source","spacer","span","strike","strong","style","sub","summary","sup","table","tbody","td","template","textarea","tfoot","th","thead","time","tr","track","tt","u","ul","var","video","wbr"]),im=xr(["svg","a","altglyph","altglyphdef","altglyphitem","animatecolor","animatemotion","animatetransform","circle","clippath","defs","desc","ellipse","enterkeyhint","exportparts","filter","font","g","glyph","glyphref","hkern","image","inputmode","line","lineargradient","marker","mask","metadata","mpath","part","path","pattern","polygon","polyline","radialgradient","rect","stop","style","switch","symbol","text","textpath","title","tref","tspan","view","vkern"]),am=xr(["feBlend","feColorMatrix","feComponentTransfer","feComposite","feConvolveMatrix","feDiffuseLighting","feDisplacementMap","feDistantLight","feDropShadow","feFlood","feFuncA","feFuncB","feFuncG","feFuncR","feGaussianBlur","feImage","feMerge","feMergeNode","feMorphology","feOffset","fePointLight","feSpecularLighting","feSpotLight","feTile","feTurbulence"]),zD=xr(["animate","color-profile","cursor","discard","font-face","font-face-format","font-face-name","font-face-src","font-face-uri","foreignobject","hatch","hatchpath","mesh","meshgradient","meshpatch","meshrow","missing-glyph","script","set","solidcolor","unknown","use"]),nm=xr(["math","menclose","merror","mfenced","mfrac","mglyph","mi","mlabeledtr","mmultiscripts","mn","mo","mover","mpadded","mphantom","mroot","mrow","ms","mspace","msqrt","mstyle","msub","msup","msubsup","mtable","mtd","mtext","mtr","munder","munderover","mprescripts"]),FD=xr(["maction","maligngroup","malignmark","mlongdiv","mscarries","mscarry","msgroup","mstack","msline","msrow","semantics","annotation","annotation-xml","mprescripts","none"]),Nw=xr(["#text"]),Dw=xr(["accept","action","align","alt","autocapitalize","autocomplete","autopictureinpicture","autoplay","background","bgcolor","border","capture","cellpadding","cellspacing","checked","cite","class","clear","color","cols","colspan","controls","controlslist","coords","crossorigin","datetime","decoding","default","dir","disabled","disablepictureinpicture","disableremoteplayback","download","draggable","enctype","enterkeyhint","exportparts","face","for","headers","height","hidden","high","href","hreflang","id","inert","inputmode","integrity","ismap","kind","label","lang","list","loading","loop","low","max","maxlength","media","method","min","minlength","multiple","muted","name","nonce","noshade","novalidate","nowrap","open","optimum","part","pattern","placeholder","playsinline","popover","popovertarget","popovertargetaction","poster","preload","pubdate","radiogroup","readonly","rel","required","rev","reversed","role","rows","rowspan","spellcheck","scope","selected","shape","size","sizes","slot","span","srclang","start","src","srcset","step","style","summary","tabindex","title","translate","type","usemap","valign","value","width","wrap","xmlns","slot"]),sm=xr(["accent-height","accumulate","additive","alignment-baseline","amplitude","ascent","attributename","attributetype","azimuth","basefrequency","baseline-shift","begin","bias","by","class","clip","clippathunits","clip-path","clip-rule","color","color-interpolation","color-interpolation-filters","color-profile","color-rendering","cx","cy","d","dx","dy","diffuseconstant","direction","display","divisor","dur","edgemode","elevation","end","exponent","fill","fill-opacity","fill-rule","filter","filterunits","flood-color","flood-opacity","font-family","font-size","font-size-adjust","font-stretch","font-style","font-variant","font-weight","fx","fy","g1","g2","glyph-name","glyphref","gradientunits","gradienttransform","height","href","id","image-rendering","in","in2","intercept","k","k1","k2","k3","k4","kerning","keypoints","keysplines","keytimes","lang","lengthadjust","letter-spacing","kernelmatrix","kernelunitlength","lighting-color","local","marker-end","marker-mid","marker-start","markerheight","markerunits","markerwidth","maskcontentunits","maskunits","max","mask","mask-type","media","method","mode","min","name","numoctaves","offset","operator","opacity","order","orient","orientation","origin","overflow","paint-order","path","pathlength","patterncontentunits","patterntransform","patternunits","points","preservealpha","preserveaspectratio","primitiveunits","r","rx","ry","radius","refx","refy","repeatcount","repeatdur","restart","result","rotate","scale","seed","shape-rendering","slope","specularconstant","specularexponent","spreadmethod","startoffset","stddeviation","stitchtiles","stop-color","stop-opacity","stroke-dasharray","stroke-dashoffset","stroke-linecap","stroke-linejoin","stroke-miterlimit","stroke-opacity","stroke","stroke-width","style","surfacescale","systemlanguage","tabindex","tablevalues","targetx","targety","transform","transform-origin","text-anchor","text-decoration","text-rendering","textlength","type","u1","u2","unicode","values","viewbox","visibility","version","vert-adv-y","vert-origin-x","vert-origin-y","width","word-spacing","wrap","writing-mode","xchannelselector","ychannelselector","x","x1","x2","xmlns","y","y1","y2","z","zoomandpan"]),jw=xr(["accent","accentunder","align","bevelled","close","columnsalign","columnlines","columnspan","denomalign","depth","dir","display","displaystyle","encoding","fence","frame","height","href","id","largeop","length","linethickness","lspace","lquote","mathbackground","mathcolor","mathsize","mathvariant","maxsize","minsize","movablelimits","notation","numalign","open","rowalign","rowlines","rowspacing","rowspan","rspace","rquote","scriptlevel","scriptminsize","scriptsizemultiplier","selection","separator","separators","stretchy","subscriptshift","supscriptshift","symmetric","voffset","width","xmlns"]),Rh=xr(["xlink:href","xml:id","xlink:title","xml:space","xmlns:xlink"]),PD=hi(/\{\{[\w\W]*|[\w\W]*\}\}/gm),UD=hi(/<%[\w\W]*|[\w\W]*%>/gm),ID=hi(/\$\{[\w\W]*/gm),qD=hi(/^data-[\-\w.\u00B7-\uFFFF]+$/),HD=hi(/^aria-[\-\w]+$/),a2=hi(/^(?:(?:(?:f|ht)tps?|mailto|tel|callto|sms|cid|xmpp|matrix):|[^a-z]|[a-z+.\-]+(?:[^a-z+.\-:]|$))/i),WD=hi(/^(?:\w+script|data):/i),GD=hi(/[\u0000-\u0020\u00A0\u1680\u180E\u2000-\u2029\u205F\u3000]/g),n2=hi(/^html$/i),YD=hi(/^[a-z][.\w]*(-[.\w]+)+$/i);var $w=Object.freeze({__proto__:null,ARIA_ATTR:HD,ATTR_WHITESPACE:GD,CUSTOM_ELEMENT:YD,DATA_ATTR:qD,DOCTYPE_NAME:n2,ERB_EXPR:UD,IS_ALLOWED_URI:a2,IS_SCRIPT_OR_DATA:WD,MUSTACHE_EXPR:PD,TMPLIT_EXPR:ID});const Jo={element:1,text:3,progressingInstruction:7,comment:8,document:9},VD=function(){return typeof window>"u"?null:window},XD=function(t,r){if(typeof t!="object"||typeof t.createPolicy!="function")return null;let i=null;const n="data-tt-policy-suffix";r&&r.hasAttribute(n)&&(i=r.getAttribute(n));const l="dompurify"+(i?"#"+i:"");try{return t.createPolicy(l,{createHTML(o){return o},createScriptURL(o){return o}})}catch{return console.warn("TrustedTypes policy "+l+" could not be created."),null}},zw=function(){return{afterSanitizeAttributes:[],afterSanitizeElements:[],afterSanitizeShadowDOM:[],beforeSanitizeAttributes:[],beforeSanitizeElements:[],beforeSanitizeShadowDOM:[],uponSanitizeAttribute:[],uponSanitizeElement:[],uponSanitizeShadowNode:[]}};function s2(){let e=arguments.length>0&&arguments[0]!==void 0?arguments[0]:VD();const t=St=>s2(St);if(t.version="3.3.1",t.removed=[],!e||!e.document||e.document.nodeType!==Jo.document||!e.Element)return t.isSupported=!1,t;let{document:r}=e;const i=r,n=i.currentScript,{DocumentFragment:l,HTMLTemplateElement:o,Node:u,Element:h,NodeFilter:d,NamedNodeMap:p=e.NamedNodeMap||e.MozNamedAttrMap,HTMLFormElement:g,DOMParser:y,trustedTypes:x}=e,v=h.prototype,_=Zo(v,"cloneNode"),S=Zo(v,"remove"),T=Zo(v,"nextSibling"),E=Zo(v,"childNodes"),O=Zo(v,"parentNode");if(typeof o=="function"){const St=r.createElement("template");St.content&&St.content.ownerDocument&&(r=St.content.ownerDocument)}let M,N="";const{implementation:q,createNodeIterator:z,createDocumentFragment:Q,getElementsByTagName:et}=r,{importNode:it}=i;let J=zw();t.isSupported=typeof i2=="function"&&typeof O=="function"&&q&&q.createHTMLDocument!==void 0;const{MUSTACHE_EXPR:ot,ERB_EXPR:L,TMPLIT_EXPR:D,DATA_ATTR:F,ARIA_ATTR:R,IS_SCRIPT_OR_DATA:j,ATTR_WHITESPACE:I,CUSTOM_ELEMENT:lt}=$w;let{IS_ALLOWED_URI:ht}=$w,B=null;const Y=It({},[...Bw,...im,...am,...nm,...Nw]);let tt=null;const ct=It({},[...Dw,...sm,...jw,...Rh]);let dt=Object.seal(zm(null,{tagNameCheck:{writable:!0,configurable:!1,enumerable:!0,value:null},attributeNameCheck:{writable:!0,configurable:!1,enumerable:!0,value:null},allowCustomizedBuiltInElements:{writable:!0,configurable:!1,enumerable:!0,value:!1}})),Ct=null,Lt=null;const te=Object.seal(zm(null,{tagCheck:{writable:!0,configurable:!1,enumerable:!0,value:null},attributeCheck:{writable:!0,configurable:!1,enumerable:!0,value:null}}));let Kt=!0,oe=!0,nr=!1,Kr=!0,_r=!1,Qr=!0,pi=!1,vn=!1,Wl=!1,Yi=!1,Ma=!1,Ba=!1,ms=!0,nu=!1;const Cf="user-content-";let Xe=!0,_n=!1,Vi={},Nr=null;const Na=It({},["annotation-xml","audio","colgroup","desc","foreignobject","head","iframe","math","mi","mn","mo","ms","mtext","noembed","noframes","noscript","plaintext","script","style","svg","template","thead","title","video","xmp"]);let su=null;const Gl=It({},["audio","video","img","source","image","track"]);let Yl=null;const lu=It({},["alt","class","for","id","label","name","pattern","placeholder","role","summary","title","value","style","xmlns"]),Li="http://www.w3.org/1998/Math/MathML",Ge="http://www.w3.org/2000/svg",Ye="http://www.w3.org/1999/xhtml";let Re=Ye,Vl=!1,Xl=null;const Tf=It({},[Li,Ge,Ye],em);let Xi=It({},["mi","mo","mn","ms","mtext"]),Ki=It({},["annotation-xml"]);const ys=It({},["title","style","font","a","script"]);let Dr=null;const bs=["application/xhtml+xml","text/html"],wn="text/html";let Te=null,Qi=null;const Kl=r.createElement("form"),Da=function(P){return P instanceof RegExp||P instanceof Function},Ql=function(){let P=arguments.length>0&&arguments[0]!==void 0?arguments[0]:{};if(!(Qi&&Qi===P)){if((!P||typeof P!="object")&&(P={}),P=zi(P),Dr=bs.indexOf(P.PARSER_MEDIA_TYPE)===-1?wn:P.PARSER_MEDIA_TYPE,Te=Dr==="application/xhtml+xml"?em:Gh,B=vi(P,"ALLOWED_TAGS")?It({},P.ALLOWED_TAGS,Te):Y,tt=vi(P,"ALLOWED_ATTR")?It({},P.ALLOWED_ATTR,Te):ct,Xl=vi(P,"ALLOWED_NAMESPACES")?It({},P.ALLOWED_NAMESPACES,em):Tf,Yl=vi(P,"ADD_URI_SAFE_ATTR")?It(zi(lu),P.ADD_URI_SAFE_ATTR,Te):lu,su=vi(P,"ADD_DATA_URI_TAGS")?It(zi(Gl),P.ADD_DATA_URI_TAGS,Te):Gl,Nr=vi(P,"FORBID_CONTENTS")?It({},P.FORBID_CONTENTS,Te):Na,Ct=vi(P,"FORBID_TAGS")?It({},P.FORBID_TAGS,Te):zi({}),Lt=vi(P,"FORBID_ATTR")?It({},P.FORBID_ATTR,Te):zi({}),Vi=vi(P,"USE_PROFILES")?P.USE_PROFILES:!1,Kt=P.ALLOW_ARIA_ATTR!==!1,oe=P.ALLOW_DATA_ATTR!==!1,nr=P.ALLOW_UNKNOWN_PROTOCOLS||!1,Kr=P.ALLOW_SELF_CLOSE_IN_ATTR!==!1,_r=P.SAFE_FOR_TEMPLATES||!1,Qr=P.SAFE_FOR_XML!==!1,pi=P.WHOLE_DOCUMENT||!1,Yi=P.RETURN_DOM||!1,Ma=P.RETURN_DOM_FRAGMENT||!1,Ba=P.RETURN_TRUSTED_TYPE||!1,Wl=P.FORCE_BODY||!1,ms=P.SANITIZE_DOM!==!1,nu=P.SANITIZE_NAMED_PROPS||!1,Xe=P.KEEP_CONTENT!==!1,_n=P.IN_PLACE||!1,ht=P.ALLOWED_URI_REGEXP||a2,Re=P.NAMESPACE||Ye,Xi=P.MATHML_TEXT_INTEGRATION_POINTS||Xi,Ki=P.HTML_INTEGRATION_POINTS||Ki,dt=P.CUSTOM_ELEMENT_HANDLING||{},P.CUSTOM_ELEMENT_HANDLING&&Da(P.CUSTOM_ELEMENT_HANDLING.tagNameCheck)&&(dt.tagNameCheck=P.CUSTOM_ELEMENT_HANDLING.tagNameCheck),P.CUSTOM_ELEMENT_HANDLING&&Da(P.CUSTOM_ELEMENT_HANDLING.attributeNameCheck)&&(dt.attributeNameCheck=P.CUSTOM_ELEMENT_HANDLING.attributeNameCheck),P.CUSTOM_ELEMENT_HANDLING&&typeof P.CUSTOM_ELEMENT_HANDLING.allowCustomizedBuiltInElements=="boolean"&&(dt.allowCustomizedBuiltInElements=P.CUSTOM_ELEMENT_HANDLING.allowCustomizedBuiltInElements),_r&&(oe=!1),Ma&&(Yi=!0),Vi&&(B=It({},Nw),tt=[],Vi.html===!0&&(It(B,Bw),It(tt,Dw)),Vi.svg===!0&&(It(B,im),It(tt,sm),It(tt,Rh)),Vi.svgFilters===!0&&(It(B,am),It(tt,sm),It(tt,Rh)),Vi.mathMl===!0&&(It(B,nm),It(tt,jw),It(tt,Rh))),P.ADD_TAGS&&(typeof P.ADD_TAGS=="function"?te.tagCheck=P.ADD_TAGS:(B===Y&&(B=zi(B)),It(B,P.ADD_TAGS,Te))),P.ADD_ATTR&&(typeof P.ADD_ATTR=="function"?te.attributeCheck=P.ADD_ATTR:(tt===ct&&(tt=zi(tt)),It(tt,P.ADD_ATTR,Te))),P.ADD_URI_SAFE_ATTR&&It(Yl,P.ADD_URI_SAFE_ATTR,Te),P.FORBID_CONTENTS&&(Nr===Na&&(Nr=zi(Nr)),It(Nr,P.FORBID_CONTENTS,Te)),P.ADD_FORBID_CONTENTS&&(Nr===Na&&(Nr=zi(Nr)),It(Nr,P.ADD_FORBID_CONTENTS,Te)),Xe&&(B["#text"]=!0),pi&&It(B,["html","head","body"]),B.table&&(It(B,["tbody"]),delete Ct.tbody),P.TRUSTED_TYPES_POLICY){if(typeof P.TRUSTED_TYPES_POLICY.createHTML!="function")throw Qo('TRUSTED_TYPES_POLICY configuration option must provide a "createHTML" hook.');if(typeof P.TRUSTED_TYPES_POLICY.createScriptURL!="function")throw Qo('TRUSTED_TYPES_POLICY configuration option must provide a "createScriptURL" hook.');M=P.TRUSTED_TYPES_POLICY,N=M.createHTML("")}else M===void 0&&(M=XD(x,n)),M!==null&&typeof N=="string"&&(N=M.createHTML(""));xr&&xr(P),Qi=P}},Zl=It({},[...im,...am,...zD]),Jl=It({},[...nm,...FD]),ou=function(P){let ut=O(P);(!ut||!ut.tagName)&&(ut={namespaceURI:Re,tagName:"template"});const mt=Gh(P.tagName),re=Gh(ut.tagName);return Xl[P.namespaceURI]?P.namespaceURI===Ge?ut.namespaceURI===Ye?mt==="svg":ut.namespaceURI===Li?mt==="svg"&&(re==="annotation-xml"||Xi[re]):!!Zl[mt]:P.namespaceURI===Li?ut.namespaceURI===Ye?mt==="math":ut.namespaceURI===Ge?mt==="math"&&Ki[re]:!!Jl[mt]:P.namespaceURI===Ye?ut.namespaceURI===Ge&&!Ki[re]||ut.namespaceURI===Li&&!Xi[re]?!1:!Jl[mt]&&(ys[mt]||!Zl[mt]):!!(Dr==="application/xhtml+xml"&&Xl[P.namespaceURI]):!1},wr=function(P){Xo(t.removed,{element:P});try{O(P).removeChild(P)}catch{S(P)}},gi=function(P,ut){try{Xo(t.removed,{attribute:ut.getAttributeNode(P),from:ut})}catch{Xo(t.removed,{attribute:null,from:ut})}if(ut.removeAttribute(P),P==="is")if(Yi||Ma)try{wr(ut)}catch{}else try{ut.setAttribute(P,"")}catch{}},to=function(P){let ut=null,mt=null;if(Wl)P="<remove></remove>"+P;else{const Ut=rm(P,/^[\r\n\t ]+/);mt=Ut&&Ut[0]}Dr==="application/xhtml+xml"&&Re===Ye&&(P='<html xmlns="http://www.w3.org/1999/xhtml"><head></head><body>'+P+"</body></html>");const re=M?M.createHTML(P):P;if(Re===Ye)try{ut=new y().parseFromString(re,Dr)}catch{}if(!ut||!ut.documentElement){ut=q.createDocument(Re,"template",null);try{ut.documentElement.innerHTML=Vl?N:re}catch{}}const _e=ut.body||ut.documentElement;return P&&mt&&_e.insertBefore(r.createTextNode(mt),_e.childNodes[0]||null),Re===Ye?et.call(ut,pi?"html":"body")[0]:pi?ut.documentElement:_e},eo=function(P){return z.call(P.ownerDocument||P,P,d.SHOW_ELEMENT|d.SHOW_COMMENT|d.SHOW_TEXT|d.SHOW_PROCESSING_INSTRUCTION|d.SHOW_CDATA_SECTION,null)},Zr=function(P){return P instanceof g&&(typeof P.nodeName!="string"||typeof P.textContent!="string"||typeof P.removeChild!="function"||!(P.attributes instanceof p)||typeof P.removeAttribute!="function"||typeof P.setAttribute!="function"||typeof P.namespaceURI!="string"||typeof P.insertBefore!="function"||typeof P.hasChildNodes!="function")},Le=function(P){return typeof u=="function"&&P instanceof u};function ye(St,P,ut){Oh(St,mt=>{mt.call(t,P,ut,Qi)})}const Zi=function(P){let ut=null;if(ye(J.beforeSanitizeElements,P,null),Zr(P))return wr(P),!0;const mt=Te(P.nodeName);if(ye(J.uponSanitizeElement,P,{tagName:mt,allowedTags:B}),Qr&&P.hasChildNodes()&&!Le(P.firstElementChild)&&pr(/<[/\w!]/g,P.innerHTML)&&pr(/<[/\w!]/g,P.textContent)||P.nodeType===Jo.progressingInstruction||Qr&&P.nodeType===Jo.comment&&pr(/<[/\w]/g,P.data))return wr(P),!0;if(!(te.tagCheck instanceof Function&&te.tagCheck(mt))&&(!B[mt]||Ct[mt])){if(!Ct[mt]&&cu(mt)&&(dt.tagNameCheck instanceof RegExp&&pr(dt.tagNameCheck,mt)||dt.tagNameCheck instanceof Function&&dt.tagNameCheck(mt)))return!1;if(Xe&&!Nr[mt]){const re=O(P)||P.parentNode,_e=E(P)||P.childNodes;if(_e&&re){const Ut=_e.length;for(let Ke=Ut-1;Ke>=0;--Ke){const Jr=_(_e[Ke],!0);Jr.__removalCount=(P.__removalCount||0)+1,re.insertBefore(Jr,T(P))}}}return wr(P),!0}return P instanceof h&&!ou(P)||(mt==="noscript"||mt==="noembed"||mt==="noframes")&&pr(/<\/no(script|embed|frames)/i,P.innerHTML)?(wr(P),!0):(_r&&P.nodeType===Jo.text&&(ut=P.textContent,Oh([ot,L,D],re=>{ut=Ko(ut,re," ")}),P.textContent!==ut&&(Xo(t.removed,{element:P.cloneNode()}),P.textContent=ut)),ye(J.afterSanitizeElements,P,null),!1)},xs=function(P,ut,mt){if(ms&&(ut==="id"||ut==="name")&&(mt in r||mt in Kl))return!1;if(!(oe&&!Lt[ut]&&pr(F,ut))){if(!(Kt&&pr(R,ut))){if(!(te.attributeCheck instanceof Function&&te.attributeCheck(ut,P))){if(!tt[ut]||Lt[ut]){if(!(cu(P)&&(dt.tagNameCheck instanceof RegExp&&pr(dt.tagNameCheck,P)||dt.tagNameCheck instanceof Function&&dt.tagNameCheck(P))&&(dt.attributeNameCheck instanceof RegExp&&pr(dt.attributeNameCheck,ut)||dt.attributeNameCheck instanceof Function&&dt.attributeNameCheck(ut,P))||ut==="is"&&dt.allowCustomizedBuiltInElements&&(dt.tagNameCheck instanceof RegExp&&pr(dt.tagNameCheck,mt)||dt.tagNameCheck instanceof Function&&dt.tagNameCheck(mt))))return!1}else if(!Yl[ut]){if(!pr(ht,Ko(mt,I,""))){if(!((ut==="src"||ut==="xlink:href"||ut==="href")&&P!=="script"&&ND(mt,"data:")===0&&su[P])){if(!(nr&&!pr(j,Ko(mt,I,"")))){if(mt)return!1}}}}}}}return!0},cu=function(P){return P!=="annotation-xml"&&rm(P,lt)},uu=function(P){ye(J.beforeSanitizeAttributes,P,null);const{attributes:ut}=P;if(!ut||Zr(P))return;const mt={attrName:"",attrValue:"",keepAttr:!0,allowedAttributes:tt,forceKeepAttr:void 0};let re=ut.length;for(;re--;){const _e=ut[re],{name:Ut,namespaceURI:Ke,value:Jr}=_e,Sr=Te(Ut),Mi=Jr;let ze=Ut==="value"?Mi:DD(Mi);if(mt.attrName=Sr,mt.attrValue=ze,mt.keepAttr=!0,mt.forceKeepAttr=void 0,ye(J.uponSanitizeAttribute,P,mt),ze=mt.attrValue,nu&&(Sr==="id"||Sr==="name")&&(gi(Ut,P),ze=Cf+ze),Qr&&pr(/((--!?|])>)|<\/(style|title|textarea)/i,ze)){gi(Ut,P);continue}if(Sr==="attributename"&&rm(ze,"href")){gi(Ut,P);continue}if(mt.forceKeepAttr)continue;if(!mt.keepAttr){gi(Ut,P);continue}if(!Kr&&pr(/\/>/i,ze)){gi(Ut,P);continue}_r&&Oh([ot,L,D],io=>{ze=Ko(ze,io," ")});const ro=Te(P.nodeName);if(!xs(ro,Sr,ze)){gi(Ut,P);continue}if(M&&typeof x=="object"&&typeof x.getAttributeType=="function"&&!Ke)switch(x.getAttributeType(ro,Sr)){case"TrustedHTML":{ze=M.createHTML(ze);break}case"TrustedScriptURL":{ze=M.createScriptURL(ze);break}}if(ze!==Mi)try{Ke?P.setAttributeNS(Ke,Ut,ze):P.setAttribute(Ut,ze),Zr(P)?wr(P):Mw(t.removed)}catch{gi(Ut,P)}}ye(J.afterSanitizeAttributes,P,null)},hu=function St(P){let ut=null;const mt=eo(P);for(ye(J.beforeSanitizeShadowDOM,P,null);ut=mt.nextNode();)ye(J.uponSanitizeShadowNode,ut,null),Zi(ut),uu(ut),ut.content instanceof l&&St(ut.content);ye(J.afterSanitizeShadowDOM,P,null)};return t.sanitize=function(St){let P=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{},ut=null,mt=null,re=null,_e=null;if(Vl=!St,Vl&&(St="<!-->"),typeof St!="string"&&!Le(St))if(typeof St.toString=="function"){if(St=St.toString(),typeof St!="string")throw Qo("dirty is not a string, aborting")}else throw Qo("toString is not a function");if(!t.isSupported)return St;if(vn||Ql(P),t.removed=[],typeof St=="string"&&(_n=!1),_n){if(St.nodeName){const Jr=Te(St.nodeName);if(!B[Jr]||Ct[Jr])throw Qo("root node is forbidden and cannot be sanitized in-place")}}else if(St instanceof u)ut=to("<!---->"),mt=ut.ownerDocument.importNode(St,!0),mt.nodeType===Jo.element&&mt.nodeName==="BODY"||mt.nodeName==="HTML"?ut=mt:ut.appendChild(mt);else{if(!Yi&&!_r&&!pi&&St.indexOf("<")===-1)return M&&Ba?M.createHTML(St):St;if(ut=to(St),!ut)return Yi?null:Ba?N:""}ut&&Wl&&wr(ut.firstChild);const Ut=eo(_n?St:ut);for(;re=Ut.nextNode();)Zi(re),uu(re),re.content instanceof l&&hu(re.content);if(_n)return St;if(Yi){if(Ma)for(_e=Q.call(ut.ownerDocument);ut.firstChild;)_e.appendChild(ut.firstChild);else _e=ut;return(tt.shadowroot||tt.shadowrootmode)&&(_e=it.call(i,_e,!0)),_e}let Ke=pi?ut.outerHTML:ut.innerHTML;return pi&&B["!doctype"]&&ut.ownerDocument&&ut.ownerDocument.doctype&&ut.ownerDocument.doctype.name&&pr(n2,ut.ownerDocument.doctype.name)&&(Ke="<!DOCTYPE "+ut.ownerDocument.doctype.name+`>
`+Ke),_r&&Oh([ot,L,D],Jr=>{Ke=Ko(Ke,Jr," ")}),M&&Ba?M.createHTML(Ke):Ke},t.setConfig=function(){let St=arguments.length>0&&arguments[0]!==void 0?arguments[0]:{};Ql(St),vn=!0},t.clearConfig=function(){Qi=null,vn=!1},t.isValidAttribute=function(St,P,ut){Qi||Ql({});const mt=Te(St),re=Te(P);return xs(mt,re,ut)},t.addHook=function(St,P){typeof P=="function"&&Xo(J[St],P)},t.removeHook=function(St,P){if(P!==void 0){const ut=MD(J[St],P);return ut===-1?void 0:BD(J[St],ut,1)[0]}return Mw(J[St])},t.removeHooks=function(St){J[St]=[]},t.removeAllHooks=function(){J=zw()},t}var Tl=s2(),l2=/^-{3}\s*[\n\r](.*?)[\n\r]-{3}\s*[\n\r]+/s,wc=/%{2}{\s*(?:(\w+)\s*:|(\w+))\s*(?:(\w+)|((?:(?!}%{2}).|\r?\n)*))?\s*(?:}%{2})?/gi,KD=/\s*%%.*\n/gm,bl,o2=(bl=class extends Error{constructor(t){super(t),this.name="UnknownDiagramError"}},w(bl,"UnknownDiagramError"),bl),as={},Qy=w(function(e,t){e=e.replace(l2,"").replace(wc,"").replace(KD,`
`);for(const[r,{detector:i}]of Object.entries(as))if(i(e,t))return r;throw new o2(`No diagram type detected matching given configuration for text: ${e}`)},"detectType"),Um=w((...e)=>{for(const{id:t,detector:r,loader:i}of e)c2(t,r,i)},"registerLazyLoadedDiagrams"),c2=w((e,t,r)=>{as[e]&&st.warn(`Detector with key ${e} already exists. Overwriting.`),as[e]={detector:t,loader:r},st.debug(`Detector with key ${e} added${r?" with loader":""}`)},"addDetector"),QD=w(e=>as[e].loader,"getDiagramLoader"),Im=w((e,t,{depth:r=2,clobber:i=!1}={})=>{const n={depth:r,clobber:i};return Array.isArray(t)&&!Array.isArray(e)?(t.forEach(l=>Im(e,l,n)),e):Array.isArray(t)&&Array.isArray(e)?(t.forEach(l=>{e.includes(l)||e.push(l)}),e):e===void 0||r<=0?e!=null&&typeof e=="object"&&typeof t=="object"?Object.assign(e,t):t:(t!==void 0&&typeof e=="object"&&typeof t=="object"&&Object.keys(t).forEach(l=>{typeof t[l]=="object"&&(e[l]===void 0||typeof e[l]=="object")?(e[l]===void 0&&(e[l]=Array.isArray(t[l])?[]:{}),e[l]=Im(e[l],t[l],{depth:r-1,clobber:i})):(i||typeof e[l]!="object"&&typeof t[l]!="object")&&(e[l]=t[l])}),e)},"assignWithDepth"),qe=Im,Zd="#ffffff",Jd="#f2f2f2",gr=w((e,t)=>t?G(e,{s:-40,l:10}):G(e,{s:-40,l:-10}),"mkBorder"),xl,ZD=(xl=class{constructor(){this.background="#f4f4f4",this.primaryColor="#fff4dd",this.noteBkgColor="#fff5ad",this.noteTextColor="#333",this.THEME_COLOR_LIMIT=12,this.fontFamily='"trebuchet ms", verdana, arial, sans-serif',this.fontSize="16px"}updateColors(){if(this.primaryTextColor=this.primaryTextColor||(this.darkMode?"#eee":"#333"),this.secondaryColor=this.secondaryColor||G(this.primaryColor,{h:-120}),this.tertiaryColor=this.tertiaryColor||G(this.primaryColor,{h:180,l:5}),this.primaryBorderColor=this.primaryBorderColor||gr(this.primaryColor,this.darkMode),this.secondaryBorderColor=this.secondaryBorderColor||gr(this.secondaryColor,this.darkMode),this.tertiaryBorderColor=this.tertiaryBorderColor||gr(this.tertiaryColor,this.darkMode),this.noteBorderColor=this.noteBorderColor||gr(this.noteBkgColor,this.darkMode),this.noteBkgColor=this.noteBkgColor||"#fff5ad",this.noteTextColor=this.noteTextColor||"#333",this.secondaryTextColor=this.secondaryTextColor||ft(this.secondaryColor),this.tertiaryTextColor=this.tertiaryTextColor||ft(this.tertiaryColor),this.lineColor=this.lineColor||ft(this.background),this.arrowheadColor=this.arrowheadColor||ft(this.background),this.textColor=this.textColor||this.primaryTextColor,this.border2=this.border2||this.tertiaryBorderColor,this.nodeBkg=this.nodeBkg||this.primaryColor,this.mainBkg=this.mainBkg||this.primaryColor,this.nodeBorder=this.nodeBorder||this.primaryBorderColor,this.clusterBkg=this.clusterBkg||this.tertiaryColor,this.clusterBorder=this.clusterBorder||this.tertiaryBorderColor,this.defaultLinkColor=this.defaultLinkColor||this.lineColor,this.titleColor=this.titleColor||this.tertiaryTextColor,this.edgeLabelBackground=this.edgeLabelBackground||(this.darkMode?Ot(this.secondaryColor,30):this.secondaryColor),this.nodeTextColor=this.nodeTextColor||this.primaryTextColor,this.actorBorder=this.actorBorder||this.primaryBorderColor,this.actorBkg=this.actorBkg||this.mainBkg,this.actorTextColor=this.actorTextColor||this.primaryTextColor,this.actorLineColor=this.actorLineColor||this.actorBorder,this.labelBoxBkgColor=this.labelBoxBkgColor||this.actorBkg,this.signalColor=this.signalColor||this.textColor,this.signalTextColor=this.signalTextColor||this.textColor,this.labelBoxBorderColor=this.labelBoxBorderColor||this.actorBorder,this.labelTextColor=this.labelTextColor||this.actorTextColor,this.loopTextColor=this.loopTextColor||this.actorTextColor,this.activationBorderColor=this.activationBorderColor||Ot(this.secondaryColor,10),this.activationBkgColor=this.activationBkgColor||this.secondaryColor,this.sequenceNumberColor=this.sequenceNumberColor||ft(this.lineColor),this.sectionBkgColor=this.sectionBkgColor||this.tertiaryColor,this.altSectionBkgColor=this.altSectionBkgColor||"white",this.sectionBkgColor=this.sectionBkgColor||this.secondaryColor,this.sectionBkgColor2=this.sectionBkgColor2||this.primaryColor,this.excludeBkgColor=this.excludeBkgColor||"#eeeeee",this.taskBorderColor=this.taskBorderColor||this.primaryBorderColor,this.taskBkgColor=this.taskBkgColor||this.primaryColor,this.activeTaskBorderColor=this.activeTaskBorderColor||this.primaryColor,this.activeTaskBkgColor=this.activeTaskBkgColor||bt(this.primaryColor,23),this.gridColor=this.gridColor||"lightgrey",this.doneTaskBkgColor=this.doneTaskBkgColor||"lightgrey",this.doneTaskBorderColor=this.doneTaskBorderColor||"grey",this.critBorderColor=this.critBorderColor||"#ff8888",this.critBkgColor=this.critBkgColor||"red",this.todayLineColor=this.todayLineColor||"red",this.vertLineColor=this.vertLineColor||"navy",this.taskTextColor=this.taskTextColor||this.textColor,this.taskTextOutsideColor=this.taskTextOutsideColor||this.textColor,this.taskTextLightColor=this.taskTextLightColor||this.textColor,this.taskTextColor=this.taskTextColor||this.primaryTextColor,this.taskTextDarkColor=this.taskTextDarkColor||this.textColor,this.taskTextClickableColor=this.taskTextClickableColor||"#003163",this.personBorder=this.personBorder||this.primaryBorderColor,this.personBkg=this.personBkg||this.mainBkg,this.darkMode?(this.rowOdd=this.rowOdd||Ot(this.mainBkg,5)||"#ffffff",this.rowEven=this.rowEven||Ot(this.mainBkg,10)):(this.rowOdd=this.rowOdd||bt(this.mainBkg,75)||"#ffffff",this.rowEven=this.rowEven||bt(this.mainBkg,5)),this.transitionColor=this.transitionColor||this.lineColor,this.transitionLabelColor=this.transitionLabelColor||this.textColor,this.stateLabelColor=this.stateLabelColor||this.stateBkg||this.primaryTextColor,this.stateBkg=this.stateBkg||this.mainBkg,this.labelBackgroundColor=this.labelBackgroundColor||this.stateBkg,this.compositeBackground=this.compositeBackground||this.background||this.tertiaryColor,this.altBackground=this.altBackground||this.tertiaryColor,this.compositeTitleBackground=this.compositeTitleBackground||this.mainBkg,this.compositeBorder=this.compositeBorder||this.nodeBorder,this.innerEndBackground=this.nodeBorder,this.errorBkgColor=this.errorBkgColor||this.tertiaryColor,this.errorTextColor=this.errorTextColor||this.tertiaryTextColor,this.transitionColor=this.transitionColor||this.lineColor,this.specialStateColor=this.lineColor,this.cScale0=this.cScale0||this.primaryColor,this.cScale1=this.cScale1||this.secondaryColor,this.cScale2=this.cScale2||this.tertiaryColor,this.cScale3=this.cScale3||G(this.primaryColor,{h:30}),this.cScale4=this.cScale4||G(this.primaryColor,{h:60}),this.cScale5=this.cScale5||G(this.primaryColor,{h:90}),this.cScale6=this.cScale6||G(this.primaryColor,{h:120}),this.cScale7=this.cScale7||G(this.primaryColor,{h:150}),this.cScale8=this.cScale8||G(this.primaryColor,{h:210,l:150}),this.cScale9=this.cScale9||G(this.primaryColor,{h:270}),this.cScale10=this.cScale10||G(this.primaryColor,{h:300}),this.cScale11=this.cScale11||G(this.primaryColor,{h:330}),this.darkMode)for(let r=0;r<this.THEME_COLOR_LIMIT;r++)this["cScale"+r]=Ot(this["cScale"+r],75);else for(let r=0;r<this.THEME_COLOR_LIMIT;r++)this["cScale"+r]=Ot(this["cScale"+r],25);for(let r=0;r<this.THEME_COLOR_LIMIT;r++)this["cScaleInv"+r]=this["cScaleInv"+r]||ft(this["cScale"+r]);for(let r=0;r<this.THEME_COLOR_LIMIT;r++)this.darkMode?this["cScalePeer"+r]=this["cScalePeer"+r]||bt(this["cScale"+r],10):this["cScalePeer"+r]=this["cScalePeer"+r]||Ot(this["cScale"+r],10);this.scaleLabelColor=this.scaleLabelColor||this.labelTextColor;for(let r=0;r<this.THEME_COLOR_LIMIT;r++)this["cScaleLabel"+r]=this["cScaleLabel"+r]||this.scaleLabelColor;const t=this.darkMode?-4:-1;for(let r=0;r<5;r++)this["surface"+r]=this["surface"+r]||G(this.mainBkg,{h:180,s:-15,l:t*(5+r*3)}),this["surfacePeer"+r]=this["surfacePeer"+r]||G(this.mainBkg,{h:180,s:-15,l:t*(8+r*3)});this.classText=this.classText||this.textColor,this.fillType0=this.fillType0||this.primaryColor,this.fillType1=this.fillType1||this.secondaryColor,this.fillType2=this.fillType2||G(this.primaryColor,{h:64}),this.fillType3=this.fillType3||G(this.secondaryColor,{h:64}),this.fillType4=this.fillType4||G(this.primaryColor,{h:-64}),this.fillType5=this.fillType5||G(this.secondaryColor,{h:-64}),this.fillType6=this.fillType6||G(this.primaryColor,{h:128}),this.fillType7=this.fillType7||G(this.secondaryColor,{h:128}),this.pie1=this.pie1||this.primaryColor,this.pie2=this.pie2||this.secondaryColor,this.pie3=this.pie3||this.tertiaryColor,this.pie4=this.pie4||G(this.primaryColor,{l:-10}),this.pie5=this.pie5||G(this.secondaryColor,{l:-10}),this.pie6=this.pie6||G(this.tertiaryColor,{l:-10}),this.pie7=this.pie7||G(this.primaryColor,{h:60,l:-10}),this.pie8=this.pie8||G(this.primaryColor,{h:-60,l:-10}),this.pie9=this.pie9||G(this.primaryColor,{h:120,l:0}),this.pie10=this.pie10||G(this.primaryColor,{h:60,l:-20}),this.pie11=this.pie11||G(this.primaryColor,{h:-60,l:-20}),this.pie12=this.pie12||G(this.primaryColor,{h:120,l:-10}),this.pieTitleTextSize=this.pieTitleTextSize||"25px",this.pieTitleTextColor=this.pieTitleTextColor||this.taskTextDarkColor,this.pieSectionTextSize=this.pieSectionTextSize||"17px",this.pieSectionTextColor=this.pieSectionTextColor||this.textColor,this.pieLegendTextSize=this.pieLegendTextSize||"17px",this.pieLegendTextColor=this.pieLegendTextColor||this.taskTextDarkColor,this.pieStrokeColor=this.pieStrokeColor||"black",this.pieStrokeWidth=this.pieStrokeWidth||"2px",this.pieOuterStrokeWidth=this.pieOuterStrokeWidth||"2px",this.pieOuterStrokeColor=this.pieOuterStrokeColor||"black",this.pieOpacity=this.pieOpacity||"0.7",this.radar={axisColor:this.radar?.axisColor||this.lineColor,axisStrokeWidth:this.radar?.axisStrokeWidth||2,axisLabelFontSize:this.radar?.axisLabelFontSize||12,curveOpacity:this.radar?.curveOpacity||.5,curveStrokeWidth:this.radar?.curveStrokeWidth||2,graticuleColor:this.radar?.graticuleColor||"#DEDEDE",graticuleStrokeWidth:this.radar?.graticuleStrokeWidth||1,graticuleOpacity:this.radar?.graticuleOpacity||.3,legendBoxSize:this.radar?.legendBoxSize||12,legendFontSize:this.radar?.legendFontSize||12},this.archEdgeColor=this.archEdgeColor||"#777",this.archEdgeArrowColor=this.archEdgeArrowColor||"#777",this.archEdgeWidth=this.archEdgeWidth||"3",this.archGroupBorderColor=this.archGroupBorderColor||"#000",this.archGroupBorderWidth=this.archGroupBorderWidth||"2px",this.quadrant1Fill=this.quadrant1Fill||this.primaryColor,this.quadrant2Fill=this.quadrant2Fill||G(this.primaryColor,{r:5,g:5,b:5}),this.quadrant3Fill=this.quadrant3Fill||G(this.primaryColor,{r:10,g:10,b:10}),this.quadrant4Fill=this.quadrant4Fill||G(this.primaryColor,{r:15,g:15,b:15}),this.quadrant1TextFill=this.quadrant1TextFill||this.primaryTextColor,this.quadrant2TextFill=this.quadrant2TextFill||G(this.primaryTextColor,{r:-5,g:-5,b:-5}),this.quadrant3TextFill=this.quadrant3TextFill||G(this.primaryTextColor,{r:-10,g:-10,b:-10}),this.quadrant4TextFill=this.quadrant4TextFill||G(this.primaryTextColor,{r:-15,g:-15,b:-15}),this.quadrantPointFill=this.quadrantPointFill||Xc(this.quadrant1Fill)?bt(this.quadrant1Fill):Ot(this.quadrant1Fill),this.quadrantPointTextFill=this.quadrantPointTextFill||this.primaryTextColor,this.quadrantXAxisTextFill=this.quadrantXAxisTextFill||this.primaryTextColor,this.quadrantYAxisTextFill=this.quadrantYAxisTextFill||this.primaryTextColor,this.quadrantInternalBorderStrokeFill=this.quadrantInternalBorderStrokeFill||this.primaryBorderColor,this.quadrantExternalBorderStrokeFill=this.quadrantExternalBorderStrokeFill||this.primaryBorderColor,this.quadrantTitleFill=this.quadrantTitleFill||this.primaryTextColor,this.xyChart={backgroundColor:this.xyChart?.backgroundColor||this.background,titleColor:this.xyChart?.titleColor||this.primaryTextColor,xAxisTitleColor:this.xyChart?.xAxisTitleColor||this.primaryTextColor,xAxisLabelColor:this.xyChart?.xAxisLabelColor||this.primaryTextColor,xAxisTickColor:this.xyChart?.xAxisTickColor||this.primaryTextColor,xAxisLineColor:this.xyChart?.xAxisLineColor||this.primaryTextColor,yAxisTitleColor:this.xyChart?.yAxisTitleColor||this.primaryTextColor,yAxisLabelColor:this.xyChart?.yAxisLabelColor||this.primaryTextColor,yAxisTickColor:this.xyChart?.yAxisTickColor||this.primaryTextColor,yAxisLineColor:this.xyChart?.yAxisLineColor||this.primaryTextColor,plotColorPalette:this.xyChart?.plotColorPalette||"#FFF4DD,#FFD8B1,#FFA07A,#ECEFF1,#D6DBDF,#C3E0A8,#FFB6A4,#FFD74D,#738FA7,#FFFFF0"},this.requirementBackground=this.requirementBackground||this.primaryColor,this.requirementBorderColor=this.requirementBorderColor||this.primaryBorderColor,this.requirementBorderSize=this.requirementBorderSize||"1",this.requirementTextColor=this.requirementTextColor||this.primaryTextColor,this.relationColor=this.relationColor||this.lineColor,this.relationLabelBackground=this.relationLabelBackground||(this.darkMode?Ot(this.secondaryColor,30):this.secondaryColor),this.relationLabelColor=this.relationLabelColor||this.actorTextColor,this.git0=this.git0||this.primaryColor,this.git1=this.git1||this.secondaryColor,this.git2=this.git2||this.tertiaryColor,this.git3=this.git3||G(this.primaryColor,{h:-30}),this.git4=this.git4||G(this.primaryColor,{h:-60}),this.git5=this.git5||G(this.primaryColor,{h:-90}),this.git6=this.git6||G(this.primaryColor,{h:60}),this.git7=this.git7||G(this.primaryColor,{h:120}),this.darkMode?(this.git0=bt(this.git0,25),this.git1=bt(this.git1,25),this.git2=bt(this.git2,25),this.git3=bt(this.git3,25),this.git4=bt(this.git4,25),this.git5=bt(this.git5,25),this.git6=bt(this.git6,25),this.git7=bt(this.git7,25)):(this.git0=Ot(this.git0,25),this.git1=Ot(this.git1,25),this.git2=Ot(this.git2,25),this.git3=Ot(this.git3,25),this.git4=Ot(this.git4,25),this.git5=Ot(this.git5,25),this.git6=Ot(this.git6,25),this.git7=Ot(this.git7,25)),this.gitInv0=this.gitInv0||ft(this.git0),this.gitInv1=this.gitInv1||ft(this.git1),this.gitInv2=this.gitInv2||ft(this.git2),this.gitInv3=this.gitInv3||ft(this.git3),this.gitInv4=this.gitInv4||ft(this.git4),this.gitInv5=this.gitInv5||ft(this.git5),this.gitInv6=this.gitInv6||ft(this.git6),this.gitInv7=this.gitInv7||ft(this.git7),this.branchLabelColor=this.branchLabelColor||(this.darkMode?"black":this.labelTextColor),this.gitBranchLabel0=this.gitBranchLabel0||this.branchLabelColor,this.gitBranchLabel1=this.gitBranchLabel1||this.branchLabelColor,this.gitBranchLabel2=this.gitBranchLabel2||this.branchLabelColor,this.gitBranchLabel3=this.gitBranchLabel3||this.branchLabelColor,this.gitBranchLabel4=this.gitBranchLabel4||this.branchLabelColor,this.gitBranchLabel5=this.gitBranchLabel5||this.branchLabelColor,this.gitBranchLabel6=this.gitBranchLabel6||this.branchLabelColor,this.gitBranchLabel7=this.gitBranchLabel7||this.branchLabelColor,this.tagLabelColor=this.tagLabelColor||this.primaryTextColor,this.tagLabelBackground=this.tagLabelBackground||this.primaryColor,this.tagLabelBorder=this.tagBorder||this.primaryBorderColor,this.tagLabelFontSize=this.tagLabelFontSize||"10px",this.commitLabelColor=this.commitLabelColor||this.secondaryTextColor,this.commitLabelBackground=this.commitLabelBackground||this.secondaryColor,this.commitLabelFontSize=this.commitLabelFontSize||"10px",this.attributeBackgroundColorOdd=this.attributeBackgroundColorOdd||Zd,this.attributeBackgroundColorEven=this.attributeBackgroundColorEven||Jd}calculate(t){if(typeof t!="object"){this.updateColors();return}const r=Object.keys(t);r.forEach(i=>{this[i]=t[i]}),this.updateColors(),r.forEach(i=>{this[i]=t[i]})}},w(xl,"Theme"),xl),JD=w(e=>{const t=new ZD;return t.calculate(e),t},"getThemeVariables"),vl,tj=(vl=class{constructor(){this.background="#333",this.primaryColor="#1f2020",this.secondaryColor=bt(this.primaryColor,16),this.tertiaryColor=G(this.primaryColor,{h:-160}),this.primaryBorderColor=ft(this.background),this.secondaryBorderColor=gr(this.secondaryColor,this.darkMode),this.tertiaryBorderColor=gr(this.tertiaryColor,this.darkMode),this.primaryTextColor=ft(this.primaryColor),this.secondaryTextColor=ft(this.secondaryColor),this.tertiaryTextColor=ft(this.tertiaryColor),this.lineColor=ft(this.background),this.textColor=ft(this.background),this.mainBkg="#1f2020",this.secondBkg="calculated",this.mainContrastColor="lightgrey",this.darkTextColor=bt(ft("#323D47"),10),this.lineColor="calculated",this.border1="#ccc",this.border2=_c(255,255,255,.25),this.arrowheadColor="calculated",this.fontFamily='"trebuchet ms", verdana, arial, sans-serif',this.fontSize="16px",this.labelBackground="#181818",this.textColor="#ccc",this.THEME_COLOR_LIMIT=12,this.nodeBkg="calculated",this.nodeBorder="calculated",this.clusterBkg="calculated",this.clusterBorder="calculated",this.defaultLinkColor="calculated",this.titleColor="#F9FFFE",this.edgeLabelBackground="calculated",this.actorBorder="calculated",this.actorBkg="calculated",this.actorTextColor="calculated",this.actorLineColor="calculated",this.signalColor="calculated",this.signalTextColor="calculated",this.labelBoxBkgColor="calculated",this.labelBoxBorderColor="calculated",this.labelTextColor="calculated",this.loopTextColor="calculated",this.noteBorderColor="calculated",this.noteBkgColor="#fff5ad",this.noteTextColor="calculated",this.activationBorderColor="calculated",this.activationBkgColor="calculated",this.sequenceNumberColor="black",this.sectionBkgColor=Ot("#EAE8D9",30),this.altSectionBkgColor="calculated",this.sectionBkgColor2="#EAE8D9",this.excludeBkgColor=Ot(this.sectionBkgColor,10),this.taskBorderColor=_c(255,255,255,70),this.taskBkgColor="calculated",this.taskTextColor="calculated",this.taskTextLightColor="calculated",this.taskTextOutsideColor="calculated",this.taskTextClickableColor="#003163",this.activeTaskBorderColor=_c(255,255,255,50),this.activeTaskBkgColor="#81B1DB",this.gridColor="calculated",this.doneTaskBkgColor="calculated",this.doneTaskBorderColor="grey",this.critBorderColor="#E83737",this.critBkgColor="#E83737",this.taskTextDarkColor="calculated",this.todayLineColor="#DB5757",this.vertLineColor="#00BFFF",this.personBorder=this.primaryBorderColor,this.personBkg=this.mainBkg,this.archEdgeColor="calculated",this.archEdgeArrowColor="calculated",this.archEdgeWidth="3",this.archGroupBorderColor=this.primaryBorderColor,this.archGroupBorderWidth="2px",this.rowOdd=this.rowOdd||bt(this.mainBkg,5)||"#ffffff",this.rowEven=this.rowEven||Ot(this.mainBkg,10),this.labelColor="calculated",this.errorBkgColor="#a44141",this.errorTextColor="#ddd"}updateColors(){this.secondBkg=bt(this.mainBkg,16),this.lineColor=this.mainContrastColor,this.arrowheadColor=this.mainContrastColor,this.nodeBkg=this.mainBkg,this.nodeBorder=this.border1,this.clusterBkg=this.secondBkg,this.clusterBorder=this.border2,this.defaultLinkColor=this.lineColor,this.edgeLabelBackground=bt(this.labelBackground,25),this.actorBorder=this.border1,this.actorBkg=this.mainBkg,this.actorTextColor=this.mainContrastColor,this.actorLineColor=this.actorBorder,this.signalColor=this.mainContrastColor,this.signalTextColor=this.mainContrastColor,this.labelBoxBkgColor=this.actorBkg,this.labelBoxBorderColor=this.actorBorder,this.labelTextColor=this.mainContrastColor,this.loopTextColor=this.mainContrastColor,this.noteBorderColor=this.secondaryBorderColor,this.noteBkgColor=this.secondBkg,this.noteTextColor=this.secondaryTextColor,this.activationBorderColor=this.border1,this.activationBkgColor=this.secondBkg,this.altSectionBkgColor=this.background,this.taskBkgColor=bt(this.mainBkg,23),this.taskTextColor=this.darkTextColor,this.taskTextLightColor=this.mainContrastColor,this.taskTextOutsideColor=this.taskTextLightColor,this.gridColor=this.mainContrastColor,this.doneTaskBkgColor=this.mainContrastColor,this.taskTextDarkColor=this.darkTextColor,this.archEdgeColor=this.lineColor,this.archEdgeArrowColor=this.lineColor,this.transitionColor=this.transitionColor||this.lineColor,this.transitionLabelColor=this.transitionLabelColor||this.textColor,this.stateLabelColor=this.stateLabelColor||this.stateBkg||this.primaryTextColor,this.stateBkg=this.stateBkg||this.mainBkg,this.labelBackgroundColor=this.labelBackgroundColor||this.stateBkg,this.compositeBackground=this.compositeBackground||this.background||this.tertiaryColor,this.altBackground=this.altBackground||"#555",this.compositeTitleBackground=this.compositeTitleBackground||this.mainBkg,this.compositeBorder=this.compositeBorder||this.nodeBorder,this.innerEndBackground=this.primaryBorderColor,this.specialStateColor="#f4f4f4",this.errorBkgColor=this.errorBkgColor||this.tertiaryColor,this.errorTextColor=this.errorTextColor||this.tertiaryTextColor,this.fillType0=this.primaryColor,this.fillType1=this.secondaryColor,this.fillType2=G(this.primaryColor,{h:64}),this.fillType3=G(this.secondaryColor,{h:64}),this.fillType4=G(this.primaryColor,{h:-64}),this.fillType5=G(this.secondaryColor,{h:-64}),this.fillType6=G(this.primaryColor,{h:128}),this.fillType7=G(this.secondaryColor,{h:128}),this.cScale1=this.cScale1||"#0b0000",this.cScale2=this.cScale2||"#4d1037",this.cScale3=this.cScale3||"#3f5258",this.cScale4=this.cScale4||"#4f2f1b",this.cScale5=this.cScale5||"#6e0a0a",this.cScale6=this.cScale6||"#3b0048",this.cScale7=this.cScale7||"#995a01",this.cScale8=this.cScale8||"#154706",this.cScale9=this.cScale9||"#161722",this.cScale10=this.cScale10||"#00296f",this.cScale11=this.cScale11||"#01629c",this.cScale12=this.cScale12||"#010029",this.cScale0=this.cScale0||this.primaryColor,this.cScale1=this.cScale1||this.secondaryColor,this.cScale2=this.cScale2||this.tertiaryColor,this.cScale3=this.cScale3||G(this.primaryColor,{h:30}),this.cScale4=this.cScale4||G(this.primaryColor,{h:60}),this.cScale5=this.cScale5||G(this.primaryColor,{h:90}),this.cScale6=this.cScale6||G(this.primaryColor,{h:120}),this.cScale7=this.cScale7||G(this.primaryColor,{h:150}),this.cScale8=this.cScale8||G(this.primaryColor,{h:210}),this.cScale9=this.cScale9||G(this.primaryColor,{h:270}),this.cScale10=this.cScale10||G(this.primaryColor,{h:300}),this.cScale11=this.cScale11||G(this.primaryColor,{h:330});for(let t=0;t<this.THEME_COLOR_LIMIT;t++)this["cScaleInv"+t]=this["cScaleInv"+t]||ft(this["cScale"+t]);for(let t=0;t<this.THEME_COLOR_LIMIT;t++)this["cScalePeer"+t]=this["cScalePeer"+t]||bt(this["cScale"+t],10);for(let t=0;t<5;t++)this["surface"+t]=this["surface"+t]||G(this.mainBkg,{h:30,s:-30,l:-(-10+t*4)}),this["surfacePeer"+t]=this["surfacePeer"+t]||G(this.mainBkg,{h:30,s:-30,l:-(-7+t*4)});this.scaleLabelColor=this.scaleLabelColor||(this.darkMode?"black":this.labelTextColor);for(let t=0;t<this.THEME_COLOR_LIMIT;t++)this["cScaleLabel"+t]=this["cScaleLabel"+t]||this.scaleLabelColor;for(let t=0;t<this.THEME_COLOR_LIMIT;t++)this["pie"+t]=this["cScale"+t];this.pieTitleTextSize=this.pieTitleTextSize||"25px",this.pieTitleTextColor=this.pieTitleTextColor||this.taskTextDarkColor,this.pieSectionTextSize=this.pieSectionTextSize||"17px",this.pieSectionTextColor=this.pieSectionTextColor||this.textColor,this.pieLegendTextSize=this.pieLegendTextSize||"17px",this.pieLegendTextColor=this.pieLegendTextColor||this.taskTextDarkColor,this.pieStrokeColor=this.pieStrokeColor||"black",this.pieStrokeWidth=this.pieStrokeWidth||"2px",this.pieOuterStrokeWidth=this.pieOuterStrokeWidth||"2px",this.pieOuterStrokeColor=this.pieOuterStrokeColor||"black",this.pieOpacity=this.pieOpacity||"0.7",this.quadrant1Fill=this.quadrant1Fill||this.primaryColor,this.quadrant2Fill=this.quadrant2Fill||G(this.primaryColor,{r:5,g:5,b:5}),this.quadrant3Fill=this.quadrant3Fill||G(this.primaryColor,{r:10,g:10,b:10}),this.quadrant4Fill=this.quadrant4Fill||G(this.primaryColor,{r:15,g:15,b:15}),this.quadrant1TextFill=this.quadrant1TextFill||this.primaryTextColor,this.quadrant2TextFill=this.quadrant2TextFill||G(this.primaryTextColor,{r:-5,g:-5,b:-5}),this.quadrant3TextFill=this.quadrant3TextFill||G(this.primaryTextColor,{r:-10,g:-10,b:-10}),this.quadrant4TextFill=this.quadrant4TextFill||G(this.primaryTextColor,{r:-15,g:-15,b:-15}),this.quadrantPointFill=this.quadrantPointFill||Xc(this.quadrant1Fill)?bt(this.quadrant1Fill):Ot(this.quadrant1Fill),this.quadrantPointTextFill=this.quadrantPointTextFill||this.primaryTextColor,this.quadrantXAxisTextFill=this.quadrantXAxisTextFill||this.primaryTextColor,this.quadrantYAxisTextFill=this.quadrantYAxisTextFill||this.primaryTextColor,this.quadrantInternalBorderStrokeFill=this.quadrantInternalBorderStrokeFill||this.primaryBorderColor,this.quadrantExternalBorderStrokeFill=this.quadrantExternalBorderStrokeFill||this.primaryBorderColor,this.quadrantTitleFill=this.quadrantTitleFill||this.primaryTextColor,this.xyChart={backgroundColor:this.xyChart?.backgroundColor||this.background,titleColor:this.xyChart?.titleColor||this.primaryTextColor,xAxisTitleColor:this.xyChart?.xAxisTitleColor||this.primaryTextColor,xAxisLabelColor:this.xyChart?.xAxisLabelColor||this.primaryTextColor,xAxisTickColor:this.xyChart?.xAxisTickColor||this.primaryTextColor,xAxisLineColor:this.xyChart?.xAxisLineColor||this.primaryTextColor,yAxisTitleColor:this.xyChart?.yAxisTitleColor||this.primaryTextColor,yAxisLabelColor:this.xyChart?.yAxisLabelColor||this.primaryTextColor,yAxisTickColor:this.xyChart?.yAxisTickColor||this.primaryTextColor,yAxisLineColor:this.xyChart?.yAxisLineColor||this.primaryTextColor,plotColorPalette:this.xyChart?.plotColorPalette||"#3498db,#2ecc71,#e74c3c,#f1c40f,#bdc3c7,#ffffff,#34495e,#9b59b6,#1abc9c,#e67e22"},this.packet={startByteColor:this.primaryTextColor,endByteColor:this.primaryTextColor,labelColor:this.primaryTextColor,titleColor:this.primaryTextColor,blockStrokeColor:this.primaryTextColor,blockFillColor:this.background},this.radar={axisColor:this.radar?.axisColor||this.lineColor,axisStrokeWidth:this.radar?.axisStrokeWidth||2,axisLabelFontSize:this.radar?.axisLabelFontSize||12,curveOpacity:this.radar?.curveOpacity||.5,curveStrokeWidth:this.radar?.curveStrokeWidth||2,graticuleColor:this.radar?.graticuleColor||"#DEDEDE",graticuleStrokeWidth:this.radar?.graticuleStrokeWidth||1,graticuleOpacity:this.radar?.graticuleOpacity||.3,legendBoxSize:this.radar?.legendBoxSize||12,legendFontSize:this.radar?.legendFontSize||12},this.classText=this.primaryTextColor,this.requirementBackground=this.requirementBackground||this.primaryColor,this.requirementBorderColor=this.requirementBorderColor||this.primaryBorderColor,this.requirementBorderSize=this.requirementBorderSize||"1",this.requirementTextColor=this.requirementTextColor||this.primaryTextColor,this.relationColor=this.relationColor||this.lineColor,this.relationLabelBackground=this.relationLabelBackground||(this.darkMode?Ot(this.secondaryColor,30):this.secondaryColor),this.relationLabelColor=this.relationLabelColor||this.actorTextColor,this.git0=bt(this.secondaryColor,20),this.git1=bt(this.pie2||this.secondaryColor,20),this.git2=bt(this.pie3||this.tertiaryColor,20),this.git3=bt(this.pie4||G(this.primaryColor,{h:-30}),20),this.git4=bt(this.pie5||G(this.primaryColor,{h:-60}),20),this.git5=bt(this.pie6||G(this.primaryColor,{h:-90}),10),this.git6=bt(this.pie7||G(this.primaryColor,{h:60}),10),this.git7=bt(this.pie8||G(this.primaryColor,{h:120}),20),this.gitInv0=this.gitInv0||ft(this.git0),this.gitInv1=this.gitInv1||ft(this.git1),this.gitInv2=this.gitInv2||ft(this.git2),this.gitInv3=this.gitInv3||ft(this.git3),this.gitInv4=this.gitInv4||ft(this.git4),this.gitInv5=this.gitInv5||ft(this.git5),this.gitInv6=this.gitInv6||ft(this.git6),this.gitInv7=this.gitInv7||ft(this.git7),this.gitBranchLabel0=this.gitBranchLabel0||ft(this.labelTextColor),this.gitBranchLabel1=this.gitBranchLabel1||this.labelTextColor,this.gitBranchLabel2=this.gitBranchLabel2||this.labelTextColor,this.gitBranchLabel3=this.gitBranchLabel3||ft(this.labelTextColor),this.gitBranchLabel4=this.gitBranchLabel4||this.labelTextColor,this.gitBranchLabel5=this.gitBranchLabel5||this.labelTextColor,this.gitBranchLabel6=this.gitBranchLabel6||this.labelTextColor,this.gitBranchLabel7=this.gitBranchLabel7||this.labelTextColor,this.tagLabelColor=this.tagLabelColor||this.primaryTextColor,this.tagLabelBackground=this.tagLabelBackground||this.primaryColor,this.tagLabelBorder=this.tagBorder||this.primaryBorderColor,this.tagLabelFontSize=this.tagLabelFontSize||"10px",this.commitLabelColor=this.commitLabelColor||this.secondaryTextColor,this.commitLabelBackground=this.commitLabelBackground||this.secondaryColor,this.commitLabelFontSize=this.commitLabelFontSize||"10px",this.attributeBackgroundColorOdd=this.attributeBackgroundColorOdd||bt(this.background,12),this.attributeBackgroundColorEven=this.attributeBackgroundColorEven||bt(this.background,2),this.nodeBorder=this.nodeBorder||"#999"}calculate(t){if(typeof t!="object"){this.updateColors();return}const r=Object.keys(t);r.forEach(i=>{this[i]=t[i]}),this.updateColors(),r.forEach(i=>{this[i]=t[i]})}},w(vl,"Theme"),vl),ej=w(e=>{const t=new tj;return t.calculate(e),t},"getThemeVariables"),_l,rj=(_l=class{constructor(){this.background="#f4f4f4",this.primaryColor="#ECECFF",this.secondaryColor=G(this.primaryColor,{h:120}),this.secondaryColor="#ffffde",this.tertiaryColor=G(this.primaryColor,{h:-160}),this.primaryBorderColor=gr(this.primaryColor,this.darkMode),this.secondaryBorderColor=gr(this.secondaryColor,this.darkMode),this.tertiaryBorderColor=gr(this.tertiaryColor,this.darkMode),this.primaryTextColor=ft(this.primaryColor),this.secondaryTextColor=ft(this.secondaryColor),this.tertiaryTextColor=ft(this.tertiaryColor),this.lineColor=ft(this.background),this.textColor=ft(this.background),this.background="white",this.mainBkg="#ECECFF",this.secondBkg="#ffffde",this.lineColor="#333333",this.border1="#9370DB",this.border2="#aaaa33",this.arrowheadColor="#333333",this.fontFamily='"trebuchet ms", verdana, arial, sans-serif',this.fontSize="16px",this.labelBackground="rgba(232,232,232, 0.8)",this.textColor="#333",this.THEME_COLOR_LIMIT=12,this.nodeBkg="calculated",this.nodeBorder="calculated",this.clusterBkg="calculated",this.clusterBorder="calculated",this.defaultLinkColor="calculated",this.titleColor="calculated",this.edgeLabelBackground="calculated",this.actorBorder="calculated",this.actorBkg="calculated",this.actorTextColor="black",this.actorLineColor="calculated",this.signalColor="calculated",this.signalTextColor="calculated",this.labelBoxBkgColor="calculated",this.labelBoxBorderColor="calculated",this.labelTextColor="calculated",this.loopTextColor="calculated",this.noteBorderColor="calculated",this.noteBkgColor="#fff5ad",this.noteTextColor="calculated",this.activationBorderColor="#666",this.activationBkgColor="#f4f4f4",this.sequenceNumberColor="white",this.sectionBkgColor="calculated",this.altSectionBkgColor="calculated",this.sectionBkgColor2="calculated",this.excludeBkgColor="#eeeeee",this.taskBorderColor="calculated",this.taskBkgColor="calculated",this.taskTextLightColor="calculated",this.taskTextColor=this.taskTextLightColor,this.taskTextDarkColor="calculated",this.taskTextOutsideColor=this.taskTextDarkColor,this.taskTextClickableColor="calculated",this.activeTaskBorderColor="calculated",this.activeTaskBkgColor="calculated",this.gridColor="calculated",this.doneTaskBkgColor="calculated",this.doneTaskBorderColor="calculated",this.critBorderColor="calculated",this.critBkgColor="calculated",this.todayLineColor="calculated",this.vertLineColor="calculated",this.sectionBkgColor=_c(102,102,255,.49),this.altSectionBkgColor="white",this.sectionBkgColor2="#fff400",this.taskBorderColor="#534fbc",this.taskBkgColor="#8a90dd",this.taskTextLightColor="white",this.taskTextColor="calculated",this.taskTextDarkColor="black",this.taskTextOutsideColor="calculated",this.taskTextClickableColor="#003163",this.activeTaskBorderColor="#534fbc",this.activeTaskBkgColor="#bfc7ff",this.gridColor="lightgrey",this.doneTaskBkgColor="lightgrey",this.doneTaskBorderColor="grey",this.critBorderColor="#ff8888",this.critBkgColor="red",this.todayLineColor="red",this.vertLineColor="navy",this.personBorder=this.primaryBorderColor,this.personBkg=this.mainBkg,this.archEdgeColor="calculated",this.archEdgeArrowColor="calculated",this.archEdgeWidth="3",this.archGroupBorderColor=this.primaryBorderColor,this.archGroupBorderWidth="2px",this.rowOdd="calculated",this.rowEven="calculated",this.labelColor="black",this.errorBkgColor="#552222",this.errorTextColor="#552222",this.updateColors()}updateColors(){this.cScale0=this.cScale0||this.primaryColor,this.cScale1=this.cScale1||this.secondaryColor,this.cScale2=this.cScale2||this.tertiaryColor,this.cScale3=this.cScale3||G(this.primaryColor,{h:30}),this.cScale4=this.cScale4||G(this.primaryColor,{h:60}),this.cScale5=this.cScale5||G(this.primaryColor,{h:90}),this.cScale6=this.cScale6||G(this.primaryColor,{h:120}),this.cScale7=this.cScale7||G(this.primaryColor,{h:150}),this.cScale8=this.cScale8||G(this.primaryColor,{h:210}),this.cScale9=this.cScale9||G(this.primaryColor,{h:270}),this.cScale10=this.cScale10||G(this.primaryColor,{h:300}),this.cScale11=this.cScale11||G(this.primaryColor,{h:330}),this.cScalePeer1=this.cScalePeer1||Ot(this.secondaryColor,45),this.cScalePeer2=this.cScalePeer2||Ot(this.tertiaryColor,40);for(let t=0;t<this.THEME_COLOR_LIMIT;t++)this["cScale"+t]=Ot(this["cScale"+t],10),this["cScalePeer"+t]=this["cScalePeer"+t]||Ot(this["cScale"+t],25);for(let t=0;t<this.THEME_COLOR_LIMIT;t++)this["cScaleInv"+t]=this["cScaleInv"+t]||G(this["cScale"+t],{h:180});for(let t=0;t<5;t++)this["surface"+t]=this["surface"+t]||G(this.mainBkg,{h:30,l:-(5+t*5)}),this["surfacePeer"+t]=this["surfacePeer"+t]||G(this.mainBkg,{h:30,l:-(7+t*5)});if(this.scaleLabelColor=this.scaleLabelColor!=="calculated"&&this.scaleLabelColor?this.scaleLabelColor:this.labelTextColor,this.labelTextColor!=="calculated"){this.cScaleLabel0=this.cScaleLabel0||ft(this.labelTextColor),this.cScaleLabel3=this.cScaleLabel3||ft(this.labelTextColor);for(let t=0;t<this.THEME_COLOR_LIMIT;t++)this["cScaleLabel"+t]=this["cScaleLabel"+t]||this.labelTextColor}this.nodeBkg=this.mainBkg,this.nodeBorder=this.border1,this.clusterBkg=this.secondBkg,this.clusterBorder=this.border2,this.defaultLinkColor=this.lineColor,this.titleColor=this.textColor,this.edgeLabelBackground=this.labelBackground,this.actorBorder=bt(this.border1,23),this.actorBkg=this.mainBkg,this.labelBoxBkgColor=this.actorBkg,this.signalColor=this.textColor,this.signalTextColor=this.textColor,this.labelBoxBorderColor=this.actorBorder,this.labelTextColor=this.actorTextColor,this.loopTextColor=this.actorTextColor,this.noteBorderColor=this.border2,this.noteTextColor=this.actorTextColor,this.actorLineColor=this.actorBorder,this.taskTextColor=this.taskTextLightColor,this.taskTextOutsideColor=this.taskTextDarkColor,this.archEdgeColor=this.lineColor,this.archEdgeArrowColor=this.lineColor,this.rowOdd=this.rowOdd||bt(this.primaryColor,75)||"#ffffff",this.rowEven=this.rowEven||bt(this.primaryColor,1),this.transitionColor=this.transitionColor||this.lineColor,this.transitionLabelColor=this.transitionLabelColor||this.textColor,this.stateLabelColor=this.stateLabelColor||this.stateBkg||this.primaryTextColor,this.stateBkg=this.stateBkg||this.mainBkg,this.labelBackgroundColor=this.labelBackgroundColor||this.stateBkg,this.compositeBackground=this.compositeBackground||this.background||this.tertiaryColor,this.altBackground=this.altBackground||"#f0f0f0",this.compositeTitleBackground=this.compositeTitleBackground||this.mainBkg,this.compositeBorder=this.compositeBorder||this.nodeBorder,this.innerEndBackground=this.nodeBorder,this.specialStateColor=this.lineColor,this.errorBkgColor=this.errorBkgColor||this.tertiaryColor,this.errorTextColor=this.errorTextColor||this.tertiaryTextColor,this.transitionColor=this.transitionColor||this.lineColor,this.classText=this.primaryTextColor,this.fillType0=this.primaryColor,this.fillType1=this.secondaryColor,this.fillType2=G(this.primaryColor,{h:64}),this.fillType3=G(this.secondaryColor,{h:64}),this.fillType4=G(this.primaryColor,{h:-64}),this.fillType5=G(this.secondaryColor,{h:-64}),this.fillType6=G(this.primaryColor,{h:128}),this.fillType7=G(this.secondaryColor,{h:128}),this.pie1=this.pie1||this.primaryColor,this.pie2=this.pie2||this.secondaryColor,this.pie3=this.pie3||G(this.tertiaryColor,{l:-40}),this.pie4=this.pie4||G(this.primaryColor,{l:-10}),this.pie5=this.pie5||G(this.secondaryColor,{l:-30}),this.pie6=this.pie6||G(this.tertiaryColor,{l:-20}),this.pie7=this.pie7||G(this.primaryColor,{h:60,l:-20}),this.pie8=this.pie8||G(this.primaryColor,{h:-60,l:-40}),this.pie9=this.pie9||G(this.primaryColor,{h:120,l:-40}),this.pie10=this.pie10||G(this.primaryColor,{h:60,l:-40}),this.pie11=this.pie11||G(this.primaryColor,{h:-90,l:-40}),this.pie12=this.pie12||G(this.primaryColor,{h:120,l:-30}),this.pieTitleTextSize=this.pieTitleTextSize||"25px",this.pieTitleTextColor=this.pieTitleTextColor||this.taskTextDarkColor,this.pieSectionTextSize=this.pieSectionTextSize||"17px",this.pieSectionTextColor=this.pieSectionTextColor||this.textColor,this.pieLegendTextSize=this.pieLegendTextSize||"17px",this.pieLegendTextColor=this.pieLegendTextColor||this.taskTextDarkColor,this.pieStrokeColor=this.pieStrokeColor||"black",this.pieStrokeWidth=this.pieStrokeWidth||"2px",this.pieOuterStrokeWidth=this.pieOuterStrokeWidth||"2px",this.pieOuterStrokeColor=this.pieOuterStrokeColor||"black",this.pieOpacity=this.pieOpacity||"0.7",this.quadrant1Fill=this.quadrant1Fill||this.primaryColor,this.quadrant2Fill=this.quadrant2Fill||G(this.primaryColor,{r:5,g:5,b:5}),this.quadrant3Fill=this.quadrant3Fill||G(this.primaryColor,{r:10,g:10,b:10}),this.quadrant4Fill=this.quadrant4Fill||G(this.primaryColor,{r:15,g:15,b:15}),this.quadrant1TextFill=this.quadrant1TextFill||this.primaryTextColor,this.quadrant2TextFill=this.quadrant2TextFill||G(this.primaryTextColor,{r:-5,g:-5,b:-5}),this.quadrant3TextFill=this.quadrant3TextFill||G(this.primaryTextColor,{r:-10,g:-10,b:-10}),this.quadrant4TextFill=this.quadrant4TextFill||G(this.primaryTextColor,{r:-15,g:-15,b:-15}),this.quadrantPointFill=this.quadrantPointFill||Xc(this.quadrant1Fill)?bt(this.quadrant1Fill):Ot(this.quadrant1Fill),this.quadrantPointTextFill=this.quadrantPointTextFill||this.primaryTextColor,this.quadrantXAxisTextFill=this.quadrantXAxisTextFill||this.primaryTextColor,this.quadrantYAxisTextFill=this.quadrantYAxisTextFill||this.primaryTextColor,this.quadrantInternalBorderStrokeFill=this.quadrantInternalBorderStrokeFill||this.primaryBorderColor,this.quadrantExternalBorderStrokeFill=this.quadrantExternalBorderStrokeFill||this.primaryBorderColor,this.quadrantTitleFill=this.quadrantTitleFill||this.primaryTextColor,this.radar={axisColor:this.radar?.axisColor||this.lineColor,axisStrokeWidth:this.radar?.axisStrokeWidth||2,axisLabelFontSize:this.radar?.axisLabelFontSize||12,curveOpacity:this.radar?.curveOpacity||.5,curveStrokeWidth:this.radar?.curveStrokeWidth||2,graticuleColor:this.radar?.graticuleColor||"#DEDEDE",graticuleStrokeWidth:this.radar?.graticuleStrokeWidth||1,graticuleOpacity:this.radar?.graticuleOpacity||.3,legendBoxSize:this.radar?.legendBoxSize||12,legendFontSize:this.radar?.legendFontSize||12},this.xyChart={backgroundColor:this.xyChart?.backgroundColor||this.background,titleColor:this.xyChart?.titleColor||this.primaryTextColor,xAxisTitleColor:this.xyChart?.xAxisTitleColor||this.primaryTextColor,xAxisLabelColor:this.xyChart?.xAxisLabelColor||this.primaryTextColor,xAxisTickColor:this.xyChart?.xAxisTickColor||this.primaryTextColor,xAxisLineColor:this.xyChart?.xAxisLineColor||this.primaryTextColor,yAxisTitleColor:this.xyChart?.yAxisTitleColor||this.primaryTextColor,yAxisLabelColor:this.xyChart?.yAxisLabelColor||this.primaryTextColor,yAxisTickColor:this.xyChart?.yAxisTickColor||this.primaryTextColor,yAxisLineColor:this.xyChart?.yAxisLineColor||this.primaryTextColor,plotColorPalette:this.xyChart?.plotColorPalette||"#ECECFF,#8493A6,#FFC3A0,#DCDDE1,#B8E994,#D1A36F,#C3CDE6,#FFB6C1,#496078,#F8F3E3"},this.requirementBackground=this.requirementBackground||this.primaryColor,this.requirementBorderColor=this.requirementBorderColor||this.primaryBorderColor,this.requirementBorderSize=this.requirementBorderSize||"1",this.requirementTextColor=this.requirementTextColor||this.primaryTextColor,this.relationColor=this.relationColor||this.lineColor,this.relationLabelBackground=this.relationLabelBackground||this.labelBackground,this.relationLabelColor=this.relationLabelColor||this.actorTextColor,this.git0=this.git0||this.primaryColor,this.git1=this.git1||this.secondaryColor,this.git2=this.git2||this.tertiaryColor,this.git3=this.git3||G(this.primaryColor,{h:-30}),this.git4=this.git4||G(this.primaryColor,{h:-60}),this.git5=this.git5||G(this.primaryColor,{h:-90}),this.git6=this.git6||G(this.primaryColor,{h:60}),this.git7=this.git7||G(this.primaryColor,{h:120}),this.darkMode?(this.git0=bt(this.git0,25),this.git1=bt(this.git1,25),this.git2=bt(this.git2,25),this.git3=bt(this.git3,25),this.git4=bt(this.git4,25),this.git5=bt(this.git5,25),this.git6=bt(this.git6,25),this.git7=bt(this.git7,25)):(this.git0=Ot(this.git0,25),this.git1=Ot(this.git1,25),this.git2=Ot(this.git2,25),this.git3=Ot(this.git3,25),this.git4=Ot(this.git4,25),this.git5=Ot(this.git5,25),this.git6=Ot(this.git6,25),this.git7=Ot(this.git7,25)),this.gitInv0=this.gitInv0||Ot(ft(this.git0),25),this.gitInv1=this.gitInv1||ft(this.git1),this.gitInv2=this.gitInv2||ft(this.git2),this.gitInv3=this.gitInv3||ft(this.git3),this.gitInv4=this.gitInv4||ft(this.git4),this.gitInv5=this.gitInv5||ft(this.git5),this.gitInv6=this.gitInv6||ft(this.git6),this.gitInv7=this.gitInv7||ft(this.git7),this.gitBranchLabel0=this.gitBranchLabel0||ft(this.labelTextColor),this.gitBranchLabel1=this.gitBranchLabel1||this.labelTextColor,this.gitBranchLabel2=this.gitBranchLabel2||this.labelTextColor,this.gitBranchLabel3=this.gitBranchLabel3||ft(this.labelTextColor),this.gitBranchLabel4=this.gitBranchLabel4||this.labelTextColor,this.gitBranchLabel5=this.gitBranchLabel5||this.labelTextColor,this.gitBranchLabel6=this.gitBranchLabel6||this.labelTextColor,this.gitBranchLabel7=this.gitBranchLabel7||this.labelTextColor,this.tagLabelColor=this.tagLabelColor||this.primaryTextColor,this.tagLabelBackground=this.tagLabelBackground||this.primaryColor,this.tagLabelBorder=this.tagBorder||this.primaryBorderColor,this.tagLabelFontSize=this.tagLabelFontSize||"10px",this.commitLabelColor=this.commitLabelColor||this.secondaryTextColor,this.commitLabelBackground=this.commitLabelBackground||this.secondaryColor,this.commitLabelFontSize=this.commitLabelFontSize||"10px",this.attributeBackgroundColorOdd=this.attributeBackgroundColorOdd||Zd,this.attributeBackgroundColorEven=this.attributeBackgroundColorEven||Jd}calculate(t){if(Object.keys(this).forEach(i=>{this[i]==="calculated"&&(this[i]=void 0)}),typeof t!="object"){this.updateColors();return}const r=Object.keys(t);r.forEach(i=>{this[i]=t[i]}),this.updateColors(),r.forEach(i=>{this[i]=t[i]})}},w(_l,"Theme"),_l),ij=w(e=>{const t=new rj;return t.calculate(e),t},"getThemeVariables"),wl,aj=(wl=class{constructor(){this.background="#f4f4f4",this.primaryColor="#cde498",this.secondaryColor="#cdffb2",this.background="white",this.mainBkg="#cde498",this.secondBkg="#cdffb2",this.lineColor="green",this.border1="#13540c",this.border2="#6eaa49",this.arrowheadColor="green",this.fontFamily='"trebuchet ms", verdana, arial, sans-serif',this.fontSize="16px",this.tertiaryColor=bt("#cde498",10),this.primaryBorderColor=gr(this.primaryColor,this.darkMode),this.secondaryBorderColor=gr(this.secondaryColor,this.darkMode),this.tertiaryBorderColor=gr(this.tertiaryColor,this.darkMode),this.primaryTextColor=ft(this.primaryColor),this.secondaryTextColor=ft(this.secondaryColor),this.tertiaryTextColor=ft(this.primaryColor),this.lineColor=ft(this.background),this.textColor=ft(this.background),this.THEME_COLOR_LIMIT=12,this.nodeBkg="calculated",this.nodeBorder="calculated",this.clusterBkg="calculated",this.clusterBorder="calculated",this.defaultLinkColor="calculated",this.titleColor="#333",this.edgeLabelBackground="#e8e8e8",this.actorBorder="calculated",this.actorBkg="calculated",this.actorTextColor="black",this.actorLineColor="calculated",this.signalColor="#333",this.signalTextColor="#333",this.labelBoxBkgColor="calculated",this.labelBoxBorderColor="#326932",this.labelTextColor="calculated",this.loopTextColor="calculated",this.noteBorderColor="calculated",this.noteBkgColor="#fff5ad",this.noteTextColor="calculated",this.activationBorderColor="#666",this.activationBkgColor="#f4f4f4",this.sequenceNumberColor="white",this.sectionBkgColor="#6eaa49",this.altSectionBkgColor="white",this.sectionBkgColor2="#6eaa49",this.excludeBkgColor="#eeeeee",this.taskBorderColor="calculated",this.taskBkgColor="#487e3a",this.taskTextLightColor="white",this.taskTextColor="calculated",this.taskTextDarkColor="black",this.taskTextOutsideColor="calculated",this.taskTextClickableColor="#003163",this.activeTaskBorderColor="calculated",this.activeTaskBkgColor="calculated",this.gridColor="lightgrey",this.doneTaskBkgColor="lightgrey",this.doneTaskBorderColor="grey",this.critBorderColor="#ff8888",this.critBkgColor="red",this.todayLineColor="red",this.vertLineColor="#00BFFF",this.personBorder=this.primaryBorderColor,this.personBkg=this.mainBkg,this.archEdgeColor="calculated",this.archEdgeArrowColor="calculated",this.archEdgeWidth="3",this.archGroupBorderColor=this.primaryBorderColor,this.archGroupBorderWidth="2px",this.labelColor="black",this.errorBkgColor="#552222",this.errorTextColor="#552222"}updateColors(){this.actorBorder=Ot(this.mainBkg,20),this.actorBkg=this.mainBkg,this.labelBoxBkgColor=this.actorBkg,this.labelTextColor=this.actorTextColor,this.loopTextColor=this.actorTextColor,this.noteBorderColor=this.border2,this.noteTextColor=this.actorTextColor,this.actorLineColor=this.actorBorder,this.cScale0=this.cScale0||this.primaryColor,this.cScale1=this.cScale1||this.secondaryColor,this.cScale2=this.cScale2||this.tertiaryColor,this.cScale3=this.cScale3||G(this.primaryColor,{h:30}),this.cScale4=this.cScale4||G(this.primaryColor,{h:60}),this.cScale5=this.cScale5||G(this.primaryColor,{h:90}),this.cScale6=this.cScale6||G(this.primaryColor,{h:120}),this.cScale7=this.cScale7||G(this.primaryColor,{h:150}),this.cScale8=this.cScale8||G(this.primaryColor,{h:210}),this.cScale9=this.cScale9||G(this.primaryColor,{h:270}),this.cScale10=this.cScale10||G(this.primaryColor,{h:300}),this.cScale11=this.cScale11||G(this.primaryColor,{h:330}),this.cScalePeer1=this.cScalePeer1||Ot(this.secondaryColor,45),this.cScalePeer2=this.cScalePeer2||Ot(this.tertiaryColor,40);for(let t=0;t<this.THEME_COLOR_LIMIT;t++)this["cScale"+t]=Ot(this["cScale"+t],10),this["cScalePeer"+t]=this["cScalePeer"+t]||Ot(this["cScale"+t],25);for(let t=0;t<this.THEME_COLOR_LIMIT;t++)this["cScaleInv"+t]=this["cScaleInv"+t]||G(this["cScale"+t],{h:180});this.scaleLabelColor=this.scaleLabelColor!=="calculated"&&this.scaleLabelColor?this.scaleLabelColor:this.labelTextColor;for(let t=0;t<this.THEME_COLOR_LIMIT;t++)this["cScaleLabel"+t]=this["cScaleLabel"+t]||this.scaleLabelColor;for(let t=0;t<5;t++)this["surface"+t]=this["surface"+t]||G(this.mainBkg,{h:30,s:-30,l:-(5+t*5)}),this["surfacePeer"+t]=this["surfacePeer"+t]||G(this.mainBkg,{h:30,s:-30,l:-(8+t*5)});this.nodeBkg=this.mainBkg,this.nodeBorder=this.border1,this.clusterBkg=this.secondBkg,this.clusterBorder=this.border2,this.defaultLinkColor=this.lineColor,this.taskBorderColor=this.border1,this.taskTextColor=this.taskTextLightColor,this.taskTextOutsideColor=this.taskTextDarkColor,this.activeTaskBorderColor=this.taskBorderColor,this.activeTaskBkgColor=this.mainBkg,this.archEdgeColor=this.lineColor,this.archEdgeArrowColor=this.lineColor,this.rowOdd=this.rowOdd||bt(this.mainBkg,75)||"#ffffff",this.rowEven=this.rowEven||bt(this.mainBkg,20),this.transitionColor=this.transitionColor||this.lineColor,this.transitionLabelColor=this.transitionLabelColor||this.textColor,this.stateLabelColor=this.stateLabelColor||this.stateBkg||this.primaryTextColor,this.stateBkg=this.stateBkg||this.mainBkg,this.labelBackgroundColor=this.labelBackgroundColor||this.stateBkg,this.compositeBackground=this.compositeBackground||this.background||this.tertiaryColor,this.altBackground=this.altBackground||"#f0f0f0",this.compositeTitleBackground=this.compositeTitleBackground||this.mainBkg,this.compositeBorder=this.compositeBorder||this.nodeBorder,this.innerEndBackground=this.primaryBorderColor,this.specialStateColor=this.lineColor,this.errorBkgColor=this.errorBkgColor||this.tertiaryColor,this.errorTextColor=this.errorTextColor||this.tertiaryTextColor,this.transitionColor=this.transitionColor||this.lineColor,this.classText=this.primaryTextColor,this.fillType0=this.primaryColor,this.fillType1=this.secondaryColor,this.fillType2=G(this.primaryColor,{h:64}),this.fillType3=G(this.secondaryColor,{h:64}),this.fillType4=G(this.primaryColor,{h:-64}),this.fillType5=G(this.secondaryColor,{h:-64}),this.fillType6=G(this.primaryColor,{h:128}),this.fillType7=G(this.secondaryColor,{h:128}),this.pie1=this.pie1||this.primaryColor,this.pie2=this.pie2||this.secondaryColor,this.pie3=this.pie3||this.tertiaryColor,this.pie4=this.pie4||G(this.primaryColor,{l:-30}),this.pie5=this.pie5||G(this.secondaryColor,{l:-30}),this.pie6=this.pie6||G(this.tertiaryColor,{h:40,l:-40}),this.pie7=this.pie7||G(this.primaryColor,{h:60,l:-10}),this.pie8=this.pie8||G(this.primaryColor,{h:-60,l:-10}),this.pie9=this.pie9||G(this.primaryColor,{h:120,l:0}),this.pie10=this.pie10||G(this.primaryColor,{h:60,l:-50}),this.pie11=this.pie11||G(this.primaryColor,{h:-60,l:-50}),this.pie12=this.pie12||G(this.primaryColor,{h:120,l:-50}),this.pieTitleTextSize=this.pieTitleTextSize||"25px",this.pieTitleTextColor=this.pieTitleTextColor||this.taskTextDarkColor,this.pieSectionTextSize=this.pieSectionTextSize||"17px",this.pieSectionTextColor=this.pieSectionTextColor||this.textColor,this.pieLegendTextSize=this.pieLegendTextSize||"17px",this.pieLegendTextColor=this.pieLegendTextColor||this.taskTextDarkColor,this.pieStrokeColor=this.pieStrokeColor||"black",this.pieStrokeWidth=this.pieStrokeWidth||"2px",this.pieOuterStrokeWidth=this.pieOuterStrokeWidth||"2px",this.pieOuterStrokeColor=this.pieOuterStrokeColor||"black",this.pieOpacity=this.pieOpacity||"0.7",this.quadrant1Fill=this.quadrant1Fill||this.primaryColor,this.quadrant2Fill=this.quadrant2Fill||G(this.primaryColor,{r:5,g:5,b:5}),this.quadrant3Fill=this.quadrant3Fill||G(this.primaryColor,{r:10,g:10,b:10}),this.quadrant4Fill=this.quadrant4Fill||G(this.primaryColor,{r:15,g:15,b:15}),this.quadrant1TextFill=this.quadrant1TextFill||this.primaryTextColor,this.quadrant2TextFill=this.quadrant2TextFill||G(this.primaryTextColor,{r:-5,g:-5,b:-5}),this.quadrant3TextFill=this.quadrant3TextFill||G(this.primaryTextColor,{r:-10,g:-10,b:-10}),this.quadrant4TextFill=this.quadrant4TextFill||G(this.primaryTextColor,{r:-15,g:-15,b:-15}),this.quadrantPointFill=this.quadrantPointFill||Xc(this.quadrant1Fill)?bt(this.quadrant1Fill):Ot(this.quadrant1Fill),this.quadrantPointTextFill=this.quadrantPointTextFill||this.primaryTextColor,this.quadrantXAxisTextFill=this.quadrantXAxisTextFill||this.primaryTextColor,this.quadrantYAxisTextFill=this.quadrantYAxisTextFill||this.primaryTextColor,this.quadrantInternalBorderStrokeFill=this.quadrantInternalBorderStrokeFill||this.primaryBorderColor,this.quadrantExternalBorderStrokeFill=this.quadrantExternalBorderStrokeFill||this.primaryBorderColor,this.quadrantTitleFill=this.quadrantTitleFill||this.primaryTextColor,this.packet={startByteColor:this.primaryTextColor,endByteColor:this.primaryTextColor,labelColor:this.primaryTextColor,titleColor:this.primaryTextColor,blockStrokeColor:this.primaryTextColor,blockFillColor:this.mainBkg},this.radar={axisColor:this.radar?.axisColor||this.lineColor,axisStrokeWidth:this.radar?.axisStrokeWidth||2,axisLabelFontSize:this.radar?.axisLabelFontSize||12,curveOpacity:this.radar?.curveOpacity||.5,curveStrokeWidth:this.radar?.curveStrokeWidth||2,graticuleColor:this.radar?.graticuleColor||"#DEDEDE",graticuleStrokeWidth:this.radar?.graticuleStrokeWidth||1,graticuleOpacity:this.radar?.graticuleOpacity||.3,legendBoxSize:this.radar?.legendBoxSize||12,legendFontSize:this.radar?.legendFontSize||12},this.xyChart={backgroundColor:this.xyChart?.backgroundColor||this.background,titleColor:this.xyChart?.titleColor||this.primaryTextColor,xAxisTitleColor:this.xyChart?.xAxisTitleColor||this.primaryTextColor,xAxisLabelColor:this.xyChart?.xAxisLabelColor||this.primaryTextColor,xAxisTickColor:this.xyChart?.xAxisTickColor||this.primaryTextColor,xAxisLineColor:this.xyChart?.xAxisLineColor||this.primaryTextColor,yAxisTitleColor:this.xyChart?.yAxisTitleColor||this.primaryTextColor,yAxisLabelColor:this.xyChart?.yAxisLabelColor||this.primaryTextColor,yAxisTickColor:this.xyChart?.yAxisTickColor||this.primaryTextColor,yAxisLineColor:this.xyChart?.yAxisLineColor||this.primaryTextColor,plotColorPalette:this.xyChart?.plotColorPalette||"#CDE498,#FF6B6B,#A0D2DB,#D7BDE2,#F0F0F0,#FFC3A0,#7FD8BE,#FF9A8B,#FAF3E0,#FFF176"},this.requirementBackground=this.requirementBackground||this.primaryColor,this.requirementBorderColor=this.requirementBorderColor||this.primaryBorderColor,this.requirementBorderSize=this.requirementBorderSize||"1",this.requirementTextColor=this.requirementTextColor||this.primaryTextColor,this.relationColor=this.relationColor||this.lineColor,this.relationLabelBackground=this.relationLabelBackground||this.edgeLabelBackground,this.relationLabelColor=this.relationLabelColor||this.actorTextColor,this.git0=this.git0||this.primaryColor,this.git1=this.git1||this.secondaryColor,this.git2=this.git2||this.tertiaryColor,this.git3=this.git3||G(this.primaryColor,{h:-30}),this.git4=this.git4||G(this.primaryColor,{h:-60}),this.git5=this.git5||G(this.primaryColor,{h:-90}),this.git6=this.git6||G(this.primaryColor,{h:60}),this.git7=this.git7||G(this.primaryColor,{h:120}),this.darkMode?(this.git0=bt(this.git0,25),this.git1=bt(this.git1,25),this.git2=bt(this.git2,25),this.git3=bt(this.git3,25),this.git4=bt(this.git4,25),this.git5=bt(this.git5,25),this.git6=bt(this.git6,25),this.git7=bt(this.git7,25)):(this.git0=Ot(this.git0,25),this.git1=Ot(this.git1,25),this.git2=Ot(this.git2,25),this.git3=Ot(this.git3,25),this.git4=Ot(this.git4,25),this.git5=Ot(this.git5,25),this.git6=Ot(this.git6,25),this.git7=Ot(this.git7,25)),this.gitInv0=this.gitInv0||ft(this.git0),this.gitInv1=this.gitInv1||ft(this.git1),this.gitInv2=this.gitInv2||ft(this.git2),this.gitInv3=this.gitInv3||ft(this.git3),this.gitInv4=this.gitInv4||ft(this.git4),this.gitInv5=this.gitInv5||ft(this.git5),this.gitInv6=this.gitInv6||ft(this.git6),this.gitInv7=this.gitInv7||ft(this.git7),this.gitBranchLabel0=this.gitBranchLabel0||ft(this.labelTextColor),this.gitBranchLabel1=this.gitBranchLabel1||this.labelTextColor,this.gitBranchLabel2=this.gitBranchLabel2||this.labelTextColor,this.gitBranchLabel3=this.gitBranchLabel3||ft(this.labelTextColor),this.gitBranchLabel4=this.gitBranchLabel4||this.labelTextColor,this.gitBranchLabel5=this.gitBranchLabel5||this.labelTextColor,this.gitBranchLabel6=this.gitBranchLabel6||this.labelTextColor,this.gitBranchLabel7=this.gitBranchLabel7||this.labelTextColor,this.tagLabelColor=this.tagLabelColor||this.primaryTextColor,this.tagLabelBackground=this.tagLabelBackground||this.primaryColor,this.tagLabelBorder=this.tagBorder||this.primaryBorderColor,this.tagLabelFontSize=this.tagLabelFontSize||"10px",this.commitLabelColor=this.commitLabelColor||this.secondaryTextColor,this.commitLabelBackground=this.commitLabelBackground||this.secondaryColor,this.commitLabelFontSize=this.commitLabelFontSize||"10px",this.attributeBackgroundColorOdd=this.attributeBackgroundColorOdd||Zd,this.attributeBackgroundColorEven=this.attributeBackgroundColorEven||Jd}calculate(t){if(typeof t!="object"){this.updateColors();return}const r=Object.keys(t);r.forEach(i=>{this[i]=t[i]}),this.updateColors(),r.forEach(i=>{this[i]=t[i]})}},w(wl,"Theme"),wl),nj=w(e=>{const t=new aj;return t.calculate(e),t},"getThemeVariables"),Sl,sj=(Sl=class{constructor(){this.primaryColor="#eee",this.contrast="#707070",this.secondaryColor=bt(this.contrast,55),this.background="#ffffff",this.tertiaryColor=G(this.primaryColor,{h:-160}),this.primaryBorderColor=gr(this.primaryColor,this.darkMode),this.secondaryBorderColor=gr(this.secondaryColor,this.darkMode),this.tertiaryBorderColor=gr(this.tertiaryColor,this.darkMode),this.primaryTextColor=ft(this.primaryColor),this.secondaryTextColor=ft(this.secondaryColor),this.tertiaryTextColor=ft(this.tertiaryColor),this.lineColor=ft(this.background),this.textColor=ft(this.background),this.mainBkg="#eee",this.secondBkg="calculated",this.lineColor="#666",this.border1="#999",this.border2="calculated",this.note="#ffa",this.text="#333",this.critical="#d42",this.done="#bbb",this.arrowheadColor="#333333",this.fontFamily='"trebuchet ms", verdana, arial, sans-serif',this.fontSize="16px",this.THEME_COLOR_LIMIT=12,this.nodeBkg="calculated",this.nodeBorder="calculated",this.clusterBkg="calculated",this.clusterBorder="calculated",this.defaultLinkColor="calculated",this.titleColor="calculated",this.edgeLabelBackground="white",this.actorBorder="calculated",this.actorBkg="calculated",this.actorTextColor="calculated",this.actorLineColor=this.actorBorder,this.signalColor="calculated",this.signalTextColor="calculated",this.labelBoxBkgColor="calculated",this.labelBoxBorderColor="calculated",this.labelTextColor="calculated",this.loopTextColor="calculated",this.noteBorderColor="calculated",this.noteBkgColor="calculated",this.noteTextColor="calculated",this.activationBorderColor="#666",this.activationBkgColor="#f4f4f4",this.sequenceNumberColor="white",this.sectionBkgColor="calculated",this.altSectionBkgColor="white",this.sectionBkgColor2="calculated",this.excludeBkgColor="#eeeeee",this.taskBorderColor="calculated",this.taskBkgColor="calculated",this.taskTextLightColor="white",this.taskTextColor="calculated",this.taskTextDarkColor="calculated",this.taskTextOutsideColor="calculated",this.taskTextClickableColor="#003163",this.activeTaskBorderColor="calculated",this.activeTaskBkgColor="calculated",this.gridColor="calculated",this.doneTaskBkgColor="calculated",this.doneTaskBorderColor="calculated",this.critBkgColor="calculated",this.critBorderColor="calculated",this.todayLineColor="calculated",this.vertLineColor="calculated",this.personBorder=this.primaryBorderColor,this.personBkg=this.mainBkg,this.archEdgeColor="calculated",this.archEdgeArrowColor="calculated",this.archEdgeWidth="3",this.archGroupBorderColor=this.primaryBorderColor,this.archGroupBorderWidth="2px",this.rowOdd=this.rowOdd||bt(this.mainBkg,75)||"#ffffff",this.rowEven=this.rowEven||"#f4f4f4",this.labelColor="black",this.errorBkgColor="#552222",this.errorTextColor="#552222"}updateColors(){this.secondBkg=bt(this.contrast,55),this.border2=this.contrast,this.actorBorder=bt(this.border1,23),this.actorBkg=this.mainBkg,this.actorTextColor=this.text,this.actorLineColor=this.actorBorder,this.signalColor=this.text,this.signalTextColor=this.text,this.labelBoxBkgColor=this.actorBkg,this.labelBoxBorderColor=this.actorBorder,this.labelTextColor=this.text,this.loopTextColor=this.text,this.noteBorderColor="#999",this.noteBkgColor="#666",this.noteTextColor="#fff",this.cScale0=this.cScale0||"#555",this.cScale1=this.cScale1||"#F4F4F4",this.cScale2=this.cScale2||"#555",this.cScale3=this.cScale3||"#BBB",this.cScale4=this.cScale4||"#777",this.cScale5=this.cScale5||"#999",this.cScale6=this.cScale6||"#DDD",this.cScale7=this.cScale7||"#FFF",this.cScale8=this.cScale8||"#DDD",this.cScale9=this.cScale9||"#BBB",this.cScale10=this.cScale10||"#999",this.cScale11=this.cScale11||"#777";for(let t=0;t<this.THEME_COLOR_LIMIT;t++)this["cScaleInv"+t]=this["cScaleInv"+t]||ft(this["cScale"+t]);for(let t=0;t<this.THEME_COLOR_LIMIT;t++)this.darkMode?this["cScalePeer"+t]=this["cScalePeer"+t]||bt(this["cScale"+t],10):this["cScalePeer"+t]=this["cScalePeer"+t]||Ot(this["cScale"+t],10);this.scaleLabelColor=this.scaleLabelColor||(this.darkMode?"black":this.labelTextColor),this.cScaleLabel0=this.cScaleLabel0||this.cScale1,this.cScaleLabel2=this.cScaleLabel2||this.cScale1;for(let t=0;t<this.THEME_COLOR_LIMIT;t++)this["cScaleLabel"+t]=this["cScaleLabel"+t]||this.scaleLabelColor;for(let t=0;t<5;t++)this["surface"+t]=this["surface"+t]||G(this.mainBkg,{l:-(5+t*5)}),this["surfacePeer"+t]=this["surfacePeer"+t]||G(this.mainBkg,{l:-(8+t*5)});this.nodeBkg=this.mainBkg,this.nodeBorder=this.border1,this.clusterBkg=this.secondBkg,this.clusterBorder=this.border2,this.defaultLinkColor=this.lineColor,this.titleColor=this.text,this.sectionBkgColor=bt(this.contrast,30),this.sectionBkgColor2=bt(this.contrast,30),this.taskBorderColor=Ot(this.contrast,10),this.taskBkgColor=this.contrast,this.taskTextColor=this.taskTextLightColor,this.taskTextDarkColor=this.text,this.taskTextOutsideColor=this.taskTextDarkColor,this.activeTaskBorderColor=this.taskBorderColor,this.activeTaskBkgColor=this.mainBkg,this.gridColor=bt(this.border1,30),this.doneTaskBkgColor=this.done,this.doneTaskBorderColor=this.lineColor,this.critBkgColor=this.critical,this.critBorderColor=Ot(this.critBkgColor,10),this.todayLineColor=this.critBkgColor,this.vertLineColor=this.critBkgColor,this.archEdgeColor=this.lineColor,this.archEdgeArrowColor=this.lineColor,this.transitionColor=this.transitionColor||"#000",this.transitionLabelColor=this.transitionLabelColor||this.textColor,this.stateLabelColor=this.stateLabelColor||this.stateBkg||this.primaryTextColor,this.stateBkg=this.stateBkg||this.mainBkg,this.labelBackgroundColor=this.labelBackgroundColor||this.stateBkg,this.compositeBackground=this.compositeBackground||this.background||this.tertiaryColor,this.altBackground=this.altBackground||"#f4f4f4",this.compositeTitleBackground=this.compositeTitleBackground||this.mainBkg,this.stateBorder=this.stateBorder||"#000",this.innerEndBackground=this.primaryBorderColor,this.specialStateColor="#222",this.errorBkgColor=this.errorBkgColor||this.tertiaryColor,this.errorTextColor=this.errorTextColor||this.tertiaryTextColor,this.classText=this.primaryTextColor,this.fillType0=this.primaryColor,this.fillType1=this.secondaryColor,this.fillType2=G(this.primaryColor,{h:64}),this.fillType3=G(this.secondaryColor,{h:64}),this.fillType4=G(this.primaryColor,{h:-64}),this.fillType5=G(this.secondaryColor,{h:-64}),this.fillType6=G(this.primaryColor,{h:128}),this.fillType7=G(this.secondaryColor,{h:128});for(let t=0;t<this.THEME_COLOR_LIMIT;t++)this["pie"+t]=this["cScale"+t];this.pie12=this.pie0,this.pieTitleTextSize=this.pieTitleTextSize||"25px",this.pieTitleTextColor=this.pieTitleTextColor||this.taskTextDarkColor,this.pieSectionTextSize=this.pieSectionTextSize||"17px",this.pieSectionTextColor=this.pieSectionTextColor||this.textColor,this.pieLegendTextSize=this.pieLegendTextSize||"17px",this.pieLegendTextColor=this.pieLegendTextColor||this.taskTextDarkColor,this.pieStrokeColor=this.pieStrokeColor||"black",this.pieStrokeWidth=this.pieStrokeWidth||"2px",this.pieOuterStrokeWidth=this.pieOuterStrokeWidth||"2px",this.pieOuterStrokeColor=this.pieOuterStrokeColor||"black",this.pieOpacity=this.pieOpacity||"0.7",this.quadrant1Fill=this.quadrant1Fill||this.primaryColor,this.quadrant2Fill=this.quadrant2Fill||G(this.primaryColor,{r:5,g:5,b:5}),this.quadrant3Fill=this.quadrant3Fill||G(this.primaryColor,{r:10,g:10,b:10}),this.quadrant4Fill=this.quadrant4Fill||G(this.primaryColor,{r:15,g:15,b:15}),this.quadrant1TextFill=this.quadrant1TextFill||this.primaryTextColor,this.quadrant2TextFill=this.quadrant2TextFill||G(this.primaryTextColor,{r:-5,g:-5,b:-5}),this.quadrant3TextFill=this.quadrant3TextFill||G(this.primaryTextColor,{r:-10,g:-10,b:-10}),this.quadrant4TextFill=this.quadrant4TextFill||G(this.primaryTextColor,{r:-15,g:-15,b:-15}),this.quadrantPointFill=this.quadrantPointFill||Xc(this.quadrant1Fill)?bt(this.quadrant1Fill):Ot(this.quadrant1Fill),this.quadrantPointTextFill=this.quadrantPointTextFill||this.primaryTextColor,this.quadrantXAxisTextFill=this.quadrantXAxisTextFill||this.primaryTextColor,this.quadrantYAxisTextFill=this.quadrantYAxisTextFill||this.primaryTextColor,this.quadrantInternalBorderStrokeFill=this.quadrantInternalBorderStrokeFill||this.primaryBorderColor,this.quadrantExternalBorderStrokeFill=this.quadrantExternalBorderStrokeFill||this.primaryBorderColor,this.quadrantTitleFill=this.quadrantTitleFill||this.primaryTextColor,this.xyChart={backgroundColor:this.xyChart?.backgroundColor||this.background,titleColor:this.xyChart?.titleColor||this.primaryTextColor,xAxisTitleColor:this.xyChart?.xAxisTitleColor||this.primaryTextColor,xAxisLabelColor:this.xyChart?.xAxisLabelColor||this.primaryTextColor,xAxisTickColor:this.xyChart?.xAxisTickColor||this.primaryTextColor,xAxisLineColor:this.xyChart?.xAxisLineColor||this.primaryTextColor,yAxisTitleColor:this.xyChart?.yAxisTitleColor||this.primaryTextColor,yAxisLabelColor:this.xyChart?.yAxisLabelColor||this.primaryTextColor,yAxisTickColor:this.xyChart?.yAxisTickColor||this.primaryTextColor,yAxisLineColor:this.xyChart?.yAxisLineColor||this.primaryTextColor,plotColorPalette:this.xyChart?.plotColorPalette||"#EEE,#6BB8E4,#8ACB88,#C7ACD6,#E8DCC2,#FFB2A8,#FFF380,#7E8D91,#FFD8B1,#FAF3E0"},this.radar={axisColor:this.radar?.axisColor||this.lineColor,axisStrokeWidth:this.radar?.axisStrokeWidth||2,axisLabelFontSize:this.radar?.axisLabelFontSize||12,curveOpacity:this.radar?.curveOpacity||.5,curveStrokeWidth:this.radar?.curveStrokeWidth||2,graticuleColor:this.radar?.graticuleColor||"#DEDEDE",graticuleStrokeWidth:this.radar?.graticuleStrokeWidth||1,graticuleOpacity:this.radar?.graticuleOpacity||.3,legendBoxSize:this.radar?.legendBoxSize||12,legendFontSize:this.radar?.legendFontSize||12},this.requirementBackground=this.requirementBackground||this.primaryColor,this.requirementBorderColor=this.requirementBorderColor||this.primaryBorderColor,this.requirementBorderSize=this.requirementBorderSize||"1",this.requirementTextColor=this.requirementTextColor||this.primaryTextColor,this.relationColor=this.relationColor||this.lineColor,this.relationLabelBackground=this.relationLabelBackground||this.edgeLabelBackground,this.relationLabelColor=this.relationLabelColor||this.actorTextColor,this.git0=Ot(this.pie1,25)||this.primaryColor,this.git1=this.pie2||this.secondaryColor,this.git2=this.pie3||this.tertiaryColor,this.git3=this.pie4||G(this.primaryColor,{h:-30}),this.git4=this.pie5||G(this.primaryColor,{h:-60}),this.git5=this.pie6||G(this.primaryColor,{h:-90}),this.git6=this.pie7||G(this.primaryColor,{h:60}),this.git7=this.pie8||G(this.primaryColor,{h:120}),this.gitInv0=this.gitInv0||ft(this.git0),this.gitInv1=this.gitInv1||ft(this.git1),this.gitInv2=this.gitInv2||ft(this.git2),this.gitInv3=this.gitInv3||ft(this.git3),this.gitInv4=this.gitInv4||ft(this.git4),this.gitInv5=this.gitInv5||ft(this.git5),this.gitInv6=this.gitInv6||ft(this.git6),this.gitInv7=this.gitInv7||ft(this.git7),this.branchLabelColor=this.branchLabelColor||this.labelTextColor,this.gitBranchLabel0=this.branchLabelColor,this.gitBranchLabel1="white",this.gitBranchLabel2=this.branchLabelColor,this.gitBranchLabel3="white",this.gitBranchLabel4=this.branchLabelColor,this.gitBranchLabel5=this.branchLabelColor,this.gitBranchLabel6=this.branchLabelColor,this.gitBranchLabel7=this.branchLabelColor,this.tagLabelColor=this.tagLabelColor||this.primaryTextColor,this.tagLabelBackground=this.tagLabelBackground||this.primaryColor,this.tagLabelBorder=this.tagBorder||this.primaryBorderColor,this.tagLabelFontSize=this.tagLabelFontSize||"10px",this.commitLabelColor=this.commitLabelColor||this.secondaryTextColor,this.commitLabelBackground=this.commitLabelBackground||this.secondaryColor,this.commitLabelFontSize=this.commitLabelFontSize||"10px",this.attributeBackgroundColorOdd=this.attributeBackgroundColorOdd||Zd,this.attributeBackgroundColorEven=this.attributeBackgroundColorEven||Jd}calculate(t){if(typeof t!="object"){this.updateColors();return}const r=Object.keys(t);r.forEach(i=>{this[i]=t[i]}),this.updateColors(),r.forEach(i=>{this[i]=t[i]})}},w(Sl,"Theme"),Sl),lj=w(e=>{const t=new sj;return t.calculate(e),t},"getThemeVariables"),Sa={base:{getThemeVariables:JD},dark:{getThemeVariables:ej},default:{getThemeVariables:ij},forest:{getThemeVariables:nj},neutral:{getThemeVariables:lj}},$i={flowchart:{useMaxWidth:!0,titleTopMargin:25,subGraphTitleMargin:{top:0,bottom:0},diagramPadding:8,htmlLabels:!0,nodeSpacing:50,rankSpacing:50,curve:"basis",padding:15,defaultRenderer:"dagre-wrapper",wrappingWidth:200,inheritDir:!1},sequence:{useMaxWidth:!0,hideUnusedParticipants:!1,activationWidth:10,diagramMarginX:50,diagramMarginY:10,actorMargin:50,width:150,height:65,boxMargin:10,boxTextMargin:5,noteMargin:10,messageMargin:35,messageAlign:"center",mirrorActors:!0,forceMenus:!1,bottomMarginAdj:1,rightAngles:!1,showSequenceNumbers:!1,actorFontSize:14,actorFontFamily:'"Open Sans", sans-serif',actorFontWeight:400,noteFontSize:14,noteFontFamily:'"trebuchet ms", verdana, arial, sans-serif',noteFontWeight:400,noteAlign:"center",messageFontSize:16,messageFontFamily:'"trebuchet ms", verdana, arial, sans-serif',messageFontWeight:400,wrap:!1,wrapPadding:10,labelBoxWidth:50,labelBoxHeight:20},gantt:{useMaxWidth:!0,titleTopMargin:25,barHeight:20,barGap:4,topPadding:50,rightPadding:75,leftPadding:75,gridLineStartPadding:35,fontSize:11,sectionFontSize:11,numberSectionStyles:4,axisFormat:"%Y-%m-%d",topAxis:!1,displayMode:"",weekday:"sunday"},journey:{useMaxWidth:!0,diagramMarginX:50,diagramMarginY:10,leftMargin:150,maxLabelWidth:360,width:150,height:50,boxMargin:10,boxTextMargin:5,noteMargin:10,messageMargin:35,messageAlign:"center",bottomMarginAdj:1,rightAngles:!1,taskFontSize:14,taskFontFamily:'"Open Sans", sans-serif',taskMargin:50,activationWidth:10,textPlacement:"fo",actorColours:["#8FBC8F","#7CFC00","#00FFFF","#20B2AA","#B0E0E6","#FFFFE0"],sectionFills:["#191970","#8B008B","#4B0082","#2F4F4F","#800000","#8B4513","#00008B"],sectionColours:["#fff"],titleColor:"",titleFontFamily:'"trebuchet ms", verdana, arial, sans-serif',titleFontSize:"4ex"},class:{useMaxWidth:!0,titleTopMargin:25,arrowMarkerAbsolute:!1,dividerMargin:10,padding:5,textHeight:10,defaultRenderer:"dagre-wrapper",htmlLabels:!1,hideEmptyMembersBox:!1},state:{useMaxWidth:!0,titleTopMargin:25,dividerMargin:10,sizeUnit:5,padding:8,textHeight:10,titleShift:-15,noteMargin:10,forkWidth:70,forkHeight:7,miniPadding:2,fontSizeFactor:5.02,fontSize:24,labelHeight:16,edgeLengthFactor:"20",compositTitleSize:35,radius:5,defaultRenderer:"dagre-wrapper"},er:{useMaxWidth:!0,titleTopMargin:25,diagramPadding:20,layoutDirection:"TB",minEntityWidth:100,minEntityHeight:75,entityPadding:15,nodeSpacing:140,rankSpacing:80,stroke:"gray",fill:"honeydew",fontSize:12},pie:{useMaxWidth:!0,textPosition:.75},quadrantChart:{useMaxWidth:!0,chartWidth:500,chartHeight:500,titleFontSize:20,titlePadding:10,quadrantPadding:5,xAxisLabelPadding:5,yAxisLabelPadding:5,xAxisLabelFontSize:16,yAxisLabelFontSize:16,quadrantLabelFontSize:16,quadrantTextTopPadding:5,pointTextPadding:5,pointLabelFontSize:12,pointRadius:5,xAxisPosition:"top",yAxisPosition:"left",quadrantInternalBorderStrokeWidth:1,quadrantExternalBorderStrokeWidth:2},xyChart:{useMaxWidth:!0,width:700,height:500,titleFontSize:20,titlePadding:10,showDataLabel:!1,showTitle:!0,xAxis:{$ref:"#/$defs/XYChartAxisConfig",showLabel:!0,labelFontSize:14,labelPadding:5,showTitle:!0,titleFontSize:16,titlePadding:5,showTick:!0,tickLength:5,tickWidth:2,showAxisLine:!0,axisLineWidth:2},yAxis:{$ref:"#/$defs/XYChartAxisConfig",showLabel:!0,labelFontSize:14,labelPadding:5,showTitle:!0,titleFontSize:16,titlePadding:5,showTick:!0,tickLength:5,tickWidth:2,showAxisLine:!0,axisLineWidth:2},chartOrientation:"vertical",plotReservedSpacePercent:50},requirement:{useMaxWidth:!0,rect_fill:"#f9f9f9",text_color:"#333",rect_border_size:"0.5px",rect_border_color:"#bbb",rect_min_width:200,rect_min_height:200,fontSize:14,rect_padding:10,line_height:20},mindmap:{useMaxWidth:!0,padding:10,maxNodeWidth:200,layoutAlgorithm:"cose-bilkent"},kanban:{useMaxWidth:!0,padding:8,sectionWidth:200,ticketBaseUrl:""},timeline:{useMaxWidth:!0,diagramMarginX:50,diagramMarginY:10,leftMargin:150,width:150,height:50,boxMargin:10,boxTextMargin:5,noteMargin:10,messageMargin:35,messageAlign:"center",bottomMarginAdj:1,rightAngles:!1,taskFontSize:14,taskFontFamily:'"Open Sans", sans-serif',taskMargin:50,activationWidth:10,textPlacement:"fo",actorColours:["#8FBC8F","#7CFC00","#00FFFF","#20B2AA","#B0E0E6","#FFFFE0"],sectionFills:["#191970","#8B008B","#4B0082","#2F4F4F","#800000","#8B4513","#00008B"],sectionColours:["#fff"],disableMulticolor:!1},gitGraph:{useMaxWidth:!0,titleTopMargin:25,diagramPadding:8,nodeLabel:{width:75,height:100,x:-25,y:0},mainBranchName:"main",mainBranchOrder:0,showCommitLabel:!0,showBranches:!0,rotateCommitLabel:!0,parallelCommits:!1,arrowMarkerAbsolute:!1},c4:{useMaxWidth:!0,diagramMarginX:50,diagramMarginY:10,c4ShapeMargin:50,c4ShapePadding:20,width:216,height:60,boxMargin:10,c4ShapeInRow:4,nextLinePaddingX:0,c4BoundaryInRow:2,personFontSize:14,personFontFamily:'"Open Sans", sans-serif',personFontWeight:"normal",external_personFontSize:14,external_personFontFamily:'"Open Sans", sans-serif',external_personFontWeight:"normal",systemFontSize:14,systemFontFamily:'"Open Sans", sans-serif',systemFontWeight:"normal",external_systemFontSize:14,external_systemFontFamily:'"Open Sans", sans-serif',external_systemFontWeight:"normal",system_dbFontSize:14,system_dbFontFamily:'"Open Sans", sans-serif',system_dbFontWeight:"normal",external_system_dbFontSize:14,external_system_dbFontFamily:'"Open Sans", sans-serif',external_system_dbFontWeight:"normal",system_queueFontSize:14,system_queueFontFamily:'"Open Sans", sans-serif',system_queueFontWeight:"normal",external_system_queueFontSize:14,external_system_queueFontFamily:'"Open Sans", sans-serif',external_system_queueFontWeight:"normal",boundaryFontSize:14,boundaryFontFamily:'"Open Sans", sans-serif',boundaryFontWeight:"normal",messageFontSize:12,messageFontFamily:'"Open Sans", sans-serif',messageFontWeight:"normal",containerFontSize:14,containerFontFamily:'"Open Sans", sans-serif',containerFontWeight:"normal",external_containerFontSize:14,external_containerFontFamily:'"Open Sans", sans-serif',external_containerFontWeight:"normal",container_dbFontSize:14,container_dbFontFamily:'"Open Sans", sans-serif',container_dbFontWeight:"normal",external_container_dbFontSize:14,external_container_dbFontFamily:'"Open Sans", sans-serif',external_container_dbFontWeight:"normal",container_queueFontSize:14,container_queueFontFamily:'"Open Sans", sans-serif',container_queueFontWeight:"normal",external_container_queueFontSize:14,external_container_queueFontFamily:'"Open Sans", sans-serif',external_container_queueFontWeight:"normal",componentFontSize:14,componentFontFamily:'"Open Sans", sans-serif',componentFontWeight:"normal",external_componentFontSize:14,external_componentFontFamily:'"Open Sans", sans-serif',external_componentFontWeight:"normal",component_dbFontSize:14,component_dbFontFamily:'"Open Sans", sans-serif',component_dbFontWeight:"normal",external_component_dbFontSize:14,external_component_dbFontFamily:'"Open Sans", sans-serif',external_component_dbFontWeight:"normal",component_queueFontSize:14,component_queueFontFamily:'"Open Sans", sans-serif',component_queueFontWeight:"normal",external_component_queueFontSize:14,external_component_queueFontFamily:'"Open Sans", sans-serif',external_component_queueFontWeight:"normal",wrap:!0,wrapPadding:10,person_bg_color:"#08427B",person_border_color:"#073B6F",external_person_bg_color:"#686868",external_person_border_color:"#8A8A8A",system_bg_color:"#1168BD",system_border_color:"#3C7FC0",system_db_bg_color:"#1168BD",system_db_border_color:"#3C7FC0",system_queue_bg_color:"#1168BD",system_queue_border_color:"#3C7FC0",external_system_bg_color:"#999999",external_system_border_color:"#8A8A8A",external_system_db_bg_color:"#999999",external_system_db_border_color:"#8A8A8A",external_system_queue_bg_color:"#999999",external_system_queue_border_color:"#8A8A8A",container_bg_color:"#438DD5",container_border_color:"#3C7FC0",container_db_bg_color:"#438DD5",container_db_border_color:"#3C7FC0",container_queue_bg_color:"#438DD5",container_queue_border_color:"#3C7FC0",external_container_bg_color:"#B3B3B3",external_container_border_color:"#A6A6A6",external_container_db_bg_color:"#B3B3B3",external_container_db_border_color:"#A6A6A6",external_container_queue_bg_color:"#B3B3B3",external_container_queue_border_color:"#A6A6A6",component_bg_color:"#85BBF0",component_border_color:"#78A8D8",component_db_bg_color:"#85BBF0",component_db_border_color:"#78A8D8",component_queue_bg_color:"#85BBF0",component_queue_border_color:"#78A8D8",external_component_bg_color:"#CCCCCC",external_component_border_color:"#BFBFBF",external_component_db_bg_color:"#CCCCCC",external_component_db_border_color:"#BFBFBF",external_component_queue_bg_color:"#CCCCCC",external_component_queue_border_color:"#BFBFBF"},sankey:{useMaxWidth:!0,width:600,height:400,linkColor:"gradient",nodeAlignment:"justify",showValues:!0,prefix:"",suffix:""},block:{useMaxWidth:!0,padding:8},packet:{useMaxWidth:!0,rowHeight:32,bitWidth:32,bitsPerRow:32,showBits:!0,paddingX:5,paddingY:5},architecture:{useMaxWidth:!0,padding:40,iconSize:80,fontSize:16},radar:{useMaxWidth:!0,width:600,height:600,marginTop:50,marginRight:50,marginBottom:50,marginLeft:50,axisScaleFactor:1,axisLabelFactor:1.05,curveTension:.17},theme:"default",look:"classic",handDrawnSeed:0,layout:"dagre",maxTextSize:5e4,maxEdges:500,darkMode:!1,fontFamily:'"trebuchet ms", verdana, arial, sans-serif;',logLevel:5,securityLevel:"strict",startOnLoad:!0,arrowMarkerAbsolute:!1,secure:["secure","securityLevel","startOnLoad","maxTextSize","suppressErrorRendering","maxEdges"],legacyMathML:!1,forceLegacyMathML:!1,deterministicIds:!1,fontSize:16,markdownAutoWrap:!0,suppressErrorRendering:!1},u2={...$i,deterministicIDSeed:void 0,elk:{mergeEdges:!1,nodePlacementStrategy:"BRANDES_KOEPF",forceNodeModelOrder:!1,considerModelOrder:"NODES_AND_EDGES"},themeCSS:void 0,themeVariables:Sa.default.getThemeVariables(),sequence:{...$i.sequence,messageFont:w(function(){return{fontFamily:this.messageFontFamily,fontSize:this.messageFontSize,fontWeight:this.messageFontWeight}},"messageFont"),noteFont:w(function(){return{fontFamily:this.noteFontFamily,fontSize:this.noteFontSize,fontWeight:this.noteFontWeight}},"noteFont"),actorFont:w(function(){return{fontFamily:this.actorFontFamily,fontSize:this.actorFontSize,fontWeight:this.actorFontWeight}},"actorFont")},class:{hideEmptyMembersBox:!1},gantt:{...$i.gantt,tickInterval:void 0,useWidth:void 0},c4:{...$i.c4,useWidth:void 0,personFont:w(function(){return{fontFamily:this.personFontFamily,fontSize:this.personFontSize,fontWeight:this.personFontWeight}},"personFont"),flowchart:{...$i.flowchart,inheritDir:!1},external_personFont:w(function(){return{fontFamily:this.external_personFontFamily,fontSize:this.external_personFontSize,fontWeight:this.external_personFontWeight}},"external_personFont"),systemFont:w(function(){return{fontFamily:this.systemFontFamily,fontSize:this.systemFontSize,fontWeight:this.systemFontWeight}},"systemFont"),external_systemFont:w(function(){return{fontFamily:this.external_systemFontFamily,fontSize:this.external_systemFontSize,fontWeight:this.external_systemFontWeight}},"external_systemFont"),system_dbFont:w(function(){return{fontFamily:this.system_dbFontFamily,fontSize:this.system_dbFontSize,fontWeight:this.system_dbFontWeight}},"system_dbFont"),external_system_dbFont:w(function(){return{fontFamily:this.external_system_dbFontFamily,fontSize:this.external_system_dbFontSize,fontWeight:this.external_system_dbFontWeight}},"external_system_dbFont"),system_queueFont:w(function(){return{fontFamily:this.system_queueFontFamily,fontSize:this.system_queueFontSize,fontWeight:this.system_queueFontWeight}},"system_queueFont"),external_system_queueFont:w(function(){return{fontFamily:this.external_system_queueFontFamily,fontSize:this.external_system_queueFontSize,fontWeight:this.external_system_queueFontWeight}},"external_system_queueFont"),containerFont:w(function(){return{fontFamily:this.containerFontFamily,fontSize:this.containerFontSize,fontWeight:this.containerFontWeight}},"containerFont"),external_containerFont:w(function(){return{fontFamily:this.external_containerFontFamily,fontSize:this.external_containerFontSize,fontWeight:this.external_containerFontWeight}},"external_containerFont"),container_dbFont:w(function(){return{fontFamily:this.container_dbFontFamily,fontSize:this.container_dbFontSize,fontWeight:this.container_dbFontWeight}},"container_dbFont"),external_container_dbFont:w(function(){return{fontFamily:this.external_container_dbFontFamily,fontSize:this.external_container_dbFontSize,fontWeight:this.external_container_dbFontWeight}},"external_container_dbFont"),container_queueFont:w(function(){return{fontFamily:this.container_queueFontFamily,fontSize:this.container_queueFontSize,fontWeight:this.container_queueFontWeight}},"container_queueFont"),external_container_queueFont:w(function(){return{fontFamily:this.external_container_queueFontFamily,fontSize:this.external_container_queueFontSize,fontWeight:this.external_container_queueFontWeight}},"external_container_queueFont"),componentFont:w(function(){return{fontFamily:this.componentFontFamily,fontSize:this.componentFontSize,fontWeight:this.componentFontWeight}},"componentFont"),external_componentFont:w(function(){return{fontFamily:this.external_componentFontFamily,fontSize:this.external_componentFontSize,fontWeight:this.external_componentFontWeight}},"external_componentFont"),component_dbFont:w(function(){return{fontFamily:this.component_dbFontFamily,fontSize:this.component_dbFontSize,fontWeight:this.component_dbFontWeight}},"component_dbFont"),external_component_dbFont:w(function(){return{fontFamily:this.external_component_dbFontFamily,fontSize:this.external_component_dbFontSize,fontWeight:this.external_component_dbFontWeight}},"external_component_dbFont"),component_queueFont:w(function(){return{fontFamily:this.component_queueFontFamily,fontSize:this.component_queueFontSize,fontWeight:this.component_queueFontWeight}},"component_queueFont"),external_component_queueFont:w(function(){return{fontFamily:this.external_component_queueFontFamily,fontSize:this.external_component_queueFontSize,fontWeight:this.external_component_queueFontWeight}},"external_component_queueFont"),boundaryFont:w(function(){return{fontFamily:this.boundaryFontFamily,fontSize:this.boundaryFontSize,fontWeight:this.boundaryFontWeight}},"boundaryFont"),messageFont:w(function(){return{fontFamily:this.messageFontFamily,fontSize:this.messageFontSize,fontWeight:this.messageFontWeight}},"messageFont")},pie:{...$i.pie,useWidth:984},xyChart:{...$i.xyChart,useWidth:void 0},requirement:{...$i.requirement,useWidth:void 0},packet:{...$i.packet},radar:{...$i.radar},treemap:{useMaxWidth:!0,padding:10,diagramPadding:8,showValues:!0,nodeWidth:100,nodeHeight:40,borderWidth:1,valueFontSize:12,labelFontSize:14,valueFormat:","}},h2=w((e,t="")=>Object.keys(e).reduce((r,i)=>Array.isArray(e[i])?r:typeof e[i]=="object"&&e[i]!==null?[...r,t+i,...h2(e[i],"")]:[...r,t+i],[]),"keyify"),oj=new Set(h2(u2,"")),d2=u2,cd=w(e=>{if(st.debug("sanitizeDirective called with",e),!(typeof e!="object"||e==null)){if(Array.isArray(e)){e.forEach(t=>cd(t));return}for(const t of Object.keys(e)){if(st.debug("Checking key",t),t.startsWith("__")||t.includes("proto")||t.includes("constr")||!oj.has(t)||e[t]==null){st.debug("sanitize deleting key: ",t),delete e[t];continue}if(typeof e[t]=="object"){st.debug("sanitizing object",t),cd(e[t]);continue}const r=["themeCSS","fontFamily","altFontFamily"];for(const i of r)t.includes(i)&&(st.debug("sanitizing css option",t),e[t]=cj(e[t]))}if(e.themeVariables)for(const t of Object.keys(e.themeVariables)){const r=e.themeVariables[t];r?.match&&!r.match(/^[\d "#%(),.;A-Za-z]+$/)&&(e.themeVariables[t]="")}st.debug("After sanitization",e)}},"sanitizeDirective"),cj=w(e=>{let t=0,r=0;for(const i of e){if(t<r)return"{ /* ERROR: Unbalanced CSS */ }";i==="{"?t++:i==="}"&&r++}return t!==r?"{ /* ERROR: Unbalanced CSS */ }":e},"sanitizeCss"),El=Object.freeze(d2),Lr=qe({},El),ud,ns=[],Sc=qe({},El),tf=w((e,t)=>{let r=qe({},e),i={};for(const n of t)g2(n),i=qe(i,n);if(r=qe(r,i),i.theme&&i.theme in Sa){const n=qe({},ud),l=qe(n.themeVariables||{},i.themeVariables);r.theme&&r.theme in Sa&&(r.themeVariables=Sa[r.theme].getThemeVariables(l))}return Sc=r,m2(Sc),Sc},"updateCurrentConfig"),uj=w(e=>(Lr=qe({},El),Lr=qe(Lr,e),e.theme&&Sa[e.theme]&&(Lr.themeVariables=Sa[e.theme].getThemeVariables(e.themeVariables)),tf(Lr,ns),Lr),"setSiteConfig"),hj=w(e=>{ud=qe({},e)},"saveConfigFromInitialize"),dj=w(e=>(Lr=qe(Lr,e),tf(Lr,ns),Lr),"updateSiteConfig"),f2=w(()=>qe({},Lr),"getSiteConfig"),p2=w(e=>(m2(e),qe(Sc,e),cr()),"setConfig"),cr=w(()=>qe({},Sc),"getConfig"),g2=w(e=>{e&&(["secure",...Lr.secure??[]].forEach(t=>{Object.hasOwn(e,t)&&(st.debug(`Denied attempt to modify a secure key ${t}`,e[t]),delete e[t])}),Object.keys(e).forEach(t=>{t.startsWith("__")&&delete e[t]}),Object.keys(e).forEach(t=>{typeof e[t]=="string"&&(e[t].includes("<")||e[t].includes(">")||e[t].includes("url(data:"))&&delete e[t],typeof e[t]=="object"&&g2(e[t])}))},"sanitize"),fj=w(e=>{cd(e),e.fontFamily&&!e.themeVariables?.fontFamily&&(e.themeVariables={...e.themeVariables,fontFamily:e.fontFamily}),ns.push(e),tf(Lr,ns)},"addDirective"),hd=w((e=Lr)=>{ns=[],tf(e,ns)},"reset"),pj={LAZY_LOAD_DEPRECATED:"The configuration options lazyLoadedDiagrams and loadExternalDiagramsAtStartup are deprecated. Please use registerExternalDiagrams instead."},Fw={},gj=w(e=>{Fw[e]||(st.warn(pj[e]),Fw[e]=!0)},"issueWarning"),m2=w(e=>{e&&(e.lazyLoadedDiagrams||e.loadExternalDiagramsAtStartup)&&gj("LAZY_LOAD_DEPRECATED")},"checkConfig"),k7=w(()=>{let e={};ud&&(e=qe(e,ud));for(const t of ns)e=qe(e,t);return e},"getUserDefinedConfig"),Kc=/<br\s*\/?>/gi,mj=w(e=>e?x2(e).replace(/\\n/g,"#br#").split("#br#"):[""],"getRows"),yj=(()=>{let e=!1;return()=>{e||(y2(),e=!0)}})();function y2(){const e="data-temp-href-target";Tl.addHook("beforeSanitizeAttributes",t=>{t.tagName==="A"&&t.hasAttribute("target")&&t.setAttribute(e,t.getAttribute("target")??"")}),Tl.addHook("afterSanitizeAttributes",t=>{t.tagName==="A"&&t.hasAttribute(e)&&(t.setAttribute("target",t.getAttribute(e)??""),t.removeAttribute(e),t.getAttribute("target")==="_blank"&&t.setAttribute("rel","noopener"))})}w(y2,"setupDompurifyHooks");var b2=w(e=>(yj(),Tl.sanitize(e)),"removeScript"),Pw=w((e,t)=>{if(t.flowchart?.htmlLabels!==!1){const r=t.securityLevel;r==="antiscript"||r==="strict"?e=b2(e):r!=="loose"&&(e=x2(e),e=e.replace(/</g,"&lt;").replace(/>/g,"&gt;"),e=e.replace(/=/g,"&equals;"),e=_j(e))}return e},"sanitizeMore"),di=w((e,t)=>e&&(t.dompurifyConfig?e=Tl.sanitize(Pw(e,t),t.dompurifyConfig).toString():e=Tl.sanitize(Pw(e,t),{FORBID_TAGS:["style"]}).toString(),e),"sanitizeText"),bj=w((e,t)=>typeof e=="string"?di(e,t):e.flat().map(r=>di(r,t)),"sanitizeTextOrArray"),xj=w(e=>Kc.test(e),"hasBreaks"),vj=w(e=>e.split(Kc),"splitBreaks"),_j=w(e=>e.replace(/#br#/g,"<br/>"),"placeholderToBreak"),x2=w(e=>e.replace(Kc,"#br#"),"breakToPlaceholder"),wj=w(e=>{let t="";return e&&(t=window.location.protocol+"//"+window.location.host+window.location.pathname+window.location.search,t=CSS.escape(t)),t},"getUrl"),We=w(e=>!(e===!1||["false","null","0"].includes(String(e).trim().toLowerCase())),"evaluate"),Sj=w(function(...e){const t=e.filter(r=>!isNaN(r));return Math.max(...t)},"getMax"),kj=w(function(...e){const t=e.filter(r=>!isNaN(r));return Math.min(...t)},"getMin"),Uw=w(function(e){const t=e.split(/(,)/),r=[];for(let i=0;i<t.length;i++){let n=t[i];if(n===","&&i>0&&i+1<t.length){const l=t[i-1],o=t[i+1];Cj(l,o)&&(n=l+","+o,i++,r.pop())}r.push(Tj(n))}return r.join("")},"parseGenericTypes"),qm=w((e,t)=>Math.max(0,e.split(t).length-1),"countOccurrence"),Cj=w((e,t)=>{const r=qm(e,"~"),i=qm(t,"~");return r===1&&i===1},"shouldCombineSets"),Tj=w(e=>{const t=qm(e,"~");let r=!1;if(t<=1)return e;t%2!==0&&e.startsWith("~")&&(e=e.substring(1),r=!0);const i=[...e];let n=i.indexOf("~"),l=i.lastIndexOf("~");for(;n!==-1&&l!==-1&&n!==l;)i[n]="<",i[l]=">",n=i.indexOf("~"),l=i.lastIndexOf("~");return r&&i.unshift("~"),i.join("")},"processSet"),Iw=w(()=>window.MathMLElement!==void 0,"isMathMLSupported"),Hm=/\$\$(.*)\$\$/g,Al=w(e=>(e.match(Hm)?.length??0)>0,"hasKatex"),C7=w(async(e,t)=>{const r=document.createElement("div");r.innerHTML=await Zy(e,t),r.id="katex-temp",r.style.visibility="hidden",r.style.position="absolute",r.style.top="0",document.querySelector("body")?.insertAdjacentElement("beforeend",r);const n={width:r.clientWidth,height:r.clientHeight};return r.remove(),n},"calculateMathMLDimensions"),Ej=w(async(e,t)=>{if(!Al(e))return e;if(!(Iw()||t.legacyMathML||t.forceLegacyMathML))return e.replace(Hm,"MathML is unsupported in this environment.");{const{default:r}=await ne(async()=>{const{default:n}=await import("./katex-XbL3y5x-.js");return{default:n}},[]),i=t.forceLegacyMathML||!Iw()&&t.legacyMathML?"htmlAndMathml":"mathml";return e.split(Kc).map(n=>Al(n)?`<div style="display: flex; align-items: center; justify-content: center; white-space: nowrap;">${n}</div>`:`<div>${n}</div>`).join("").replace(Hm,(n,l)=>r.renderToString(l,{throwOnError:!0,displayMode:!0,output:i}).replace(/\n/g," ").replace(/<annotation.*<\/annotation>/g,""))}},"renderKatexUnsanitized"),Zy=w(async(e,t)=>di(await Ej(e,t),t),"renderKatexSanitized"),Fl={getRows:mj,sanitizeText:di,sanitizeTextOrArray:bj,hasBreaks:xj,splitBreaks:vj,lineBreakRegex:Kc,removeScript:b2,getUrl:wj,evaluate:We,getMax:Sj,getMin:kj},Aj=w(function(e,t){for(let r of t)e.attr(r[0],r[1])},"d3Attrs"),Oj=w(function(e,t,r){let i=new Map;return r?(i.set("width","100%"),i.set("style",`max-width: ${t}px;`)):(i.set("height",e),i.set("width",t)),i},"calculateSvgSizeAttrs"),v2=w(function(e,t,r,i){const n=Oj(t,r,i);Aj(e,n)},"configureSvgSize"),Rj=w(function(e,t,r,i){const n=t.node().getBBox(),l=n.width,o=n.height;st.info(`SVG bounds: ${l}x${o}`,n);let u=0,h=0;st.info(`Graph bounds: ${u}x${h}`,e),u=l+r*2,h=o+r*2,st.info(`Calculated bounds: ${u}x${h}`),v2(t,h,u,i);const d=`${n.x-r} ${n.y-r} ${n.width+2*r} ${n.height+2*r}`;t.attr("viewBox",d)},"setupGraphViewbox"),Yh={},Lj=w((e,t,r)=>{let i="";return e in Yh&&Yh[e]?i=Yh[e](r):st.warn(`No theme found for ${e}`),` & {
    font-family: ${r.fontFamily};
    font-size: ${r.fontSize};
    fill: ${r.textColor}
  }
  @keyframes edge-animation-frame {
    from {
      stroke-dashoffset: 0;
    }
  }
  @keyframes dash {
    to {
      stroke-dashoffset: 0;
    }
  }
  & .edge-animation-slow {
    stroke-dasharray: 9,5 !important;
    stroke-dashoffset: 900;
    animation: dash 50s linear infinite;
    stroke-linecap: round;
  }
  & .edge-animation-fast {
    stroke-dasharray: 9,5 !important;
    stroke-dashoffset: 900;
    animation: dash 20s linear infinite;
    stroke-linecap: round;
  }
  /* Classes common for multiple diagrams */

  & .error-icon {
    fill: ${r.errorBkgColor};
  }
  & .error-text {
    fill: ${r.errorTextColor};
    stroke: ${r.errorTextColor};
  }

  & .edge-thickness-normal {
    stroke-width: 1px;
  }
  & .edge-thickness-thick {
    stroke-width: 3.5px
  }
  & .edge-pattern-solid {
    stroke-dasharray: 0;
  }
  & .edge-thickness-invisible {
    stroke-width: 0;
    fill: none;
  }
  & .edge-pattern-dashed{
    stroke-dasharray: 3;
  }
  .edge-pattern-dotted {
    stroke-dasharray: 2;
  }

  & .marker {
    fill: ${r.lineColor};
    stroke: ${r.lineColor};
  }
  & .marker.cross {
    stroke: ${r.lineColor};
  }

  & svg {
    font-family: ${r.fontFamily};
    font-size: ${r.fontSize};
  }
   & p {
    margin: 0
   }

  ${i}

  ${t}
`},"getStyles"),Mj=w((e,t)=>{t!==void 0&&(Yh[e]=t)},"addStylesForDiagram"),Bj=Lj,_2={};_D(_2,{clear:()=>Nj,getAccDescription:()=>zj,getAccTitle:()=>jj,getDiagramTitle:()=>Pj,setAccDescription:()=>$j,setAccTitle:()=>Dj,setDiagramTitle:()=>Fj});var Jy="",t0="",e0="",r0=w(e=>di(e,cr()),"sanitizeText"),Nj=w(()=>{Jy="",e0="",t0=""},"clear"),Dj=w(e=>{Jy=r0(e).replace(/^\s+/g,"")},"setAccTitle"),jj=w(()=>Jy,"getAccTitle"),$j=w(e=>{e0=r0(e).replace(/\n\s+/g,`
`)},"setAccDescription"),zj=w(()=>e0,"getAccDescription"),Fj=w(e=>{t0=r0(e)},"setDiagramTitle"),Pj=w(()=>t0,"getDiagramTitle"),qw=st,Uj=Ky,ie=cr,T7=p2,E7=El,i0=w(e=>di(e,ie()),"sanitizeText"),Ij=Rj,qj=w(()=>_2,"getCommonDb"),dd={},fd=w((e,t,r)=>{dd[e]&&qw.warn(`Diagram with id ${e} already registered. Overwriting.`),dd[e]=t,r&&c2(e,r),Mj(e,t.styles),t.injectUtils?.(qw,Uj,ie,i0,Ij,qj(),()=>{})},"registerDiagram"),Wm=w(e=>{if(e in dd)return dd[e];throw new Hj(e)},"getDiagram"),kl,Hj=(kl=class extends Error{constructor(t){super(`Diagram ${t} not found.`)}},w(kl,"DiagramNotFoundError"),kl),Wj={value:()=>{}};function w2(){for(var e=0,t=arguments.length,r={},i;e<t;++e){if(!(i=arguments[e]+"")||i in r||/[\s.]/.test(i))throw new Error("illegal type: "+i);r[i]=[]}return new Vh(r)}function Vh(e){this._=e}function Gj(e,t){return e.trim().split(/^|\s+/).map(function(r){var i="",n=r.indexOf(".");if(n>=0&&(i=r.slice(n+1),r=r.slice(0,n)),r&&!t.hasOwnProperty(r))throw new Error("unknown type: "+r);return{type:r,name:i}})}Vh.prototype=w2.prototype={constructor:Vh,on:function(e,t){var r=this._,i=Gj(e+"",r),n,l=-1,o=i.length;if(arguments.length<2){for(;++l<o;)if((n=(e=i[l]).type)&&(n=Yj(r[n],e.name)))return n;return}if(t!=null&&typeof t!="function")throw new Error("invalid callback: "+t);for(;++l<o;)if(n=(e=i[l]).type)r[n]=Hw(r[n],e.name,t);else if(t==null)for(n in r)r[n]=Hw(r[n],e.name,null);return this},copy:function(){var e={},t=this._;for(var r in t)e[r]=t[r].slice();return new Vh(e)},call:function(e,t){if((n=arguments.length-2)>0)for(var r=new Array(n),i=0,n,l;i<n;++i)r[i]=arguments[i+2];if(!this._.hasOwnProperty(e))throw new Error("unknown type: "+e);for(l=this._[e],i=0,n=l.length;i<n;++i)l[i].value.apply(t,r)},apply:function(e,t,r){if(!this._.hasOwnProperty(e))throw new Error("unknown type: "+e);for(var i=this._[e],n=0,l=i.length;n<l;++n)i[n].value.apply(t,r)}};function Yj(e,t){for(var r=0,i=e.length,n;r<i;++r)if((n=e[r]).name===t)return n.value}function Hw(e,t,r){for(var i=0,n=e.length;i<n;++i)if(e[i].name===t){e[i]=Wj,e=e.slice(0,i).concat(e.slice(i+1));break}return r!=null&&e.push({name:t,value:r}),e}var Gm="http://www.w3.org/1999/xhtml";const Ww={svg:"http://www.w3.org/2000/svg",xhtml:Gm,xlink:"http://www.w3.org/1999/xlink",xml:"http://www.w3.org/XML/1998/namespace",xmlns:"http://www.w3.org/2000/xmlns/"};function ef(e){var t=e+="",r=t.indexOf(":");return r>=0&&(t=e.slice(0,r))!=="xmlns"&&(e=e.slice(r+1)),Ww.hasOwnProperty(t)?{space:Ww[t],local:e}:e}function Vj(e){return function(){var t=this.ownerDocument,r=this.namespaceURI;return r===Gm&&t.documentElement.namespaceURI===Gm?t.createElement(e):t.createElementNS(r,e)}}function Xj(e){return function(){return this.ownerDocument.createElementNS(e.space,e.local)}}function S2(e){var t=ef(e);return(t.local?Xj:Vj)(t)}function Kj(){}function a0(e){return e==null?Kj:function(){return this.querySelector(e)}}function Qj(e){typeof e!="function"&&(e=a0(e));for(var t=this._groups,r=t.length,i=new Array(r),n=0;n<r;++n)for(var l=t[n],o=l.length,u=i[n]=new Array(o),h,d,p=0;p<o;++p)(h=l[p])&&(d=e.call(h,h.__data__,p,l))&&("__data__"in h&&(d.__data__=h.__data__),u[p]=d);return new Vr(i,this._parents)}function Zj(e){return e==null?[]:Array.isArray(e)?e:Array.from(e)}function Jj(){return[]}function k2(e){return e==null?Jj:function(){return this.querySelectorAll(e)}}function t$(e){return function(){return Zj(e.apply(this,arguments))}}function e$(e){typeof e=="function"?e=t$(e):e=k2(e);for(var t=this._groups,r=t.length,i=[],n=[],l=0;l<r;++l)for(var o=t[l],u=o.length,h,d=0;d<u;++d)(h=o[d])&&(i.push(e.call(h,h.__data__,d,o)),n.push(h));return new Vr(i,n)}function C2(e){return function(){return this.matches(e)}}function T2(e){return function(t){return t.matches(e)}}var r$=Array.prototype.find;function i$(e){return function(){return r$.call(this.children,e)}}function a$(){return this.firstElementChild}function n$(e){return this.select(e==null?a$:i$(typeof e=="function"?e:T2(e)))}var s$=Array.prototype.filter;function l$(){return Array.from(this.children)}function o$(e){return function(){return s$.call(this.children,e)}}function c$(e){return this.selectAll(e==null?l$:o$(typeof e=="function"?e:T2(e)))}function u$(e){typeof e!="function"&&(e=C2(e));for(var t=this._groups,r=t.length,i=new Array(r),n=0;n<r;++n)for(var l=t[n],o=l.length,u=i[n]=[],h,d=0;d<o;++d)(h=l[d])&&e.call(h,h.__data__,d,l)&&u.push(h);return new Vr(i,this._parents)}function E2(e){return new Array(e.length)}function h$(){return new Vr(this._enter||this._groups.map(E2),this._parents)}function pd(e,t){this.ownerDocument=e.ownerDocument,this.namespaceURI=e.namespaceURI,this._next=null,this._parent=e,this.__data__=t}pd.prototype={constructor:pd,appendChild:function(e){return this._parent.insertBefore(e,this._next)},insertBefore:function(e,t){return this._parent.insertBefore(e,t)},querySelector:function(e){return this._parent.querySelector(e)},querySelectorAll:function(e){return this._parent.querySelectorAll(e)}};function d$(e){return function(){return e}}function f$(e,t,r,i,n,l){for(var o=0,u,h=t.length,d=l.length;o<d;++o)(u=t[o])?(u.__data__=l[o],i[o]=u):r[o]=new pd(e,l[o]);for(;o<h;++o)(u=t[o])&&(n[o]=u)}function p$(e,t,r,i,n,l,o){var u,h,d=new Map,p=t.length,g=l.length,y=new Array(p),x;for(u=0;u<p;++u)(h=t[u])&&(y[u]=x=o.call(h,h.__data__,u,t)+"",d.has(x)?n[u]=h:d.set(x,h));for(u=0;u<g;++u)x=o.call(e,l[u],u,l)+"",(h=d.get(x))?(i[u]=h,h.__data__=l[u],d.delete(x)):r[u]=new pd(e,l[u]);for(u=0;u<p;++u)(h=t[u])&&d.get(y[u])===h&&(n[u]=h)}function g$(e){return e.__data__}function m$(e,t){if(!arguments.length)return Array.from(this,g$);var r=t?p$:f$,i=this._parents,n=this._groups;typeof e!="function"&&(e=d$(e));for(var l=n.length,o=new Array(l),u=new Array(l),h=new Array(l),d=0;d<l;++d){var p=i[d],g=n[d],y=g.length,x=y$(e.call(p,p&&p.__data__,d,i)),v=x.length,_=u[d]=new Array(v),S=o[d]=new Array(v),T=h[d]=new Array(y);r(p,g,_,S,T,x,t);for(var E=0,O=0,M,N;E<v;++E)if(M=_[E]){for(E>=O&&(O=E+1);!(N=S[O])&&++O<v;);M._next=N||null}}return o=new Vr(o,i),o._enter=u,o._exit=h,o}function y$(e){return typeof e=="object"&&"length"in e?e:Array.from(e)}function b$(){return new Vr(this._exit||this._groups.map(E2),this._parents)}function x$(e,t,r){var i=this.enter(),n=this,l=this.exit();return typeof e=="function"?(i=e(i),i&&(i=i.selection())):i=i.append(e+""),t!=null&&(n=t(n),n&&(n=n.selection())),r==null?l.remove():r(l),i&&n?i.merge(n).order():n}function v$(e){for(var t=e.selection?e.selection():e,r=this._groups,i=t._groups,n=r.length,l=i.length,o=Math.min(n,l),u=new Array(n),h=0;h<o;++h)for(var d=r[h],p=i[h],g=d.length,y=u[h]=new Array(g),x,v=0;v<g;++v)(x=d[v]||p[v])&&(y[v]=x);for(;h<n;++h)u[h]=r[h];return new Vr(u,this._parents)}function _$(){for(var e=this._groups,t=-1,r=e.length;++t<r;)for(var i=e[t],n=i.length-1,l=i[n],o;--n>=0;)(o=i[n])&&(l&&o.compareDocumentPosition(l)^4&&l.parentNode.insertBefore(o,l),l=o);return this}function w$(e){e||(e=S$);function t(g,y){return g&&y?e(g.__data__,y.__data__):!g-!y}for(var r=this._groups,i=r.length,n=new Array(i),l=0;l<i;++l){for(var o=r[l],u=o.length,h=n[l]=new Array(u),d,p=0;p<u;++p)(d=o[p])&&(h[p]=d);h.sort(t)}return new Vr(n,this._parents).order()}function S$(e,t){return e<t?-1:e>t?1:e>=t?0:NaN}function k$(){var e=arguments[0];return arguments[0]=this,e.apply(null,arguments),this}function C$(){return Array.from(this)}function T$(){for(var e=this._groups,t=0,r=e.length;t<r;++t)for(var i=e[t],n=0,l=i.length;n<l;++n){var o=i[n];if(o)return o}return null}function E$(){let e=0;for(const t of this)++e;return e}function A$(){return!this.node()}function O$(e){for(var t=this._groups,r=0,i=t.length;r<i;++r)for(var n=t[r],l=0,o=n.length,u;l<o;++l)(u=n[l])&&e.call(u,u.__data__,l,n);return this}function R$(e){return function(){this.removeAttribute(e)}}function L$(e){return function(){this.removeAttributeNS(e.space,e.local)}}function M$(e,t){return function(){this.setAttribute(e,t)}}function B$(e,t){return function(){this.setAttributeNS(e.space,e.local,t)}}function N$(e,t){return function(){var r=t.apply(this,arguments);r==null?this.removeAttribute(e):this.setAttribute(e,r)}}function D$(e,t){return function(){var r=t.apply(this,arguments);r==null?this.removeAttributeNS(e.space,e.local):this.setAttributeNS(e.space,e.local,r)}}function j$(e,t){var r=ef(e);if(arguments.length<2){var i=this.node();return r.local?i.getAttributeNS(r.space,r.local):i.getAttribute(r)}return this.each((t==null?r.local?L$:R$:typeof t=="function"?r.local?D$:N$:r.local?B$:M$)(r,t))}function A2(e){return e.ownerDocument&&e.ownerDocument.defaultView||e.document&&e||e.defaultView}function $$(e){return function(){this.style.removeProperty(e)}}function z$(e,t,r){return function(){this.style.setProperty(e,t,r)}}function F$(e,t,r){return function(){var i=t.apply(this,arguments);i==null?this.style.removeProperty(e):this.style.setProperty(e,i,r)}}function P$(e,t,r){return arguments.length>1?this.each((t==null?$$:typeof t=="function"?F$:z$)(e,t,r??"")):Ol(this.node(),e)}function Ol(e,t){return e.style.getPropertyValue(t)||A2(e).getComputedStyle(e,null).getPropertyValue(t)}function U$(e){return function(){delete this[e]}}function I$(e,t){return function(){this[e]=t}}function q$(e,t){return function(){var r=t.apply(this,arguments);r==null?delete this[e]:this[e]=r}}function H$(e,t){return arguments.length>1?this.each((t==null?U$:typeof t=="function"?q$:I$)(e,t)):this.node()[e]}function O2(e){return e.trim().split(/^|\s+/)}function n0(e){return e.classList||new R2(e)}function R2(e){this._node=e,this._names=O2(e.getAttribute("class")||"")}R2.prototype={add:function(e){var t=this._names.indexOf(e);t<0&&(this._names.push(e),this._node.setAttribute("class",this._names.join(" ")))},remove:function(e){var t=this._names.indexOf(e);t>=0&&(this._names.splice(t,1),this._node.setAttribute("class",this._names.join(" ")))},contains:function(e){return this._names.indexOf(e)>=0}};function L2(e,t){for(var r=n0(e),i=-1,n=t.length;++i<n;)r.add(t[i])}function M2(e,t){for(var r=n0(e),i=-1,n=t.length;++i<n;)r.remove(t[i])}function W$(e){return function(){L2(this,e)}}function G$(e){return function(){M2(this,e)}}function Y$(e,t){return function(){(t.apply(this,arguments)?L2:M2)(this,e)}}function V$(e,t){var r=O2(e+"");if(arguments.length<2){for(var i=n0(this.node()),n=-1,l=r.length;++n<l;)if(!i.contains(r[n]))return!1;return!0}return this.each((typeof t=="function"?Y$:t?W$:G$)(r,t))}function X$(){this.textContent=""}function K$(e){return function(){this.textContent=e}}function Q$(e){return function(){var t=e.apply(this,arguments);this.textContent=t??""}}function Z$(e){return arguments.length?this.each(e==null?X$:(typeof e=="function"?Q$:K$)(e)):this.node().textContent}function J$(){this.innerHTML=""}function t5(e){return function(){this.innerHTML=e}}function e5(e){return function(){var t=e.apply(this,arguments);this.innerHTML=t??""}}function r5(e){return arguments.length?this.each(e==null?J$:(typeof e=="function"?e5:t5)(e)):this.node().innerHTML}function i5(){this.nextSibling&&this.parentNode.appendChild(this)}function a5(){return this.each(i5)}function n5(){this.previousSibling&&this.parentNode.insertBefore(this,this.parentNode.firstChild)}function s5(){return this.each(n5)}function l5(e){var t=typeof e=="function"?e:S2(e);return this.select(function(){return this.appendChild(t.apply(this,arguments))})}function o5(){return null}function c5(e,t){var r=typeof e=="function"?e:S2(e),i=t==null?o5:typeof t=="function"?t:a0(t);return this.select(function(){return this.insertBefore(r.apply(this,arguments),i.apply(this,arguments)||null)})}function u5(){var e=this.parentNode;e&&e.removeChild(this)}function h5(){return this.each(u5)}function d5(){var e=this.cloneNode(!1),t=this.parentNode;return t?t.insertBefore(e,this.nextSibling):e}function f5(){var e=this.cloneNode(!0),t=this.parentNode;return t?t.insertBefore(e,this.nextSibling):e}function p5(e){return this.select(e?f5:d5)}function g5(e){return arguments.length?this.property("__data__",e):this.node().__data__}function m5(e){return function(t){e.call(this,t,this.__data__)}}function y5(e){return e.trim().split(/^|\s+/).map(function(t){var r="",i=t.indexOf(".");return i>=0&&(r=t.slice(i+1),t=t.slice(0,i)),{type:t,name:r}})}function b5(e){return function(){var t=this.__on;if(t){for(var r=0,i=-1,n=t.length,l;r<n;++r)l=t[r],(!e.type||l.type===e.type)&&l.name===e.name?this.removeEventListener(l.type,l.listener,l.options):t[++i]=l;++i?t.length=i:delete this.__on}}}function x5(e,t,r){return function(){var i=this.__on,n,l=m5(t);if(i){for(var o=0,u=i.length;o<u;++o)if((n=i[o]).type===e.type&&n.name===e.name){this.removeEventListener(n.type,n.listener,n.options),this.addEventListener(n.type,n.listener=l,n.options=r),n.value=t;return}}this.addEventListener(e.type,l,r),n={type:e.type,name:e.name,value:t,listener:l,options:r},i?i.push(n):this.__on=[n]}}function v5(e,t,r){var i=y5(e+""),n,l=i.length,o;if(arguments.length<2){var u=this.node().__on;if(u){for(var h=0,d=u.length,p;h<d;++h)for(n=0,p=u[h];n<l;++n)if((o=i[n]).type===p.type&&o.name===p.name)return p.value}return}for(u=t?x5:b5,n=0;n<l;++n)this.each(u(i[n],t,r));return this}function B2(e,t,r){var i=A2(e),n=i.CustomEvent;typeof n=="function"?n=new n(t,r):(n=i.document.createEvent("Event"),r?(n.initEvent(t,r.bubbles,r.cancelable),n.detail=r.detail):n.initEvent(t,!1,!1)),e.dispatchEvent(n)}function _5(e,t){return function(){return B2(this,e,t)}}function w5(e,t){return function(){return B2(this,e,t.apply(this,arguments))}}function S5(e,t){return this.each((typeof t=="function"?w5:_5)(e,t))}function*k5(){for(var e=this._groups,t=0,r=e.length;t<r;++t)for(var i=e[t],n=0,l=i.length,o;n<l;++n)(o=i[n])&&(yield o)}var N2=[null];function Vr(e,t){this._groups=e,this._parents=t}function Qc(){return new Vr([[document.documentElement]],N2)}function C5(){return this}Vr.prototype=Qc.prototype={constructor:Vr,select:Qj,selectAll:e$,selectChild:n$,selectChildren:c$,filter:u$,data:m$,enter:h$,exit:b$,join:x$,merge:v$,selection:C5,order:_$,sort:w$,call:k$,nodes:C$,node:T$,size:E$,empty:A$,each:O$,attr:j$,style:P$,property:H$,classed:V$,text:Z$,html:r5,raise:a5,lower:s5,append:l5,insert:c5,remove:h5,clone:p5,datum:g5,on:v5,dispatch:S5,[Symbol.iterator]:k5};function Xt(e){return typeof e=="string"?new Vr([[document.querySelector(e)]],[document.documentElement]):new Vr([[e]],N2)}function s0(e,t,r){e.prototype=t.prototype=r,r.constructor=e}function D2(e,t){var r=Object.create(e.prototype);for(var i in t)r[i]=t[i];return r}function Zc(){}var Bc=.7,gd=1/Bc,ml="\\s*([+-]?\\d+)\\s*",Nc="\\s*([+-]?(?:\\d*\\.)?\\d+(?:[eE][+-]?\\d+)?)\\s*",Ii="\\s*([+-]?(?:\\d*\\.)?\\d+(?:[eE][+-]?\\d+)?)%\\s*",T5=/^#([0-9a-f]{3,8})$/,E5=new RegExp(`^rgb\\(${ml},${ml},${ml}\\)$`),A5=new RegExp(`^rgb\\(${Ii},${Ii},${Ii}\\)$`),O5=new RegExp(`^rgba\\(${ml},${ml},${ml},${Nc}\\)$`),R5=new RegExp(`^rgba\\(${Ii},${Ii},${Ii},${Nc}\\)$`),L5=new RegExp(`^hsl\\(${Nc},${Ii},${Ii}\\)$`),M5=new RegExp(`^hsla\\(${Nc},${Ii},${Ii},${Nc}\\)$`),Gw={aliceblue:15792383,antiquewhite:16444375,aqua:65535,aquamarine:8388564,azure:15794175,beige:16119260,bisque:16770244,black:0,blanchedalmond:16772045,blue:255,blueviolet:9055202,brown:10824234,burlywood:14596231,cadetblue:6266528,chartreuse:8388352,chocolate:13789470,coral:16744272,cornflowerblue:6591981,cornsilk:16775388,crimson:14423100,cyan:65535,darkblue:139,darkcyan:35723,darkgoldenrod:12092939,darkgray:11119017,darkgreen:25600,darkgrey:11119017,darkkhaki:12433259,darkmagenta:9109643,darkolivegreen:5597999,darkorange:16747520,darkorchid:10040012,darkred:9109504,darksalmon:15308410,darkseagreen:9419919,darkslateblue:4734347,darkslategray:3100495,darkslategrey:3100495,darkturquoise:52945,darkviolet:9699539,deeppink:16716947,deepskyblue:49151,dimgray:6908265,dimgrey:6908265,dodgerblue:2003199,firebrick:11674146,floralwhite:16775920,forestgreen:2263842,fuchsia:16711935,gainsboro:14474460,ghostwhite:16316671,gold:16766720,goldenrod:14329120,gray:8421504,green:32768,greenyellow:11403055,grey:8421504,honeydew:15794160,hotpink:16738740,indianred:13458524,indigo:4915330,ivory:16777200,khaki:15787660,lavender:15132410,lavenderblush:16773365,lawngreen:8190976,lemonchiffon:16775885,lightblue:11393254,lightcoral:15761536,lightcyan:14745599,lightgoldenrodyellow:16448210,lightgray:13882323,lightgreen:9498256,lightgrey:13882323,lightpink:16758465,lightsalmon:16752762,lightseagreen:2142890,lightskyblue:8900346,lightslategray:7833753,lightslategrey:7833753,lightsteelblue:11584734,lightyellow:16777184,lime:65280,limegreen:3329330,linen:16445670,magenta:16711935,maroon:8388608,mediumaquamarine:6737322,mediumblue:205,mediumorchid:12211667,mediumpurple:9662683,mediumseagreen:3978097,mediumslateblue:8087790,mediumspringgreen:64154,mediumturquoise:4772300,mediumvioletred:13047173,midnightblue:1644912,mintcream:16121850,mistyrose:16770273,moccasin:16770229,navajowhite:16768685,navy:128,oldlace:16643558,olive:8421376,olivedrab:7048739,orange:16753920,orangered:16729344,orchid:14315734,palegoldenrod:15657130,palegreen:10025880,paleturquoise:11529966,palevioletred:14381203,papayawhip:16773077,peachpuff:16767673,peru:13468991,pink:16761035,plum:14524637,powderblue:11591910,purple:8388736,rebeccapurple:6697881,red:16711680,rosybrown:12357519,royalblue:4286945,saddlebrown:9127187,salmon:16416882,sandybrown:16032864,seagreen:3050327,seashell:16774638,sienna:10506797,silver:12632256,skyblue:8900331,slateblue:6970061,slategray:7372944,slategrey:7372944,snow:16775930,springgreen:65407,steelblue:4620980,tan:13808780,teal:32896,thistle:14204888,tomato:16737095,turquoise:4251856,violet:15631086,wheat:16113331,white:16777215,whitesmoke:16119285,yellow:16776960,yellowgreen:10145074};s0(Zc,Dc,{copy(e){return Object.assign(new this.constructor,this,e)},displayable(){return this.rgb().displayable()},hex:Yw,formatHex:Yw,formatHex8:B5,formatHsl:N5,formatRgb:Vw,toString:Vw});function Yw(){return this.rgb().formatHex()}function B5(){return this.rgb().formatHex8()}function N5(){return j2(this).formatHsl()}function Vw(){return this.rgb().formatRgb()}function Dc(e){var t,r;return e=(e+"").trim().toLowerCase(),(t=T5.exec(e))?(r=t[1].length,t=parseInt(t[1],16),r===6?Xw(t):r===3?new Br(t>>8&15|t>>4&240,t>>4&15|t&240,(t&15)<<4|t&15,1):r===8?Lh(t>>24&255,t>>16&255,t>>8&255,(t&255)/255):r===4?Lh(t>>12&15|t>>8&240,t>>8&15|t>>4&240,t>>4&15|t&240,((t&15)<<4|t&15)/255):null):(t=E5.exec(e))?new Br(t[1],t[2],t[3],1):(t=A5.exec(e))?new Br(t[1]*255/100,t[2]*255/100,t[3]*255/100,1):(t=O5.exec(e))?Lh(t[1],t[2],t[3],t[4]):(t=R5.exec(e))?Lh(t[1]*255/100,t[2]*255/100,t[3]*255/100,t[4]):(t=L5.exec(e))?Zw(t[1],t[2]/100,t[3]/100,1):(t=M5.exec(e))?Zw(t[1],t[2]/100,t[3]/100,t[4]):Gw.hasOwnProperty(e)?Xw(Gw[e]):e==="transparent"?new Br(NaN,NaN,NaN,0):null}function Xw(e){return new Br(e>>16&255,e>>8&255,e&255,1)}function Lh(e,t,r,i){return i<=0&&(e=t=r=NaN),new Br(e,t,r,i)}function D5(e){return e instanceof Zc||(e=Dc(e)),e?(e=e.rgb(),new Br(e.r,e.g,e.b,e.opacity)):new Br}function Ym(e,t,r,i){return arguments.length===1?D5(e):new Br(e,t,r,i??1)}function Br(e,t,r,i){this.r=+e,this.g=+t,this.b=+r,this.opacity=+i}s0(Br,Ym,D2(Zc,{brighter(e){return e=e==null?gd:Math.pow(gd,e),new Br(this.r*e,this.g*e,this.b*e,this.opacity)},darker(e){return e=e==null?Bc:Math.pow(Bc,e),new Br(this.r*e,this.g*e,this.b*e,this.opacity)},rgb(){return this},clamp(){return new Br(rs(this.r),rs(this.g),rs(this.b),md(this.opacity))},displayable(){return-.5<=this.r&&this.r<255.5&&-.5<=this.g&&this.g<255.5&&-.5<=this.b&&this.b<255.5&&0<=this.opacity&&this.opacity<=1},hex:Kw,formatHex:Kw,formatHex8:j5,formatRgb:Qw,toString:Qw}));function Kw(){return`#${Qn(this.r)}${Qn(this.g)}${Qn(this.b)}`}function j5(){return`#${Qn(this.r)}${Qn(this.g)}${Qn(this.b)}${Qn((isNaN(this.opacity)?1:this.opacity)*255)}`}function Qw(){const e=md(this.opacity);return`${e===1?"rgb(":"rgba("}${rs(this.r)}, ${rs(this.g)}, ${rs(this.b)}${e===1?")":`, ${e})`}`}function md(e){return isNaN(e)?1:Math.max(0,Math.min(1,e))}function rs(e){return Math.max(0,Math.min(255,Math.round(e)||0))}function Qn(e){return e=rs(e),(e<16?"0":"")+e.toString(16)}function Zw(e,t,r,i){return i<=0?e=t=r=NaN:r<=0||r>=1?e=t=NaN:t<=0&&(e=NaN),new Ci(e,t,r,i)}function j2(e){if(e instanceof Ci)return new Ci(e.h,e.s,e.l,e.opacity);if(e instanceof Zc||(e=Dc(e)),!e)return new Ci;if(e instanceof Ci)return e;e=e.rgb();var t=e.r/255,r=e.g/255,i=e.b/255,n=Math.min(t,r,i),l=Math.max(t,r,i),o=NaN,u=l-n,h=(l+n)/2;return u?(t===l?o=(r-i)/u+(r<i)*6:r===l?o=(i-t)/u+2:o=(t-r)/u+4,u/=h<.5?l+n:2-l-n,o*=60):u=h>0&&h<1?0:o,new Ci(o,u,h,e.opacity)}function $5(e,t,r,i){return arguments.length===1?j2(e):new Ci(e,t,r,i??1)}function Ci(e,t,r,i){this.h=+e,this.s=+t,this.l=+r,this.opacity=+i}s0(Ci,$5,D2(Zc,{brighter(e){return e=e==null?gd:Math.pow(gd,e),new Ci(this.h,this.s,this.l*e,this.opacity)},darker(e){return e=e==null?Bc:Math.pow(Bc,e),new Ci(this.h,this.s,this.l*e,this.opacity)},rgb(){var e=this.h%360+(this.h<0)*360,t=isNaN(e)||isNaN(this.s)?0:this.s,r=this.l,i=r+(r<.5?r:1-r)*t,n=2*r-i;return new Br(lm(e>=240?e-240:e+120,n,i),lm(e,n,i),lm(e<120?e+240:e-120,n,i),this.opacity)},clamp(){return new Ci(Jw(this.h),Mh(this.s),Mh(this.l),md(this.opacity))},displayable(){return(0<=this.s&&this.s<=1||isNaN(this.s))&&0<=this.l&&this.l<=1&&0<=this.opacity&&this.opacity<=1},formatHsl(){const e=md(this.opacity);return`${e===1?"hsl(":"hsla("}${Jw(this.h)}, ${Mh(this.s)*100}%, ${Mh(this.l)*100}%${e===1?")":`, ${e})`}`}}));function Jw(e){return e=(e||0)%360,e<0?e+360:e}function Mh(e){return Math.max(0,Math.min(1,e||0))}function lm(e,t,r){return(e<60?t+(r-t)*e/60:e<180?r:e<240?t+(r-t)*(240-e)/60:t)*255}const l0=e=>()=>e;function $2(e,t){return function(r){return e+r*t}}function z5(e,t,r){return e=Math.pow(e,r),t=Math.pow(t,r)-e,r=1/r,function(i){return Math.pow(e+i*t,r)}}function A7(e,t){var r=t-e;return r?$2(e,r>180||r<-180?r-360*Math.round(r/360):r):l0(isNaN(e)?t:e)}function F5(e){return(e=+e)==1?z2:function(t,r){return r-t?z5(t,r,e):l0(isNaN(t)?r:t)}}function z2(e,t){var r=t-e;return r?$2(e,r):l0(isNaN(e)?t:e)}const t1=(function e(t){var r=F5(t);function i(n,l){var o=r((n=Ym(n)).r,(l=Ym(l)).r),u=r(n.g,l.g),h=r(n.b,l.b),d=z2(n.opacity,l.opacity);return function(p){return n.r=o(p),n.g=u(p),n.b=h(p),n.opacity=d(p),n+""}}return i.gamma=e,i})(1);function on(e,t){return e=+e,t=+t,function(r){return e*(1-r)+t*r}}var Vm=/[-+]?(?:\d+\.?\d*|\.?\d+)(?:[eE][-+]?\d+)?/g,om=new RegExp(Vm.source,"g");function P5(e){return function(){return e}}function U5(e){return function(t){return e(t)+""}}function I5(e,t){var r=Vm.lastIndex=om.lastIndex=0,i,n,l,o=-1,u=[],h=[];for(e=e+"",t=t+"";(i=Vm.exec(e))&&(n=om.exec(t));)(l=n.index)>r&&(l=t.slice(r,l),u[o]?u[o]+=l:u[++o]=l),(i=i[0])===(n=n[0])?u[o]?u[o]+=n:u[++o]=n:(u[++o]=null,h.push({i:o,x:on(i,n)})),r=om.lastIndex;return r<t.length&&(l=t.slice(r),u[o]?u[o]+=l:u[++o]=l),u.length<2?h[0]?U5(h[0].x):P5(t):(t=h.length,function(d){for(var p=0,g;p<t;++p)u[(g=h[p]).i]=g.x(d);return u.join("")})}var e1=180/Math.PI,Xm={translateX:0,translateY:0,rotate:0,skewX:0,scaleX:1,scaleY:1};function F2(e,t,r,i,n,l){var o,u,h;return(o=Math.sqrt(e*e+t*t))&&(e/=o,t/=o),(h=e*r+t*i)&&(r-=e*h,i-=t*h),(u=Math.sqrt(r*r+i*i))&&(r/=u,i/=u,h/=u),e*i<t*r&&(e=-e,t=-t,h=-h,o=-o),{translateX:n,translateY:l,rotate:Math.atan2(t,e)*e1,skewX:Math.atan(h)*e1,scaleX:o,scaleY:u}}var Bh;function q5(e){const t=new(typeof DOMMatrix=="function"?DOMMatrix:WebKitCSSMatrix)(e+"");return t.isIdentity?Xm:F2(t.a,t.b,t.c,t.d,t.e,t.f)}function H5(e){return e==null||(Bh||(Bh=document.createElementNS("http://www.w3.org/2000/svg","g")),Bh.setAttribute("transform",e),!(e=Bh.transform.baseVal.consolidate()))?Xm:(e=e.matrix,F2(e.a,e.b,e.c,e.d,e.e,e.f))}function P2(e,t,r,i){function n(d){return d.length?d.pop()+" ":""}function l(d,p,g,y,x,v){if(d!==g||p!==y){var _=x.push("translate(",null,t,null,r);v.push({i:_-4,x:on(d,g)},{i:_-2,x:on(p,y)})}else(g||y)&&x.push("translate("+g+t+y+r)}function o(d,p,g,y){d!==p?(d-p>180?p+=360:p-d>180&&(d+=360),y.push({i:g.push(n(g)+"rotate(",null,i)-2,x:on(d,p)})):p&&g.push(n(g)+"rotate("+p+i)}function u(d,p,g,y){d!==p?y.push({i:g.push(n(g)+"skewX(",null,i)-2,x:on(d,p)}):p&&g.push(n(g)+"skewX("+p+i)}function h(d,p,g,y,x,v){if(d!==g||p!==y){var _=x.push(n(x)+"scale(",null,",",null,")");v.push({i:_-4,x:on(d,g)},{i:_-2,x:on(p,y)})}else(g!==1||y!==1)&&x.push(n(x)+"scale("+g+","+y+")")}return function(d,p){var g=[],y=[];return d=e(d),p=e(p),l(d.translateX,d.translateY,p.translateX,p.translateY,g,y),o(d.rotate,p.rotate,g,y),u(d.skewX,p.skewX,g,y),h(d.scaleX,d.scaleY,p.scaleX,p.scaleY,g,y),d=p=null,function(x){for(var v=-1,_=y.length,S;++v<_;)g[(S=y[v]).i]=S.x(x);return g.join("")}}}var W5=P2(q5,"px, ","px)","deg)"),G5=P2(H5,", ",")",")"),Rl=0,uc=0,tc=0,U2=1e3,yd,hc,bd=0,ss=0,rf=0,jc=typeof performance=="object"&&performance.now?performance:Date,I2=typeof window=="object"&&window.requestAnimationFrame?window.requestAnimationFrame.bind(window):function(e){setTimeout(e,17)};function o0(){return ss||(I2(Y5),ss=jc.now()+rf)}function Y5(){ss=0}function xd(){this._call=this._time=this._next=null}xd.prototype=q2.prototype={constructor:xd,restart:function(e,t,r){if(typeof e!="function")throw new TypeError("callback is not a function");r=(r==null?o0():+r)+(t==null?0:+t),!this._next&&hc!==this&&(hc?hc._next=this:yd=this,hc=this),this._call=e,this._time=r,Km()},stop:function(){this._call&&(this._call=null,this._time=1/0,Km())}};function q2(e,t,r){var i=new xd;return i.restart(e,t,r),i}function V5(){o0(),++Rl;for(var e=yd,t;e;)(t=ss-e._time)>=0&&e._call.call(void 0,t),e=e._next;--Rl}function r1(){ss=(bd=jc.now())+rf,Rl=uc=0;try{V5()}finally{Rl=0,K5(),ss=0}}function X5(){var e=jc.now(),t=e-bd;t>U2&&(rf-=t,bd=e)}function K5(){for(var e,t=yd,r,i=1/0;t;)t._call?(i>t._time&&(i=t._time),e=t,t=t._next):(r=t._next,t._next=null,t=e?e._next=r:yd=r);hc=e,Km(i)}function Km(e){if(!Rl){uc&&(uc=clearTimeout(uc));var t=e-ss;t>24?(e<1/0&&(uc=setTimeout(r1,e-jc.now()-rf)),tc&&(tc=clearInterval(tc))):(tc||(bd=jc.now(),tc=setInterval(X5,U2)),Rl=1,I2(r1))}}function i1(e,t,r){var i=new xd;return t=t==null?0:+t,i.restart(n=>{i.stop(),e(n+t)},t,r),i}var Q5=w2("start","end","cancel","interrupt"),Z5=[],H2=0,a1=1,Qm=2,Xh=3,n1=4,Zm=5,Kh=6;function af(e,t,r,i,n,l){var o=e.__transition;if(!o)e.__transition={};else if(r in o)return;J5(e,r,{name:t,index:i,group:n,on:Q5,tween:Z5,time:l.time,delay:l.delay,duration:l.duration,ease:l.ease,timer:null,state:H2})}function c0(e,t){var r=Ri(e,t);if(r.state>H2)throw new Error("too late; already scheduled");return r}function Wi(e,t){var r=Ri(e,t);if(r.state>Xh)throw new Error("too late; already running");return r}function Ri(e,t){var r=e.__transition;if(!r||!(r=r[t]))throw new Error("transition not found");return r}function J5(e,t,r){var i=e.__transition,n;i[t]=r,r.timer=q2(l,0,r.time);function l(d){r.state=a1,r.timer.restart(o,r.delay,r.time),r.delay<=d&&o(d-r.delay)}function o(d){var p,g,y,x;if(r.state!==a1)return h();for(p in i)if(x=i[p],x.name===r.name){if(x.state===Xh)return i1(o);x.state===n1?(x.state=Kh,x.timer.stop(),x.on.call("interrupt",e,e.__data__,x.index,x.group),delete i[p]):+p<t&&(x.state=Kh,x.timer.stop(),x.on.call("cancel",e,e.__data__,x.index,x.group),delete i[p])}if(i1(function(){r.state===Xh&&(r.state=n1,r.timer.restart(u,r.delay,r.time),u(d))}),r.state=Qm,r.on.call("start",e,e.__data__,r.index,r.group),r.state===Qm){for(r.state=Xh,n=new Array(y=r.tween.length),p=0,g=-1;p<y;++p)(x=r.tween[p].value.call(e,e.__data__,r.index,r.group))&&(n[++g]=x);n.length=g+1}}function u(d){for(var p=d<r.duration?r.ease.call(null,d/r.duration):(r.timer.restart(h),r.state=Zm,1),g=-1,y=n.length;++g<y;)n[g].call(e,p);r.state===Zm&&(r.on.call("end",e,e.__data__,r.index,r.group),h())}function h(){r.state=Kh,r.timer.stop(),delete i[t];for(var d in i)return;delete e.__transition}}function t4(e,t){var r=e.__transition,i,n,l=!0,o;if(r){t=t==null?null:t+"";for(o in r){if((i=r[o]).name!==t){l=!1;continue}n=i.state>Qm&&i.state<Zm,i.state=Kh,i.timer.stop(),i.on.call(n?"interrupt":"cancel",e,e.__data__,i.index,i.group),delete r[o]}l&&delete e.__transition}}function e4(e){return this.each(function(){t4(this,e)})}function r4(e,t){var r,i;return function(){var n=Wi(this,e),l=n.tween;if(l!==r){i=r=l;for(var o=0,u=i.length;o<u;++o)if(i[o].name===t){i=i.slice(),i.splice(o,1);break}}n.tween=i}}function i4(e,t,r){var i,n;if(typeof r!="function")throw new Error;return function(){var l=Wi(this,e),o=l.tween;if(o!==i){n=(i=o).slice();for(var u={name:t,value:r},h=0,d=n.length;h<d;++h)if(n[h].name===t){n[h]=u;break}h===d&&n.push(u)}l.tween=n}}function a4(e,t){var r=this._id;if(e+="",arguments.length<2){for(var i=Ri(this.node(),r).tween,n=0,l=i.length,o;n<l;++n)if((o=i[n]).name===e)return o.value;return null}return this.each((t==null?r4:i4)(r,e,t))}function u0(e,t,r){var i=e._id;return e.each(function(){var n=Wi(this,i);(n.value||(n.value={}))[t]=r.apply(this,arguments)}),function(n){return Ri(n,i).value[t]}}function W2(e,t){var r;return(typeof t=="number"?on:t instanceof Dc?t1:(r=Dc(t))?(t=r,t1):I5)(e,t)}function n4(e){return function(){this.removeAttribute(e)}}function s4(e){return function(){this.removeAttributeNS(e.space,e.local)}}function l4(e,t,r){var i,n=r+"",l;return function(){var o=this.getAttribute(e);return o===n?null:o===i?l:l=t(i=o,r)}}function o4(e,t,r){var i,n=r+"",l;return function(){var o=this.getAttributeNS(e.space,e.local);return o===n?null:o===i?l:l=t(i=o,r)}}function c4(e,t,r){var i,n,l;return function(){var o,u=r(this),h;return u==null?void this.removeAttribute(e):(o=this.getAttribute(e),h=u+"",o===h?null:o===i&&h===n?l:(n=h,l=t(i=o,u)))}}function u4(e,t,r){var i,n,l;return function(){var o,u=r(this),h;return u==null?void this.removeAttributeNS(e.space,e.local):(o=this.getAttributeNS(e.space,e.local),h=u+"",o===h?null:o===i&&h===n?l:(n=h,l=t(i=o,u)))}}function h4(e,t){var r=ef(e),i=r==="transform"?G5:W2;return this.attrTween(e,typeof t=="function"?(r.local?u4:c4)(r,i,u0(this,"attr."+e,t)):t==null?(r.local?s4:n4)(r):(r.local?o4:l4)(r,i,t))}function d4(e,t){return function(r){this.setAttribute(e,t.call(this,r))}}function f4(e,t){return function(r){this.setAttributeNS(e.space,e.local,t.call(this,r))}}function p4(e,t){var r,i;function n(){var l=t.apply(this,arguments);return l!==i&&(r=(i=l)&&f4(e,l)),r}return n._value=t,n}function g4(e,t){var r,i;function n(){var l=t.apply(this,arguments);return l!==i&&(r=(i=l)&&d4(e,l)),r}return n._value=t,n}function m4(e,t){var r="attr."+e;if(arguments.length<2)return(r=this.tween(r))&&r._value;if(t==null)return this.tween(r,null);if(typeof t!="function")throw new Error;var i=ef(e);return this.tween(r,(i.local?p4:g4)(i,t))}function y4(e,t){return function(){c0(this,e).delay=+t.apply(this,arguments)}}function b4(e,t){return t=+t,function(){c0(this,e).delay=t}}function x4(e){var t=this._id;return arguments.length?this.each((typeof e=="function"?y4:b4)(t,e)):Ri(this.node(),t).delay}function v4(e,t){return function(){Wi(this,e).duration=+t.apply(this,arguments)}}function _4(e,t){return t=+t,function(){Wi(this,e).duration=t}}function w4(e){var t=this._id;return arguments.length?this.each((typeof e=="function"?v4:_4)(t,e)):Ri(this.node(),t).duration}function S4(e,t){if(typeof t!="function")throw new Error;return function(){Wi(this,e).ease=t}}function k4(e){var t=this._id;return arguments.length?this.each(S4(t,e)):Ri(this.node(),t).ease}function C4(e,t){return function(){var r=t.apply(this,arguments);if(typeof r!="function")throw new Error;Wi(this,e).ease=r}}function T4(e){if(typeof e!="function")throw new Error;return this.each(C4(this._id,e))}function E4(e){typeof e!="function"&&(e=C2(e));for(var t=this._groups,r=t.length,i=new Array(r),n=0;n<r;++n)for(var l=t[n],o=l.length,u=i[n]=[],h,d=0;d<o;++d)(h=l[d])&&e.call(h,h.__data__,d,l)&&u.push(h);return new Ta(i,this._parents,this._name,this._id)}function A4(e){if(e._id!==this._id)throw new Error;for(var t=this._groups,r=e._groups,i=t.length,n=r.length,l=Math.min(i,n),o=new Array(i),u=0;u<l;++u)for(var h=t[u],d=r[u],p=h.length,g=o[u]=new Array(p),y,x=0;x<p;++x)(y=h[x]||d[x])&&(g[x]=y);for(;u<i;++u)o[u]=t[u];return new Ta(o,this._parents,this._name,this._id)}function O4(e){return(e+"").trim().split(/^|\s+/).every(function(t){var r=t.indexOf(".");return r>=0&&(t=t.slice(0,r)),!t||t==="start"})}function R4(e,t,r){var i,n,l=O4(t)?c0:Wi;return function(){var o=l(this,e),u=o.on;u!==i&&(n=(i=u).copy()).on(t,r),o.on=n}}function L4(e,t){var r=this._id;return arguments.length<2?Ri(this.node(),r).on.on(e):this.each(R4(r,e,t))}function M4(e){return function(){var t=this.parentNode;for(var r in this.__transition)if(+r!==e)return;t&&t.removeChild(this)}}function B4(){return this.on("end.remove",M4(this._id))}function N4(e){var t=this._name,r=this._id;typeof e!="function"&&(e=a0(e));for(var i=this._groups,n=i.length,l=new Array(n),o=0;o<n;++o)for(var u=i[o],h=u.length,d=l[o]=new Array(h),p,g,y=0;y<h;++y)(p=u[y])&&(g=e.call(p,p.__data__,y,u))&&("__data__"in p&&(g.__data__=p.__data__),d[y]=g,af(d[y],t,r,y,d,Ri(p,r)));return new Ta(l,this._parents,t,r)}function D4(e){var t=this._name,r=this._id;typeof e!="function"&&(e=k2(e));for(var i=this._groups,n=i.length,l=[],o=[],u=0;u<n;++u)for(var h=i[u],d=h.length,p,g=0;g<d;++g)if(p=h[g]){for(var y=e.call(p,p.__data__,g,h),x,v=Ri(p,r),_=0,S=y.length;_<S;++_)(x=y[_])&&af(x,t,r,_,y,v);l.push(y),o.push(p)}return new Ta(l,o,t,r)}var j4=Qc.prototype.constructor;function $4(){return new j4(this._groups,this._parents)}function z4(e,t){var r,i,n;return function(){var l=Ol(this,e),o=(this.style.removeProperty(e),Ol(this,e));return l===o?null:l===r&&o===i?n:n=t(r=l,i=o)}}function G2(e){return function(){this.style.removeProperty(e)}}function F4(e,t,r){var i,n=r+"",l;return function(){var o=Ol(this,e);return o===n?null:o===i?l:l=t(i=o,r)}}function P4(e,t,r){var i,n,l;return function(){var o=Ol(this,e),u=r(this),h=u+"";return u==null&&(h=u=(this.style.removeProperty(e),Ol(this,e))),o===h?null:o===i&&h===n?l:(n=h,l=t(i=o,u))}}function U4(e,t){var r,i,n,l="style."+t,o="end."+l,u;return function(){var h=Wi(this,e),d=h.on,p=h.value[l]==null?u||(u=G2(t)):void 0;(d!==r||n!==p)&&(i=(r=d).copy()).on(o,n=p),h.on=i}}function I4(e,t,r){var i=(e+="")=="transform"?W5:W2;return t==null?this.styleTween(e,z4(e,i)).on("end.style."+e,G2(e)):typeof t=="function"?this.styleTween(e,P4(e,i,u0(this,"style."+e,t))).each(U4(this._id,e)):this.styleTween(e,F4(e,i,t),r).on("end.style."+e,null)}function q4(e,t,r){return function(i){this.style.setProperty(e,t.call(this,i),r)}}function H4(e,t,r){var i,n;function l(){var o=t.apply(this,arguments);return o!==n&&(i=(n=o)&&q4(e,o,r)),i}return l._value=t,l}function W4(e,t,r){var i="style."+(e+="");if(arguments.length<2)return(i=this.tween(i))&&i._value;if(t==null)return this.tween(i,null);if(typeof t!="function")throw new Error;return this.tween(i,H4(e,t,r??""))}function G4(e){return function(){this.textContent=e}}function Y4(e){return function(){var t=e(this);this.textContent=t??""}}function V4(e){return this.tween("text",typeof e=="function"?Y4(u0(this,"text",e)):G4(e==null?"":e+""))}function X4(e){return function(t){this.textContent=e.call(this,t)}}function K4(e){var t,r;function i(){var n=e.apply(this,arguments);return n!==r&&(t=(r=n)&&X4(n)),t}return i._value=e,i}function Q4(e){var t="text";if(arguments.length<1)return(t=this.tween(t))&&t._value;if(e==null)return this.tween(t,null);if(typeof e!="function")throw new Error;return this.tween(t,K4(e))}function Z4(){for(var e=this._name,t=this._id,r=Y2(),i=this._groups,n=i.length,l=0;l<n;++l)for(var o=i[l],u=o.length,h,d=0;d<u;++d)if(h=o[d]){var p=Ri(h,t);af(h,e,r,d,o,{time:p.time+p.delay+p.duration,delay:0,duration:p.duration,ease:p.ease})}return new Ta(i,this._parents,e,r)}function J4(){var e,t,r=this,i=r._id,n=r.size();return new Promise(function(l,o){var u={value:o},h={value:function(){--n===0&&l()}};r.each(function(){var d=Wi(this,i),p=d.on;p!==e&&(t=(e=p).copy(),t._.cancel.push(u),t._.interrupt.push(u),t._.end.push(h)),d.on=t}),n===0&&l()})}var t6=0;function Ta(e,t,r,i){this._groups=e,this._parents=t,this._name=r,this._id=i}function Y2(){return++t6}var ba=Qc.prototype;Ta.prototype={constructor:Ta,select:N4,selectAll:D4,selectChild:ba.selectChild,selectChildren:ba.selectChildren,filter:E4,merge:A4,selection:$4,transition:Z4,call:ba.call,nodes:ba.nodes,node:ba.node,size:ba.size,empty:ba.empty,each:ba.each,on:L4,attr:h4,attrTween:m4,style:I4,styleTween:W4,text:V4,textTween:Q4,remove:B4,tween:a4,delay:x4,duration:w4,ease:k4,easeVarying:T4,end:J4,[Symbol.iterator]:ba[Symbol.iterator]};function e6(e){return((e*=2)<=1?e*e*e:(e-=2)*e*e+2)/2}var r6={time:null,delay:0,duration:250,ease:e6};function i6(e,t){for(var r;!(r=e.__transition)||!(r=r[t]);)if(!(e=e.parentNode))throw new Error(`transition ${t} not found`);return r}function a6(e){var t,r;e instanceof Ta?(t=e._id,e=e._name):(t=Y2(),(r=r6).time=o0(),e=e==null?null:e+"");for(var i=this._groups,n=i.length,l=0;l<n;++l)for(var o=i[l],u=o.length,h,d=0;d<u;++d)(h=o[d])&&af(h,e,t,d,o,r||i6(h,t));return new Ta(i,this._parents,e,t)}Qc.prototype.interrupt=e4;Qc.prototype.transition=a6;const Jm=Math.PI,ty=2*Jm,Hn=1e-6,n6=ty-Hn;function V2(e){this._+=e[0];for(let t=1,r=e.length;t<r;++t)this._+=arguments[t]+e[t]}function s6(e){let t=Math.floor(e);if(!(t>=0))throw new Error(`invalid digits: ${e}`);if(t>15)return V2;const r=10**t;return function(i){this._+=i[0];for(let n=1,l=i.length;n<l;++n)this._+=Math.round(arguments[n]*r)/r+i[n]}}class l6{constructor(t){this._x0=this._y0=this._x1=this._y1=null,this._="",this._append=t==null?V2:s6(t)}moveTo(t,r){this._append`M${this._x0=this._x1=+t},${this._y0=this._y1=+r}`}closePath(){this._x1!==null&&(this._x1=this._x0,this._y1=this._y0,this._append`Z`)}lineTo(t,r){this._append`L${this._x1=+t},${this._y1=+r}`}quadraticCurveTo(t,r,i,n){this._append`Q${+t},${+r},${this._x1=+i},${this._y1=+n}`}bezierCurveTo(t,r,i,n,l,o){this._append`C${+t},${+r},${+i},${+n},${this._x1=+l},${this._y1=+o}`}arcTo(t,r,i,n,l){if(t=+t,r=+r,i=+i,n=+n,l=+l,l<0)throw new Error(`negative radius: ${l}`);let o=this._x1,u=this._y1,h=i-t,d=n-r,p=o-t,g=u-r,y=p*p+g*g;if(this._x1===null)this._append`M${this._x1=t},${this._y1=r}`;else if(y>Hn)if(!(Math.abs(g*h-d*p)>Hn)||!l)this._append`L${this._x1=t},${this._y1=r}`;else{let x=i-o,v=n-u,_=h*h+d*d,S=x*x+v*v,T=Math.sqrt(_),E=Math.sqrt(y),O=l*Math.tan((Jm-Math.acos((_+y-S)/(2*T*E)))/2),M=O/E,N=O/T;Math.abs(M-1)>Hn&&this._append`L${t+M*p},${r+M*g}`,this._append`A${l},${l},0,0,${+(g*x>p*v)},${this._x1=t+N*h},${this._y1=r+N*d}`}}arc(t,r,i,n,l,o){if(t=+t,r=+r,i=+i,o=!!o,i<0)throw new Error(`negative radius: ${i}`);let u=i*Math.cos(n),h=i*Math.sin(n),d=t+u,p=r+h,g=1^o,y=o?n-l:l-n;this._x1===null?this._append`M${d},${p}`:(Math.abs(this._x1-d)>Hn||Math.abs(this._y1-p)>Hn)&&this._append`L${d},${p}`,i&&(y<0&&(y=y%ty+ty),y>n6?this._append`A${i},${i},0,1,${g},${t-u},${r-h}A${i},${i},0,1,${g},${this._x1=d},${this._y1=p}`:y>Hn&&this._append`A${i},${i},0,${+(y>=Jm)},${g},${this._x1=t+i*Math.cos(l)},${this._y1=r+i*Math.sin(l)}`)}rect(t,r,i,n){this._append`M${this._x0=this._x1=+t},${this._y0=this._y1=+r}h${i=+i}v${+n}h${-i}Z`}toString(){return this._}}function nl(e){return function(){return e}}const O7=Math.abs,R7=Math.atan2,L7=Math.cos,M7=Math.max,B7=Math.min,N7=Math.sin,D7=Math.sqrt,s1=1e-12,h0=Math.PI,l1=h0/2,j7=2*h0;function $7(e){return e>1?0:e<-1?h0:Math.acos(e)}function z7(e){return e>=1?l1:e<=-1?-l1:Math.asin(e)}function o6(e){let t=3;return e.digits=function(r){if(!arguments.length)return t;if(r==null)t=null;else{const i=Math.floor(r);if(!(i>=0))throw new RangeError(`invalid digits: ${r}`);t=i}return e},()=>new l6(t)}function c6(e){return typeof e=="object"&&"length"in e?e:Array.from(e)}function X2(e){this._context=e}X2.prototype={areaStart:function(){this._line=0},areaEnd:function(){this._line=NaN},lineStart:function(){this._point=0},lineEnd:function(){(this._line||this._line!==0&&this._point===1)&&this._context.closePath(),this._line=1-this._line},point:function(e,t){switch(e=+e,t=+t,this._point){case 0:this._point=1,this._line?this._context.lineTo(e,t):this._context.moveTo(e,t);break;case 1:this._point=2;default:this._context.lineTo(e,t);break}}};function vd(e){return new X2(e)}function u6(e){return e[0]}function h6(e){return e[1]}function d6(e,t){var r=nl(!0),i=null,n=vd,l=null,o=o6(u);e=typeof e=="function"?e:e===void 0?u6:nl(e),t=typeof t=="function"?t:t===void 0?h6:nl(t);function u(h){var d,p=(h=c6(h)).length,g,y=!1,x;for(i==null&&(l=n(x=o())),d=0;d<=p;++d)!(d<p&&r(g=h[d],d,h))===y&&((y=!y)?l.lineStart():l.lineEnd()),y&&l.point(+e(g,d,h),+t(g,d,h));if(x)return l=null,x+""||null}return u.x=function(h){return arguments.length?(e=typeof h=="function"?h:nl(+h),u):e},u.y=function(h){return arguments.length?(t=typeof h=="function"?h:nl(+h),u):t},u.defined=function(h){return arguments.length?(r=typeof h=="function"?h:nl(!!h),u):r},u.curve=function(h){return arguments.length?(n=h,i!=null&&(l=n(i)),u):n},u.context=function(h){return arguments.length?(h==null?i=l=null:l=n(i=h),u):i},u}class K2{constructor(t,r){this._context=t,this._x=r}areaStart(){this._line=0}areaEnd(){this._line=NaN}lineStart(){this._point=0}lineEnd(){(this._line||this._line!==0&&this._point===1)&&this._context.closePath(),this._line=1-this._line}point(t,r){switch(t=+t,r=+r,this._point){case 0:{this._point=1,this._line?this._context.lineTo(t,r):this._context.moveTo(t,r);break}case 1:this._point=2;default:{this._x?this._context.bezierCurveTo(this._x0=(this._x0+t)/2,this._y0,this._x0,r,t,r):this._context.bezierCurveTo(this._x0,this._y0=(this._y0+r)/2,t,this._y0,t,r);break}}this._x0=t,this._y0=r}}function Q2(e){return new K2(e,!0)}function Z2(e){return new K2(e,!1)}function dn(){}function _d(e,t,r){e._context.bezierCurveTo((2*e._x0+e._x1)/3,(2*e._y0+e._y1)/3,(e._x0+2*e._x1)/3,(e._y0+2*e._y1)/3,(e._x0+4*e._x1+t)/6,(e._y0+4*e._y1+r)/6)}function nf(e){this._context=e}nf.prototype={areaStart:function(){this._line=0},areaEnd:function(){this._line=NaN},lineStart:function(){this._x0=this._x1=this._y0=this._y1=NaN,this._point=0},lineEnd:function(){switch(this._point){case 3:_d(this,this._x1,this._y1);case 2:this._context.lineTo(this._x1,this._y1);break}(this._line||this._line!==0&&this._point===1)&&this._context.closePath(),this._line=1-this._line},point:function(e,t){switch(e=+e,t=+t,this._point){case 0:this._point=1,this._line?this._context.lineTo(e,t):this._context.moveTo(e,t);break;case 1:this._point=2;break;case 2:this._point=3,this._context.lineTo((5*this._x0+this._x1)/6,(5*this._y0+this._y1)/6);default:_d(this,e,t);break}this._x0=this._x1,this._x1=e,this._y0=this._y1,this._y1=t}};function Qh(e){return new nf(e)}function J2(e){this._context=e}J2.prototype={areaStart:dn,areaEnd:dn,lineStart:function(){this._x0=this._x1=this._x2=this._x3=this._x4=this._y0=this._y1=this._y2=this._y3=this._y4=NaN,this._point=0},lineEnd:function(){switch(this._point){case 1:{this._context.moveTo(this._x2,this._y2),this._context.closePath();break}case 2:{this._context.moveTo((this._x2+2*this._x3)/3,(this._y2+2*this._y3)/3),this._context.lineTo((this._x3+2*this._x2)/3,(this._y3+2*this._y2)/3),this._context.closePath();break}case 3:{this.point(this._x2,this._y2),this.point(this._x3,this._y3),this.point(this._x4,this._y4);break}}},point:function(e,t){switch(e=+e,t=+t,this._point){case 0:this._point=1,this._x2=e,this._y2=t;break;case 1:this._point=2,this._x3=e,this._y3=t;break;case 2:this._point=3,this._x4=e,this._y4=t,this._context.moveTo((this._x0+4*this._x1+e)/6,(this._y0+4*this._y1+t)/6);break;default:_d(this,e,t);break}this._x0=this._x1,this._x1=e,this._y0=this._y1,this._y1=t}};function f6(e){return new J2(e)}function tk(e){this._context=e}tk.prototype={areaStart:function(){this._line=0},areaEnd:function(){this._line=NaN},lineStart:function(){this._x0=this._x1=this._y0=this._y1=NaN,this._point=0},lineEnd:function(){(this._line||this._line!==0&&this._point===3)&&this._context.closePath(),this._line=1-this._line},point:function(e,t){switch(e=+e,t=+t,this._point){case 0:this._point=1;break;case 1:this._point=2;break;case 2:this._point=3;var r=(this._x0+4*this._x1+e)/6,i=(this._y0+4*this._y1+t)/6;this._line?this._context.lineTo(r,i):this._context.moveTo(r,i);break;case 3:this._point=4;default:_d(this,e,t);break}this._x0=this._x1,this._x1=e,this._y0=this._y1,this._y1=t}};function p6(e){return new tk(e)}function ek(e,t){this._basis=new nf(e),this._beta=t}ek.prototype={lineStart:function(){this._x=[],this._y=[],this._basis.lineStart()},lineEnd:function(){var e=this._x,t=this._y,r=e.length-1;if(r>0)for(var i=e[0],n=t[0],l=e[r]-i,o=t[r]-n,u=-1,h;++u<=r;)h=u/r,this._basis.point(this._beta*e[u]+(1-this._beta)*(i+h*l),this._beta*t[u]+(1-this._beta)*(n+h*o));this._x=this._y=null,this._basis.lineEnd()},point:function(e,t){this._x.push(+e),this._y.push(+t)}};const g6=(function e(t){function r(i){return t===1?new nf(i):new ek(i,t)}return r.beta=function(i){return e(+i)},r})(.85);function wd(e,t,r){e._context.bezierCurveTo(e._x1+e._k*(e._x2-e._x0),e._y1+e._k*(e._y2-e._y0),e._x2+e._k*(e._x1-t),e._y2+e._k*(e._y1-r),e._x2,e._y2)}function d0(e,t){this._context=e,this._k=(1-t)/6}d0.prototype={areaStart:function(){this._line=0},areaEnd:function(){this._line=NaN},lineStart:function(){this._x0=this._x1=this._x2=this._y0=this._y1=this._y2=NaN,this._point=0},lineEnd:function(){switch(this._point){case 2:this._context.lineTo(this._x2,this._y2);break;case 3:wd(this,this._x1,this._y1);break}(this._line||this._line!==0&&this._point===1)&&this._context.closePath(),this._line=1-this._line},point:function(e,t){switch(e=+e,t=+t,this._point){case 0:this._point=1,this._line?this._context.lineTo(e,t):this._context.moveTo(e,t);break;case 1:this._point=2,this._x1=e,this._y1=t;break;case 2:this._point=3;default:wd(this,e,t);break}this._x0=this._x1,this._x1=this._x2,this._x2=e,this._y0=this._y1,this._y1=this._y2,this._y2=t}};const rk=(function e(t){function r(i){return new d0(i,t)}return r.tension=function(i){return e(+i)},r})(0);function f0(e,t){this._context=e,this._k=(1-t)/6}f0.prototype={areaStart:dn,areaEnd:dn,lineStart:function(){this._x0=this._x1=this._x2=this._x3=this._x4=this._x5=this._y0=this._y1=this._y2=this._y3=this._y4=this._y5=NaN,this._point=0},lineEnd:function(){switch(this._point){case 1:{this._context.moveTo(this._x3,this._y3),this._context.closePath();break}case 2:{this._context.lineTo(this._x3,this._y3),this._context.closePath();break}case 3:{this.point(this._x3,this._y3),this.point(this._x4,this._y4),this.point(this._x5,this._y5);break}}},point:function(e,t){switch(e=+e,t=+t,this._point){case 0:this._point=1,this._x3=e,this._y3=t;break;case 1:this._point=2,this._context.moveTo(this._x4=e,this._y4=t);break;case 2:this._point=3,this._x5=e,this._y5=t;break;default:wd(this,e,t);break}this._x0=this._x1,this._x1=this._x2,this._x2=e,this._y0=this._y1,this._y1=this._y2,this._y2=t}};const m6=(function e(t){function r(i){return new f0(i,t)}return r.tension=function(i){return e(+i)},r})(0);function p0(e,t){this._context=e,this._k=(1-t)/6}p0.prototype={areaStart:function(){this._line=0},areaEnd:function(){this._line=NaN},lineStart:function(){this._x0=this._x1=this._x2=this._y0=this._y1=this._y2=NaN,this._point=0},lineEnd:function(){(this._line||this._line!==0&&this._point===3)&&this._context.closePath(),this._line=1-this._line},point:function(e,t){switch(e=+e,t=+t,this._point){case 0:this._point=1;break;case 1:this._point=2;break;case 2:this._point=3,this._line?this._context.lineTo(this._x2,this._y2):this._context.moveTo(this._x2,this._y2);break;case 3:this._point=4;default:wd(this,e,t);break}this._x0=this._x1,this._x1=this._x2,this._x2=e,this._y0=this._y1,this._y1=this._y2,this._y2=t}};const y6=(function e(t){function r(i){return new p0(i,t)}return r.tension=function(i){return e(+i)},r})(0);function g0(e,t,r){var i=e._x1,n=e._y1,l=e._x2,o=e._y2;if(e._l01_a>s1){var u=2*e._l01_2a+3*e._l01_a*e._l12_a+e._l12_2a,h=3*e._l01_a*(e._l01_a+e._l12_a);i=(i*u-e._x0*e._l12_2a+e._x2*e._l01_2a)/h,n=(n*u-e._y0*e._l12_2a+e._y2*e._l01_2a)/h}if(e._l23_a>s1){var d=2*e._l23_2a+3*e._l23_a*e._l12_a+e._l12_2a,p=3*e._l23_a*(e._l23_a+e._l12_a);l=(l*d+e._x1*e._l23_2a-t*e._l12_2a)/p,o=(o*d+e._y1*e._l23_2a-r*e._l12_2a)/p}e._context.bezierCurveTo(i,n,l,o,e._x2,e._y2)}function ik(e,t){this._context=e,this._alpha=t}ik.prototype={areaStart:function(){this._line=0},areaEnd:function(){this._line=NaN},lineStart:function(){this._x0=this._x1=this._x2=this._y0=this._y1=this._y2=NaN,this._l01_a=this._l12_a=this._l23_a=this._l01_2a=this._l12_2a=this._l23_2a=this._point=0},lineEnd:function(){switch(this._point){case 2:this._context.lineTo(this._x2,this._y2);break;case 3:this.point(this._x2,this._y2);break}(this._line||this._line!==0&&this._point===1)&&this._context.closePath(),this._line=1-this._line},point:function(e,t){if(e=+e,t=+t,this._point){var r=this._x2-e,i=this._y2-t;this._l23_a=Math.sqrt(this._l23_2a=Math.pow(r*r+i*i,this._alpha))}switch(this._point){case 0:this._point=1,this._line?this._context.lineTo(e,t):this._context.moveTo(e,t);break;case 1:this._point=2;break;case 2:this._point=3;default:g0(this,e,t);break}this._l01_a=this._l12_a,this._l12_a=this._l23_a,this._l01_2a=this._l12_2a,this._l12_2a=this._l23_2a,this._x0=this._x1,this._x1=this._x2,this._x2=e,this._y0=this._y1,this._y1=this._y2,this._y2=t}};const ak=(function e(t){function r(i){return t?new ik(i,t):new d0(i,0)}return r.alpha=function(i){return e(+i)},r})(.5);function nk(e,t){this._context=e,this._alpha=t}nk.prototype={areaStart:dn,areaEnd:dn,lineStart:function(){this._x0=this._x1=this._x2=this._x3=this._x4=this._x5=this._y0=this._y1=this._y2=this._y3=this._y4=this._y5=NaN,this._l01_a=this._l12_a=this._l23_a=this._l01_2a=this._l12_2a=this._l23_2a=this._point=0},lineEnd:function(){switch(this._point){case 1:{this._context.moveTo(this._x3,this._y3),this._context.closePath();break}case 2:{this._context.lineTo(this._x3,this._y3),this._context.closePath();break}case 3:{this.point(this._x3,this._y3),this.point(this._x4,this._y4),this.point(this._x5,this._y5);break}}},point:function(e,t){if(e=+e,t=+t,this._point){var r=this._x2-e,i=this._y2-t;this._l23_a=Math.sqrt(this._l23_2a=Math.pow(r*r+i*i,this._alpha))}switch(this._point){case 0:this._point=1,this._x3=e,this._y3=t;break;case 1:this._point=2,this._context.moveTo(this._x4=e,this._y4=t);break;case 2:this._point=3,this._x5=e,this._y5=t;break;default:g0(this,e,t);break}this._l01_a=this._l12_a,this._l12_a=this._l23_a,this._l01_2a=this._l12_2a,this._l12_2a=this._l23_2a,this._x0=this._x1,this._x1=this._x2,this._x2=e,this._y0=this._y1,this._y1=this._y2,this._y2=t}};const b6=(function e(t){function r(i){return t?new nk(i,t):new f0(i,0)}return r.alpha=function(i){return e(+i)},r})(.5);function sk(e,t){this._context=e,this._alpha=t}sk.prototype={areaStart:function(){this._line=0},areaEnd:function(){this._line=NaN},lineStart:function(){this._x0=this._x1=this._x2=this._y0=this._y1=this._y2=NaN,this._l01_a=this._l12_a=this._l23_a=this._l01_2a=this._l12_2a=this._l23_2a=this._point=0},lineEnd:function(){(this._line||this._line!==0&&this._point===3)&&this._context.closePath(),this._line=1-this._line},point:function(e,t){if(e=+e,t=+t,this._point){var r=this._x2-e,i=this._y2-t;this._l23_a=Math.sqrt(this._l23_2a=Math.pow(r*r+i*i,this._alpha))}switch(this._point){case 0:this._point=1;break;case 1:this._point=2;break;case 2:this._point=3,this._line?this._context.lineTo(this._x2,this._y2):this._context.moveTo(this._x2,this._y2);break;case 3:this._point=4;default:g0(this,e,t);break}this._l01_a=this._l12_a,this._l12_a=this._l23_a,this._l01_2a=this._l12_2a,this._l12_2a=this._l23_2a,this._x0=this._x1,this._x1=this._x2,this._x2=e,this._y0=this._y1,this._y1=this._y2,this._y2=t}};const x6=(function e(t){function r(i){return t?new sk(i,t):new p0(i,0)}return r.alpha=function(i){return e(+i)},r})(.5);function lk(e){this._context=e}lk.prototype={areaStart:dn,areaEnd:dn,lineStart:function(){this._point=0},lineEnd:function(){this._point&&this._context.closePath()},point:function(e,t){e=+e,t=+t,this._point?this._context.lineTo(e,t):(this._point=1,this._context.moveTo(e,t))}};function v6(e){return new lk(e)}function o1(e){return e<0?-1:1}function c1(e,t,r){var i=e._x1-e._x0,n=t-e._x1,l=(e._y1-e._y0)/(i||n<0&&-0),o=(r-e._y1)/(n||i<0&&-0),u=(l*n+o*i)/(i+n);return(o1(l)+o1(o))*Math.min(Math.abs(l),Math.abs(o),.5*Math.abs(u))||0}function u1(e,t){var r=e._x1-e._x0;return r?(3*(e._y1-e._y0)/r-t)/2:t}function cm(e,t,r){var i=e._x0,n=e._y0,l=e._x1,o=e._y1,u=(l-i)/3;e._context.bezierCurveTo(i+u,n+u*t,l-u,o-u*r,l,o)}function Sd(e){this._context=e}Sd.prototype={areaStart:function(){this._line=0},areaEnd:function(){this._line=NaN},lineStart:function(){this._x0=this._x1=this._y0=this._y1=this._t0=NaN,this._point=0},lineEnd:function(){switch(this._point){case 2:this._context.lineTo(this._x1,this._y1);break;case 3:cm(this,this._t0,u1(this,this._t0));break}(this._line||this._line!==0&&this._point===1)&&this._context.closePath(),this._line=1-this._line},point:function(e,t){var r=NaN;if(e=+e,t=+t,!(e===this._x1&&t===this._y1)){switch(this._point){case 0:this._point=1,this._line?this._context.lineTo(e,t):this._context.moveTo(e,t);break;case 1:this._point=2;break;case 2:this._point=3,cm(this,u1(this,r=c1(this,e,t)),r);break;default:cm(this,this._t0,r=c1(this,e,t));break}this._x0=this._x1,this._x1=e,this._y0=this._y1,this._y1=t,this._t0=r}}};function ok(e){this._context=new ck(e)}(ok.prototype=Object.create(Sd.prototype)).point=function(e,t){Sd.prototype.point.call(this,t,e)};function ck(e){this._context=e}ck.prototype={moveTo:function(e,t){this._context.moveTo(t,e)},closePath:function(){this._context.closePath()},lineTo:function(e,t){this._context.lineTo(t,e)},bezierCurveTo:function(e,t,r,i,n,l){this._context.bezierCurveTo(t,e,i,r,l,n)}};function uk(e){return new Sd(e)}function hk(e){return new ok(e)}function dk(e){this._context=e}dk.prototype={areaStart:function(){this._line=0},areaEnd:function(){this._line=NaN},lineStart:function(){this._x=[],this._y=[]},lineEnd:function(){var e=this._x,t=this._y,r=e.length;if(r)if(this._line?this._context.lineTo(e[0],t[0]):this._context.moveTo(e[0],t[0]),r===2)this._context.lineTo(e[1],t[1]);else for(var i=h1(e),n=h1(t),l=0,o=1;o<r;++l,++o)this._context.bezierCurveTo(i[0][l],n[0][l],i[1][l],n[1][l],e[o],t[o]);(this._line||this._line!==0&&r===1)&&this._context.closePath(),this._line=1-this._line,this._x=this._y=null},point:function(e,t){this._x.push(+e),this._y.push(+t)}};function h1(e){var t,r=e.length-1,i,n=new Array(r),l=new Array(r),o=new Array(r);for(n[0]=0,l[0]=2,o[0]=e[0]+2*e[1],t=1;t<r-1;++t)n[t]=1,l[t]=4,o[t]=4*e[t]+2*e[t+1];for(n[r-1]=2,l[r-1]=7,o[r-1]=8*e[r-1]+e[r],t=1;t<r;++t)i=n[t]/l[t-1],l[t]-=i,o[t]-=i*o[t-1];for(n[r-1]=o[r-1]/l[r-1],t=r-2;t>=0;--t)n[t]=(o[t]-n[t+1])/l[t];for(l[r-1]=(e[r]+n[r-1])/2,t=0;t<r-1;++t)l[t]=2*e[t+1]-n[t+1];return[n,l]}function fk(e){return new dk(e)}function sf(e,t){this._context=e,this._t=t}sf.prototype={areaStart:function(){this._line=0},areaEnd:function(){this._line=NaN},lineStart:function(){this._x=this._y=NaN,this._point=0},lineEnd:function(){0<this._t&&this._t<1&&this._point===2&&this._context.lineTo(this._x,this._y),(this._line||this._line!==0&&this._point===1)&&this._context.closePath(),this._line>=0&&(this._t=1-this._t,this._line=1-this._line)},point:function(e,t){switch(e=+e,t=+t,this._point){case 0:this._point=1,this._line?this._context.lineTo(e,t):this._context.moveTo(e,t);break;case 1:this._point=2;default:{if(this._t<=0)this._context.lineTo(this._x,t),this._context.lineTo(e,t);else{var r=this._x*(1-this._t)+e*this._t;this._context.lineTo(r,this._y),this._context.lineTo(r,t)}break}}this._x=e,this._y=t}};function pk(e){return new sf(e,.5)}function gk(e){return new sf(e,0)}function mk(e){return new sf(e,1)}function dc(e,t,r){this.k=e,this.x=t,this.y=r}dc.prototype={constructor:dc,scale:function(e){return e===1?this:new dc(this.k*e,this.x,this.y)},translate:function(e,t){return e===0&t===0?this:new dc(this.k,this.x+this.k*e,this.y+this.k*t)},apply:function(e){return[e[0]*this.k+this.x,e[1]*this.k+this.y]},applyX:function(e){return e*this.k+this.x},applyY:function(e){return e*this.k+this.y},invert:function(e){return[(e[0]-this.x)/this.k,(e[1]-this.y)/this.k]},invertX:function(e){return(e-this.x)/this.k},invertY:function(e){return(e-this.y)/this.k},rescaleX:function(e){return e.copy().domain(e.range().map(this.invertX,this).map(e.invert,e))},rescaleY:function(e){return e.copy().domain(e.range().map(this.invertY,this).map(e.invert,e))},toString:function(){return"translate("+this.x+","+this.y+") scale("+this.k+")"}};dc.prototype;var _6=w(e=>{const{securityLevel:t}=ie();let r=Xt("body");if(t==="sandbox"){const l=Xt(`#i${e}`).node()?.contentDocument??document;r=Xt(l.body)}return r.select(`#${e}`)},"selectSvgElement");function m0(e){return typeof e>"u"||e===null}w(m0,"isNothing");function yk(e){return typeof e=="object"&&e!==null}w(yk,"isObject");function bk(e){return Array.isArray(e)?e:m0(e)?[]:[e]}w(bk,"toArray");function xk(e,t){var r,i,n,l;if(t)for(l=Object.keys(t),r=0,i=l.length;r<i;r+=1)n=l[r],e[n]=t[n];return e}w(xk,"extend");function vk(e,t){var r="",i;for(i=0;i<t;i+=1)r+=e;return r}w(vk,"repeat");function _k(e){return e===0&&Number.NEGATIVE_INFINITY===1/e}w(_k,"isNegativeZero");var w6=m0,S6=yk,k6=bk,C6=vk,T6=_k,E6=xk,He={isNothing:w6,isObject:S6,toArray:k6,repeat:C6,isNegativeZero:T6,extend:E6};function y0(e,t){var r="",i=e.reason||"(unknown reason)";return e.mark?(e.mark.name&&(r+='in "'+e.mark.name+'" '),r+="("+(e.mark.line+1)+":"+(e.mark.column+1)+")",!t&&e.mark.snippet&&(r+=`

`+e.mark.snippet),i+" "+r):i}w(y0,"formatError");function Ll(e,t){Error.call(this),this.name="YAMLException",this.reason=e,this.mark=t,this.message=y0(this,!1),Error.captureStackTrace?Error.captureStackTrace(this,this.constructor):this.stack=new Error().stack||""}w(Ll,"YAMLException$1");Ll.prototype=Object.create(Error.prototype);Ll.prototype.constructor=Ll;Ll.prototype.toString=w(function(t){return this.name+": "+y0(this,t)},"toString");var Mr=Ll;function Zh(e,t,r,i,n){var l="",o="",u=Math.floor(n/2)-1;return i-t>u&&(l=" ... ",t=i-u+l.length),r-i>u&&(o=" ...",r=i+u-o.length),{str:l+e.slice(t,r).replace(/\t/g,"")+o,pos:i-t+l.length}}w(Zh,"getLine");function Jh(e,t){return He.repeat(" ",t-e.length)+e}w(Jh,"padStart");function wk(e,t){if(t=Object.create(t||null),!e.buffer)return null;t.maxLength||(t.maxLength=79),typeof t.indent!="number"&&(t.indent=1),typeof t.linesBefore!="number"&&(t.linesBefore=3),typeof t.linesAfter!="number"&&(t.linesAfter=2);for(var r=/\r?\n|\r|\0/g,i=[0],n=[],l,o=-1;l=r.exec(e.buffer);)n.push(l.index),i.push(l.index+l[0].length),e.position<=l.index&&o<0&&(o=i.length-2);o<0&&(o=i.length-1);var u="",h,d,p=Math.min(e.line+t.linesAfter,n.length).toString().length,g=t.maxLength-(t.indent+p+3);for(h=1;h<=t.linesBefore&&!(o-h<0);h++)d=Zh(e.buffer,i[o-h],n[o-h],e.position-(i[o]-i[o-h]),g),u=He.repeat(" ",t.indent)+Jh((e.line-h+1).toString(),p)+" | "+d.str+`
`+u;for(d=Zh(e.buffer,i[o],n[o],e.position,g),u+=He.repeat(" ",t.indent)+Jh((e.line+1).toString(),p)+" | "+d.str+`
`,u+=He.repeat("-",t.indent+p+3+d.pos)+`^
`,h=1;h<=t.linesAfter&&!(o+h>=n.length);h++)d=Zh(e.buffer,i[o+h],n[o+h],e.position-(i[o]-i[o+h]),g),u+=He.repeat(" ",t.indent)+Jh((e.line+h+1).toString(),p)+" | "+d.str+`
`;return u.replace(/\n$/,"")}w(wk,"makeSnippet");var A6=wk,O6=["kind","multi","resolve","construct","instanceOf","predicate","represent","representName","defaultStyle","styleAliases"],R6=["scalar","sequence","mapping"];function Sk(e){var t={};return e!==null&&Object.keys(e).forEach(function(r){e[r].forEach(function(i){t[String(i)]=r})}),t}w(Sk,"compileStyleAliases");function kk(e,t){if(t=t||{},Object.keys(t).forEach(function(r){if(O6.indexOf(r)===-1)throw new Mr('Unknown option "'+r+'" is met in definition of "'+e+'" YAML type.')}),this.options=t,this.tag=e,this.kind=t.kind||null,this.resolve=t.resolve||function(){return!0},this.construct=t.construct||function(r){return r},this.instanceOf=t.instanceOf||null,this.predicate=t.predicate||null,this.represent=t.represent||null,this.representName=t.representName||null,this.defaultStyle=t.defaultStyle||null,this.multi=t.multi||!1,this.styleAliases=Sk(t.styleAliases||null),R6.indexOf(this.kind)===-1)throw new Mr('Unknown kind "'+this.kind+'" is specified for "'+e+'" YAML type.')}w(kk,"Type$1");var ur=kk;function ey(e,t){var r=[];return e[t].forEach(function(i){var n=r.length;r.forEach(function(l,o){l.tag===i.tag&&l.kind===i.kind&&l.multi===i.multi&&(n=o)}),r[n]=i}),r}w(ey,"compileList");function Ck(){var e={scalar:{},sequence:{},mapping:{},fallback:{},multi:{scalar:[],sequence:[],mapping:[],fallback:[]}},t,r;function i(n){n.multi?(e.multi[n.kind].push(n),e.multi.fallback.push(n)):e[n.kind][n.tag]=e.fallback[n.tag]=n}for(w(i,"collectType"),t=0,r=arguments.length;t<r;t+=1)arguments[t].forEach(i);return e}w(Ck,"compileMap");function kd(e){return this.extend(e)}w(kd,"Schema$1");kd.prototype.extend=w(function(t){var r=[],i=[];if(t instanceof ur)i.push(t);else if(Array.isArray(t))i=i.concat(t);else if(t&&(Array.isArray(t.implicit)||Array.isArray(t.explicit)))t.implicit&&(r=r.concat(t.implicit)),t.explicit&&(i=i.concat(t.explicit));else throw new Mr("Schema.extend argument should be a Type, [ Type ], or a schema definition ({ implicit: [...], explicit: [...] })");r.forEach(function(l){if(!(l instanceof ur))throw new Mr("Specified list of YAML types (or a single Type object) contains a non-Type object.");if(l.loadKind&&l.loadKind!=="scalar")throw new Mr("There is a non-scalar type in the implicit list of a schema. Implicit resolving of such types is not supported.");if(l.multi)throw new Mr("There is a multi type in the implicit list of a schema. Multi tags can only be listed as explicit.")}),i.forEach(function(l){if(!(l instanceof ur))throw new Mr("Specified list of YAML types (or a single Type object) contains a non-Type object.")});var n=Object.create(kd.prototype);return n.implicit=(this.implicit||[]).concat(r),n.explicit=(this.explicit||[]).concat(i),n.compiledImplicit=ey(n,"implicit"),n.compiledExplicit=ey(n,"explicit"),n.compiledTypeMap=Ck(n.compiledImplicit,n.compiledExplicit),n},"extend");var L6=kd,M6=new ur("tag:yaml.org,2002:str",{kind:"scalar",construct:w(function(e){return e!==null?e:""},"construct")}),B6=new ur("tag:yaml.org,2002:seq",{kind:"sequence",construct:w(function(e){return e!==null?e:[]},"construct")}),N6=new ur("tag:yaml.org,2002:map",{kind:"mapping",construct:w(function(e){return e!==null?e:{}},"construct")}),D6=new L6({explicit:[M6,B6,N6]});function Tk(e){if(e===null)return!0;var t=e.length;return t===1&&e==="~"||t===4&&(e==="null"||e==="Null"||e==="NULL")}w(Tk,"resolveYamlNull");function Ek(){return null}w(Ek,"constructYamlNull");function Ak(e){return e===null}w(Ak,"isNull");var j6=new ur("tag:yaml.org,2002:null",{kind:"scalar",resolve:Tk,construct:Ek,predicate:Ak,represent:{canonical:w(function(){return"~"},"canonical"),lowercase:w(function(){return"null"},"lowercase"),uppercase:w(function(){return"NULL"},"uppercase"),camelcase:w(function(){return"Null"},"camelcase"),empty:w(function(){return""},"empty")},defaultStyle:"lowercase"});function Ok(e){if(e===null)return!1;var t=e.length;return t===4&&(e==="true"||e==="True"||e==="TRUE")||t===5&&(e==="false"||e==="False"||e==="FALSE")}w(Ok,"resolveYamlBoolean");function Rk(e){return e==="true"||e==="True"||e==="TRUE"}w(Rk,"constructYamlBoolean");function Lk(e){return Object.prototype.toString.call(e)==="[object Boolean]"}w(Lk,"isBoolean");var $6=new ur("tag:yaml.org,2002:bool",{kind:"scalar",resolve:Ok,construct:Rk,predicate:Lk,represent:{lowercase:w(function(e){return e?"true":"false"},"lowercase"),uppercase:w(function(e){return e?"TRUE":"FALSE"},"uppercase"),camelcase:w(function(e){return e?"True":"False"},"camelcase")},defaultStyle:"lowercase"});function Mk(e){return 48<=e&&e<=57||65<=e&&e<=70||97<=e&&e<=102}w(Mk,"isHexCode");function Bk(e){return 48<=e&&e<=55}w(Bk,"isOctCode");function Nk(e){return 48<=e&&e<=57}w(Nk,"isDecCode");function Dk(e){if(e===null)return!1;var t=e.length,r=0,i=!1,n;if(!t)return!1;if(n=e[r],(n==="-"||n==="+")&&(n=e[++r]),n==="0"){if(r+1===t)return!0;if(n=e[++r],n==="b"){for(r++;r<t;r++)if(n=e[r],n!=="_"){if(n!=="0"&&n!=="1")return!1;i=!0}return i&&n!=="_"}if(n==="x"){for(r++;r<t;r++)if(n=e[r],n!=="_"){if(!Mk(e.charCodeAt(r)))return!1;i=!0}return i&&n!=="_"}if(n==="o"){for(r++;r<t;r++)if(n=e[r],n!=="_"){if(!Bk(e.charCodeAt(r)))return!1;i=!0}return i&&n!=="_"}}if(n==="_")return!1;for(;r<t;r++)if(n=e[r],n!=="_"){if(!Nk(e.charCodeAt(r)))return!1;i=!0}return!(!i||n==="_")}w(Dk,"resolveYamlInteger");function jk(e){var t=e,r=1,i;if(t.indexOf("_")!==-1&&(t=t.replace(/_/g,"")),i=t[0],(i==="-"||i==="+")&&(i==="-"&&(r=-1),t=t.slice(1),i=t[0]),t==="0")return 0;if(i==="0"){if(t[1]==="b")return r*parseInt(t.slice(2),2);if(t[1]==="x")return r*parseInt(t.slice(2),16);if(t[1]==="o")return r*parseInt(t.slice(2),8)}return r*parseInt(t,10)}w(jk,"constructYamlInteger");function $k(e){return Object.prototype.toString.call(e)==="[object Number]"&&e%1===0&&!He.isNegativeZero(e)}w($k,"isInteger");var z6=new ur("tag:yaml.org,2002:int",{kind:"scalar",resolve:Dk,construct:jk,predicate:$k,represent:{binary:w(function(e){return e>=0?"0b"+e.toString(2):"-0b"+e.toString(2).slice(1)},"binary"),octal:w(function(e){return e>=0?"0o"+e.toString(8):"-0o"+e.toString(8).slice(1)},"octal"),decimal:w(function(e){return e.toString(10)},"decimal"),hexadecimal:w(function(e){return e>=0?"0x"+e.toString(16).toUpperCase():"-0x"+e.toString(16).toUpperCase().slice(1)},"hexadecimal")},defaultStyle:"decimal",styleAliases:{binary:[2,"bin"],octal:[8,"oct"],decimal:[10,"dec"],hexadecimal:[16,"hex"]}}),F6=new RegExp("^(?:[-+]?(?:[0-9][0-9_]*)(?:\\.[0-9_]*)?(?:[eE][-+]?[0-9]+)?|\\.[0-9_]+(?:[eE][-+]?[0-9]+)?|[-+]?\\.(?:inf|Inf|INF)|\\.(?:nan|NaN|NAN))$");function zk(e){return!(e===null||!F6.test(e)||e[e.length-1]==="_")}w(zk,"resolveYamlFloat");function Fk(e){var t,r;return t=e.replace(/_/g,"").toLowerCase(),r=t[0]==="-"?-1:1,"+-".indexOf(t[0])>=0&&(t=t.slice(1)),t===".inf"?r===1?Number.POSITIVE_INFINITY:Number.NEGATIVE_INFINITY:t===".nan"?NaN:r*parseFloat(t,10)}w(Fk,"constructYamlFloat");var P6=/^[-+]?[0-9]+e/;function Pk(e,t){var r;if(isNaN(e))switch(t){case"lowercase":return".nan";case"uppercase":return".NAN";case"camelcase":return".NaN"}else if(Number.POSITIVE_INFINITY===e)switch(t){case"lowercase":return".inf";case"uppercase":return".INF";case"camelcase":return".Inf"}else if(Number.NEGATIVE_INFINITY===e)switch(t){case"lowercase":return"-.inf";case"uppercase":return"-.INF";case"camelcase":return"-.Inf"}else if(He.isNegativeZero(e))return"-0.0";return r=e.toString(10),P6.test(r)?r.replace("e",".e"):r}w(Pk,"representYamlFloat");function Uk(e){return Object.prototype.toString.call(e)==="[object Number]"&&(e%1!==0||He.isNegativeZero(e))}w(Uk,"isFloat");var U6=new ur("tag:yaml.org,2002:float",{kind:"scalar",resolve:zk,construct:Fk,predicate:Uk,represent:Pk,defaultStyle:"lowercase"}),Ik=D6.extend({implicit:[j6,$6,z6,U6]}),I6=Ik,qk=new RegExp("^([0-9][0-9][0-9][0-9])-([0-9][0-9])-([0-9][0-9])$"),Hk=new RegExp("^([0-9][0-9][0-9][0-9])-([0-9][0-9]?)-([0-9][0-9]?)(?:[Tt]|[ \\t]+)([0-9][0-9]?):([0-9][0-9]):([0-9][0-9])(?:\\.([0-9]*))?(?:[ \\t]*(Z|([-+])([0-9][0-9]?)(?::([0-9][0-9]))?))?$");function Wk(e){return e===null?!1:qk.exec(e)!==null||Hk.exec(e)!==null}w(Wk,"resolveYamlTimestamp");function Gk(e){var t,r,i,n,l,o,u,h=0,d=null,p,g,y;if(t=qk.exec(e),t===null&&(t=Hk.exec(e)),t===null)throw new Error("Date resolve error");if(r=+t[1],i=+t[2]-1,n=+t[3],!t[4])return new Date(Date.UTC(r,i,n));if(l=+t[4],o=+t[5],u=+t[6],t[7]){for(h=t[7].slice(0,3);h.length<3;)h+="0";h=+h}return t[9]&&(p=+t[10],g=+(t[11]||0),d=(p*60+g)*6e4,t[9]==="-"&&(d=-d)),y=new Date(Date.UTC(r,i,n,l,o,u,h)),d&&y.setTime(y.getTime()-d),y}w(Gk,"constructYamlTimestamp");function Yk(e){return e.toISOString()}w(Yk,"representYamlTimestamp");var q6=new ur("tag:yaml.org,2002:timestamp",{kind:"scalar",resolve:Wk,construct:Gk,instanceOf:Date,represent:Yk});function Vk(e){return e==="<<"||e===null}w(Vk,"resolveYamlMerge");var H6=new ur("tag:yaml.org,2002:merge",{kind:"scalar",resolve:Vk}),b0=`ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/=
\r`;function Xk(e){if(e===null)return!1;var t,r,i=0,n=e.length,l=b0;for(r=0;r<n;r++)if(t=l.indexOf(e.charAt(r)),!(t>64)){if(t<0)return!1;i+=6}return i%8===0}w(Xk,"resolveYamlBinary");function Kk(e){var t,r,i=e.replace(/[\r\n=]/g,""),n=i.length,l=b0,o=0,u=[];for(t=0;t<n;t++)t%4===0&&t&&(u.push(o>>16&255),u.push(o>>8&255),u.push(o&255)),o=o<<6|l.indexOf(i.charAt(t));return r=n%4*6,r===0?(u.push(o>>16&255),u.push(o>>8&255),u.push(o&255)):r===18?(u.push(o>>10&255),u.push(o>>2&255)):r===12&&u.push(o>>4&255),new Uint8Array(u)}w(Kk,"constructYamlBinary");function Qk(e){var t="",r=0,i,n,l=e.length,o=b0;for(i=0;i<l;i++)i%3===0&&i&&(t+=o[r>>18&63],t+=o[r>>12&63],t+=o[r>>6&63],t+=o[r&63]),r=(r<<8)+e[i];return n=l%3,n===0?(t+=o[r>>18&63],t+=o[r>>12&63],t+=o[r>>6&63],t+=o[r&63]):n===2?(t+=o[r>>10&63],t+=o[r>>4&63],t+=o[r<<2&63],t+=o[64]):n===1&&(t+=o[r>>2&63],t+=o[r<<4&63],t+=o[64],t+=o[64]),t}w(Qk,"representYamlBinary");function Zk(e){return Object.prototype.toString.call(e)==="[object Uint8Array]"}w(Zk,"isBinary");var W6=new ur("tag:yaml.org,2002:binary",{kind:"scalar",resolve:Xk,construct:Kk,predicate:Zk,represent:Qk}),G6=Object.prototype.hasOwnProperty,Y6=Object.prototype.toString;function Jk(e){if(e===null)return!0;var t=[],r,i,n,l,o,u=e;for(r=0,i=u.length;r<i;r+=1){if(n=u[r],o=!1,Y6.call(n)!=="[object Object]")return!1;for(l in n)if(G6.call(n,l))if(!o)o=!0;else return!1;if(!o)return!1;if(t.indexOf(l)===-1)t.push(l);else return!1}return!0}w(Jk,"resolveYamlOmap");function tC(e){return e!==null?e:[]}w(tC,"constructYamlOmap");var V6=new ur("tag:yaml.org,2002:omap",{kind:"sequence",resolve:Jk,construct:tC}),X6=Object.prototype.toString;function eC(e){if(e===null)return!0;var t,r,i,n,l,o=e;for(l=new Array(o.length),t=0,r=o.length;t<r;t+=1){if(i=o[t],X6.call(i)!=="[object Object]"||(n=Object.keys(i),n.length!==1))return!1;l[t]=[n[0],i[n[0]]]}return!0}w(eC,"resolveYamlPairs");function rC(e){if(e===null)return[];var t,r,i,n,l,o=e;for(l=new Array(o.length),t=0,r=o.length;t<r;t+=1)i=o[t],n=Object.keys(i),l[t]=[n[0],i[n[0]]];return l}w(rC,"constructYamlPairs");var K6=new ur("tag:yaml.org,2002:pairs",{kind:"sequence",resolve:eC,construct:rC}),Q6=Object.prototype.hasOwnProperty;function iC(e){if(e===null)return!0;var t,r=e;for(t in r)if(Q6.call(r,t)&&r[t]!==null)return!1;return!0}w(iC,"resolveYamlSet");function aC(e){return e!==null?e:{}}w(aC,"constructYamlSet");var Z6=new ur("tag:yaml.org,2002:set",{kind:"mapping",resolve:iC,construct:aC}),nC=I6.extend({implicit:[q6,H6],explicit:[W6,V6,K6,Z6]}),fn=Object.prototype.hasOwnProperty,Cd=1,sC=2,lC=3,Td=4,um=1,J6=2,d1=3,t8=/[\x00-\x08\x0B\x0C\x0E-\x1F\x7F-\x84\x86-\x9F\uFFFE\uFFFF]|[\uD800-\uDBFF](?![\uDC00-\uDFFF])|(?:[^\uD800-\uDBFF]|^)[\uDC00-\uDFFF]/,e8=/[\x85\u2028\u2029]/,r8=/[,\[\]\{\}]/,oC=/^(?:!|!!|![a-z\-]+!)$/i,cC=/^(?:!|[^,\[\]\{\}])(?:%[0-9a-f]{2}|[0-9a-z\-#;\/\?:@&=\+\$,_\.!~\*'\(\)\[\]])*$/i;function ry(e){return Object.prototype.toString.call(e)}w(ry,"_class");function Ei(e){return e===10||e===13}w(Ei,"is_EOL");function hn(e){return e===9||e===32}w(hn,"is_WHITE_SPACE");function mr(e){return e===9||e===32||e===10||e===13}w(mr,"is_WS_OR_EOL");function Zn(e){return e===44||e===91||e===93||e===123||e===125}w(Zn,"is_FLOW_INDICATOR");function uC(e){var t;return 48<=e&&e<=57?e-48:(t=e|32,97<=t&&t<=102?t-97+10:-1)}w(uC,"fromHexCode");function hC(e){return e===120?2:e===117?4:e===85?8:0}w(hC,"escapedHexLen");function dC(e){return 48<=e&&e<=57?e-48:-1}w(dC,"fromDecimalCode");function iy(e){return e===48?"\0":e===97?"\x07":e===98?"\b":e===116||e===9?"	":e===110?`
`:e===118?"\v":e===102?"\f":e===114?"\r":e===101?"\x1B":e===32?" ":e===34?'"':e===47?"/":e===92?"\\":e===78?"":e===95?"":e===76?"\u2028":e===80?"\u2029":""}w(iy,"simpleEscapeSequence");function fC(e){return e<=65535?String.fromCharCode(e):String.fromCharCode((e-65536>>10)+55296,(e-65536&1023)+56320)}w(fC,"charFromCodepoint");var pC=new Array(256),gC=new Array(256);for(Un=0;Un<256;Un++)pC[Un]=iy(Un)?1:0,gC[Un]=iy(Un);var Un;function mC(e,t){this.input=e,this.filename=t.filename||null,this.schema=t.schema||nC,this.onWarning=t.onWarning||null,this.legacy=t.legacy||!1,this.json=t.json||!1,this.listener=t.listener||null,this.implicitTypes=this.schema.compiledImplicit,this.typeMap=this.schema.compiledTypeMap,this.length=e.length,this.position=0,this.line=0,this.lineStart=0,this.lineIndent=0,this.firstTabInLine=-1,this.documents=[]}w(mC,"State$1");function x0(e,t){var r={name:e.filename,buffer:e.input.slice(0,-1),position:e.position,line:e.line,column:e.position-e.lineStart};return r.snippet=A6(r),new Mr(t,r)}w(x0,"generateError");function Et(e,t){throw x0(e,t)}w(Et,"throwError");function $c(e,t){e.onWarning&&e.onWarning.call(null,x0(e,t))}w($c,"throwWarning");var f1={YAML:w(function(t,r,i){var n,l,o;t.version!==null&&Et(t,"duplication of %YAML directive"),i.length!==1&&Et(t,"YAML directive accepts exactly one argument"),n=/^([0-9]+)\.([0-9]+)$/.exec(i[0]),n===null&&Et(t,"ill-formed argument of the YAML directive"),l=parseInt(n[1],10),o=parseInt(n[2],10),l!==1&&Et(t,"unacceptable YAML version of the document"),t.version=i[0],t.checkLineBreaks=o<2,o!==1&&o!==2&&$c(t,"unsupported YAML version of the document")},"handleYamlDirective"),TAG:w(function(t,r,i){var n,l;i.length!==2&&Et(t,"TAG directive accepts exactly two arguments"),n=i[0],l=i[1],oC.test(n)||Et(t,"ill-formed tag handle (first argument) of the TAG directive"),fn.call(t.tagMap,n)&&Et(t,'there is a previously declared suffix for "'+n+'" tag handle'),cC.test(l)||Et(t,"ill-formed tag prefix (second argument) of the TAG directive");try{l=decodeURIComponent(l)}catch{Et(t,"tag prefix is malformed: "+l)}t.tagMap[n]=l},"handleTagDirective")};function ka(e,t,r,i){var n,l,o,u;if(t<r){if(u=e.input.slice(t,r),i)for(n=0,l=u.length;n<l;n+=1)o=u.charCodeAt(n),o===9||32<=o&&o<=1114111||Et(e,"expected valid JSON character");else t8.test(u)&&Et(e,"the stream contains non-printable characters");e.result+=u}}w(ka,"captureSegment");function ay(e,t,r,i){var n,l,o,u;for(He.isObject(r)||Et(e,"cannot merge mappings; the provided source object is unacceptable"),n=Object.keys(r),o=0,u=n.length;o<u;o+=1)l=n[o],fn.call(t,l)||(t[l]=r[l],i[l]=!0)}w(ay,"mergeMappings");function Jn(e,t,r,i,n,l,o,u,h){var d,p;if(Array.isArray(n))for(n=Array.prototype.slice.call(n),d=0,p=n.length;d<p;d+=1)Array.isArray(n[d])&&Et(e,"nested arrays are not supported inside keys"),typeof n=="object"&&ry(n[d])==="[object Object]"&&(n[d]="[object Object]");if(typeof n=="object"&&ry(n)==="[object Object]"&&(n="[object Object]"),n=String(n),t===null&&(t={}),i==="tag:yaml.org,2002:merge")if(Array.isArray(l))for(d=0,p=l.length;d<p;d+=1)ay(e,t,l[d],r);else ay(e,t,l,r);else!e.json&&!fn.call(r,n)&&fn.call(t,n)&&(e.line=o||e.line,e.lineStart=u||e.lineStart,e.position=h||e.position,Et(e,"duplicated mapping key")),n==="__proto__"?Object.defineProperty(t,n,{configurable:!0,enumerable:!0,writable:!0,value:l}):t[n]=l,delete r[n];return t}w(Jn,"storeMappingPair");function lf(e){var t;t=e.input.charCodeAt(e.position),t===10?e.position++:t===13?(e.position++,e.input.charCodeAt(e.position)===10&&e.position++):Et(e,"a line break is expected"),e.line+=1,e.lineStart=e.position,e.firstTabInLine=-1}w(lf,"readLineBreak");function Oe(e,t,r){for(var i=0,n=e.input.charCodeAt(e.position);n!==0;){for(;hn(n);)n===9&&e.firstTabInLine===-1&&(e.firstTabInLine=e.position),n=e.input.charCodeAt(++e.position);if(t&&n===35)do n=e.input.charCodeAt(++e.position);while(n!==10&&n!==13&&n!==0);if(Ei(n))for(lf(e),n=e.input.charCodeAt(e.position),i++,e.lineIndent=0;n===32;)e.lineIndent++,n=e.input.charCodeAt(++e.position);else break}return r!==-1&&i!==0&&e.lineIndent<r&&$c(e,"deficient indentation"),i}w(Oe,"skipSeparationSpace");function Jc(e){var t=e.position,r;return r=e.input.charCodeAt(t),!!((r===45||r===46)&&r===e.input.charCodeAt(t+1)&&r===e.input.charCodeAt(t+2)&&(t+=3,r=e.input.charCodeAt(t),r===0||mr(r)))}w(Jc,"testDocumentSeparator");function of(e,t){t===1?e.result+=" ":t>1&&(e.result+=He.repeat(`
`,t-1))}w(of,"writeFoldedLines");function yC(e,t,r){var i,n,l,o,u,h,d,p,g=e.kind,y=e.result,x;if(x=e.input.charCodeAt(e.position),mr(x)||Zn(x)||x===35||x===38||x===42||x===33||x===124||x===62||x===39||x===34||x===37||x===64||x===96||(x===63||x===45)&&(n=e.input.charCodeAt(e.position+1),mr(n)||r&&Zn(n)))return!1;for(e.kind="scalar",e.result="",l=o=e.position,u=!1;x!==0;){if(x===58){if(n=e.input.charCodeAt(e.position+1),mr(n)||r&&Zn(n))break}else if(x===35){if(i=e.input.charCodeAt(e.position-1),mr(i))break}else{if(e.position===e.lineStart&&Jc(e)||r&&Zn(x))break;if(Ei(x))if(h=e.line,d=e.lineStart,p=e.lineIndent,Oe(e,!1,-1),e.lineIndent>=t){u=!0,x=e.input.charCodeAt(e.position);continue}else{e.position=o,e.line=h,e.lineStart=d,e.lineIndent=p;break}}u&&(ka(e,l,o,!1),of(e,e.line-h),l=o=e.position,u=!1),hn(x)||(o=e.position+1),x=e.input.charCodeAt(++e.position)}return ka(e,l,o,!1),e.result?!0:(e.kind=g,e.result=y,!1)}w(yC,"readPlainScalar");function bC(e,t){var r,i,n;if(r=e.input.charCodeAt(e.position),r!==39)return!1;for(e.kind="scalar",e.result="",e.position++,i=n=e.position;(r=e.input.charCodeAt(e.position))!==0;)if(r===39)if(ka(e,i,e.position,!0),r=e.input.charCodeAt(++e.position),r===39)i=e.position,e.position++,n=e.position;else return!0;else Ei(r)?(ka(e,i,n,!0),of(e,Oe(e,!1,t)),i=n=e.position):e.position===e.lineStart&&Jc(e)?Et(e,"unexpected end of the document within a single quoted scalar"):(e.position++,n=e.position);Et(e,"unexpected end of the stream within a single quoted scalar")}w(bC,"readSingleQuotedScalar");function xC(e,t){var r,i,n,l,o,u;if(u=e.input.charCodeAt(e.position),u!==34)return!1;for(e.kind="scalar",e.result="",e.position++,r=i=e.position;(u=e.input.charCodeAt(e.position))!==0;){if(u===34)return ka(e,r,e.position,!0),e.position++,!0;if(u===92){if(ka(e,r,e.position,!0),u=e.input.charCodeAt(++e.position),Ei(u))Oe(e,!1,t);else if(u<256&&pC[u])e.result+=gC[u],e.position++;else if((o=hC(u))>0){for(n=o,l=0;n>0;n--)u=e.input.charCodeAt(++e.position),(o=uC(u))>=0?l=(l<<4)+o:Et(e,"expected hexadecimal character");e.result+=fC(l),e.position++}else Et(e,"unknown escape sequence");r=i=e.position}else Ei(u)?(ka(e,r,i,!0),of(e,Oe(e,!1,t)),r=i=e.position):e.position===e.lineStart&&Jc(e)?Et(e,"unexpected end of the document within a double quoted scalar"):(e.position++,i=e.position)}Et(e,"unexpected end of the stream within a double quoted scalar")}w(xC,"readDoubleQuotedScalar");function vC(e,t){var r=!0,i,n,l,o=e.tag,u,h=e.anchor,d,p,g,y,x,v=Object.create(null),_,S,T,E;if(E=e.input.charCodeAt(e.position),E===91)p=93,x=!1,u=[];else if(E===123)p=125,x=!0,u={};else return!1;for(e.anchor!==null&&(e.anchorMap[e.anchor]=u),E=e.input.charCodeAt(++e.position);E!==0;){if(Oe(e,!0,t),E=e.input.charCodeAt(e.position),E===p)return e.position++,e.tag=o,e.anchor=h,e.kind=x?"mapping":"sequence",e.result=u,!0;r?E===44&&Et(e,"expected the node content, but found ','"):Et(e,"missed comma between flow collection entries"),S=_=T=null,g=y=!1,E===63&&(d=e.input.charCodeAt(e.position+1),mr(d)&&(g=y=!0,e.position++,Oe(e,!0,t))),i=e.line,n=e.lineStart,l=e.position,ls(e,t,Cd,!1,!0),S=e.tag,_=e.result,Oe(e,!0,t),E=e.input.charCodeAt(e.position),(y||e.line===i)&&E===58&&(g=!0,E=e.input.charCodeAt(++e.position),Oe(e,!0,t),ls(e,t,Cd,!1,!0),T=e.result),x?Jn(e,u,v,S,_,T,i,n,l):g?u.push(Jn(e,null,v,S,_,T,i,n,l)):u.push(_),Oe(e,!0,t),E=e.input.charCodeAt(e.position),E===44?(r=!0,E=e.input.charCodeAt(++e.position)):r=!1}Et(e,"unexpected end of the stream within a flow collection")}w(vC,"readFlowCollection");function _C(e,t){var r,i,n=um,l=!1,o=!1,u=t,h=0,d=!1,p,g;if(g=e.input.charCodeAt(e.position),g===124)i=!1;else if(g===62)i=!0;else return!1;for(e.kind="scalar",e.result="";g!==0;)if(g=e.input.charCodeAt(++e.position),g===43||g===45)um===n?n=g===43?d1:J6:Et(e,"repeat of a chomping mode identifier");else if((p=dC(g))>=0)p===0?Et(e,"bad explicit indentation width of a block scalar; it cannot be less than one"):o?Et(e,"repeat of an indentation width identifier"):(u=t+p-1,o=!0);else break;if(hn(g)){do g=e.input.charCodeAt(++e.position);while(hn(g));if(g===35)do g=e.input.charCodeAt(++e.position);while(!Ei(g)&&g!==0)}for(;g!==0;){for(lf(e),e.lineIndent=0,g=e.input.charCodeAt(e.position);(!o||e.lineIndent<u)&&g===32;)e.lineIndent++,g=e.input.charCodeAt(++e.position);if(!o&&e.lineIndent>u&&(u=e.lineIndent),Ei(g)){h++;continue}if(e.lineIndent<u){n===d1?e.result+=He.repeat(`
`,l?1+h:h):n===um&&l&&(e.result+=`
`);break}for(i?hn(g)?(d=!0,e.result+=He.repeat(`
`,l?1+h:h)):d?(d=!1,e.result+=He.repeat(`
`,h+1)):h===0?l&&(e.result+=" "):e.result+=He.repeat(`
`,h):e.result+=He.repeat(`
`,l?1+h:h),l=!0,o=!0,h=0,r=e.position;!Ei(g)&&g!==0;)g=e.input.charCodeAt(++e.position);ka(e,r,e.position,!1)}return!0}w(_C,"readBlockScalar");function ny(e,t){var r,i=e.tag,n=e.anchor,l=[],o,u=!1,h;if(e.firstTabInLine!==-1)return!1;for(e.anchor!==null&&(e.anchorMap[e.anchor]=l),h=e.input.charCodeAt(e.position);h!==0&&(e.firstTabInLine!==-1&&(e.position=e.firstTabInLine,Et(e,"tab characters must not be used in indentation")),!(h!==45||(o=e.input.charCodeAt(e.position+1),!mr(o))));){if(u=!0,e.position++,Oe(e,!0,-1)&&e.lineIndent<=t){l.push(null),h=e.input.charCodeAt(e.position);continue}if(r=e.line,ls(e,t,lC,!1,!0),l.push(e.result),Oe(e,!0,-1),h=e.input.charCodeAt(e.position),(e.line===r||e.lineIndent>t)&&h!==0)Et(e,"bad indentation of a sequence entry");else if(e.lineIndent<t)break}return u?(e.tag=i,e.anchor=n,e.kind="sequence",e.result=l,!0):!1}w(ny,"readBlockSequence");function wC(e,t,r){var i,n,l,o,u,h,d=e.tag,p=e.anchor,g={},y=Object.create(null),x=null,v=null,_=null,S=!1,T=!1,E;if(e.firstTabInLine!==-1)return!1;for(e.anchor!==null&&(e.anchorMap[e.anchor]=g),E=e.input.charCodeAt(e.position);E!==0;){if(!S&&e.firstTabInLine!==-1&&(e.position=e.firstTabInLine,Et(e,"tab characters must not be used in indentation")),i=e.input.charCodeAt(e.position+1),l=e.line,(E===63||E===58)&&mr(i))E===63?(S&&(Jn(e,g,y,x,v,null,o,u,h),x=v=_=null),T=!0,S=!0,n=!0):S?(S=!1,n=!0):Et(e,"incomplete explicit mapping pair; a key node is missed; or followed by a non-tabulated empty line"),e.position+=1,E=i;else{if(o=e.line,u=e.lineStart,h=e.position,!ls(e,r,sC,!1,!0))break;if(e.line===l){for(E=e.input.charCodeAt(e.position);hn(E);)E=e.input.charCodeAt(++e.position);if(E===58)E=e.input.charCodeAt(++e.position),mr(E)||Et(e,"a whitespace character is expected after the key-value separator within a block mapping"),S&&(Jn(e,g,y,x,v,null,o,u,h),x=v=_=null),T=!0,S=!1,n=!1,x=e.tag,v=e.result;else if(T)Et(e,"can not read an implicit mapping pair; a colon is missed");else return e.tag=d,e.anchor=p,!0}else if(T)Et(e,"can not read a block mapping entry; a multiline key may not be an implicit key");else return e.tag=d,e.anchor=p,!0}if((e.line===l||e.lineIndent>t)&&(S&&(o=e.line,u=e.lineStart,h=e.position),ls(e,t,Td,!0,n)&&(S?v=e.result:_=e.result),S||(Jn(e,g,y,x,v,_,o,u,h),x=v=_=null),Oe(e,!0,-1),E=e.input.charCodeAt(e.position)),(e.line===l||e.lineIndent>t)&&E!==0)Et(e,"bad indentation of a mapping entry");else if(e.lineIndent<t)break}return S&&Jn(e,g,y,x,v,null,o,u,h),T&&(e.tag=d,e.anchor=p,e.kind="mapping",e.result=g),T}w(wC,"readBlockMapping");function SC(e){var t,r=!1,i=!1,n,l,o;if(o=e.input.charCodeAt(e.position),o!==33)return!1;if(e.tag!==null&&Et(e,"duplication of a tag property"),o=e.input.charCodeAt(++e.position),o===60?(r=!0,o=e.input.charCodeAt(++e.position)):o===33?(i=!0,n="!!",o=e.input.charCodeAt(++e.position)):n="!",t=e.position,r){do o=e.input.charCodeAt(++e.position);while(o!==0&&o!==62);e.position<e.length?(l=e.input.slice(t,e.position),o=e.input.charCodeAt(++e.position)):Et(e,"unexpected end of the stream within a verbatim tag")}else{for(;o!==0&&!mr(o);)o===33&&(i?Et(e,"tag suffix cannot contain exclamation marks"):(n=e.input.slice(t-1,e.position+1),oC.test(n)||Et(e,"named tag handle cannot contain such characters"),i=!0,t=e.position+1)),o=e.input.charCodeAt(++e.position);l=e.input.slice(t,e.position),r8.test(l)&&Et(e,"tag suffix cannot contain flow indicator characters")}l&&!cC.test(l)&&Et(e,"tag name cannot contain such characters: "+l);try{l=decodeURIComponent(l)}catch{Et(e,"tag name is malformed: "+l)}return r?e.tag=l:fn.call(e.tagMap,n)?e.tag=e.tagMap[n]+l:n==="!"?e.tag="!"+l:n==="!!"?e.tag="tag:yaml.org,2002:"+l:Et(e,'undeclared tag handle "'+n+'"'),!0}w(SC,"readTagProperty");function kC(e){var t,r;if(r=e.input.charCodeAt(e.position),r!==38)return!1;for(e.anchor!==null&&Et(e,"duplication of an anchor property"),r=e.input.charCodeAt(++e.position),t=e.position;r!==0&&!mr(r)&&!Zn(r);)r=e.input.charCodeAt(++e.position);return e.position===t&&Et(e,"name of an anchor node must contain at least one character"),e.anchor=e.input.slice(t,e.position),!0}w(kC,"readAnchorProperty");function CC(e){var t,r,i;if(i=e.input.charCodeAt(e.position),i!==42)return!1;for(i=e.input.charCodeAt(++e.position),t=e.position;i!==0&&!mr(i)&&!Zn(i);)i=e.input.charCodeAt(++e.position);return e.position===t&&Et(e,"name of an alias node must contain at least one character"),r=e.input.slice(t,e.position),fn.call(e.anchorMap,r)||Et(e,'unidentified alias "'+r+'"'),e.result=e.anchorMap[r],Oe(e,!0,-1),!0}w(CC,"readAlias");function ls(e,t,r,i,n){var l,o,u,h=1,d=!1,p=!1,g,y,x,v,_,S;if(e.listener!==null&&e.listener("open",e),e.tag=null,e.anchor=null,e.kind=null,e.result=null,l=o=u=Td===r||lC===r,i&&Oe(e,!0,-1)&&(d=!0,e.lineIndent>t?h=1:e.lineIndent===t?h=0:e.lineIndent<t&&(h=-1)),h===1)for(;SC(e)||kC(e);)Oe(e,!0,-1)?(d=!0,u=l,e.lineIndent>t?h=1:e.lineIndent===t?h=0:e.lineIndent<t&&(h=-1)):u=!1;if(u&&(u=d||n),(h===1||Td===r)&&(Cd===r||sC===r?_=t:_=t+1,S=e.position-e.lineStart,h===1?u&&(ny(e,S)||wC(e,S,_))||vC(e,_)?p=!0:(o&&_C(e,_)||bC(e,_)||xC(e,_)?p=!0:CC(e)?(p=!0,(e.tag!==null||e.anchor!==null)&&Et(e,"alias node should not have any properties")):yC(e,_,Cd===r)&&(p=!0,e.tag===null&&(e.tag="?")),e.anchor!==null&&(e.anchorMap[e.anchor]=e.result)):h===0&&(p=u&&ny(e,S))),e.tag===null)e.anchor!==null&&(e.anchorMap[e.anchor]=e.result);else if(e.tag==="?"){for(e.result!==null&&e.kind!=="scalar"&&Et(e,'unacceptable node kind for !<?> tag; it should be "scalar", not "'+e.kind+'"'),g=0,y=e.implicitTypes.length;g<y;g+=1)if(v=e.implicitTypes[g],v.resolve(e.result)){e.result=v.construct(e.result),e.tag=v.tag,e.anchor!==null&&(e.anchorMap[e.anchor]=e.result);break}}else if(e.tag!=="!"){if(fn.call(e.typeMap[e.kind||"fallback"],e.tag))v=e.typeMap[e.kind||"fallback"][e.tag];else for(v=null,x=e.typeMap.multi[e.kind||"fallback"],g=0,y=x.length;g<y;g+=1)if(e.tag.slice(0,x[g].tag.length)===x[g].tag){v=x[g];break}v||Et(e,"unknown tag !<"+e.tag+">"),e.result!==null&&v.kind!==e.kind&&Et(e,"unacceptable node kind for !<"+e.tag+'> tag; it should be "'+v.kind+'", not "'+e.kind+'"'),v.resolve(e.result,e.tag)?(e.result=v.construct(e.result,e.tag),e.anchor!==null&&(e.anchorMap[e.anchor]=e.result)):Et(e,"cannot resolve a node with !<"+e.tag+"> explicit tag")}return e.listener!==null&&e.listener("close",e),e.tag!==null||e.anchor!==null||p}w(ls,"composeNode");function TC(e){var t=e.position,r,i,n,l=!1,o;for(e.version=null,e.checkLineBreaks=e.legacy,e.tagMap=Object.create(null),e.anchorMap=Object.create(null);(o=e.input.charCodeAt(e.position))!==0&&(Oe(e,!0,-1),o=e.input.charCodeAt(e.position),!(e.lineIndent>0||o!==37));){for(l=!0,o=e.input.charCodeAt(++e.position),r=e.position;o!==0&&!mr(o);)o=e.input.charCodeAt(++e.position);for(i=e.input.slice(r,e.position),n=[],i.length<1&&Et(e,"directive name must not be less than one character in length");o!==0;){for(;hn(o);)o=e.input.charCodeAt(++e.position);if(o===35){do o=e.input.charCodeAt(++e.position);while(o!==0&&!Ei(o));break}if(Ei(o))break;for(r=e.position;o!==0&&!mr(o);)o=e.input.charCodeAt(++e.position);n.push(e.input.slice(r,e.position))}o!==0&&lf(e),fn.call(f1,i)?f1[i](e,i,n):$c(e,'unknown document directive "'+i+'"')}if(Oe(e,!0,-1),e.lineIndent===0&&e.input.charCodeAt(e.position)===45&&e.input.charCodeAt(e.position+1)===45&&e.input.charCodeAt(e.position+2)===45?(e.position+=3,Oe(e,!0,-1)):l&&Et(e,"directives end mark is expected"),ls(e,e.lineIndent-1,Td,!1,!0),Oe(e,!0,-1),e.checkLineBreaks&&e8.test(e.input.slice(t,e.position))&&$c(e,"non-ASCII line breaks are interpreted as content"),e.documents.push(e.result),e.position===e.lineStart&&Jc(e)){e.input.charCodeAt(e.position)===46&&(e.position+=3,Oe(e,!0,-1));return}if(e.position<e.length-1)Et(e,"end of the stream or a document separator is expected");else return}w(TC,"readDocument");function v0(e,t){e=String(e),t=t||{},e.length!==0&&(e.charCodeAt(e.length-1)!==10&&e.charCodeAt(e.length-1)!==13&&(e+=`
`),e.charCodeAt(0)===65279&&(e=e.slice(1)));var r=new mC(e,t),i=e.indexOf("\0");for(i!==-1&&(r.position=i,Et(r,"null byte is not allowed in input")),r.input+="\0";r.input.charCodeAt(r.position)===32;)r.lineIndent+=1,r.position+=1;for(;r.position<r.length-1;)TC(r);return r.documents}w(v0,"loadDocuments");function i8(e,t,r){t!==null&&typeof t=="object"&&typeof r>"u"&&(r=t,t=null);var i=v0(e,r);if(typeof t!="function")return i;for(var n=0,l=i.length;n<l;n+=1)t(i[n])}w(i8,"loadAll$1");function EC(e,t){var r=v0(e,t);if(r.length!==0){if(r.length===1)return r[0];throw new Mr("expected a single document in the stream, but found more")}}w(EC,"load$1");var a8=EC,n8={load:a8},AC=Object.prototype.toString,OC=Object.prototype.hasOwnProperty,_0=65279,s8=9,zc=10,l8=13,o8=32,c8=33,u8=34,sy=35,h8=37,d8=38,f8=39,p8=42,RC=44,g8=45,Ed=58,m8=61,y8=62,b8=63,x8=64,LC=91,MC=93,v8=96,BC=123,_8=124,NC=125,dr={};dr[0]="\\0";dr[7]="\\a";dr[8]="\\b";dr[9]="\\t";dr[10]="\\n";dr[11]="\\v";dr[12]="\\f";dr[13]="\\r";dr[27]="\\e";dr[34]='\\"';dr[92]="\\\\";dr[133]="\\N";dr[160]="\\_";dr[8232]="\\L";dr[8233]="\\P";var w8=["y","Y","yes","Yes","YES","on","On","ON","n","N","no","No","NO","off","Off","OFF"],S8=/^[-+]?[0-9_]+(?::[0-9_]+)+(?:\.[0-9_]*)?$/;function DC(e,t){var r,i,n,l,o,u,h;if(t===null)return{};for(r={},i=Object.keys(t),n=0,l=i.length;n<l;n+=1)o=i[n],u=String(t[o]),o.slice(0,2)==="!!"&&(o="tag:yaml.org,2002:"+o.slice(2)),h=e.compiledTypeMap.fallback[o],h&&OC.call(h.styleAliases,u)&&(u=h.styleAliases[u]),r[o]=u;return r}w(DC,"compileStyleMap");function jC(e){var t,r,i;if(t=e.toString(16).toUpperCase(),e<=255)r="x",i=2;else if(e<=65535)r="u",i=4;else if(e<=4294967295)r="U",i=8;else throw new Mr("code point within a string may not be greater than 0xFFFFFFFF");return"\\"+r+He.repeat("0",i-t.length)+t}w(jC,"encodeHex");var k8=1,Fc=2;function $C(e){this.schema=e.schema||nC,this.indent=Math.max(1,e.indent||2),this.noArrayIndent=e.noArrayIndent||!1,this.skipInvalid=e.skipInvalid||!1,this.flowLevel=He.isNothing(e.flowLevel)?-1:e.flowLevel,this.styleMap=DC(this.schema,e.styles||null),this.sortKeys=e.sortKeys||!1,this.lineWidth=e.lineWidth||80,this.noRefs=e.noRefs||!1,this.noCompatMode=e.noCompatMode||!1,this.condenseFlow=e.condenseFlow||!1,this.quotingType=e.quotingType==='"'?Fc:k8,this.forceQuotes=e.forceQuotes||!1,this.replacer=typeof e.replacer=="function"?e.replacer:null,this.implicitTypes=this.schema.compiledImplicit,this.explicitTypes=this.schema.compiledExplicit,this.tag=null,this.result="",this.duplicates=[],this.usedDuplicates=null}w($C,"State");function ly(e,t){for(var r=He.repeat(" ",t),i=0,n=-1,l="",o,u=e.length;i<u;)n=e.indexOf(`
`,i),n===-1?(o=e.slice(i),i=u):(o=e.slice(i,n+1),i=n+1),o.length&&o!==`
`&&(l+=r),l+=o;return l}w(ly,"indentString");function Ad(e,t){return`
`+He.repeat(" ",e.indent*t)}w(Ad,"generateNextLine");function zC(e,t){var r,i,n;for(r=0,i=e.implicitTypes.length;r<i;r+=1)if(n=e.implicitTypes[r],n.resolve(t))return!0;return!1}w(zC,"testImplicitResolving");function Pc(e){return e===o8||e===s8}w(Pc,"isWhitespace");function Ml(e){return 32<=e&&e<=126||161<=e&&e<=55295&&e!==8232&&e!==8233||57344<=e&&e<=65533&&e!==_0||65536<=e&&e<=1114111}w(Ml,"isPrintable");function oy(e){return Ml(e)&&e!==_0&&e!==l8&&e!==zc}w(oy,"isNsCharOrWhitespace");function cy(e,t,r){var i=oy(e),n=i&&!Pc(e);return(r?i:i&&e!==RC&&e!==LC&&e!==MC&&e!==BC&&e!==NC)&&e!==sy&&!(t===Ed&&!n)||oy(t)&&!Pc(t)&&e===sy||t===Ed&&n}w(cy,"isPlainSafe");function FC(e){return Ml(e)&&e!==_0&&!Pc(e)&&e!==g8&&e!==b8&&e!==Ed&&e!==RC&&e!==LC&&e!==MC&&e!==BC&&e!==NC&&e!==sy&&e!==d8&&e!==p8&&e!==c8&&e!==_8&&e!==m8&&e!==y8&&e!==f8&&e!==u8&&e!==h8&&e!==x8&&e!==v8}w(FC,"isPlainSafeFirst");function PC(e){return!Pc(e)&&e!==Ed}w(PC,"isPlainSafeLast");function fl(e,t){var r=e.charCodeAt(t),i;return r>=55296&&r<=56319&&t+1<e.length&&(i=e.charCodeAt(t+1),i>=56320&&i<=57343)?(r-55296)*1024+i-56320+65536:r}w(fl,"codePointAt");function w0(e){var t=/^\n* /;return t.test(e)}w(w0,"needIndentIndicator");var UC=1,uy=2,IC=3,qC=4,ul=5;function HC(e,t,r,i,n,l,o,u){var h,d=0,p=null,g=!1,y=!1,x=i!==-1,v=-1,_=FC(fl(e,0))&&PC(fl(e,e.length-1));if(t||o)for(h=0;h<e.length;d>=65536?h+=2:h++){if(d=fl(e,h),!Ml(d))return ul;_=_&&cy(d,p,u),p=d}else{for(h=0;h<e.length;d>=65536?h+=2:h++){if(d=fl(e,h),d===zc)g=!0,x&&(y=y||h-v-1>i&&e[v+1]!==" ",v=h);else if(!Ml(d))return ul;_=_&&cy(d,p,u),p=d}y=y||x&&h-v-1>i&&e[v+1]!==" "}return!g&&!y?_&&!o&&!n(e)?UC:l===Fc?ul:uy:r>9&&w0(e)?ul:o?l===Fc?ul:uy:y?qC:IC}w(HC,"chooseScalarStyle");function WC(e,t,r,i,n){e.dump=(function(){if(t.length===0)return e.quotingType===Fc?'""':"''";if(!e.noCompatMode&&(w8.indexOf(t)!==-1||S8.test(t)))return e.quotingType===Fc?'"'+t+'"':"'"+t+"'";var l=e.indent*Math.max(1,r),o=e.lineWidth===-1?-1:Math.max(Math.min(e.lineWidth,40),e.lineWidth-l),u=i||e.flowLevel>-1&&r>=e.flowLevel;function h(d){return zC(e,d)}switch(w(h,"testAmbiguity"),HC(t,u,e.indent,o,h,e.quotingType,e.forceQuotes&&!i,n)){case UC:return t;case uy:return"'"+t.replace(/'/g,"''")+"'";case IC:return"|"+hy(t,e.indent)+dy(ly(t,l));case qC:return">"+hy(t,e.indent)+dy(ly(GC(t,o),l));case ul:return'"'+YC(t)+'"';default:throw new Mr("impossible error: invalid scalar style")}})()}w(WC,"writeScalar");function hy(e,t){var r=w0(e)?String(t):"",i=e[e.length-1]===`
`,n=i&&(e[e.length-2]===`
`||e===`
`),l=n?"+":i?"":"-";return r+l+`
`}w(hy,"blockHeader");function dy(e){return e[e.length-1]===`
`?e.slice(0,-1):e}w(dy,"dropEndingNewline");function GC(e,t){for(var r=/(\n+)([^\n]*)/g,i=(function(){var d=e.indexOf(`
`);return d=d!==-1?d:e.length,r.lastIndex=d,fy(e.slice(0,d),t)})(),n=e[0]===`
`||e[0]===" ",l,o;o=r.exec(e);){var u=o[1],h=o[2];l=h[0]===" ",i+=u+(!n&&!l&&h!==""?`
`:"")+fy(h,t),n=l}return i}w(GC,"foldString");function fy(e,t){if(e===""||e[0]===" ")return e;for(var r=/ [^ ]/g,i,n=0,l,o=0,u=0,h="";i=r.exec(e);)u=i.index,u-n>t&&(l=o>n?o:u,h+=`
`+e.slice(n,l),n=l+1),o=u;return h+=`
`,e.length-n>t&&o>n?h+=e.slice(n,o)+`
`+e.slice(o+1):h+=e.slice(n),h.slice(1)}w(fy,"foldLine");function YC(e){for(var t="",r=0,i,n=0;n<e.length;r>=65536?n+=2:n++)r=fl(e,n),i=dr[r],!i&&Ml(r)?(t+=e[n],r>=65536&&(t+=e[n+1])):t+=i||jC(r);return t}w(YC,"escapeString");function VC(e,t,r){var i="",n=e.tag,l,o,u;for(l=0,o=r.length;l<o;l+=1)u=r[l],e.replacer&&(u=e.replacer.call(r,String(l),u)),(Hi(e,t,u,!1,!1)||typeof u>"u"&&Hi(e,t,null,!1,!1))&&(i!==""&&(i+=","+(e.condenseFlow?"":" ")),i+=e.dump);e.tag=n,e.dump="["+i+"]"}w(VC,"writeFlowSequence");function py(e,t,r,i){var n="",l=e.tag,o,u,h;for(o=0,u=r.length;o<u;o+=1)h=r[o],e.replacer&&(h=e.replacer.call(r,String(o),h)),(Hi(e,t+1,h,!0,!0,!1,!0)||typeof h>"u"&&Hi(e,t+1,null,!0,!0,!1,!0))&&((!i||n!=="")&&(n+=Ad(e,t)),e.dump&&zc===e.dump.charCodeAt(0)?n+="-":n+="- ",n+=e.dump);e.tag=l,e.dump=n||"[]"}w(py,"writeBlockSequence");function XC(e,t,r){var i="",n=e.tag,l=Object.keys(r),o,u,h,d,p;for(o=0,u=l.length;o<u;o+=1)p="",i!==""&&(p+=", "),e.condenseFlow&&(p+='"'),h=l[o],d=r[h],e.replacer&&(d=e.replacer.call(r,h,d)),Hi(e,t,h,!1,!1)&&(e.dump.length>1024&&(p+="? "),p+=e.dump+(e.condenseFlow?'"':"")+":"+(e.condenseFlow?"":" "),Hi(e,t,d,!1,!1)&&(p+=e.dump,i+=p));e.tag=n,e.dump="{"+i+"}"}w(XC,"writeFlowMapping");function KC(e,t,r,i){var n="",l=e.tag,o=Object.keys(r),u,h,d,p,g,y;if(e.sortKeys===!0)o.sort();else if(typeof e.sortKeys=="function")o.sort(e.sortKeys);else if(e.sortKeys)throw new Mr("sortKeys must be a boolean or a function");for(u=0,h=o.length;u<h;u+=1)y="",(!i||n!=="")&&(y+=Ad(e,t)),d=o[u],p=r[d],e.replacer&&(p=e.replacer.call(r,d,p)),Hi(e,t+1,d,!0,!0,!0)&&(g=e.tag!==null&&e.tag!=="?"||e.dump&&e.dump.length>1024,g&&(e.dump&&zc===e.dump.charCodeAt(0)?y+="?":y+="? "),y+=e.dump,g&&(y+=Ad(e,t)),Hi(e,t+1,p,!0,g)&&(e.dump&&zc===e.dump.charCodeAt(0)?y+=":":y+=": ",y+=e.dump,n+=y));e.tag=l,e.dump=n||"{}"}w(KC,"writeBlockMapping");function gy(e,t,r){var i,n,l,o,u,h;for(n=r?e.explicitTypes:e.implicitTypes,l=0,o=n.length;l<o;l+=1)if(u=n[l],(u.instanceOf||u.predicate)&&(!u.instanceOf||typeof t=="object"&&t instanceof u.instanceOf)&&(!u.predicate||u.predicate(t))){if(r?u.multi&&u.representName?e.tag=u.representName(t):e.tag=u.tag:e.tag="?",u.represent){if(h=e.styleMap[u.tag]||u.defaultStyle,AC.call(u.represent)==="[object Function]")i=u.represent(t,h);else if(OC.call(u.represent,h))i=u.represent[h](t,h);else throw new Mr("!<"+u.tag+'> tag resolver accepts not "'+h+'" style');e.dump=i}return!0}return!1}w(gy,"detectType");function Hi(e,t,r,i,n,l,o){e.tag=null,e.dump=r,gy(e,r,!1)||gy(e,r,!0);var u=AC.call(e.dump),h=i,d;i&&(i=e.flowLevel<0||e.flowLevel>t);var p=u==="[object Object]"||u==="[object Array]",g,y;if(p&&(g=e.duplicates.indexOf(r),y=g!==-1),(e.tag!==null&&e.tag!=="?"||y||e.indent!==2&&t>0)&&(n=!1),y&&e.usedDuplicates[g])e.dump="*ref_"+g;else{if(p&&y&&!e.usedDuplicates[g]&&(e.usedDuplicates[g]=!0),u==="[object Object]")i&&Object.keys(e.dump).length!==0?(KC(e,t,e.dump,n),y&&(e.dump="&ref_"+g+e.dump)):(XC(e,t,e.dump),y&&(e.dump="&ref_"+g+" "+e.dump));else if(u==="[object Array]")i&&e.dump.length!==0?(e.noArrayIndent&&!o&&t>0?py(e,t-1,e.dump,n):py(e,t,e.dump,n),y&&(e.dump="&ref_"+g+e.dump)):(VC(e,t,e.dump),y&&(e.dump="&ref_"+g+" "+e.dump));else if(u==="[object String]")e.tag!=="?"&&WC(e,e.dump,t,l,h);else{if(u==="[object Undefined]")return!1;if(e.skipInvalid)return!1;throw new Mr("unacceptable kind of an object to dump "+u)}e.tag!==null&&e.tag!=="?"&&(d=encodeURI(e.tag[0]==="!"?e.tag.slice(1):e.tag).replace(/!/g,"%21"),e.tag[0]==="!"?d="!"+d:d.slice(0,18)==="tag:yaml.org,2002:"?d="!!"+d.slice(18):d="!<"+d+">",e.dump=d+" "+e.dump)}return!0}w(Hi,"writeNode");function QC(e,t){var r=[],i=[],n,l;for(Od(e,r,i),n=0,l=i.length;n<l;n+=1)t.duplicates.push(r[i[n]]);t.usedDuplicates=new Array(l)}w(QC,"getDuplicateReferences");function Od(e,t,r){var i,n,l;if(e!==null&&typeof e=="object")if(n=t.indexOf(e),n!==-1)r.indexOf(n)===-1&&r.push(n);else if(t.push(e),Array.isArray(e))for(n=0,l=e.length;n<l;n+=1)Od(e[n],t,r);else for(i=Object.keys(e),n=0,l=i.length;n<l;n+=1)Od(e[i[n]],t,r)}w(Od,"inspectNode");function C8(e,t){t=t||{};var r=new $C(t);r.noRefs||QC(e,r);var i=e;return r.replacer&&(i=r.replacer.call({"":i},"",i)),Hi(r,0,i,!0,!0)?r.dump+`
`:""}w(C8,"dump$1");function T8(e,t){return function(){throw new Error("Function yaml."+e+" is removed in js-yaml 4. Use yaml."+t+" instead, which is now safe by default.")}}w(T8,"renamed");var E8=Ik,A8=n8.load;var or={aggregation:17.25,extension:17.25,composition:17.25,dependency:6,lollipop:13.5,arrow_point:4},p1={arrow_point:9,arrow_cross:12.5,arrow_circle:12.5};function fc(e,t){if(e===void 0||t===void 0)return{angle:0,deltaX:0,deltaY:0};e=xe(e),t=xe(t);const[r,i]=[e.x,e.y],[n,l]=[t.x,t.y],o=n-r,u=l-i;return{angle:Math.atan(u/o),deltaX:o,deltaY:u}}w(fc,"calculateDeltaAndAngle");var xe=w(e=>Array.isArray(e)?{x:e[0],y:e[1]}:e,"pointTransformer"),O8=w(e=>({x:w(function(t,r,i){let n=0;const l=xe(i[0]).x<xe(i[i.length-1]).x?"left":"right";if(r===0&&Object.hasOwn(or,e.arrowTypeStart)){const{angle:x,deltaX:v}=fc(i[0],i[1]);n=or[e.arrowTypeStart]*Math.cos(x)*(v>=0?1:-1)}else if(r===i.length-1&&Object.hasOwn(or,e.arrowTypeEnd)){const{angle:x,deltaX:v}=fc(i[i.length-1],i[i.length-2]);n=or[e.arrowTypeEnd]*Math.cos(x)*(v>=0?1:-1)}const o=Math.abs(xe(t).x-xe(i[i.length-1]).x),u=Math.abs(xe(t).y-xe(i[i.length-1]).y),h=Math.abs(xe(t).x-xe(i[0]).x),d=Math.abs(xe(t).y-xe(i[0]).y),p=or[e.arrowTypeStart],g=or[e.arrowTypeEnd],y=1;if(o<g&&o>0&&u<g){let x=g+y-o;x*=l==="right"?-1:1,n-=x}if(h<p&&h>0&&d<p){let x=p+y-h;x*=l==="right"?-1:1,n+=x}return xe(t).x+n},"x"),y:w(function(t,r,i){let n=0;const l=xe(i[0]).y<xe(i[i.length-1]).y?"down":"up";if(r===0&&Object.hasOwn(or,e.arrowTypeStart)){const{angle:x,deltaY:v}=fc(i[0],i[1]);n=or[e.arrowTypeStart]*Math.abs(Math.sin(x))*(v>=0?1:-1)}else if(r===i.length-1&&Object.hasOwn(or,e.arrowTypeEnd)){const{angle:x,deltaY:v}=fc(i[i.length-1],i[i.length-2]);n=or[e.arrowTypeEnd]*Math.abs(Math.sin(x))*(v>=0?1:-1)}const o=Math.abs(xe(t).y-xe(i[i.length-1]).y),u=Math.abs(xe(t).x-xe(i[i.length-1]).x),h=Math.abs(xe(t).y-xe(i[0]).y),d=Math.abs(xe(t).x-xe(i[0]).x),p=or[e.arrowTypeStart],g=or[e.arrowTypeEnd],y=1;if(o<g&&o>0&&u<g){let x=g+y-o;x*=l==="up"?-1:1,n-=x}if(h<p&&h>0&&d<p){let x=p+y-h;x*=l==="up"?-1:1,n+=x}return xe(t).y+n},"y")}),"getLineFunctionsWithOffset"),S0=w(({flowchart:e})=>{const t=e?.subGraphTitleMargin?.top??0,r=e?.subGraphTitleMargin?.bottom??0,i=t+r;return{subGraphTitleTopMargin:t,subGraphTitleBottomMargin:r,subGraphTitleTotalMargin:i}},"getSubGraphTitleMargins"),R8=w(e=>{const{handDrawnSeed:t}=ie();return{fill:e,hachureAngle:120,hachureGap:4,fillWeight:2,roughness:.7,stroke:e,seed:t}},"solidStateFill"),Pl=w(e=>{const t=L8([...e.cssCompiledStyles||[],...e.cssStyles||[],...e.labelStyle||[]]);return{stylesMap:t,stylesArray:[...t]}},"compileStyles"),L8=w(e=>{const t=new Map;return e.forEach(r=>{const[i,n]=r.split(":");t.set(i.trim(),n?.trim())}),t},"styles2Map"),ZC=w(e=>e==="color"||e==="font-size"||e==="font-family"||e==="font-weight"||e==="font-style"||e==="text-decoration"||e==="text-align"||e==="text-transform"||e==="line-height"||e==="letter-spacing"||e==="word-spacing"||e==="text-shadow"||e==="text-overflow"||e==="white-space"||e==="word-wrap"||e==="word-break"||e==="overflow-wrap"||e==="hyphens","isLabelStyle"),_t=w(e=>{const{stylesArray:t}=Pl(e),r=[],i=[],n=[],l=[];return t.forEach(o=>{const u=o[0];ZC(u)?r.push(o.join(":")+" !important"):(i.push(o.join(":")+" !important"),u.includes("stroke")&&n.push(o.join(":")+" !important"),u==="fill"&&l.push(o.join(":")+" !important"))}),{labelStyles:r.join(";"),nodeStyles:i.join(";"),stylesArray:t,borderStyles:n,backgroundStyles:l}},"styles2String"),vt=w((e,t)=>{const{themeVariables:r,handDrawnSeed:i}=ie(),{nodeBorder:n,mainBkg:l}=r,{stylesMap:o}=Pl(e);return Object.assign({roughness:.7,fill:o.get("fill")||l,fillStyle:"hachure",fillWeight:4,hachureGap:5.2,stroke:o.get("stroke")||n,seed:i,strokeWidth:o.get("stroke-width")?.replace("px","")||1.3,fillLineDash:[0,0],strokeLineDash:M8(o.get("stroke-dasharray"))},t)},"userNodeOverrides"),M8=w(e=>{if(!e)return[0,0];const t=e.trim().split(/\s+/).map(Number);if(t.length===1){const n=isNaN(t[0])?0:t[0];return[n,n]}const r=isNaN(t[0])?0:t[0],i=isNaN(t[1])?0:t[1];return[r,i]},"getStrokeDashArray"),ec={},Pe={},g1;function B8(){return g1||(g1=1,Object.defineProperty(Pe,"__esModule",{value:!0}),Pe.BLANK_URL=Pe.relativeFirstCharacters=Pe.whitespaceEscapeCharsRegex=Pe.urlSchemeRegex=Pe.ctrlCharactersRegex=Pe.htmlCtrlEntityRegex=Pe.htmlEntitiesRegex=Pe.invalidProtocolRegex=void 0,Pe.invalidProtocolRegex=/^([^\w]*)(javascript|data|vbscript)/im,Pe.htmlEntitiesRegex=/&#(\w+)(^\w|;)?/g,Pe.htmlCtrlEntityRegex=/&(newline|tab);/gi,Pe.ctrlCharactersRegex=/[\u0000-\u001F\u007F-\u009F\u2000-\u200D\uFEFF]/gim,Pe.urlSchemeRegex=/^.+(:|&colon;)/gim,Pe.whitespaceEscapeCharsRegex=/(\\|%5[cC])((%(6[eE]|72|74))|[nrt])/g,Pe.relativeFirstCharacters=[".","/"],Pe.BLANK_URL="about:blank"),Pe}var m1;function N8(){if(m1)return ec;m1=1,Object.defineProperty(ec,"__esModule",{value:!0}),ec.sanitizeUrl=void 0;var e=B8();function t(o){return e.relativeFirstCharacters.indexOf(o[0])>-1}function r(o){var u=o.replace(e.ctrlCharactersRegex,"");return u.replace(e.htmlEntitiesRegex,function(h,d){return String.fromCharCode(d)})}function i(o){return URL.canParse(o)}function n(o){try{return decodeURIComponent(o)}catch{return o}}function l(o){if(!o)return e.BLANK_URL;var u,h=n(o.trim());do h=r(h).replace(e.htmlCtrlEntityRegex,"").replace(e.ctrlCharactersRegex,"").replace(e.whitespaceEscapeCharsRegex,"").trim(),h=n(h),u=h.match(e.ctrlCharactersRegex)||h.match(e.htmlEntitiesRegex)||h.match(e.htmlCtrlEntityRegex)||h.match(e.whitespaceEscapeCharsRegex);while(u&&u.length>0);var d=h;if(!d)return e.BLANK_URL;if(t(d))return d;var p=d.trimStart(),g=p.match(e.urlSchemeRegex);if(!g)return d;var y=g[0].toLowerCase().trim();if(e.invalidProtocolRegex.test(y))return e.BLANK_URL;var x=p.replace(/\\/g,"/");if(y==="mailto:"||y.includes("://"))return x;if(y==="http:"||y==="https:"){if(!i(x))return e.BLANK_URL;var v=new URL(x);return v.protocol=v.protocol.toLowerCase(),v.hostname=v.hostname.toLowerCase(),v.toString()}return x}return ec.sanitizeUrl=l,ec}var D8=N8(),JC=typeof global=="object"&&global&&global.Object===Object&&global,j8=typeof self=="object"&&self&&self.Object===Object&&self,Gi=JC||j8||Function("return this")(),Rd=Gi.Symbol,tT=Object.prototype,$8=tT.hasOwnProperty,z8=tT.toString,rc=Rd?Rd.toStringTag:void 0;function F8(e){var t=$8.call(e,rc),r=e[rc];try{e[rc]=void 0;var i=!0}catch{}var n=z8.call(e);return i&&(t?e[rc]=r:delete e[rc]),n}var P8=Object.prototype,U8=P8.toString;function I8(e){return U8.call(e)}var q8="[object Null]",H8="[object Undefined]",y1=Rd?Rd.toStringTag:void 0;function Ul(e){return e==null?e===void 0?H8:q8:y1&&y1 in Object(e)?F8(e):I8(e)}function hs(e){var t=typeof e;return e!=null&&(t=="object"||t=="function")}var W8="[object AsyncFunction]",G8="[object Function]",Y8="[object GeneratorFunction]",V8="[object Proxy]";function k0(e){if(!hs(e))return!1;var t=Ul(e);return t==G8||t==Y8||t==W8||t==V8}var hm=Gi["__core-js_shared__"],b1=(function(){var e=/[^.]+$/.exec(hm&&hm.keys&&hm.keys.IE_PROTO||"");return e?"Symbol(src)_1."+e:""})();function X8(e){return!!b1&&b1 in e}var K8=Function.prototype,Q8=K8.toString;function ds(e){if(e!=null){try{return Q8.call(e)}catch{}try{return e+""}catch{}}return""}var Z8=/[\\^$.*+?()[\]{}|]/g,J8=/^\[object .+?Constructor\]$/,tz=Function.prototype,ez=Object.prototype,rz=tz.toString,iz=ez.hasOwnProperty,az=RegExp("^"+rz.call(iz).replace(Z8,"\\$&").replace(/hasOwnProperty|(function).*?(?=\\\()| for .+?(?=\\\])/g,"$1.*?")+"$");function nz(e){if(!hs(e)||X8(e))return!1;var t=k0(e)?az:J8;return t.test(ds(e))}function sz(e,t){return e?.[t]}function fs(e,t){var r=sz(e,t);return nz(r)?r:void 0}var Uc=fs(Object,"create");function lz(){this.__data__=Uc?Uc(null):{},this.size=0}function oz(e){var t=this.has(e)&&delete this.__data__[e];return this.size-=t?1:0,t}var cz="__lodash_hash_undefined__",uz=Object.prototype,hz=uz.hasOwnProperty;function dz(e){var t=this.__data__;if(Uc){var r=t[e];return r===cz?void 0:r}return hz.call(t,e)?t[e]:void 0}var fz=Object.prototype,pz=fz.hasOwnProperty;function gz(e){var t=this.__data__;return Uc?t[e]!==void 0:pz.call(t,e)}var mz="__lodash_hash_undefined__";function yz(e,t){var r=this.__data__;return this.size+=this.has(e)?0:1,r[e]=Uc&&t===void 0?mz:t,this}function os(e){var t=-1,r=e==null?0:e.length;for(this.clear();++t<r;){var i=e[t];this.set(i[0],i[1])}}os.prototype.clear=lz;os.prototype.delete=oz;os.prototype.get=dz;os.prototype.has=gz;os.prototype.set=yz;function bz(){this.__data__=[],this.size=0}function cf(e,t){return e===t||e!==e&&t!==t}function uf(e,t){for(var r=e.length;r--;)if(cf(e[r][0],t))return r;return-1}var xz=Array.prototype,vz=xz.splice;function _z(e){var t=this.__data__,r=uf(t,e);if(r<0)return!1;var i=t.length-1;return r==i?t.pop():vz.call(t,r,1),--this.size,!0}function wz(e){var t=this.__data__,r=uf(t,e);return r<0?void 0:t[r][1]}function Sz(e){return uf(this.__data__,e)>-1}function kz(e,t){var r=this.__data__,i=uf(r,e);return i<0?(++this.size,r.push([e,t])):r[i][1]=t,this}function La(e){var t=-1,r=e==null?0:e.length;for(this.clear();++t<r;){var i=e[t];this.set(i[0],i[1])}}La.prototype.clear=bz;La.prototype.delete=_z;La.prototype.get=wz;La.prototype.has=Sz;La.prototype.set=kz;var Ic=fs(Gi,"Map");function Cz(){this.size=0,this.__data__={hash:new os,map:new(Ic||La),string:new os}}function Tz(e){var t=typeof e;return t=="string"||t=="number"||t=="symbol"||t=="boolean"?e!=="__proto__":e===null}function hf(e,t){var r=e.__data__;return Tz(t)?r[typeof t=="string"?"string":"hash"]:r.map}function Ez(e){var t=hf(this,e).delete(e);return this.size-=t?1:0,t}function Az(e){return hf(this,e).get(e)}function Oz(e){return hf(this,e).has(e)}function Rz(e,t){var r=hf(this,e),i=r.size;return r.set(e,t),this.size+=r.size==i?0:1,this}function mn(e){var t=-1,r=e==null?0:e.length;for(this.clear();++t<r;){var i=e[t];this.set(i[0],i[1])}}mn.prototype.clear=Cz;mn.prototype.delete=Ez;mn.prototype.get=Az;mn.prototype.has=Oz;mn.prototype.set=Rz;var Lz="Expected a function";function tu(e,t){if(typeof e!="function"||t!=null&&typeof t!="function")throw new TypeError(Lz);var r=function(){var i=arguments,n=t?t.apply(this,i):i[0],l=r.cache;if(l.has(n))return l.get(n);var o=e.apply(this,i);return r.cache=l.set(n,o)||l,o};return r.cache=new(tu.Cache||mn),r}tu.Cache=mn;function Mz(){this.__data__=new La,this.size=0}function Bz(e){var t=this.__data__,r=t.delete(e);return this.size=t.size,r}function Nz(e){return this.__data__.get(e)}function Dz(e){return this.__data__.has(e)}var jz=200;function $z(e,t){var r=this.__data__;if(r instanceof La){var i=r.__data__;if(!Ic||i.length<jz-1)return i.push([e,t]),this.size=++r.size,this;r=this.__data__=new mn(i)}return r.set(e,t),this.size=r.size,this}function Il(e){var t=this.__data__=new La(e);this.size=t.size}Il.prototype.clear=Mz;Il.prototype.delete=Bz;Il.prototype.get=Nz;Il.prototype.has=Dz;Il.prototype.set=$z;var Ld=(function(){try{var e=fs(Object,"defineProperty");return e({},"",{}),e}catch{}})();function C0(e,t,r){t=="__proto__"&&Ld?Ld(e,t,{configurable:!0,enumerable:!0,value:r,writable:!0}):e[t]=r}function my(e,t,r){(r!==void 0&&!cf(e[t],r)||r===void 0&&!(t in e))&&C0(e,t,r)}function zz(e){return function(t,r,i){for(var n=-1,l=Object(t),o=i(t),u=o.length;u--;){var h=o[++n];if(r(l[h],h,l)===!1)break}return t}}var Fz=zz(),eT=typeof exports=="object"&&exports&&!exports.nodeType&&exports,x1=eT&&typeof module=="object"&&module&&!module.nodeType&&module,Pz=x1&&x1.exports===eT,v1=Pz?Gi.Buffer:void 0,_1=v1?v1.allocUnsafe:void 0;function Uz(e,t){if(t)return e.slice();var r=e.length,i=_1?_1(r):new e.constructor(r);return e.copy(i),i}var w1=Gi.Uint8Array;function Iz(e){var t=new e.constructor(e.byteLength);return new w1(t).set(new w1(e)),t}function qz(e,t){var r=t?Iz(e.buffer):e.buffer;return new e.constructor(r,e.byteOffset,e.length)}function Hz(e,t){var r=-1,i=e.length;for(t||(t=Array(i));++r<i;)t[r]=e[r];return t}var S1=Object.create,Wz=(function(){function e(){}return function(t){if(!hs(t))return{};if(S1)return S1(t);e.prototype=t;var r=new e;return e.prototype=void 0,r}})();function rT(e,t){return function(r){return e(t(r))}}var iT=rT(Object.getPrototypeOf,Object),Gz=Object.prototype;function df(e){var t=e&&e.constructor,r=typeof t=="function"&&t.prototype||Gz;return e===r}function Yz(e){return typeof e.constructor=="function"&&!df(e)?Wz(iT(e)):{}}function eu(e){return e!=null&&typeof e=="object"}var Vz="[object Arguments]";function k1(e){return eu(e)&&Ul(e)==Vz}var aT=Object.prototype,Xz=aT.hasOwnProperty,Kz=aT.propertyIsEnumerable,Md=k1((function(){return arguments})())?k1:function(e){return eu(e)&&Xz.call(e,"callee")&&!Kz.call(e,"callee")},Bd=Array.isArray,Qz=9007199254740991;function nT(e){return typeof e=="number"&&e>-1&&e%1==0&&e<=Qz}function ff(e){return e!=null&&nT(e.length)&&!k0(e)}function Zz(e){return eu(e)&&ff(e)}function Jz(){return!1}var sT=typeof exports=="object"&&exports&&!exports.nodeType&&exports,C1=sT&&typeof module=="object"&&module&&!module.nodeType&&module,tF=C1&&C1.exports===sT,T1=tF?Gi.Buffer:void 0,eF=T1?T1.isBuffer:void 0,T0=eF||Jz,rF="[object Object]",iF=Function.prototype,aF=Object.prototype,lT=iF.toString,nF=aF.hasOwnProperty,sF=lT.call(Object);function lF(e){if(!eu(e)||Ul(e)!=rF)return!1;var t=iT(e);if(t===null)return!0;var r=nF.call(t,"constructor")&&t.constructor;return typeof r=="function"&&r instanceof r&&lT.call(r)==sF}var oF="[object Arguments]",cF="[object Array]",uF="[object Boolean]",hF="[object Date]",dF="[object Error]",fF="[object Function]",pF="[object Map]",gF="[object Number]",mF="[object Object]",yF="[object RegExp]",bF="[object Set]",xF="[object String]",vF="[object WeakMap]",_F="[object ArrayBuffer]",wF="[object DataView]",SF="[object Float32Array]",kF="[object Float64Array]",CF="[object Int8Array]",TF="[object Int16Array]",EF="[object Int32Array]",AF="[object Uint8Array]",OF="[object Uint8ClampedArray]",RF="[object Uint16Array]",LF="[object Uint32Array]",me={};me[SF]=me[kF]=me[CF]=me[TF]=me[EF]=me[AF]=me[OF]=me[RF]=me[LF]=!0;me[oF]=me[cF]=me[_F]=me[uF]=me[wF]=me[hF]=me[dF]=me[fF]=me[pF]=me[gF]=me[mF]=me[yF]=me[bF]=me[xF]=me[vF]=!1;function MF(e){return eu(e)&&nT(e.length)&&!!me[Ul(e)]}function BF(e){return function(t){return e(t)}}var oT=typeof exports=="object"&&exports&&!exports.nodeType&&exports,kc=oT&&typeof module=="object"&&module&&!module.nodeType&&module,NF=kc&&kc.exports===oT,dm=NF&&JC.process,E1=(function(){try{var e=kc&&kc.require&&kc.require("util").types;return e||dm&&dm.binding&&dm.binding("util")}catch{}})(),A1=E1&&E1.isTypedArray,E0=A1?BF(A1):MF;function yy(e,t){if(!(t==="constructor"&&typeof e[t]=="function")&&t!="__proto__")return e[t]}var DF=Object.prototype,jF=DF.hasOwnProperty;function $F(e,t,r){var i=e[t];(!(jF.call(e,t)&&cf(i,r))||r===void 0&&!(t in e))&&C0(e,t,r)}function zF(e,t,r,i){var n=!r;r||(r={});for(var l=-1,o=t.length;++l<o;){var u=t[l],h=void 0;h===void 0&&(h=e[u]),n?C0(r,u,h):$F(r,u,h)}return r}function FF(e,t){for(var r=-1,i=Array(e);++r<e;)i[r]=t(r);return i}var PF=9007199254740991,UF=/^(?:0|[1-9]\d*)$/;function cT(e,t){var r=typeof e;return t=t??PF,!!t&&(r=="number"||r!="symbol"&&UF.test(e))&&e>-1&&e%1==0&&e<t}var IF=Object.prototype,qF=IF.hasOwnProperty;function HF(e,t){var r=Bd(e),i=!r&&Md(e),n=!r&&!i&&T0(e),l=!r&&!i&&!n&&E0(e),o=r||i||n||l,u=o?FF(e.length,String):[],h=u.length;for(var d in e)(t||qF.call(e,d))&&!(o&&(d=="length"||n&&(d=="offset"||d=="parent")||l&&(d=="buffer"||d=="byteLength"||d=="byteOffset")||cT(d,h)))&&u.push(d);return u}function WF(e){var t=[];if(e!=null)for(var r in Object(e))t.push(r);return t}var GF=Object.prototype,YF=GF.hasOwnProperty;function VF(e){if(!hs(e))return WF(e);var t=df(e),r=[];for(var i in e)i=="constructor"&&(t||!YF.call(e,i))||r.push(i);return r}function uT(e){return ff(e)?HF(e,!0):VF(e)}function XF(e){return zF(e,uT(e))}function KF(e,t,r,i,n,l,o){var u=yy(e,r),h=yy(t,r),d=o.get(h);if(d){my(e,r,d);return}var p=l?l(u,h,r+"",e,t,o):void 0,g=p===void 0;if(g){var y=Bd(h),x=!y&&T0(h),v=!y&&!x&&E0(h);p=h,y||x||v?Bd(u)?p=u:Zz(u)?p=Hz(u):x?(g=!1,p=Uz(h,!0)):v?(g=!1,p=qz(h,!0)):p=[]:lF(h)||Md(h)?(p=u,Md(u)?p=XF(u):(!hs(u)||k0(u))&&(p=Yz(h))):g=!1}g&&(o.set(h,p),n(p,h,i,l,o),o.delete(h)),my(e,r,p)}function hT(e,t,r,i,n){e!==t&&Fz(t,function(l,o){if(n||(n=new Il),hs(l))KF(e,t,o,r,hT,i,n);else{var u=i?i(yy(e,o),l,o+"",e,t,n):void 0;u===void 0&&(u=l),my(e,o,u)}},uT)}function dT(e){return e}function QF(e,t,r){switch(r.length){case 0:return e.call(t);case 1:return e.call(t,r[0]);case 2:return e.call(t,r[0],r[1]);case 3:return e.call(t,r[0],r[1],r[2])}return e.apply(t,r)}var O1=Math.max;function ZF(e,t,r){return t=O1(t===void 0?e.length-1:t,0),function(){for(var i=arguments,n=-1,l=O1(i.length-t,0),o=Array(l);++n<l;)o[n]=i[t+n];n=-1;for(var u=Array(t+1);++n<t;)u[n]=i[n];return u[t]=r(o),QF(e,this,u)}}function JF(e){return function(){return e}}var tP=Ld?function(e,t){return Ld(e,"toString",{configurable:!0,enumerable:!1,value:JF(t),writable:!0})}:dT,eP=800,rP=16,iP=Date.now;function aP(e){var t=0,r=0;return function(){var i=iP(),n=rP-(i-r);if(r=i,n>0){if(++t>=eP)return arguments[0]}else t=0;return e.apply(void 0,arguments)}}var nP=aP(tP);function sP(e,t){return nP(ZF(e,t,dT),e+"")}function lP(e,t,r){if(!hs(r))return!1;var i=typeof t;return(i=="number"?ff(r)&&cT(t,r.length):i=="string"&&t in r)?cf(r[t],e):!1}function oP(e){return sP(function(t,r){var i=-1,n=r.length,l=n>1?r[n-1]:void 0,o=n>2?r[2]:void 0;for(l=e.length>3&&typeof l=="function"?(n--,l):void 0,o&&lP(r[0],r[1],o)&&(l=n<3?void 0:l,n=1),t=Object(t);++i<n;){var u=r[i];u&&e(t,u,i,l)}return t})}var cP=oP(function(e,t,r){hT(e,t,r)}),uP="",hP={curveBasis:Qh,curveBasisClosed:f6,curveBasisOpen:p6,curveBumpX:Q2,curveBumpY:Z2,curveBundle:g6,curveCardinalClosed:m6,curveCardinalOpen:y6,curveCardinal:rk,curveCatmullRomClosed:b6,curveCatmullRomOpen:x6,curveCatmullRom:ak,curveLinear:vd,curveLinearClosed:v6,curveMonotoneX:uk,curveMonotoneY:hk,curveNatural:fk,curveStep:pk,curveStepAfter:mk,curveStepBefore:gk},dP=/\s*(?:(\w+)(?=:):|(\w+))\s*(?:(\w+)|((?:(?!}%{2}).|\r?\n)*))?\s*(?:}%{2})?/gi,fP=w(function(e,t){const r=fT(e,/(?:init\b)|(?:initialize\b)/);let i={};if(Array.isArray(r)){const o=r.map(u=>u.args);cd(o),i=qe(i,[...o])}else i=r.args;if(!i)return;let n=Qy(e,t);const l="config";return i[l]!==void 0&&(n==="flowchart-v2"&&(n="flowchart"),i[n]=i[l],delete i[l]),i},"detectInit"),fT=w(function(e,t=null){try{const r=new RegExp(`[%]{2}(?![{]${dP.source})(?=[}][%]{2}).*
`,"ig");e=e.trim().replace(r,"").replace(/'/gm,'"'),st.debug(`Detecting diagram directive${t!==null?" type:"+t:""} based on the text:${e}`);let i;const n=[];for(;(i=wc.exec(e))!==null;)if(i.index===wc.lastIndex&&wc.lastIndex++,i&&!t||t&&i[1]?.match(t)||t&&i[2]?.match(t)){const l=i[1]?i[1]:i[2],o=i[3]?i[3].trim():i[4]?JSON.parse(i[4].trim()):null;n.push({type:l,args:o})}return n.length===0?{type:e,args:null}:n.length===1?n[0]:n}catch(r){return st.error(`ERROR: ${r.message} - Unable to parse directive type: '${t}' based on the text: '${e}'`),{type:void 0,args:null}}},"detectDirective"),pP=w(function(e){return e.replace(wc,"")},"removeDirectives"),gP=w(function(e,t){for(const[r,i]of t.entries())if(i.match(e))return r;return-1},"isSubstringInArray");function A0(e,t){if(!e)return t;const r=`curve${e.charAt(0).toUpperCase()+e.slice(1)}`;return hP[r]??t}w(A0,"interpolateToCurve");function pT(e,t){const r=e.trim();if(r)return t.securityLevel!=="loose"?D8.sanitizeUrl(r):r}w(pT,"formatUrl");var mP=w((e,...t)=>{const r=e.split("."),i=r.length-1,n=r[i];let l=window;for(let o=0;o<i;o++)if(l=l[r[o]],!l){st.error(`Function name: ${e} not found in window`);return}l[n](...t)},"runFunc");function O0(e,t){return!e||!t?0:Math.sqrt(Math.pow(t.x-e.x,2)+Math.pow(t.y-e.y,2))}w(O0,"distance");function gT(e){let t,r=0;e.forEach(n=>{r+=O0(n,t),t=n});const i=r/2;return R0(e,i)}w(gT,"traverseEdge");function mT(e){return e.length===1?e[0]:gT(e)}w(mT,"calcLabelPosition");var R1=w((e,t=2)=>{const r=Math.pow(10,t);return Math.round(e*r)/r},"roundNumber"),R0=w((e,t)=>{let r,i=t;for(const n of e){if(r){const l=O0(n,r);if(l===0)return r;if(l<i)i-=l;else{const o=i/l;if(o<=0)return r;if(o>=1)return{x:n.x,y:n.y};if(o>0&&o<1)return{x:R1((1-o)*r.x+o*n.x,5),y:R1((1-o)*r.y+o*n.y,5)}}}r=n}throw new Error("Could not find a suitable point for the given distance")},"calculatePoint"),yP=w((e,t,r)=>{st.info(`our points ${JSON.stringify(t)}`),t[0]!==r&&(t=t.reverse());const n=R0(t,25),l=e?10:5,o=Math.atan2(t[0].y-n.y,t[0].x-n.x),u={x:0,y:0};return u.x=Math.sin(o)*l+(t[0].x+n.x)/2,u.y=-Math.cos(o)*l+(t[0].y+n.y)/2,u},"calcCardinalityPosition");function yT(e,t,r){const i=structuredClone(r);st.info("our points",i),t!=="start_left"&&t!=="start_right"&&i.reverse();const n=25+e,l=R0(i,n),o=10+e*.5,u=Math.atan2(i[0].y-l.y,i[0].x-l.x),h={x:0,y:0};return t==="start_left"?(h.x=Math.sin(u+Math.PI)*o+(i[0].x+l.x)/2,h.y=-Math.cos(u+Math.PI)*o+(i[0].y+l.y)/2):t==="end_right"?(h.x=Math.sin(u-Math.PI)*o+(i[0].x+l.x)/2-5,h.y=-Math.cos(u-Math.PI)*o+(i[0].y+l.y)/2-5):t==="end_left"?(h.x=Math.sin(u)*o+(i[0].x+l.x)/2-5,h.y=-Math.cos(u)*o+(i[0].y+l.y)/2-5):(h.x=Math.sin(u)*o+(i[0].x+l.x)/2,h.y=-Math.cos(u)*o+(i[0].y+l.y)/2),h}w(yT,"calcTerminalLabelPosition");function bT(e){let t="",r="";for(const i of e)i!==void 0&&(i.startsWith("color:")||i.startsWith("text-align:")?r=r+i+";":t=t+i+";");return{style:t,labelStyle:r}}w(bT,"getStylesFromArray");var L1=0,bP=w(()=>(L1++,"id-"+Math.random().toString(36).substr(2,12)+"-"+L1),"generateId");function xT(e){let t="";const r="0123456789abcdef",i=r.length;for(let n=0;n<e;n++)t+=r.charAt(Math.floor(Math.random()*i));return t}w(xT,"makeRandomHex");var xP=w(e=>xT(e.length),"random"),vP=w(function(){return{x:0,y:0,fill:void 0,anchor:"start",style:"#666",width:100,height:100,textMargin:0,rx:0,ry:0,valign:void 0,text:""}},"getTextObj"),_P=w(function(e,t){const r=t.text.replace(Fl.lineBreakRegex," "),[,i]=pf(t.fontSize),n=e.append("text");n.attr("x",t.x),n.attr("y",t.y),n.style("text-anchor",t.anchor),n.style("font-family",t.fontFamily),n.style("font-size",i),n.style("font-weight",t.fontWeight),n.attr("fill",t.fill),t.class!==void 0&&n.attr("class",t.class);const l=n.append("tspan");return l.attr("x",t.x+t.textMargin*2),l.attr("fill",t.fill),l.text(r),n},"drawSimpleText"),wP=tu((e,t,r)=>{if(!e||(r=Object.assign({fontSize:12,fontWeight:400,fontFamily:"Arial",joinWith:"<br/>"},r),Fl.lineBreakRegex.test(e)))return e;const i=e.split(" ").filter(Boolean),n=[];let l="";return i.forEach((o,u)=>{const h=Ea(`${o} `,r),d=Ea(l,r);if(h>t){const{hyphenatedStrings:y,remainingWord:x}=SP(o,t,"-",r);n.push(l,...y),l=x}else d+h>=t?(n.push(l),l=o):l=[l,o].filter(Boolean).join(" ");u+1===i.length&&n.push(l)}),n.filter(o=>o!=="").join(r.joinWith)},(e,t,r)=>`${e}${t}${r.fontSize}${r.fontWeight}${r.fontFamily}${r.joinWith}`),SP=tu((e,t,r="-",i)=>{i=Object.assign({fontSize:12,fontWeight:400,fontFamily:"Arial",margin:0},i);const n=[...e],l=[];let o="";return n.forEach((u,h)=>{const d=`${o}${u}`;if(Ea(d,i)>=t){const g=h+1,y=n.length===g,x=`${d}${r}`;l.push(y?d:x),o=""}else o=d}),{hyphenatedStrings:l,remainingWord:o}},(e,t,r="-",i)=>`${e}${t}${r}${i.fontSize}${i.fontWeight}${i.fontFamily}`);function vT(e,t){return L0(e,t).height}w(vT,"calculateTextHeight");function Ea(e,t){return L0(e,t).width}w(Ea,"calculateTextWidth");var L0=tu((e,t)=>{const{fontSize:r=12,fontFamily:i="Arial",fontWeight:n=400}=t;if(!e)return{width:0,height:0};const[,l]=pf(r),o=["sans-serif",i],u=e.split(Fl.lineBreakRegex),h=[],d=Xt("body");if(!d.remove)return{width:0,height:0,lineHeight:0};const p=d.append("svg");for(const y of o){let x=0;const v={width:0,height:0,lineHeight:0};for(const _ of u){const S=vP();S.text=_||uP;const T=_P(p,S).style("font-size",l).style("font-weight",n).style("font-family",y),E=(T._groups||T)[0][0].getBBox();if(E.width===0&&E.height===0)throw new Error("svg element not in render tree");v.width=Math.round(Math.max(v.width,E.width)),x=Math.round(E.height),v.height+=x,v.lineHeight=Math.round(Math.max(v.lineHeight,x))}h.push(v)}p.remove();const g=isNaN(h[1].height)||isNaN(h[1].width)||isNaN(h[1].lineHeight)||h[0].height>h[1].height&&h[0].width>h[1].width&&h[0].lineHeight>h[1].lineHeight?0:1;return h[g]},(e,t)=>`${e}${t.fontSize}${t.fontWeight}${t.fontFamily}`),Cl,kP=(Cl=class{constructor(t=!1,r){this.count=0,this.count=r?r.length:0,this.next=t?()=>this.count++:()=>Date.now()}},w(Cl,"InitIDGenerator"),Cl),Nh,CP=w(function(e){return Nh=Nh||document.createElement("div"),e=escape(e).replace(/%26/g,"&").replace(/%23/g,"#").replace(/%3B/g,";"),Nh.innerHTML=e,unescape(Nh.textContent)},"entityDecode");function M0(e){return"str"in e}w(M0,"isDetailedError");var TP=w((e,t,r,i)=>{if(!i)return;const n=e.node()?.getBBox();n&&e.append("text").text(i).attr("text-anchor","middle").attr("x",n.x+n.width/2).attr("y",-r).attr("class",t)},"insertTitle"),pf=w(e=>{if(typeof e=="number")return[e,e+"px"];const t=parseInt(e??"",10);return Number.isNaN(t)?[void 0,void 0]:e===String(t)?[t,e+"px"]:[t,e]},"parseFontSize");function B0(e,t){return cP({},e,t)}w(B0,"cleanAndMerge");var Ti={assignWithDepth:qe,wrapLabel:wP,calculateTextHeight:vT,calculateTextWidth:Ea,calculateTextDimensions:L0,cleanAndMerge:B0,detectInit:fP,detectDirective:fT,isSubstringInArray:gP,interpolateToCurve:A0,calcLabelPosition:mT,calcCardinalityPosition:yP,calcTerminalLabelPosition:yT,formatUrl:pT,getStylesFromArray:bT,generateId:bP,random:xP,runFunc:mP,entityDecode:CP,insertTitle:TP,isLabelCoordinateInPath:_T,parseFontSize:pf,InitIDGenerator:kP},EP=w(function(e){let t=e;return t=t.replace(/style.*:\S*#.*;/g,function(r){return r.substring(0,r.length-1)}),t=t.replace(/classDef.*:\S*#.*;/g,function(r){return r.substring(0,r.length-1)}),t=t.replace(/#\w+;/g,function(r){const i=r.substring(1,r.length-1);return/^\+?\d+$/.test(i)?""+i+"":""+i+""}),t},"encodeEntities"),ps=w(function(e){return e.replace(//g,"&#").replace(//g,"&").replace(//g,";")},"decodeEntities"),F7=w((e,t,{counter:r=0,prefix:i,suffix:n},l)=>l||`${i?`${i}_`:""}${e}_${t}_${r}${n?`_${n}`:""}`,"getEdgeId");function hr(e){return e??null}w(hr,"handleUndefinedAttr");function _T(e,t){const r=Math.round(e.x),i=Math.round(e.y),n=t.replace(/(\d+\.\d+)/g,l=>Math.round(parseFloat(l)).toString());return n.includes(r.toString())||n.includes(i.toString())}w(_T,"isLabelCoordinateInPath");const AP=Object.freeze({left:0,top:0,width:16,height:16}),Nd=Object.freeze({rotate:0,vFlip:!1,hFlip:!1}),wT=Object.freeze({...AP,...Nd}),OP=Object.freeze({...wT,body:"",hidden:!1}),RP=Object.freeze({width:null,height:null}),LP=Object.freeze({...RP,...Nd}),MP=(e,t,r,i="")=>{const n=e.split(":");if(e.slice(0,1)==="@"){if(n.length<2||n.length>3)return null;i=n.shift().slice(1)}if(n.length>3||!n.length)return null;if(n.length>1){const u=n.pop(),h=n.pop(),d={provider:n.length>0?n[0]:i,prefix:h,name:u};return fm(d)?d:null}const l=n[0],o=l.split("-");if(o.length>1){const u={provider:i,prefix:o.shift(),name:o.join("-")};return fm(u)?u:null}if(r&&i===""){const u={provider:i,prefix:"",name:l};return fm(u,r)?u:null}return null},fm=(e,t)=>e?!!((t&&e.prefix===""||e.prefix)&&e.name):!1;function BP(e,t){const r={};!e.hFlip!=!t.hFlip&&(r.hFlip=!0),!e.vFlip!=!t.vFlip&&(r.vFlip=!0);const i=((e.rotate||0)+(t.rotate||0))%4;return i&&(r.rotate=i),r}function M1(e,t){const r=BP(e,t);for(const i in OP)i in Nd?i in e&&!(i in r)&&(r[i]=Nd[i]):i in t?r[i]=t[i]:i in e&&(r[i]=e[i]);return r}function NP(e,t){const r=e.icons,i=e.aliases||Object.create(null),n=Object.create(null);function l(o){if(r[o])return n[o]=[];if(!(o in n)){n[o]=null;const u=i[o]&&i[o].parent,h=u&&l(u);h&&(n[o]=[u].concat(h))}return n[o]}return(t||Object.keys(r).concat(Object.keys(i))).forEach(l),n}function B1(e,t,r){const i=e.icons,n=e.aliases||Object.create(null);let l={};function o(u){l=M1(i[u]||n[u],l)}return o(t),r.forEach(o),M1(e,l)}function DP(e,t){if(e.icons[t])return B1(e,t,[]);const r=NP(e,[t])[t];return r?B1(e,t,r):null}const jP=/(-?[0-9.]*[0-9]+[0-9.]*)/g,$P=/^-?[0-9.]*[0-9]+[0-9.]*$/g;function N1(e,t,r){if(t===1)return e;if(r=r||100,typeof e=="number")return Math.ceil(e*t*r)/r;if(typeof e!="string")return e;const i=e.split(jP);if(i===null||!i.length)return e;const n=[];let l=i.shift(),o=$P.test(l);for(;;){if(o){const u=parseFloat(l);isNaN(u)?n.push(l):n.push(Math.ceil(u*t*r)/r)}else n.push(l);if(l=i.shift(),l===void 0)return n.join("");o=!o}}function zP(e,t="defs"){let r="";const i=e.indexOf("<"+t);for(;i>=0;){const n=e.indexOf(">",i),l=e.indexOf("</"+t);if(n===-1||l===-1)break;const o=e.indexOf(">",l);if(o===-1)break;r+=e.slice(n+1,l).trim(),e=e.slice(0,i).trim()+e.slice(o+1)}return{defs:r,content:e}}function FP(e,t){return e?"<defs>"+e+"</defs>"+t:t}function PP(e,t,r){const i=zP(e);return FP(i.defs,t+i.content+r)}const UP=e=>e==="unset"||e==="undefined"||e==="none";function IP(e,t){const r={...wT,...e},i={...LP,...t},n={left:r.left,top:r.top,width:r.width,height:r.height};let l=r.body;[r,i].forEach(_=>{const S=[],T=_.hFlip,E=_.vFlip;let O=_.rotate;T?E?O+=2:(S.push("translate("+(n.width+n.left).toString()+" "+(0-n.top).toString()+")"),S.push("scale(-1 1)"),n.top=n.left=0):E&&(S.push("translate("+(0-n.left).toString()+" "+(n.height+n.top).toString()+")"),S.push("scale(1 -1)"),n.top=n.left=0);let M;switch(O<0&&(O-=Math.floor(O/4)*4),O=O%4,O){case 1:M=n.height/2+n.top,S.unshift("rotate(90 "+M.toString()+" "+M.toString()+")");break;case 2:S.unshift("rotate(180 "+(n.width/2+n.left).toString()+" "+(n.height/2+n.top).toString()+")");break;case 3:M=n.width/2+n.left,S.unshift("rotate(-90 "+M.toString()+" "+M.toString()+")");break}O%2===1&&(n.left!==n.top&&(M=n.left,n.left=n.top,n.top=M),n.width!==n.height&&(M=n.width,n.width=n.height,n.height=M)),S.length&&(l=PP(l,'<g transform="'+S.join(" ")+'">',"</g>"))});const o=i.width,u=i.height,h=n.width,d=n.height;let p,g;o===null?(g=u===null?"1em":u==="auto"?d:u,p=N1(g,h/d)):(p=o==="auto"?h:o,g=u===null?N1(p,d/h):u==="auto"?d:u);const y={},x=(_,S)=>{UP(S)||(y[_]=S.toString())};x("width",p),x("height",g);const v=[n.left,n.top,h,d];return y.viewBox=v.join(" "),{attributes:y,viewBox:v,body:l}}const qP=/\sid="(\S+)"/g,D1=new Map;function HP(e){e=e.replace(/[0-9]+$/,"")||"a";const t=D1.get(e)||0;return D1.set(e,t+1),t?`${e}${t}`:e}function WP(e){const t=[];let r;for(;r=qP.exec(e);)t.push(r[1]);if(!t.length)return e;const i="suffix"+(Math.random()*16777216|Date.now()).toString(16);return t.forEach(n=>{const l=HP(n),o=n.replace(/[.*+?^${}()|[\]\\]/g,"\\$&");e=e.replace(new RegExp('([#;"])('+o+')([")]|\\.[a-z])',"g"),"$1"+l+i+"$3")}),e=e.replace(new RegExp(i,"g"),""),e}function GP(e,t){let r=e.indexOf("xlink:")===-1?"":' xmlns:xlink="http://www.w3.org/1999/xlink"';for(const i in t)r+=" "+i+'="'+t[i]+'"';return'<svg xmlns="http://www.w3.org/2000/svg"'+r+">"+e+"</svg>"}function N0(){return{async:!1,breaks:!1,extensions:null,gfm:!0,hooks:null,pedantic:!1,renderer:null,silent:!1,tokenizer:null,walkTokens:null}}var gs=N0();function ST(e){gs=e}var Cc={exec:()=>null};function Jt(e,t=""){let r=typeof e=="string"?e:e.source,i={replace:(n,l)=>{let o=typeof l=="string"?l:l.source;return o=o.replace(yr.caret,"$1"),r=r.replace(n,o),i},getRegex:()=>new RegExp(r,t)};return i}var YP=(()=>{try{return!!new RegExp("(?<=1)(?<!1)")}catch{return!1}})(),yr={codeRemoveIndent:/^(?: {1,4}| {0,3}\t)/gm,outputLinkReplace:/\\([\[\]])/g,indentCodeCompensation:/^(\s+)(?:```)/,beginningSpace:/^\s+/,endingHash:/#$/,startingSpaceChar:/^ /,endingSpaceChar:/ $/,nonSpaceChar:/[^ ]/,newLineCharGlobal:/\n/g,tabCharGlobal:/\t/g,multipleSpaceGlobal:/\s+/g,blankLine:/^[ \t]*$/,doubleBlankLine:/\n[ \t]*\n[ \t]*$/,blockquoteStart:/^ {0,3}>/,blockquoteSetextReplace:/\n {0,3}((?:=+|-+) *)(?=\n|$)/g,blockquoteSetextReplace2:/^ {0,3}>[ \t]?/gm,listReplaceTabs:/^\t+/,listReplaceNesting:/^ {1,4}(?=( {4})*[^ ])/g,listIsTask:/^\[[ xX]\] /,listReplaceTask:/^\[[ xX]\] +/,anyLine:/\n.*\n/,hrefBrackets:/^<(.*)>$/,tableDelimiter:/[:|]/,tableAlignChars:/^\||\| *$/g,tableRowBlankLine:/\n[ \t]*$/,tableAlignRight:/^ *-+: *$/,tableAlignCenter:/^ *:-+: *$/,tableAlignLeft:/^ *:-+ *$/,startATag:/^<a /i,endATag:/^<\/a>/i,startPreScriptTag:/^<(pre|code|kbd|script)(\s|>)/i,endPreScriptTag:/^<\/(pre|code|kbd|script)(\s|>)/i,startAngleBracket:/^</,endAngleBracket:/>$/,pedanticHrefTitle:/^([^'"]*[^\s])\s+(['"])(.*)\2/,unicodeAlphaNumeric:/[\p{L}\p{N}]/u,escapeTest:/[&<>"']/,escapeReplace:/[&<>"']/g,escapeTestNoEncode:/[<>"']|&(?!(#\d{1,7}|#[Xx][a-fA-F0-9]{1,6}|\w+);)/,escapeReplaceNoEncode:/[<>"']|&(?!(#\d{1,7}|#[Xx][a-fA-F0-9]{1,6}|\w+);)/g,unescapeTest:/&(#(?:\d+)|(?:#x[0-9A-Fa-f]+)|(?:\w+));?/ig,caret:/(^|[^\[])\^/g,percentDecode:/%25/g,findPipe:/\|/g,splitPipe:/ \|/,slashPipe:/\\\|/g,carriageReturn:/\r\n|\r/g,spaceLine:/^ +$/gm,notSpaceStart:/^\S*/,endingNewline:/\n$/,listItemRegex:e=>new RegExp(`^( {0,3}${e})((?:[	 ][^\\n]*)?(?:\\n|$))`),nextBulletRegex:e=>new RegExp(`^ {0,${Math.min(3,e-1)}}(?:[*+-]|\\d{1,9}[.)])((?:[ 	][^\\n]*)?(?:\\n|$))`),hrRegex:e=>new RegExp(`^ {0,${Math.min(3,e-1)}}((?:- *){3,}|(?:_ *){3,}|(?:\\* *){3,})(?:\\n+|$)`),fencesBeginRegex:e=>new RegExp(`^ {0,${Math.min(3,e-1)}}(?:\`\`\`|~~~)`),headingBeginRegex:e=>new RegExp(`^ {0,${Math.min(3,e-1)}}#`),htmlBeginRegex:e=>new RegExp(`^ {0,${Math.min(3,e-1)}}<(?:[a-z].*>|!--)`,"i")},VP=/^(?:[ \t]*(?:\n|$))+/,XP=/^((?: {4}| {0,3}\t)[^\n]+(?:\n(?:[ \t]*(?:\n|$))*)?)+/,KP=/^ {0,3}(`{3,}(?=[^`\n]*(?:\n|$))|~{3,})([^\n]*)(?:\n|$)(?:|([\s\S]*?)(?:\n|$))(?: {0,3}\1[~`]* *(?=\n|$)|$)/,ru=/^ {0,3}((?:-[\t ]*){3,}|(?:_[ \t]*){3,}|(?:\*[ \t]*){3,})(?:\n+|$)/,QP=/^ {0,3}(#{1,6})(?=\s|$)(.*)(?:\n+|$)/,D0=/(?:[*+-]|\d{1,9}[.)])/,kT=/^(?!bull |blockCode|fences|blockquote|heading|html|table)((?:.|\n(?!\s*?\n|bull |blockCode|fences|blockquote|heading|html|table))+?)\n {0,3}(=+|-+) *(?:\n+|$)/,CT=Jt(kT).replace(/bull/g,D0).replace(/blockCode/g,/(?: {4}| {0,3}\t)/).replace(/fences/g,/ {0,3}(?:`{3,}|~{3,})/).replace(/blockquote/g,/ {0,3}>/).replace(/heading/g,/ {0,3}#{1,6}/).replace(/html/g,/ {0,3}<[^\n>]+>\n/).replace(/\|table/g,"").getRegex(),ZP=Jt(kT).replace(/bull/g,D0).replace(/blockCode/g,/(?: {4}| {0,3}\t)/).replace(/fences/g,/ {0,3}(?:`{3,}|~{3,})/).replace(/blockquote/g,/ {0,3}>/).replace(/heading/g,/ {0,3}#{1,6}/).replace(/html/g,/ {0,3}<[^\n>]+>\n/).replace(/table/g,/ {0,3}\|?(?:[:\- ]*\|)+[\:\- ]*\n/).getRegex(),j0=/^([^\n]+(?:\n(?!hr|heading|lheading|blockquote|fences|list|html|table| +\n)[^\n]+)*)/,JP=/^[^\n]+/,$0=/(?!\s*\])(?:\\[\s\S]|[^\[\]\\])+/,tU=Jt(/^ {0,3}\[(label)\]: *(?:\n[ \t]*)?([^<\s][^\s]*|<.*?>)(?:(?: +(?:\n[ \t]*)?| *\n[ \t]*)(title))? *(?:\n+|$)/).replace("label",$0).replace("title",/(?:"(?:\\"?|[^"\\])*"|'[^'\n]*(?:\n[^'\n]+)*\n?'|\([^()]*\))/).getRegex(),eU=Jt(/^( {0,3}bull)([ \t][^\n]+?)?(?:\n|$)/).replace(/bull/g,D0).getRegex(),gf="address|article|aside|base|basefont|blockquote|body|caption|center|col|colgroup|dd|details|dialog|dir|div|dl|dt|fieldset|figcaption|figure|footer|form|frame|frameset|h[1-6]|head|header|hr|html|iframe|legend|li|link|main|menu|menuitem|meta|nav|noframes|ol|optgroup|option|p|param|search|section|summary|table|tbody|td|tfoot|th|thead|title|tr|track|ul",z0=/<!--(?:-?>|[\s\S]*?(?:-->|$))/,rU=Jt("^ {0,3}(?:<(script|pre|style|textarea)[\\s>][\\s\\S]*?(?:</\\1>[^\\n]*\\n+|$)|comment[^\\n]*(\\n+|$)|<\\?[\\s\\S]*?(?:\\?>\\n*|$)|<![A-Z][\\s\\S]*?(?:>\\n*|$)|<!\\[CDATA\\[[\\s\\S]*?(?:\\]\\]>\\n*|$)|</?(tag)(?: +|\\n|/?>)[\\s\\S]*?(?:(?:\\n[ 	]*)+\\n|$)|<(?!script|pre|style|textarea)([a-z][\\w-]*)(?:attribute)*? */?>(?=[ \\t]*(?:\\n|$))[\\s\\S]*?(?:(?:\\n[ 	]*)+\\n|$)|</(?!script|pre|style|textarea)[a-z][\\w-]*\\s*>(?=[ \\t]*(?:\\n|$))[\\s\\S]*?(?:(?:\\n[ 	]*)+\\n|$))","i").replace("comment",z0).replace("tag",gf).replace("attribute",/ +[a-zA-Z:_][\w.:-]*(?: *= *"[^"\n]*"| *= *'[^'\n]*'| *= *[^\s"'=<>`]+)?/).getRegex(),TT=Jt(j0).replace("hr",ru).replace("heading"," {0,3}#{1,6}(?:\\s|$)").replace("|lheading","").replace("|table","").replace("blockquote"," {0,3}>").replace("fences"," {0,3}(?:`{3,}(?=[^`\\n]*\\n)|~{3,})[^\\n]*\\n").replace("list"," {0,3}(?:[*+-]|1[.)]) ").replace("html","</?(?:tag)(?: +|\\n|/?>)|<(?:script|pre|style|textarea|!--)").replace("tag",gf).getRegex(),iU=Jt(/^( {0,3}> ?(paragraph|[^\n]*)(?:\n|$))+/).replace("paragraph",TT).getRegex(),F0={blockquote:iU,code:XP,def:tU,fences:KP,heading:QP,hr:ru,html:rU,lheading:CT,list:eU,newline:VP,paragraph:TT,table:Cc,text:JP},j1=Jt("^ *([^\\n ].*)\\n {0,3}((?:\\| *)?:?-+:? *(?:\\| *:?-+:? *)*(?:\\| *)?)(?:\\n((?:(?! *\\n|hr|heading|blockquote|code|fences|list|html).*(?:\\n|$))*)\\n*|$)").replace("hr",ru).replace("heading"," {0,3}#{1,6}(?:\\s|$)").replace("blockquote"," {0,3}>").replace("code","(?: {4}| {0,3}	)[^\\n]").replace("fences"," {0,3}(?:`{3,}(?=[^`\\n]*\\n)|~{3,})[^\\n]*\\n").replace("list"," {0,3}(?:[*+-]|1[.)]) ").replace("html","</?(?:tag)(?: +|\\n|/?>)|<(?:script|pre|style|textarea|!--)").replace("tag",gf).getRegex(),aU={...F0,lheading:ZP,table:j1,paragraph:Jt(j0).replace("hr",ru).replace("heading"," {0,3}#{1,6}(?:\\s|$)").replace("|lheading","").replace("table",j1).replace("blockquote"," {0,3}>").replace("fences"," {0,3}(?:`{3,}(?=[^`\\n]*\\n)|~{3,})[^\\n]*\\n").replace("list"," {0,3}(?:[*+-]|1[.)]) ").replace("html","</?(?:tag)(?: +|\\n|/?>)|<(?:script|pre|style|textarea|!--)").replace("tag",gf).getRegex()},nU={...F0,html:Jt(`^ *(?:comment *(?:\\n|\\s*$)|<(tag)[\\s\\S]+?</\\1> *(?:\\n{2,}|\\s*$)|<tag(?:"[^"]*"|'[^']*'|\\s[^'"/>\\s]*)*?/?> *(?:\\n{2,}|\\s*$))`).replace("comment",z0).replace(/tag/g,"(?!(?:a|em|strong|small|s|cite|q|dfn|abbr|data|time|code|var|samp|kbd|sub|sup|i|b|u|mark|ruby|rt|rp|bdi|bdo|span|br|wbr|ins|del|img)\\b)\\w+(?!:|[^\\w\\s@]*@)\\b").getRegex(),def:/^ *\[([^\]]+)\]: *<?([^\s>]+)>?(?: +(["(][^\n]+[")]))? *(?:\n+|$)/,heading:/^(#{1,6})(.*)(?:\n+|$)/,fences:Cc,lheading:/^(.+?)\n {0,3}(=+|-+) *(?:\n+|$)/,paragraph:Jt(j0).replace("hr",ru).replace("heading",` *#{1,6} *[^
]`).replace("lheading",CT).replace("|table","").replace("blockquote"," {0,3}>").replace("|fences","").replace("|list","").replace("|html","").replace("|tag","").getRegex()},sU=/^\\([!"#$%&'()*+,\-./:;<=>?@\[\]\\^_`{|}~])/,lU=/^(`+)([^`]|[^`][\s\S]*?[^`])\1(?!`)/,ET=/^( {2,}|\\)\n(?!\s*$)/,oU=/^(`+|[^`])(?:(?= {2,}\n)|[\s\S]*?(?:(?=[\\<!\[`*_]|\b_|$)|[^ ](?= {2,}\n)))/,mf=/[\p{P}\p{S}]/u,P0=/[\s\p{P}\p{S}]/u,AT=/[^\s\p{P}\p{S}]/u,cU=Jt(/^((?![*_])punctSpace)/,"u").replace(/punctSpace/g,P0).getRegex(),OT=/(?!~)[\p{P}\p{S}]/u,uU=/(?!~)[\s\p{P}\p{S}]/u,hU=/(?:[^\s\p{P}\p{S}]|~)/u,dU=Jt(/link|precode-code|html/,"g").replace("link",/\[(?:[^\[\]`]|(?<a>`+)[^`]+\k<a>(?!`))*?\]\((?:\\[\s\S]|[^\\\(\)]|\((?:\\[\s\S]|[^\\\(\)])*\))*\)/).replace("precode-",YP?"(?<!`)()":"(^^|[^`])").replace("code",/(?<b>`+)[^`]+\k<b>(?!`)/).replace("html",/<(?! )[^<>]*?>/).getRegex(),RT=/^(?:\*+(?:((?!\*)punct)|[^\s*]))|^_+(?:((?!_)punct)|([^\s_]))/,fU=Jt(RT,"u").replace(/punct/g,mf).getRegex(),pU=Jt(RT,"u").replace(/punct/g,OT).getRegex(),LT="^[^_*]*?__[^_*]*?\\*[^_*]*?(?=__)|[^*]+(?=[^*])|(?!\\*)punct(\\*+)(?=[\\s]|$)|notPunctSpace(\\*+)(?!\\*)(?=punctSpace|$)|(?!\\*)punctSpace(\\*+)(?=notPunctSpace)|[\\s](\\*+)(?!\\*)(?=punct)|(?!\\*)punct(\\*+)(?!\\*)(?=punct)|notPunctSpace(\\*+)(?=notPunctSpace)",gU=Jt(LT,"gu").replace(/notPunctSpace/g,AT).replace(/punctSpace/g,P0).replace(/punct/g,mf).getRegex(),mU=Jt(LT,"gu").replace(/notPunctSpace/g,hU).replace(/punctSpace/g,uU).replace(/punct/g,OT).getRegex(),yU=Jt("^[^_*]*?\\*\\*[^_*]*?_[^_*]*?(?=\\*\\*)|[^_]+(?=[^_])|(?!_)punct(_+)(?=[\\s]|$)|notPunctSpace(_+)(?!_)(?=punctSpace|$)|(?!_)punctSpace(_+)(?=notPunctSpace)|[\\s](_+)(?!_)(?=punct)|(?!_)punct(_+)(?!_)(?=punct)","gu").replace(/notPunctSpace/g,AT).replace(/punctSpace/g,P0).replace(/punct/g,mf).getRegex(),bU=Jt(/\\(punct)/,"gu").replace(/punct/g,mf).getRegex(),xU=Jt(/^<(scheme:[^\s\x00-\x1f<>]*|email)>/).replace("scheme",/[a-zA-Z][a-zA-Z0-9+.-]{1,31}/).replace("email",/[a-zA-Z0-9.!#$%&'*+/=?^_`{|}~-]+(@)[a-zA-Z0-9](?:[a-zA-Z0-9-]{0,61}[a-zA-Z0-9])?(?:\.[a-zA-Z0-9](?:[a-zA-Z0-9-]{0,61}[a-zA-Z0-9])?)+(?![-_])/).getRegex(),vU=Jt(z0).replace("(?:-->|$)","-->").getRegex(),_U=Jt("^comment|^</[a-zA-Z][\\w:-]*\\s*>|^<[a-zA-Z][\\w-]*(?:attribute)*?\\s*/?>|^<\\?[\\s\\S]*?\\?>|^<![a-zA-Z]+\\s[\\s\\S]*?>|^<!\\[CDATA\\[[\\s\\S]*?\\]\\]>").replace("comment",vU).replace("attribute",/\s+[a-zA-Z:_][\w.:-]*(?:\s*=\s*"[^"]*"|\s*=\s*'[^']*'|\s*=\s*[^\s"'=<>`]+)?/).getRegex(),Dd=/(?:\[(?:\\[\s\S]|[^\[\]\\])*\]|\\[\s\S]|`+[^`]*?`+(?!`)|[^\[\]\\`])*?/,wU=Jt(/^!?\[(label)\]\(\s*(href)(?:(?:[ \t]*(?:\n[ \t]*)?)(title))?\s*\)/).replace("label",Dd).replace("href",/<(?:\\.|[^\n<>\\])+>|[^ \t\n\x00-\x1f]*/).replace("title",/"(?:\\"?|[^"\\])*"|'(?:\\'?|[^'\\])*'|\((?:\\\)?|[^)\\])*\)/).getRegex(),MT=Jt(/^!?\[(label)\]\[(ref)\]/).replace("label",Dd).replace("ref",$0).getRegex(),BT=Jt(/^!?\[(ref)\](?:\[\])?/).replace("ref",$0).getRegex(),SU=Jt("reflink|nolink(?!\\()","g").replace("reflink",MT).replace("nolink",BT).getRegex(),$1=/[hH][tT][tT][pP][sS]?|[fF][tT][pP]/,U0={_backpedal:Cc,anyPunctuation:bU,autolink:xU,blockSkip:dU,br:ET,code:lU,del:Cc,emStrongLDelim:fU,emStrongRDelimAst:gU,emStrongRDelimUnd:yU,escape:sU,link:wU,nolink:BT,punctuation:cU,reflink:MT,reflinkSearch:SU,tag:_U,text:oU,url:Cc},kU={...U0,link:Jt(/^!?\[(label)\]\((.*?)\)/).replace("label",Dd).getRegex(),reflink:Jt(/^!?\[(label)\]\s*\[([^\]]*)\]/).replace("label",Dd).getRegex()},by={...U0,emStrongRDelimAst:mU,emStrongLDelim:pU,url:Jt(/^((?:protocol):\/\/|www\.)(?:[a-zA-Z0-9\-]+\.?)+[^\s<]*|^email/).replace("protocol",$1).replace("email",/[A-Za-z0-9._+-]+(@)[a-zA-Z0-9-_]+(?:\.[a-zA-Z0-9-_]*[a-zA-Z0-9])+(?![-_])/).getRegex(),_backpedal:/(?:[^?!.,:;*_'"~()&]+|\([^)]*\)|&(?![a-zA-Z0-9]+;$)|[?!.,:;*_'"~)]+(?!$))+/,del:/^(~~?)(?=[^\s~])((?:\\[\s\S]|[^\\])*?(?:\\[\s\S]|[^\s~\\]))\1(?=[^~]|$)/,text:Jt(/^([`~]+|[^`~])(?:(?= {2,}\n)|(?=[a-zA-Z0-9.!#$%&'*+\/=?_`{\|}~-]+@)|[\s\S]*?(?:(?=[\\<!\[`*~_]|\b_|protocol:\/\/|www\.|$)|[^ ](?= {2,}\n)|[^a-zA-Z0-9.!#$%&'*+\/=?_`{\|}~-](?=[a-zA-Z0-9.!#$%&'*+\/=?_`{\|}~-]+@)))/).replace("protocol",$1).getRegex()},CU={...by,br:Jt(ET).replace("{2,}","*").getRegex(),text:Jt(by.text).replace("\\b_","\\b_| {2,}\\n").replace(/\{2,\}/g,"*").getRegex()},Dh={normal:F0,gfm:aU,pedantic:nU},ic={normal:U0,gfm:by,breaks:CU,pedantic:kU},TU={"&":"&amp;","<":"&lt;",">":"&gt;",'"':"&quot;","'":"&#39;"},z1=e=>TU[e];function Fi(e,t){if(t){if(yr.escapeTest.test(e))return e.replace(yr.escapeReplace,z1)}else if(yr.escapeTestNoEncode.test(e))return e.replace(yr.escapeReplaceNoEncode,z1);return e}function F1(e){try{e=encodeURI(e).replace(yr.percentDecode,"%")}catch{return null}return e}function P1(e,t){let r=e.replace(yr.findPipe,(l,o,u)=>{let h=!1,d=o;for(;--d>=0&&u[d]==="\\";)h=!h;return h?"|":" |"}),i=r.split(yr.splitPipe),n=0;if(i[0].trim()||i.shift(),i.length>0&&!i.at(-1)?.trim()&&i.pop(),t)if(i.length>t)i.splice(t);else for(;i.length<t;)i.push("");for(;n<i.length;n++)i[n]=i[n].trim().replace(yr.slashPipe,"|");return i}function ac(e,t,r){let i=e.length;if(i===0)return"";let n=0;for(;n<i&&e.charAt(i-n-1)===t;)n++;return e.slice(0,i-n)}function EU(e,t){if(e.indexOf(t[1])===-1)return-1;let r=0;for(let i=0;i<e.length;i++)if(e[i]==="\\")i++;else if(e[i]===t[0])r++;else if(e[i]===t[1]&&(r--,r<0))return i;return r>0?-2:-1}function U1(e,t,r,i,n){let l=t.href,o=t.title||null,u=e[1].replace(n.other.outputLinkReplace,"$1");i.state.inLink=!0;let h={type:e[0].charAt(0)==="!"?"image":"link",raw:r,href:l,title:o,text:u,tokens:i.inlineTokens(u)};return i.state.inLink=!1,h}function AU(e,t,r){let i=e.match(r.other.indentCodeCompensation);if(i===null)return t;let n=i[1];return t.split(`
`).map(l=>{let o=l.match(r.other.beginningSpace);if(o===null)return l;let[u]=o;return u.length>=n.length?l.slice(n.length):l}).join(`
`)}var jd=class{options;rules;lexer;constructor(t){this.options=t||gs}space(t){let r=this.rules.block.newline.exec(t);if(r&&r[0].length>0)return{type:"space",raw:r[0]}}code(t){let r=this.rules.block.code.exec(t);if(r){let i=r[0].replace(this.rules.other.codeRemoveIndent,"");return{type:"code",raw:r[0],codeBlockStyle:"indented",text:this.options.pedantic?i:ac(i,`
`)}}}fences(t){let r=this.rules.block.fences.exec(t);if(r){let i=r[0],n=AU(i,r[3]||"",this.rules);return{type:"code",raw:i,lang:r[2]?r[2].trim().replace(this.rules.inline.anyPunctuation,"$1"):r[2],text:n}}}heading(t){let r=this.rules.block.heading.exec(t);if(r){let i=r[2].trim();if(this.rules.other.endingHash.test(i)){let n=ac(i,"#");(this.options.pedantic||!n||this.rules.other.endingSpaceChar.test(n))&&(i=n.trim())}return{type:"heading",raw:r[0],depth:r[1].length,text:i,tokens:this.lexer.inline(i)}}}hr(t){let r=this.rules.block.hr.exec(t);if(r)return{type:"hr",raw:ac(r[0],`
`)}}blockquote(t){let r=this.rules.block.blockquote.exec(t);if(r){let i=ac(r[0],`
`).split(`
`),n="",l="",o=[];for(;i.length>0;){let u=!1,h=[],d;for(d=0;d<i.length;d++)if(this.rules.other.blockquoteStart.test(i[d]))h.push(i[d]),u=!0;else if(!u)h.push(i[d]);else break;i=i.slice(d);let p=h.join(`
`),g=p.replace(this.rules.other.blockquoteSetextReplace,`
    $1`).replace(this.rules.other.blockquoteSetextReplace2,"");n=n?`${n}
${p}`:p,l=l?`${l}
${g}`:g;let y=this.lexer.state.top;if(this.lexer.state.top=!0,this.lexer.blockTokens(g,o,!0),this.lexer.state.top=y,i.length===0)break;let x=o.at(-1);if(x?.type==="code")break;if(x?.type==="blockquote"){let v=x,_=v.raw+`
`+i.join(`
`),S=this.blockquote(_);o[o.length-1]=S,n=n.substring(0,n.length-v.raw.length)+S.raw,l=l.substring(0,l.length-v.text.length)+S.text;break}else if(x?.type==="list"){let v=x,_=v.raw+`
`+i.join(`
`),S=this.list(_);o[o.length-1]=S,n=n.substring(0,n.length-x.raw.length)+S.raw,l=l.substring(0,l.length-v.raw.length)+S.raw,i=_.substring(o.at(-1).raw.length).split(`
`);continue}}return{type:"blockquote",raw:n,tokens:o,text:l}}}list(t){let r=this.rules.block.list.exec(t);if(r){let i=r[1].trim(),n=i.length>1,l={type:"list",raw:"",ordered:n,start:n?+i.slice(0,-1):"",loose:!1,items:[]};i=n?`\\d{1,9}\\${i.slice(-1)}`:`\\${i}`,this.options.pedantic&&(i=n?i:"[*+-]");let o=this.rules.other.listItemRegex(i),u=!1;for(;t;){let d=!1,p="",g="";if(!(r=o.exec(t))||this.rules.block.hr.test(t))break;p=r[0],t=t.substring(p.length);let y=r[2].split(`
`,1)[0].replace(this.rules.other.listReplaceTabs,E=>" ".repeat(3*E.length)),x=t.split(`
`,1)[0],v=!y.trim(),_=0;if(this.options.pedantic?(_=2,g=y.trimStart()):v?_=r[1].length+1:(_=r[2].search(this.rules.other.nonSpaceChar),_=_>4?1:_,g=y.slice(_),_+=r[1].length),v&&this.rules.other.blankLine.test(x)&&(p+=x+`
`,t=t.substring(x.length+1),d=!0),!d){let E=this.rules.other.nextBulletRegex(_),O=this.rules.other.hrRegex(_),M=this.rules.other.fencesBeginRegex(_),N=this.rules.other.headingBeginRegex(_),q=this.rules.other.htmlBeginRegex(_);for(;t;){let z=t.split(`
`,1)[0],Q;if(x=z,this.options.pedantic?(x=x.replace(this.rules.other.listReplaceNesting,"  "),Q=x):Q=x.replace(this.rules.other.tabCharGlobal,"    "),M.test(x)||N.test(x)||q.test(x)||E.test(x)||O.test(x))break;if(Q.search(this.rules.other.nonSpaceChar)>=_||!x.trim())g+=`
`+Q.slice(_);else{if(v||y.replace(this.rules.other.tabCharGlobal,"    ").search(this.rules.other.nonSpaceChar)>=4||M.test(y)||N.test(y)||O.test(y))break;g+=`
`+x}!v&&!x.trim()&&(v=!0),p+=z+`
`,t=t.substring(z.length+1),y=Q.slice(_)}}l.loose||(u?l.loose=!0:this.rules.other.doubleBlankLine.test(p)&&(u=!0));let S=null,T;this.options.gfm&&(S=this.rules.other.listIsTask.exec(g),S&&(T=S[0]!=="[ ] ",g=g.replace(this.rules.other.listReplaceTask,""))),l.items.push({type:"list_item",raw:p,task:!!S,checked:T,loose:!1,text:g,tokens:[]}),l.raw+=p}let h=l.items.at(-1);if(h)h.raw=h.raw.trimEnd(),h.text=h.text.trimEnd();else return;l.raw=l.raw.trimEnd();for(let d=0;d<l.items.length;d++)if(this.lexer.state.top=!1,l.items[d].tokens=this.lexer.blockTokens(l.items[d].text,[]),!l.loose){let p=l.items[d].tokens.filter(y=>y.type==="space"),g=p.length>0&&p.some(y=>this.rules.other.anyLine.test(y.raw));l.loose=g}if(l.loose)for(let d=0;d<l.items.length;d++)l.items[d].loose=!0;return l}}html(t){let r=this.rules.block.html.exec(t);if(r)return{type:"html",block:!0,raw:r[0],pre:r[1]==="pre"||r[1]==="script"||r[1]==="style",text:r[0]}}def(t){let r=this.rules.block.def.exec(t);if(r){let i=r[1].toLowerCase().replace(this.rules.other.multipleSpaceGlobal," "),n=r[2]?r[2].replace(this.rules.other.hrefBrackets,"$1").replace(this.rules.inline.anyPunctuation,"$1"):"",l=r[3]?r[3].substring(1,r[3].length-1).replace(this.rules.inline.anyPunctuation,"$1"):r[3];return{type:"def",tag:i,raw:r[0],href:n,title:l}}}table(t){let r=this.rules.block.table.exec(t);if(!r||!this.rules.other.tableDelimiter.test(r[2]))return;let i=P1(r[1]),n=r[2].replace(this.rules.other.tableAlignChars,"").split("|"),l=r[3]?.trim()?r[3].replace(this.rules.other.tableRowBlankLine,"").split(`
`):[],o={type:"table",raw:r[0],header:[],align:[],rows:[]};if(i.length===n.length){for(let u of n)this.rules.other.tableAlignRight.test(u)?o.align.push("right"):this.rules.other.tableAlignCenter.test(u)?o.align.push("center"):this.rules.other.tableAlignLeft.test(u)?o.align.push("left"):o.align.push(null);for(let u=0;u<i.length;u++)o.header.push({text:i[u],tokens:this.lexer.inline(i[u]),header:!0,align:o.align[u]});for(let u of l)o.rows.push(P1(u,o.header.length).map((h,d)=>({text:h,tokens:this.lexer.inline(h),header:!1,align:o.align[d]})));return o}}lheading(t){let r=this.rules.block.lheading.exec(t);if(r)return{type:"heading",raw:r[0],depth:r[2].charAt(0)==="="?1:2,text:r[1],tokens:this.lexer.inline(r[1])}}paragraph(t){let r=this.rules.block.paragraph.exec(t);if(r){let i=r[1].charAt(r[1].length-1)===`
`?r[1].slice(0,-1):r[1];return{type:"paragraph",raw:r[0],text:i,tokens:this.lexer.inline(i)}}}text(t){let r=this.rules.block.text.exec(t);if(r)return{type:"text",raw:r[0],text:r[0],tokens:this.lexer.inline(r[0])}}escape(t){let r=this.rules.inline.escape.exec(t);if(r)return{type:"escape",raw:r[0],text:r[1]}}tag(t){let r=this.rules.inline.tag.exec(t);if(r)return!this.lexer.state.inLink&&this.rules.other.startATag.test(r[0])?this.lexer.state.inLink=!0:this.lexer.state.inLink&&this.rules.other.endATag.test(r[0])&&(this.lexer.state.inLink=!1),!this.lexer.state.inRawBlock&&this.rules.other.startPreScriptTag.test(r[0])?this.lexer.state.inRawBlock=!0:this.lexer.state.inRawBlock&&this.rules.other.endPreScriptTag.test(r[0])&&(this.lexer.state.inRawBlock=!1),{type:"html",raw:r[0],inLink:this.lexer.state.inLink,inRawBlock:this.lexer.state.inRawBlock,block:!1,text:r[0]}}link(t){let r=this.rules.inline.link.exec(t);if(r){let i=r[2].trim();if(!this.options.pedantic&&this.rules.other.startAngleBracket.test(i)){if(!this.rules.other.endAngleBracket.test(i))return;let o=ac(i.slice(0,-1),"\\");if((i.length-o.length)%2===0)return}else{let o=EU(r[2],"()");if(o===-2)return;if(o>-1){let u=(r[0].indexOf("!")===0?5:4)+r[1].length+o;r[2]=r[2].substring(0,o),r[0]=r[0].substring(0,u).trim(),r[3]=""}}let n=r[2],l="";if(this.options.pedantic){let o=this.rules.other.pedanticHrefTitle.exec(n);o&&(n=o[1],l=o[3])}else l=r[3]?r[3].slice(1,-1):"";return n=n.trim(),this.rules.other.startAngleBracket.test(n)&&(this.options.pedantic&&!this.rules.other.endAngleBracket.test(i)?n=n.slice(1):n=n.slice(1,-1)),U1(r,{href:n&&n.replace(this.rules.inline.anyPunctuation,"$1"),title:l&&l.replace(this.rules.inline.anyPunctuation,"$1")},r[0],this.lexer,this.rules)}}reflink(t,r){let i;if((i=this.rules.inline.reflink.exec(t))||(i=this.rules.inline.nolink.exec(t))){let n=(i[2]||i[1]).replace(this.rules.other.multipleSpaceGlobal," "),l=r[n.toLowerCase()];if(!l){let o=i[0].charAt(0);return{type:"text",raw:o,text:o}}return U1(i,l,i[0],this.lexer,this.rules)}}emStrong(t,r,i=""){let n=this.rules.inline.emStrongLDelim.exec(t);if(!(!n||n[3]&&i.match(this.rules.other.unicodeAlphaNumeric))&&(!(n[1]||n[2])||!i||this.rules.inline.punctuation.exec(i))){let l=[...n[0]].length-1,o,u,h=l,d=0,p=n[0][0]==="*"?this.rules.inline.emStrongRDelimAst:this.rules.inline.emStrongRDelimUnd;for(p.lastIndex=0,r=r.slice(-1*t.length+l);(n=p.exec(r))!=null;){if(o=n[1]||n[2]||n[3]||n[4]||n[5]||n[6],!o)continue;if(u=[...o].length,n[3]||n[4]){h+=u;continue}else if((n[5]||n[6])&&l%3&&!((l+u)%3)){d+=u;continue}if(h-=u,h>0)continue;u=Math.min(u,u+h+d);let g=[...n[0]][0].length,y=t.slice(0,l+n.index+g+u);if(Math.min(l,u)%2){let v=y.slice(1,-1);return{type:"em",raw:y,text:v,tokens:this.lexer.inlineTokens(v)}}let x=y.slice(2,-2);return{type:"strong",raw:y,text:x,tokens:this.lexer.inlineTokens(x)}}}}codespan(t){let r=this.rules.inline.code.exec(t);if(r){let i=r[2].replace(this.rules.other.newLineCharGlobal," "),n=this.rules.other.nonSpaceChar.test(i),l=this.rules.other.startingSpaceChar.test(i)&&this.rules.other.endingSpaceChar.test(i);return n&&l&&(i=i.substring(1,i.length-1)),{type:"codespan",raw:r[0],text:i}}}br(t){let r=this.rules.inline.br.exec(t);if(r)return{type:"br",raw:r[0]}}del(t){let r=this.rules.inline.del.exec(t);if(r)return{type:"del",raw:r[0],text:r[2],tokens:this.lexer.inlineTokens(r[2])}}autolink(t){let r=this.rules.inline.autolink.exec(t);if(r){let i,n;return r[2]==="@"?(i=r[1],n="mailto:"+i):(i=r[1],n=i),{type:"link",raw:r[0],text:i,href:n,tokens:[{type:"text",raw:i,text:i}]}}}url(t){let r;if(r=this.rules.inline.url.exec(t)){let i,n;if(r[2]==="@")i=r[0],n="mailto:"+i;else{let l;do l=r[0],r[0]=this.rules.inline._backpedal.exec(r[0])?.[0]??"";while(l!==r[0]);i=r[0],r[1]==="www."?n="http://"+r[0]:n=r[0]}return{type:"link",raw:r[0],text:i,href:n,tokens:[{type:"text",raw:i,text:i}]}}}inlineText(t){let r=this.rules.inline.text.exec(t);if(r){let i=this.lexer.state.inRawBlock;return{type:"text",raw:r[0],text:r[0],escaped:i}}}},Si=class xy{tokens;options;state;tokenizer;inlineQueue;constructor(t){this.tokens=[],this.tokens.links=Object.create(null),this.options=t||gs,this.options.tokenizer=this.options.tokenizer||new jd,this.tokenizer=this.options.tokenizer,this.tokenizer.options=this.options,this.tokenizer.lexer=this,this.inlineQueue=[],this.state={inLink:!1,inRawBlock:!1,top:!0};let r={other:yr,block:Dh.normal,inline:ic.normal};this.options.pedantic?(r.block=Dh.pedantic,r.inline=ic.pedantic):this.options.gfm&&(r.block=Dh.gfm,this.options.breaks?r.inline=ic.breaks:r.inline=ic.gfm),this.tokenizer.rules=r}static get rules(){return{block:Dh,inline:ic}}static lex(t,r){return new xy(r).lex(t)}static lexInline(t,r){return new xy(r).inlineTokens(t)}lex(t){t=t.replace(yr.carriageReturn,`
`),this.blockTokens(t,this.tokens);for(let r=0;r<this.inlineQueue.length;r++){let i=this.inlineQueue[r];this.inlineTokens(i.src,i.tokens)}return this.inlineQueue=[],this.tokens}blockTokens(t,r=[],i=!1){for(this.options.pedantic&&(t=t.replace(yr.tabCharGlobal,"    ").replace(yr.spaceLine,""));t;){let n;if(this.options.extensions?.block?.some(o=>(n=o.call({lexer:this},t,r))?(t=t.substring(n.raw.length),r.push(n),!0):!1))continue;if(n=this.tokenizer.space(t)){t=t.substring(n.raw.length);let o=r.at(-1);n.raw.length===1&&o!==void 0?o.raw+=`
`:r.push(n);continue}if(n=this.tokenizer.code(t)){t=t.substring(n.raw.length);let o=r.at(-1);o?.type==="paragraph"||o?.type==="text"?(o.raw+=(o.raw.endsWith(`
`)?"":`
`)+n.raw,o.text+=`
`+n.text,this.inlineQueue.at(-1).src=o.text):r.push(n);continue}if(n=this.tokenizer.fences(t)){t=t.substring(n.raw.length),r.push(n);continue}if(n=this.tokenizer.heading(t)){t=t.substring(n.raw.length),r.push(n);continue}if(n=this.tokenizer.hr(t)){t=t.substring(n.raw.length),r.push(n);continue}if(n=this.tokenizer.blockquote(t)){t=t.substring(n.raw.length),r.push(n);continue}if(n=this.tokenizer.list(t)){t=t.substring(n.raw.length),r.push(n);continue}if(n=this.tokenizer.html(t)){t=t.substring(n.raw.length),r.push(n);continue}if(n=this.tokenizer.def(t)){t=t.substring(n.raw.length);let o=r.at(-1);o?.type==="paragraph"||o?.type==="text"?(o.raw+=(o.raw.endsWith(`
`)?"":`
`)+n.raw,o.text+=`
`+n.raw,this.inlineQueue.at(-1).src=o.text):this.tokens.links[n.tag]||(this.tokens.links[n.tag]={href:n.href,title:n.title},r.push(n));continue}if(n=this.tokenizer.table(t)){t=t.substring(n.raw.length),r.push(n);continue}if(n=this.tokenizer.lheading(t)){t=t.substring(n.raw.length),r.push(n);continue}let l=t;if(this.options.extensions?.startBlock){let o=1/0,u=t.slice(1),h;this.options.extensions.startBlock.forEach(d=>{h=d.call({lexer:this},u),typeof h=="number"&&h>=0&&(o=Math.min(o,h))}),o<1/0&&o>=0&&(l=t.substring(0,o+1))}if(this.state.top&&(n=this.tokenizer.paragraph(l))){let o=r.at(-1);i&&o?.type==="paragraph"?(o.raw+=(o.raw.endsWith(`
`)?"":`
`)+n.raw,o.text+=`
`+n.text,this.inlineQueue.pop(),this.inlineQueue.at(-1).src=o.text):r.push(n),i=l.length!==t.length,t=t.substring(n.raw.length);continue}if(n=this.tokenizer.text(t)){t=t.substring(n.raw.length);let o=r.at(-1);o?.type==="text"?(o.raw+=(o.raw.endsWith(`
`)?"":`
`)+n.raw,o.text+=`
`+n.text,this.inlineQueue.pop(),this.inlineQueue.at(-1).src=o.text):r.push(n);continue}if(t){let o="Infinite loop on byte: "+t.charCodeAt(0);if(this.options.silent){console.error(o);break}else throw new Error(o)}}return this.state.top=!0,r}inline(t,r=[]){return this.inlineQueue.push({src:t,tokens:r}),r}inlineTokens(t,r=[]){let i=t,n=null;if(this.tokens.links){let h=Object.keys(this.tokens.links);if(h.length>0)for(;(n=this.tokenizer.rules.inline.reflinkSearch.exec(i))!=null;)h.includes(n[0].slice(n[0].lastIndexOf("[")+1,-1))&&(i=i.slice(0,n.index)+"["+"a".repeat(n[0].length-2)+"]"+i.slice(this.tokenizer.rules.inline.reflinkSearch.lastIndex))}for(;(n=this.tokenizer.rules.inline.anyPunctuation.exec(i))!=null;)i=i.slice(0,n.index)+"++"+i.slice(this.tokenizer.rules.inline.anyPunctuation.lastIndex);let l;for(;(n=this.tokenizer.rules.inline.blockSkip.exec(i))!=null;)l=n[2]?n[2].length:0,i=i.slice(0,n.index+l)+"["+"a".repeat(n[0].length-l-2)+"]"+i.slice(this.tokenizer.rules.inline.blockSkip.lastIndex);i=this.options.hooks?.emStrongMask?.call({lexer:this},i)??i;let o=!1,u="";for(;t;){o||(u=""),o=!1;let h;if(this.options.extensions?.inline?.some(p=>(h=p.call({lexer:this},t,r))?(t=t.substring(h.raw.length),r.push(h),!0):!1))continue;if(h=this.tokenizer.escape(t)){t=t.substring(h.raw.length),r.push(h);continue}if(h=this.tokenizer.tag(t)){t=t.substring(h.raw.length),r.push(h);continue}if(h=this.tokenizer.link(t)){t=t.substring(h.raw.length),r.push(h);continue}if(h=this.tokenizer.reflink(t,this.tokens.links)){t=t.substring(h.raw.length);let p=r.at(-1);h.type==="text"&&p?.type==="text"?(p.raw+=h.raw,p.text+=h.text):r.push(h);continue}if(h=this.tokenizer.emStrong(t,i,u)){t=t.substring(h.raw.length),r.push(h);continue}if(h=this.tokenizer.codespan(t)){t=t.substring(h.raw.length),r.push(h);continue}if(h=this.tokenizer.br(t)){t=t.substring(h.raw.length),r.push(h);continue}if(h=this.tokenizer.del(t)){t=t.substring(h.raw.length),r.push(h);continue}if(h=this.tokenizer.autolink(t)){t=t.substring(h.raw.length),r.push(h);continue}if(!this.state.inLink&&(h=this.tokenizer.url(t))){t=t.substring(h.raw.length),r.push(h);continue}let d=t;if(this.options.extensions?.startInline){let p=1/0,g=t.slice(1),y;this.options.extensions.startInline.forEach(x=>{y=x.call({lexer:this},g),typeof y=="number"&&y>=0&&(p=Math.min(p,y))}),p<1/0&&p>=0&&(d=t.substring(0,p+1))}if(h=this.tokenizer.inlineText(d)){t=t.substring(h.raw.length),h.raw.slice(-1)!=="_"&&(u=h.raw.slice(-1)),o=!0;let p=r.at(-1);p?.type==="text"?(p.raw+=h.raw,p.text+=h.text):r.push(h);continue}if(t){let p="Infinite loop on byte: "+t.charCodeAt(0);if(this.options.silent){console.error(p);break}else throw new Error(p)}}return r}},$d=class{options;parser;constructor(t){this.options=t||gs}space(t){return""}code({text:t,lang:r,escaped:i}){let n=(r||"").match(yr.notSpaceStart)?.[0],l=t.replace(yr.endingNewline,"")+`
`;return n?'<pre><code class="language-'+Fi(n)+'">'+(i?l:Fi(l,!0))+`</code></pre>
`:"<pre><code>"+(i?l:Fi(l,!0))+`</code></pre>
`}blockquote({tokens:t}){return`<blockquote>
${this.parser.parse(t)}</blockquote>
`}html({text:t}){return t}def(t){return""}heading({tokens:t,depth:r}){return`<h${r}>${this.parser.parseInline(t)}</h${r}>
`}hr(t){return`<hr>
`}list(t){let r=t.ordered,i=t.start,n="";for(let u=0;u<t.items.length;u++){let h=t.items[u];n+=this.listitem(h)}let l=r?"ol":"ul",o=r&&i!==1?' start="'+i+'"':"";return"<"+l+o+`>
`+n+"</"+l+`>
`}listitem(t){let r="";if(t.task){let i=this.checkbox({checked:!!t.checked});t.loose?t.tokens[0]?.type==="paragraph"?(t.tokens[0].text=i+" "+t.tokens[0].text,t.tokens[0].tokens&&t.tokens[0].tokens.length>0&&t.tokens[0].tokens[0].type==="text"&&(t.tokens[0].tokens[0].text=i+" "+Fi(t.tokens[0].tokens[0].text),t.tokens[0].tokens[0].escaped=!0)):t.tokens.unshift({type:"text",raw:i+" ",text:i+" ",escaped:!0}):r+=i+" "}return r+=this.parser.parse(t.tokens,!!t.loose),`<li>${r}</li>
`}checkbox({checked:t}){return"<input "+(t?'checked="" ':"")+'disabled="" type="checkbox">'}paragraph({tokens:t}){return`<p>${this.parser.parseInline(t)}</p>
`}table(t){let r="",i="";for(let l=0;l<t.header.length;l++)i+=this.tablecell(t.header[l]);r+=this.tablerow({text:i});let n="";for(let l=0;l<t.rows.length;l++){let o=t.rows[l];i="";for(let u=0;u<o.length;u++)i+=this.tablecell(o[u]);n+=this.tablerow({text:i})}return n&&(n=`<tbody>${n}</tbody>`),`<table>
<thead>
`+r+`</thead>
`+n+`</table>
`}tablerow({text:t}){return`<tr>
${t}</tr>
`}tablecell(t){let r=this.parser.parseInline(t.tokens),i=t.header?"th":"td";return(t.align?`<${i} align="${t.align}">`:`<${i}>`)+r+`</${i}>
`}strong({tokens:t}){return`<strong>${this.parser.parseInline(t)}</strong>`}em({tokens:t}){return`<em>${this.parser.parseInline(t)}</em>`}codespan({text:t}){return`<code>${Fi(t,!0)}</code>`}br(t){return"<br>"}del({tokens:t}){return`<del>${this.parser.parseInline(t)}</del>`}link({href:t,title:r,tokens:i}){let n=this.parser.parseInline(i),l=F1(t);if(l===null)return n;t=l;let o='<a href="'+t+'"';return r&&(o+=' title="'+Fi(r)+'"'),o+=">"+n+"</a>",o}image({href:t,title:r,text:i,tokens:n}){n&&(i=this.parser.parseInline(n,this.parser.textRenderer));let l=F1(t);if(l===null)return Fi(i);t=l;let o=`<img src="${t}" alt="${i}"`;return r&&(o+=` title="${Fi(r)}"`),o+=">",o}text(t){return"tokens"in t&&t.tokens?this.parser.parseInline(t.tokens):"escaped"in t&&t.escaped?t.text:Fi(t.text)}},I0=class{strong({text:t}){return t}em({text:t}){return t}codespan({text:t}){return t}del({text:t}){return t}html({text:t}){return t}text({text:t}){return t}link({text:t}){return""+t}image({text:t}){return""+t}br(){return""}},ki=class vy{options;renderer;textRenderer;constructor(t){this.options=t||gs,this.options.renderer=this.options.renderer||new $d,this.renderer=this.options.renderer,this.renderer.options=this.options,this.renderer.parser=this,this.textRenderer=new I0}static parse(t,r){return new vy(r).parse(t)}static parseInline(t,r){return new vy(r).parseInline(t)}parse(t,r=!0){let i="";for(let n=0;n<t.length;n++){let l=t[n];if(this.options.extensions?.renderers?.[l.type]){let u=l,h=this.options.extensions.renderers[u.type].call({parser:this},u);if(h!==!1||!["space","hr","heading","code","table","blockquote","list","html","def","paragraph","text"].includes(u.type)){i+=h||"";continue}}let o=l;switch(o.type){case"space":{i+=this.renderer.space(o);continue}case"hr":{i+=this.renderer.hr(o);continue}case"heading":{i+=this.renderer.heading(o);continue}case"code":{i+=this.renderer.code(o);continue}case"table":{i+=this.renderer.table(o);continue}case"blockquote":{i+=this.renderer.blockquote(o);continue}case"list":{i+=this.renderer.list(o);continue}case"html":{i+=this.renderer.html(o);continue}case"def":{i+=this.renderer.def(o);continue}case"paragraph":{i+=this.renderer.paragraph(o);continue}case"text":{let u=o,h=this.renderer.text(u);for(;n+1<t.length&&t[n+1].type==="text";)u=t[++n],h+=`
`+this.renderer.text(u);r?i+=this.renderer.paragraph({type:"paragraph",raw:h,text:h,tokens:[{type:"text",raw:h,text:h,escaped:!0}]}):i+=h;continue}default:{let u='Token with "'+o.type+'" type was not found.';if(this.options.silent)return console.error(u),"";throw new Error(u)}}}return i}parseInline(t,r=this.renderer){let i="";for(let n=0;n<t.length;n++){let l=t[n];if(this.options.extensions?.renderers?.[l.type]){let u=this.options.extensions.renderers[l.type].call({parser:this},l);if(u!==!1||!["escape","html","link","image","strong","em","codespan","br","del","text"].includes(l.type)){i+=u||"";continue}}let o=l;switch(o.type){case"escape":{i+=r.text(o);break}case"html":{i+=r.html(o);break}case"link":{i+=r.link(o);break}case"image":{i+=r.image(o);break}case"strong":{i+=r.strong(o);break}case"em":{i+=r.em(o);break}case"codespan":{i+=r.codespan(o);break}case"br":{i+=r.br(o);break}case"del":{i+=r.del(o);break}case"text":{i+=r.text(o);break}default:{let u='Token with "'+o.type+'" type was not found.';if(this.options.silent)return console.error(u),"";throw new Error(u)}}}return i}},pc=class{options;block;constructor(t){this.options=t||gs}static passThroughHooks=new Set(["preprocess","postprocess","processAllTokens","emStrongMask"]);static passThroughHooksRespectAsync=new Set(["preprocess","postprocess","processAllTokens"]);preprocess(t){return t}postprocess(t){return t}processAllTokens(t){return t}emStrongMask(t){return t}provideLexer(){return this.block?Si.lex:Si.lexInline}provideParser(){return this.block?ki.parse:ki.parseInline}},OU=class{defaults=N0();options=this.setOptions;parse=this.parseMarkdown(!0);parseInline=this.parseMarkdown(!1);Parser=ki;Renderer=$d;TextRenderer=I0;Lexer=Si;Tokenizer=jd;Hooks=pc;constructor(...t){this.use(...t)}walkTokens(t,r){let i=[];for(let n of t)switch(i=i.concat(r.call(this,n)),n.type){case"table":{let l=n;for(let o of l.header)i=i.concat(this.walkTokens(o.tokens,r));for(let o of l.rows)for(let u of o)i=i.concat(this.walkTokens(u.tokens,r));break}case"list":{let l=n;i=i.concat(this.walkTokens(l.items,r));break}default:{let l=n;this.defaults.extensions?.childTokens?.[l.type]?this.defaults.extensions.childTokens[l.type].forEach(o=>{let u=l[o].flat(1/0);i=i.concat(this.walkTokens(u,r))}):l.tokens&&(i=i.concat(this.walkTokens(l.tokens,r)))}}return i}use(...t){let r=this.defaults.extensions||{renderers:{},childTokens:{}};return t.forEach(i=>{let n={...i};if(n.async=this.defaults.async||n.async||!1,i.extensions&&(i.extensions.forEach(l=>{if(!l.name)throw new Error("extension name required");if("renderer"in l){let o=r.renderers[l.name];o?r.renderers[l.name]=function(...u){let h=l.renderer.apply(this,u);return h===!1&&(h=o.apply(this,u)),h}:r.renderers[l.name]=l.renderer}if("tokenizer"in l){if(!l.level||l.level!=="block"&&l.level!=="inline")throw new Error("extension level must be 'block' or 'inline'");let o=r[l.level];o?o.unshift(l.tokenizer):r[l.level]=[l.tokenizer],l.start&&(l.level==="block"?r.startBlock?r.startBlock.push(l.start):r.startBlock=[l.start]:l.level==="inline"&&(r.startInline?r.startInline.push(l.start):r.startInline=[l.start]))}"childTokens"in l&&l.childTokens&&(r.childTokens[l.name]=l.childTokens)}),n.extensions=r),i.renderer){let l=this.defaults.renderer||new $d(this.defaults);for(let o in i.renderer){if(!(o in l))throw new Error(`renderer '${o}' does not exist`);if(["options","parser"].includes(o))continue;let u=o,h=i.renderer[u],d=l[u];l[u]=(...p)=>{let g=h.apply(l,p);return g===!1&&(g=d.apply(l,p)),g||""}}n.renderer=l}if(i.tokenizer){let l=this.defaults.tokenizer||new jd(this.defaults);for(let o in i.tokenizer){if(!(o in l))throw new Error(`tokenizer '${o}' does not exist`);if(["options","rules","lexer"].includes(o))continue;let u=o,h=i.tokenizer[u],d=l[u];l[u]=(...p)=>{let g=h.apply(l,p);return g===!1&&(g=d.apply(l,p)),g}}n.tokenizer=l}if(i.hooks){let l=this.defaults.hooks||new pc;for(let o in i.hooks){if(!(o in l))throw new Error(`hook '${o}' does not exist`);if(["options","block"].includes(o))continue;let u=o,h=i.hooks[u],d=l[u];pc.passThroughHooks.has(o)?l[u]=p=>{if(this.defaults.async&&pc.passThroughHooksRespectAsync.has(o))return(async()=>{let y=await h.call(l,p);return d.call(l,y)})();let g=h.call(l,p);return d.call(l,g)}:l[u]=(...p)=>{if(this.defaults.async)return(async()=>{let y=await h.apply(l,p);return y===!1&&(y=await d.apply(l,p)),y})();let g=h.apply(l,p);return g===!1&&(g=d.apply(l,p)),g}}n.hooks=l}if(i.walkTokens){let l=this.defaults.walkTokens,o=i.walkTokens;n.walkTokens=function(u){let h=[];return h.push(o.call(this,u)),l&&(h=h.concat(l.call(this,u))),h}}this.defaults={...this.defaults,...n}}),this}setOptions(t){return this.defaults={...this.defaults,...t},this}lexer(t,r){return Si.lex(t,r??this.defaults)}parser(t,r){return ki.parse(t,r??this.defaults)}parseMarkdown(t){return(r,i)=>{let n={...i},l={...this.defaults,...n},o=this.onError(!!l.silent,!!l.async);if(this.defaults.async===!0&&n.async===!1)return o(new Error("marked(): The async option was set to true by an extension. Remove async: false from the parse options object to return a Promise."));if(typeof r>"u"||r===null)return o(new Error("marked(): input parameter is undefined or null"));if(typeof r!="string")return o(new Error("marked(): input parameter is of type "+Object.prototype.toString.call(r)+", string expected"));if(l.hooks&&(l.hooks.options=l,l.hooks.block=t),l.async)return(async()=>{let u=l.hooks?await l.hooks.preprocess(r):r,h=await(l.hooks?await l.hooks.provideLexer():t?Si.lex:Si.lexInline)(u,l),d=l.hooks?await l.hooks.processAllTokens(h):h;l.walkTokens&&await Promise.all(this.walkTokens(d,l.walkTokens));let p=await(l.hooks?await l.hooks.provideParser():t?ki.parse:ki.parseInline)(d,l);return l.hooks?await l.hooks.postprocess(p):p})().catch(o);try{l.hooks&&(r=l.hooks.preprocess(r));let u=(l.hooks?l.hooks.provideLexer():t?Si.lex:Si.lexInline)(r,l);l.hooks&&(u=l.hooks.processAllTokens(u)),l.walkTokens&&this.walkTokens(u,l.walkTokens);let h=(l.hooks?l.hooks.provideParser():t?ki.parse:ki.parseInline)(u,l);return l.hooks&&(h=l.hooks.postprocess(h)),h}catch(u){return o(u)}}}onError(t,r){return i=>{if(i.message+=`
Please report this to https://github.com/markedjs/marked.`,t){let n="<p>An error occurred:</p><pre>"+Fi(i.message+"",!0)+"</pre>";return r?Promise.resolve(n):n}if(r)return Promise.reject(i);throw i}}},cs=new OU;function ae(e,t){return cs.parse(e,t)}ae.options=ae.setOptions=function(e){return cs.setOptions(e),ae.defaults=cs.defaults,ST(ae.defaults),ae};ae.getDefaults=N0;ae.defaults=gs;ae.use=function(...e){return cs.use(...e),ae.defaults=cs.defaults,ST(ae.defaults),ae};ae.walkTokens=function(e,t){return cs.walkTokens(e,t)};ae.parseInline=cs.parseInline;ae.Parser=ki;ae.parser=ki.parse;ae.Renderer=$d;ae.TextRenderer=I0;ae.Lexer=Si;ae.lexer=Si.lex;ae.Tokenizer=jd;ae.Hooks=pc;ae.parse=ae;ae.options;ae.setOptions;ae.use;ae.walkTokens;ae.parseInline;ki.parse;Si.lex;function NT(e){for(var t=[],r=1;r<arguments.length;r++)t[r-1]=arguments[r];var i=Array.from(typeof e=="string"?[e]:e);i[i.length-1]=i[i.length-1].replace(/\r?\n([\t ]*)$/,"");var n=i.reduce(function(u,h){var d=h.match(/\n([\t ]+|(?!\s).)/g);return d?u.concat(d.map(function(p){var g,y;return(y=(g=p.match(/[\t ]/g))===null||g===void 0?void 0:g.length)!==null&&y!==void 0?y:0})):u},[]);if(n.length){var l=new RegExp(`
[	 ]{`+Math.min.apply(Math,n)+"}","g");i=i.map(function(u){return u.replace(l,`
`)})}i[0]=i[0].replace(/^\r?\n/,"");var o=i[0];return t.forEach(function(u,h){var d=o.match(/(?:^|\n)( *)$/),p=d?d[1]:"",g=u;typeof u=="string"&&u.includes(`
`)&&(g=String(u).split(`
`).map(function(y,x){return x===0?y:""+p+y}).join(`
`)),o+=g+i[h+1]}),o}var RU={body:'<g><rect width="80" height="80" style="fill: #087ebf; stroke-width: 0px;"/><text transform="translate(21.16 64.67)" style="fill: #fff; font-family: ArialMT, Arial; font-size: 67.75px;"><tspan x="0" y="0">?</tspan></text></g>',height:80,width:80},_y=new Map,DT=new Map,LU=w(e=>{for(const t of e){if(!t.name)throw new Error('Invalid icon loader. Must have a "name" property with non-empty string value.');if(st.debug("Registering icon pack:",t.name),"loader"in t)DT.set(t.name,t.loader);else if("icons"in t)_y.set(t.name,t.icons);else throw st.error("Invalid icon loader:",t),new Error('Invalid icon loader. Must have either "icons" or "loader" property.')}},"registerIconPacks"),jT=w(async(e,t)=>{const r=MP(e,!0,t!==void 0);if(!r)throw new Error(`Invalid icon name: ${e}`);const i=r.prefix||t;if(!i)throw new Error(`Icon name must contain a prefix: ${e}`);let n=_y.get(i);if(!n){const o=DT.get(i);if(!o)throw new Error(`Icon set not found: ${r.prefix}`);try{n={...await o(),prefix:i},_y.set(i,n)}catch(u){throw st.error(u),new Error(`Failed to load icon set: ${r.prefix}`)}}const l=DP(n,r.name);if(!l)throw new Error(`Icon not found: ${e}`);return l},"getRegisteredIconData"),MU=w(async e=>{try{return await jT(e),!0}catch{return!1}},"isIconAvailable"),iu=w(async(e,t,r)=>{let i;try{i=await jT(e,t?.fallbackPrefix)}catch(o){st.error(o),i=RU}const n=IP(i,t),l=GP(WP(n.body),{...n.attributes,...r});return di(l,cr())},"getIconSVG");function $T(e,{markdownAutoWrap:t}){const i=e.replace(/<br\/>/g,`
`).replace(/\n{2,}/g,`
`),n=NT(i);return t===!1?n.replace(/ /g,"&nbsp;"):n}w($T,"preprocessMarkdown");function zT(e,t={}){const r=$T(e,t),i=ae.lexer(r),n=[[]];let l=0;function o(u,h="normal"){u.type==="text"?u.text.split(`
`).forEach((p,g)=>{g!==0&&(l++,n.push([])),p.split(" ").forEach(y=>{y=y.replace(/&#39;/g,"'"),y&&n[l].push({content:y,type:h})})}):u.type==="strong"||u.type==="em"?u.tokens.forEach(d=>{o(d,u.type)}):u.type==="html"&&n[l].push({content:u.text,type:"normal"})}return w(o,"processNode"),i.forEach(u=>{u.type==="paragraph"?u.tokens?.forEach(h=>{o(h)}):u.type==="html"?n[l].push({content:u.text,type:"normal"}):n[l].push({content:u.raw,type:"normal"})}),n}w(zT,"markdownToLines");function FT(e,{markdownAutoWrap:t}={}){const r=ae.lexer(e);function i(n){return n.type==="text"?t===!1?n.text.replace(/\n */g,"<br/>").replace(/ /g,"&nbsp;"):n.text.replace(/\n */g,"<br/>"):n.type==="strong"?`<strong>${n.tokens?.map(i).join("")}</strong>`:n.type==="em"?`<em>${n.tokens?.map(i).join("")}</em>`:n.type==="paragraph"?`<p>${n.tokens?.map(i).join("")}</p>`:n.type==="space"?"":n.type==="html"?`${n.text}`:n.type==="escape"?n.text:(st.warn(`Unsupported markdown: ${n.type}`),n.raw)}return w(i,"output"),r.map(i).join("")}w(FT,"markdownToHTML");function PT(e){return Intl.Segmenter?[...new Intl.Segmenter().segment(e)].map(t=>t.segment):[...e]}w(PT,"splitTextToChars");function UT(e,t){const r=PT(t.content);return q0(e,[],r,t.type)}w(UT,"splitWordToFitWidth");function q0(e,t,r,i){if(r.length===0)return[{content:t.join(""),type:i},{content:"",type:i}];const[n,...l]=r,o=[...t,n];return e([{content:o.join(""),type:i}])?q0(e,o,l,i):(t.length===0&&n&&(t.push(n),r.shift()),[{content:t.join(""),type:i},{content:r.join(""),type:i}])}w(q0,"splitWordToFitWidthRecursion");function IT(e,t){if(e.some(({content:r})=>r.includes(`
`)))throw new Error("splitLineToFitWidth does not support newlines in the line");return zd(e,t)}w(IT,"splitLineToFitWidth");function zd(e,t,r=[],i=[]){if(e.length===0)return i.length>0&&r.push(i),r.length>0?r:[];let n="";e[0].content===" "&&(n=" ",e.shift());const l=e.shift()??{content:" ",type:"normal"},o=[...i];if(n!==""&&o.push({content:n,type:"normal"}),o.push(l),t(o))return zd(e,t,r,o);if(i.length>0)r.push(i),e.unshift(l);else if(l.content){const[u,h]=UT(t,l);r.push([u]),h.content&&e.unshift(h)}return zd(e,t,r)}w(zd,"splitLineToFitWidthRecursion");function wy(e,t){t&&e.attr("style",t)}w(wy,"applyStyle");async function qT(e,t,r,i,n=!1,l=cr()){const o=e.append("foreignObject");o.attr("width",`${10*r}px`),o.attr("height",`${10*r}px`);const u=o.append("xhtml:div"),h=Al(t.label)?await Zy(t.label.replace(Fl.lineBreakRegex,`
`),l):di(t.label,l),d=t.isNode?"nodeLabel":"edgeLabel",p=u.append("span");p.html(h),wy(p,t.labelStyle),p.attr("class",`${d} ${i}`),wy(u,t.labelStyle),u.style("display","table-cell"),u.style("white-space","nowrap"),u.style("line-height","1.5"),u.style("max-width",r+"px"),u.style("text-align","center"),u.attr("xmlns","http://www.w3.org/1999/xhtml"),n&&u.attr("class","labelBkg");let g=u.node().getBoundingClientRect();return g.width===r&&(u.style("display","table"),u.style("white-space","break-spaces"),u.style("width",r+"px"),g=u.node().getBoundingClientRect()),o.node()}w(qT,"addHtmlSpan");function yf(e,t,r){return e.append("tspan").attr("class","text-outer-tspan").attr("x",0).attr("y",t*r-.1+"em").attr("dy",r+"em")}w(yf,"createTspan");function HT(e,t,r){const i=e.append("text"),n=yf(i,1,t);bf(n,r);const l=n.node().getComputedTextLength();return i.remove(),l}w(HT,"computeWidthOfText");function BU(e,t,r){const i=e.append("text"),n=yf(i,1,t);bf(n,[{content:r,type:"normal"}]);const l=n.node()?.getBoundingClientRect();return l&&i.remove(),l}w(BU,"computeDimensionOfText");function WT(e,t,r,i=!1){const l=t.append("g"),o=l.insert("rect").attr("class","background").attr("style","stroke: none"),u=l.append("text").attr("y","-10.1");let h=0;for(const d of r){const p=w(y=>HT(l,1.1,y)<=e,"checkWidth"),g=p(d)?[d]:IT(d,p);for(const y of g){const x=yf(u,h,1.1);bf(x,y),h++}}if(i){const d=u.node().getBBox(),p=2;return o.attr("x",d.x-p).attr("y",d.y-p).attr("width",d.width+2*p).attr("height",d.height+2*p),l.node()}else return u.node()}w(WT,"createFormattedText");function bf(e,t){e.text(""),t.forEach((r,i)=>{const n=e.append("tspan").attr("font-style",r.type==="em"?"italic":"normal").attr("class","text-inner-tspan").attr("font-weight",r.type==="strong"?"bold":"normal");i===0?n.text(r.content):n.text(" "+r.content)})}w(bf,"updateTextContentAndStyles");async function GT(e,t={}){const r=[];e.replace(/(fa[bklrs]?):fa-([\w-]+)/g,(n,l,o)=>(r.push((async()=>{const u=`${l}:${o}`;return await MU(u)?await iu(u,void 0,{class:"label-icon"}):`<i class='${di(n,t).replace(":"," ")}'></i>`})()),n));const i=await Promise.all(r);return e.replace(/(fa[bklrs]?):fa-([\w-]+)/g,()=>i.shift()??"")}w(GT,"replaceIconSubstring");var yn=w(async(e,t="",{style:r="",isTitle:i=!1,classes:n="",useHtmlLabels:l=!0,isNode:o=!0,width:u=200,addSvgBackground:h=!1}={},d)=>{if(st.debug("XYZ createText",t,r,i,n,l,o,"addSvgBackground: ",h),l){const p=FT(t,d),g=await GT(ps(p),d),y=t.replace(/\\\\/g,"\\"),x={isNode:o,label:Al(t)?y:g,labelStyle:r.replace("fill:","color:")};return await qT(e,x,u,n,h,d)}else{const p=t.replace(/<br\s*\/?>/g,"<br/>"),g=zT(p.replace("<br>","<br/>"),d),y=WT(u,e,g,t?h:!1);if(o){/stroke:/.exec(r)&&(r=r.replace("stroke:","lineColor:"));const x=r.replace(/stroke:[^;]+;?/g,"").replace(/stroke-width:[^;]+;?/g,"").replace(/fill:[^;]+;?/g,"").replace(/color:/g,"fill:");Xt(y).attr("style",x)}else{const x=r.replace(/stroke:[^;]+;?/g,"").replace(/stroke-width:[^;]+;?/g,"").replace(/fill:[^;]+;?/g,"").replace(/background:/g,"fill:");Xt(y).select("rect").attr("style",x.replace(/background:/g,"fill:"));const v=r.replace(/stroke:[^;]+;?/g,"").replace(/stroke-width:[^;]+;?/g,"").replace(/fill:[^;]+;?/g,"").replace(/color:/g,"fill:");Xt(y).select("text").attr("style",v)}return y}},"createText");function pm(e,t,r){if(e&&e.length){const[i,n]=t,l=Math.PI/180*r,o=Math.cos(l),u=Math.sin(l);for(const h of e){const[d,p]=h;h[0]=(d-i)*o-(p-n)*u+i,h[1]=(d-i)*u+(p-n)*o+n}}}function NU(e,t){return e[0]===t[0]&&e[1]===t[1]}function DU(e,t,r,i=1){const n=r,l=Math.max(t,.1),o=e[0]&&e[0][0]&&typeof e[0][0]=="number"?[e]:e,u=[0,0];if(n)for(const d of o)pm(d,u,n);const h=(function(d,p,g){const y=[];for(const E of d){const O=[...E];NU(O[0],O[O.length-1])||O.push([O[0][0],O[0][1]]),O.length>2&&y.push(O)}const x=[];p=Math.max(p,.1);const v=[];for(const E of y)for(let O=0;O<E.length-1;O++){const M=E[O],N=E[O+1];if(M[1]!==N[1]){const q=Math.min(M[1],N[1]);v.push({ymin:q,ymax:Math.max(M[1],N[1]),x:q===M[1]?M[0]:N[0],islope:(N[0]-M[0])/(N[1]-M[1])})}}if(v.sort(((E,O)=>E.ymin<O.ymin?-1:E.ymin>O.ymin?1:E.x<O.x?-1:E.x>O.x?1:E.ymax===O.ymax?0:(E.ymax-O.ymax)/Math.abs(E.ymax-O.ymax))),!v.length)return x;let _=[],S=v[0].ymin,T=0;for(;_.length||v.length;){if(v.length){let E=-1;for(let O=0;O<v.length&&!(v[O].ymin>S);O++)E=O;v.splice(0,E+1).forEach((O=>{_.push({s:S,edge:O})}))}if(_=_.filter((E=>!(E.edge.ymax<=S))),_.sort(((E,O)=>E.edge.x===O.edge.x?0:(E.edge.x-O.edge.x)/Math.abs(E.edge.x-O.edge.x))),(g!==1||T%p==0)&&_.length>1)for(let E=0;E<_.length;E+=2){const O=E+1;if(O>=_.length)break;const M=_[E].edge,N=_[O].edge;x.push([[Math.round(M.x),S],[Math.round(N.x),S]])}S+=g,_.forEach((E=>{E.edge.x=E.edge.x+g*E.edge.islope})),T++}return x})(o,l,i);if(n){for(const d of o)pm(d,u,-n);(function(d,p,g){const y=[];d.forEach((x=>y.push(...x))),pm(y,p,g)})(h,u,-n)}return h}function au(e,t){var r;const i=t.hachureAngle+90;let n=t.hachureGap;n<0&&(n=4*t.strokeWidth),n=Math.round(Math.max(n,.1));let l=1;return t.roughness>=1&&(((r=t.randomizer)===null||r===void 0?void 0:r.next())||Math.random())>.7&&(l=n),DU(e,n,i,l||1)}class H0{constructor(t){this.helper=t}fillPolygons(t,r){return this._fillPolygons(t,r)}_fillPolygons(t,r){const i=au(t,r);return{type:"fillSketch",ops:this.renderLines(i,r)}}renderLines(t,r){const i=[];for(const n of t)i.push(...this.helper.doubleLineOps(n[0][0],n[0][1],n[1][0],n[1][1],r));return i}}function xf(e){const t=e[0],r=e[1];return Math.sqrt(Math.pow(t[0]-r[0],2)+Math.pow(t[1]-r[1],2))}class jU extends H0{fillPolygons(t,r){let i=r.hachureGap;i<0&&(i=4*r.strokeWidth),i=Math.max(i,.1);const n=au(t,Object.assign({},r,{hachureGap:i})),l=Math.PI/180*r.hachureAngle,o=[],u=.5*i*Math.cos(l),h=.5*i*Math.sin(l);for(const[d,p]of n)xf([d,p])&&o.push([[d[0]-u,d[1]+h],[...p]],[[d[0]+u,d[1]-h],[...p]]);return{type:"fillSketch",ops:this.renderLines(o,r)}}}class $U extends H0{fillPolygons(t,r){const i=this._fillPolygons(t,r),n=Object.assign({},r,{hachureAngle:r.hachureAngle+90}),l=this._fillPolygons(t,n);return i.ops=i.ops.concat(l.ops),i}}class zU{constructor(t){this.helper=t}fillPolygons(t,r){const i=au(t,r=Object.assign({},r,{hachureAngle:0}));return this.dotsOnLines(i,r)}dotsOnLines(t,r){const i=[];let n=r.hachureGap;n<0&&(n=4*r.strokeWidth),n=Math.max(n,.1);let l=r.fillWeight;l<0&&(l=r.strokeWidth/2);const o=n/4;for(const u of t){const h=xf(u),d=h/n,p=Math.ceil(d)-1,g=h-p*n,y=(u[0][0]+u[1][0])/2-n/4,x=Math.min(u[0][1],u[1][1]);for(let v=0;v<p;v++){const _=x+g+v*n,S=y-o+2*Math.random()*o,T=_-o+2*Math.random()*o,E=this.helper.ellipse(S,T,l,l,r);i.push(...E.ops)}}return{type:"fillSketch",ops:i}}}class FU{constructor(t){this.helper=t}fillPolygons(t,r){const i=au(t,r);return{type:"fillSketch",ops:this.dashedLine(i,r)}}dashedLine(t,r){const i=r.dashOffset<0?r.hachureGap<0?4*r.strokeWidth:r.hachureGap:r.dashOffset,n=r.dashGap<0?r.hachureGap<0?4*r.strokeWidth:r.hachureGap:r.dashGap,l=[];return t.forEach((o=>{const u=xf(o),h=Math.floor(u/(i+n)),d=(u+n-h*(i+n))/2;let p=o[0],g=o[1];p[0]>g[0]&&(p=o[1],g=o[0]);const y=Math.atan((g[1]-p[1])/(g[0]-p[0]));for(let x=0;x<h;x++){const v=x*(i+n),_=v+i,S=[p[0]+v*Math.cos(y)+d*Math.cos(y),p[1]+v*Math.sin(y)+d*Math.sin(y)],T=[p[0]+_*Math.cos(y)+d*Math.cos(y),p[1]+_*Math.sin(y)+d*Math.sin(y)];l.push(...this.helper.doubleLineOps(S[0],S[1],T[0],T[1],r))}})),l}}class PU{constructor(t){this.helper=t}fillPolygons(t,r){const i=r.hachureGap<0?4*r.strokeWidth:r.hachureGap,n=r.zigzagOffset<0?i:r.zigzagOffset,l=au(t,r=Object.assign({},r,{hachureGap:i+n}));return{type:"fillSketch",ops:this.zigzagLines(l,n,r)}}zigzagLines(t,r,i){const n=[];return t.forEach((l=>{const o=xf(l),u=Math.round(o/(2*r));let h=l[0],d=l[1];h[0]>d[0]&&(h=l[1],d=l[0]);const p=Math.atan((d[1]-h[1])/(d[0]-h[0]));for(let g=0;g<u;g++){const y=2*g*r,x=2*(g+1)*r,v=Math.sqrt(2*Math.pow(r,2)),_=[h[0]+y*Math.cos(p),h[1]+y*Math.sin(p)],S=[h[0]+x*Math.cos(p),h[1]+x*Math.sin(p)],T=[_[0]+v*Math.cos(p+Math.PI/4),_[1]+v*Math.sin(p+Math.PI/4)];n.push(...this.helper.doubleLineOps(_[0],_[1],T[0],T[1],i),...this.helper.doubleLineOps(T[0],T[1],S[0],S[1],i))}})),n}}const Rr={};class UU{constructor(t){this.seed=t}next(){return this.seed?(2**31-1&(this.seed=Math.imul(48271,this.seed)))/2**31:Math.random()}}const IU=0,gm=1,I1=2,jh={A:7,a:7,C:6,c:6,H:1,h:1,L:2,l:2,M:2,m:2,Q:4,q:4,S:4,s:4,T:2,t:2,V:1,v:1,Z:0,z:0};function mm(e,t){return e.type===t}function W0(e){const t=[],r=(function(o){const u=new Array;for(;o!=="";)if(o.match(/^([ \t\r\n,]+)/))o=o.substr(RegExp.$1.length);else if(o.match(/^([aAcChHlLmMqQsStTvVzZ])/))u[u.length]={type:IU,text:RegExp.$1},o=o.substr(RegExp.$1.length);else{if(!o.match(/^(([-+]?[0-9]+(\.[0-9]*)?|[-+]?\.[0-9]+)([eE][-+]?[0-9]+)?)/))return[];u[u.length]={type:gm,text:`${parseFloat(RegExp.$1)}`},o=o.substr(RegExp.$1.length)}return u[u.length]={type:I1,text:""},u})(e);let i="BOD",n=0,l=r[n];for(;!mm(l,I1);){let o=0;const u=[];if(i==="BOD"){if(l.text!=="M"&&l.text!=="m")return W0("M0,0"+e);n++,o=jh[l.text],i=l.text}else mm(l,gm)?o=jh[i]:(n++,o=jh[l.text],i=l.text);if(!(n+o<r.length))throw new Error("Path data ended short");for(let h=n;h<n+o;h++){const d=r[h];if(!mm(d,gm))throw new Error("Param not a number: "+i+","+d.text);u[u.length]=+d.text}if(typeof jh[i]!="number")throw new Error("Bad segment: "+i);{const h={key:i,data:u};t.push(h),n+=o,l=r[n],i==="M"&&(i="L"),i==="m"&&(i="l")}}return t}function YT(e){let t=0,r=0,i=0,n=0;const l=[];for(const{key:o,data:u}of e)switch(o){case"M":l.push({key:"M",data:[...u]}),[t,r]=u,[i,n]=u;break;case"m":t+=u[0],r+=u[1],l.push({key:"M",data:[t,r]}),i=t,n=r;break;case"L":l.push({key:"L",data:[...u]}),[t,r]=u;break;case"l":t+=u[0],r+=u[1],l.push({key:"L",data:[t,r]});break;case"C":l.push({key:"C",data:[...u]}),t=u[4],r=u[5];break;case"c":{const h=u.map(((d,p)=>p%2?d+r:d+t));l.push({key:"C",data:h}),t=h[4],r=h[5];break}case"Q":l.push({key:"Q",data:[...u]}),t=u[2],r=u[3];break;case"q":{const h=u.map(((d,p)=>p%2?d+r:d+t));l.push({key:"Q",data:h}),t=h[2],r=h[3];break}case"A":l.push({key:"A",data:[...u]}),t=u[5],r=u[6];break;case"a":t+=u[5],r+=u[6],l.push({key:"A",data:[u[0],u[1],u[2],u[3],u[4],t,r]});break;case"H":l.push({key:"H",data:[...u]}),t=u[0];break;case"h":t+=u[0],l.push({key:"H",data:[t]});break;case"V":l.push({key:"V",data:[...u]}),r=u[0];break;case"v":r+=u[0],l.push({key:"V",data:[r]});break;case"S":l.push({key:"S",data:[...u]}),t=u[2],r=u[3];break;case"s":{const h=u.map(((d,p)=>p%2?d+r:d+t));l.push({key:"S",data:h}),t=h[2],r=h[3];break}case"T":l.push({key:"T",data:[...u]}),t=u[0],r=u[1];break;case"t":t+=u[0],r+=u[1],l.push({key:"T",data:[t,r]});break;case"Z":case"z":l.push({key:"Z",data:[]}),t=i,r=n}return l}function VT(e){const t=[];let r="",i=0,n=0,l=0,o=0,u=0,h=0;for(const{key:d,data:p}of e){switch(d){case"M":t.push({key:"M",data:[...p]}),[i,n]=p,[l,o]=p;break;case"C":t.push({key:"C",data:[...p]}),i=p[4],n=p[5],u=p[2],h=p[3];break;case"L":t.push({key:"L",data:[...p]}),[i,n]=p;break;case"H":i=p[0],t.push({key:"L",data:[i,n]});break;case"V":n=p[0],t.push({key:"L",data:[i,n]});break;case"S":{let g=0,y=0;r==="C"||r==="S"?(g=i+(i-u),y=n+(n-h)):(g=i,y=n),t.push({key:"C",data:[g,y,...p]}),u=p[0],h=p[1],i=p[2],n=p[3];break}case"T":{const[g,y]=p;let x=0,v=0;r==="Q"||r==="T"?(x=i+(i-u),v=n+(n-h)):(x=i,v=n);const _=i+2*(x-i)/3,S=n+2*(v-n)/3,T=g+2*(x-g)/3,E=y+2*(v-y)/3;t.push({key:"C",data:[_,S,T,E,g,y]}),u=x,h=v,i=g,n=y;break}case"Q":{const[g,y,x,v]=p,_=i+2*(g-i)/3,S=n+2*(y-n)/3,T=x+2*(g-x)/3,E=v+2*(y-v)/3;t.push({key:"C",data:[_,S,T,E,x,v]}),u=g,h=y,i=x,n=v;break}case"A":{const g=Math.abs(p[0]),y=Math.abs(p[1]),x=p[2],v=p[3],_=p[4],S=p[5],T=p[6];g===0||y===0?(t.push({key:"C",data:[i,n,S,T,S,T]}),i=S,n=T):(i!==S||n!==T)&&(XT(i,n,S,T,g,y,x,v,_).forEach((function(E){t.push({key:"C",data:E})})),i=S,n=T);break}case"Z":t.push({key:"Z",data:[]}),i=l,n=o}r=d}return t}function nc(e,t,r){return[e*Math.cos(r)-t*Math.sin(r),e*Math.sin(r)+t*Math.cos(r)]}function XT(e,t,r,i,n,l,o,u,h,d){const p=(g=o,Math.PI*g/180);var g;let y=[],x=0,v=0,_=0,S=0;if(d)[x,v,_,S]=d;else{[e,t]=nc(e,t,-p),[r,i]=nc(r,i,-p);const L=(e-r)/2,D=(t-i)/2;let F=L*L/(n*n)+D*D/(l*l);F>1&&(F=Math.sqrt(F),n*=F,l*=F);const R=n*n,j=l*l,I=R*j-R*D*D-j*L*L,lt=R*D*D+j*L*L,ht=(u===h?-1:1)*Math.sqrt(Math.abs(I/lt));_=ht*n*D/l+(e+r)/2,S=ht*-l*L/n+(t+i)/2,x=Math.asin(parseFloat(((t-S)/l).toFixed(9))),v=Math.asin(parseFloat(((i-S)/l).toFixed(9))),e<_&&(x=Math.PI-x),r<_&&(v=Math.PI-v),x<0&&(x=2*Math.PI+x),v<0&&(v=2*Math.PI+v),h&&x>v&&(x-=2*Math.PI),!h&&v>x&&(v-=2*Math.PI)}let T=v-x;if(Math.abs(T)>120*Math.PI/180){const L=v,D=r,F=i;v=h&&v>x?x+120*Math.PI/180*1:x+120*Math.PI/180*-1,y=XT(r=_+n*Math.cos(v),i=S+l*Math.sin(v),D,F,n,l,o,0,h,[v,L,_,S])}T=v-x;const E=Math.cos(x),O=Math.sin(x),M=Math.cos(v),N=Math.sin(v),q=Math.tan(T/4),z=4/3*n*q,Q=4/3*l*q,et=[e,t],it=[e+z*O,t-Q*E],J=[r+z*N,i-Q*M],ot=[r,i];if(it[0]=2*et[0]-it[0],it[1]=2*et[1]-it[1],d)return[it,J,ot].concat(y);{y=[it,J,ot].concat(y);const L=[];for(let D=0;D<y.length;D+=3){const F=nc(y[D][0],y[D][1],p),R=nc(y[D+1][0],y[D+1][1],p),j=nc(y[D+2][0],y[D+2][1],p);L.push([F[0],F[1],R[0],R[1],j[0],j[1]])}return L}}const qU={randOffset:function(e,t){return jt(e,t)},randOffsetWithRange:function(e,t,r){return Fd(e,t,r)},ellipse:function(e,t,r,i,n){const l=QT(r,i,n);return Sy(e,t,n,l).opset},doubleLineOps:function(e,t,r,i,n){return pn(e,t,r,i,n,!0)}};function KT(e,t,r,i,n){return{type:"path",ops:pn(e,t,r,i,n)}}function td(e,t,r){const i=(e||[]).length;if(i>2){const n=[];for(let l=0;l<i-1;l++)n.push(...pn(e[l][0],e[l][1],e[l+1][0],e[l+1][1],r));return t&&n.push(...pn(e[i-1][0],e[i-1][1],e[0][0],e[0][1],r)),{type:"path",ops:n}}return i===2?KT(e[0][0],e[0][1],e[1][0],e[1][1],r):{type:"path",ops:[]}}function HU(e,t,r,i,n){return(function(l,o){return td(l,!0,o)})([[e,t],[e+r,t],[e+r,t+i],[e,t+i]],n)}function q1(e,t){if(e.length){const r=typeof e[0][0]=="number"?[e]:e,i=$h(r[0],1*(1+.2*t.roughness),t),n=t.disableMultiStroke?[]:$h(r[0],1.5*(1+.22*t.roughness),G1(t));for(let l=1;l<r.length;l++){const o=r[l];if(o.length){const u=$h(o,1*(1+.2*t.roughness),t),h=t.disableMultiStroke?[]:$h(o,1.5*(1+.22*t.roughness),G1(t));for(const d of u)d.op!=="move"&&i.push(d);for(const d of h)d.op!=="move"&&n.push(d)}}return{type:"path",ops:i.concat(n)}}return{type:"path",ops:[]}}function QT(e,t,r){const i=Math.sqrt(2*Math.PI*Math.sqrt((Math.pow(e/2,2)+Math.pow(t/2,2))/2)),n=Math.ceil(Math.max(r.curveStepCount,r.curveStepCount/Math.sqrt(200)*i)),l=2*Math.PI/n;let o=Math.abs(e/2),u=Math.abs(t/2);const h=1-r.curveFitting;return o+=jt(o*h,r),u+=jt(u*h,r),{increment:l,rx:o,ry:u}}function Sy(e,t,r,i){const[n,l]=Y1(i.increment,e,t,i.rx,i.ry,1,i.increment*Fd(.1,Fd(.4,1,r),r),r);let o=Pd(n,null,r);if(!r.disableMultiStroke&&r.roughness!==0){const[u]=Y1(i.increment,e,t,i.rx,i.ry,1.5,0,r),h=Pd(u,null,r);o=o.concat(h)}return{estimatedPoints:l,opset:{type:"path",ops:o}}}function H1(e,t,r,i,n,l,o,u,h){const d=e,p=t;let g=Math.abs(r/2),y=Math.abs(i/2);g+=jt(.01*g,h),y+=jt(.01*y,h);let x=n,v=l;for(;x<0;)x+=2*Math.PI,v+=2*Math.PI;v-x>2*Math.PI&&(x=0,v=2*Math.PI);const _=2*Math.PI/h.curveStepCount,S=Math.min(_/2,(v-x)/2),T=V1(S,d,p,g,y,x,v,1,h);if(!h.disableMultiStroke){const E=V1(S,d,p,g,y,x,v,1.5,h);T.push(...E)}return o&&(u?T.push(...pn(d,p,d+g*Math.cos(x),p+y*Math.sin(x),h),...pn(d,p,d+g*Math.cos(v),p+y*Math.sin(v),h)):T.push({op:"lineTo",data:[d,p]},{op:"lineTo",data:[d+g*Math.cos(x),p+y*Math.sin(x)]})),{type:"path",ops:T}}function W1(e,t){const r=VT(YT(W0(e))),i=[];let n=[0,0],l=[0,0];for(const{key:o,data:u}of r)switch(o){case"M":l=[u[0],u[1]],n=[u[0],u[1]];break;case"L":i.push(...pn(l[0],l[1],u[0],u[1],t)),l=[u[0],u[1]];break;case"C":{const[h,d,p,g,y,x]=u;i.push(...WU(h,d,p,g,y,x,l,t)),l=[y,x];break}case"Z":i.push(...pn(l[0],l[1],n[0],n[1],t)),l=[n[0],n[1]]}return{type:"path",ops:i}}function ym(e,t){const r=[];for(const i of e)if(i.length){const n=t.maxRandomnessOffset||0,l=i.length;if(l>2){r.push({op:"move",data:[i[0][0]+jt(n,t),i[0][1]+jt(n,t)]});for(let o=1;o<l;o++)r.push({op:"lineTo",data:[i[o][0]+jt(n,t),i[o][1]+jt(n,t)]})}}return{type:"fillPath",ops:r}}function sl(e,t){return(function(r,i){let n=r.fillStyle||"hachure";if(!Rr[n])switch(n){case"zigzag":Rr[n]||(Rr[n]=new jU(i));break;case"cross-hatch":Rr[n]||(Rr[n]=new $U(i));break;case"dots":Rr[n]||(Rr[n]=new zU(i));break;case"dashed":Rr[n]||(Rr[n]=new FU(i));break;case"zigzag-line":Rr[n]||(Rr[n]=new PU(i));break;default:n="hachure",Rr[n]||(Rr[n]=new H0(i))}return Rr[n]})(t,qU).fillPolygons(e,t)}function G1(e){const t=Object.assign({},e);return t.randomizer=void 0,e.seed&&(t.seed=e.seed+1),t}function ZT(e){return e.randomizer||(e.randomizer=new UU(e.seed||0)),e.randomizer.next()}function Fd(e,t,r,i=1){return r.roughness*i*(ZT(r)*(t-e)+e)}function jt(e,t,r=1){return Fd(-e,e,t,r)}function pn(e,t,r,i,n,l=!1){const o=l?n.disableMultiStrokeFill:n.disableMultiStroke,u=ky(e,t,r,i,n,!0,!1);if(o)return u;const h=ky(e,t,r,i,n,!0,!0);return u.concat(h)}function ky(e,t,r,i,n,l,o){const u=Math.pow(e-r,2)+Math.pow(t-i,2),h=Math.sqrt(u);let d=1;d=h<200?1:h>500?.4:-.0016668*h+1.233334;let p=n.maxRandomnessOffset||0;p*p*100>u&&(p=h/10);const g=p/2,y=.2+.2*ZT(n);let x=n.bowing*n.maxRandomnessOffset*(i-t)/200,v=n.bowing*n.maxRandomnessOffset*(e-r)/200;x=jt(x,n,d),v=jt(v,n,d);const _=[],S=()=>jt(g,n,d),T=()=>jt(p,n,d),E=n.preserveVertices;return o?_.push({op:"move",data:[e+(E?0:S()),t+(E?0:S())]}):_.push({op:"move",data:[e+(E?0:jt(p,n,d)),t+(E?0:jt(p,n,d))]}),o?_.push({op:"bcurveTo",data:[x+e+(r-e)*y+S(),v+t+(i-t)*y+S(),x+e+2*(r-e)*y+S(),v+t+2*(i-t)*y+S(),r+(E?0:S()),i+(E?0:S())]}):_.push({op:"bcurveTo",data:[x+e+(r-e)*y+T(),v+t+(i-t)*y+T(),x+e+2*(r-e)*y+T(),v+t+2*(i-t)*y+T(),r+(E?0:T()),i+(E?0:T())]}),_}function $h(e,t,r){if(!e.length)return[];const i=[];i.push([e[0][0]+jt(t,r),e[0][1]+jt(t,r)]),i.push([e[0][0]+jt(t,r),e[0][1]+jt(t,r)]);for(let n=1;n<e.length;n++)i.push([e[n][0]+jt(t,r),e[n][1]+jt(t,r)]),n===e.length-1&&i.push([e[n][0]+jt(t,r),e[n][1]+jt(t,r)]);return Pd(i,null,r)}function Pd(e,t,r){const i=e.length,n=[];if(i>3){const l=[],o=1-r.curveTightness;n.push({op:"move",data:[e[1][0],e[1][1]]});for(let u=1;u+2<i;u++){const h=e[u];l[0]=[h[0],h[1]],l[1]=[h[0]+(o*e[u+1][0]-o*e[u-1][0])/6,h[1]+(o*e[u+1][1]-o*e[u-1][1])/6],l[2]=[e[u+1][0]+(o*e[u][0]-o*e[u+2][0])/6,e[u+1][1]+(o*e[u][1]-o*e[u+2][1])/6],l[3]=[e[u+1][0],e[u+1][1]],n.push({op:"bcurveTo",data:[l[1][0],l[1][1],l[2][0],l[2][1],l[3][0],l[3][1]]})}}else i===3?(n.push({op:"move",data:[e[1][0],e[1][1]]}),n.push({op:"bcurveTo",data:[e[1][0],e[1][1],e[2][0],e[2][1],e[2][0],e[2][1]]})):i===2&&n.push(...ky(e[0][0],e[0][1],e[1][0],e[1][1],r,!0,!0));return n}function Y1(e,t,r,i,n,l,o,u){const h=[],d=[];if(u.roughness===0){e/=4,d.push([t+i*Math.cos(-e),r+n*Math.sin(-e)]);for(let p=0;p<=2*Math.PI;p+=e){const g=[t+i*Math.cos(p),r+n*Math.sin(p)];h.push(g),d.push(g)}d.push([t+i*Math.cos(0),r+n*Math.sin(0)]),d.push([t+i*Math.cos(e),r+n*Math.sin(e)])}else{const p=jt(.5,u)-Math.PI/2;d.push([jt(l,u)+t+.9*i*Math.cos(p-e),jt(l,u)+r+.9*n*Math.sin(p-e)]);const g=2*Math.PI+p-.01;for(let y=p;y<g;y+=e){const x=[jt(l,u)+t+i*Math.cos(y),jt(l,u)+r+n*Math.sin(y)];h.push(x),d.push(x)}d.push([jt(l,u)+t+i*Math.cos(p+2*Math.PI+.5*o),jt(l,u)+r+n*Math.sin(p+2*Math.PI+.5*o)]),d.push([jt(l,u)+t+.98*i*Math.cos(p+o),jt(l,u)+r+.98*n*Math.sin(p+o)]),d.push([jt(l,u)+t+.9*i*Math.cos(p+.5*o),jt(l,u)+r+.9*n*Math.sin(p+.5*o)])}return[d,h]}function V1(e,t,r,i,n,l,o,u,h){const d=l+jt(.1,h),p=[];p.push([jt(u,h)+t+.9*i*Math.cos(d-e),jt(u,h)+r+.9*n*Math.sin(d-e)]);for(let g=d;g<=o;g+=e)p.push([jt(u,h)+t+i*Math.cos(g),jt(u,h)+r+n*Math.sin(g)]);return p.push([t+i*Math.cos(o),r+n*Math.sin(o)]),p.push([t+i*Math.cos(o),r+n*Math.sin(o)]),Pd(p,null,h)}function WU(e,t,r,i,n,l,o,u){const h=[],d=[u.maxRandomnessOffset||1,(u.maxRandomnessOffset||1)+.3];let p=[0,0];const g=u.disableMultiStroke?1:2,y=u.preserveVertices;for(let x=0;x<g;x++)x===0?h.push({op:"move",data:[o[0],o[1]]}):h.push({op:"move",data:[o[0]+(y?0:jt(d[0],u)),o[1]+(y?0:jt(d[0],u))]}),p=y?[n,l]:[n+jt(d[x],u),l+jt(d[x],u)],h.push({op:"bcurveTo",data:[e+jt(d[x],u),t+jt(d[x],u),r+jt(d[x],u),i+jt(d[x],u),p[0],p[1]]});return h}function sc(e){return[...e]}function X1(e,t=0){const r=e.length;if(r<3)throw new Error("A curve must have at least three points.");const i=[];if(r===3)i.push(sc(e[0]),sc(e[1]),sc(e[2]),sc(e[2]));else{const n=[];n.push(e[0],e[0]);for(let u=1;u<e.length;u++)n.push(e[u]),u===e.length-1&&n.push(e[u]);const l=[],o=1-t;i.push(sc(n[0]));for(let u=1;u+2<n.length;u++){const h=n[u];l[0]=[h[0],h[1]],l[1]=[h[0]+(o*n[u+1][0]-o*n[u-1][0])/6,h[1]+(o*n[u+1][1]-o*n[u-1][1])/6],l[2]=[n[u+1][0]+(o*n[u][0]-o*n[u+2][0])/6,n[u+1][1]+(o*n[u][1]-o*n[u+2][1])/6],l[3]=[n[u+1][0],n[u+1][1]],i.push(l[1],l[2],l[3])}}return i}function ed(e,t){return Math.pow(e[0]-t[0],2)+Math.pow(e[1]-t[1],2)}function GU(e,t,r){const i=ed(t,r);if(i===0)return ed(e,t);let n=((e[0]-t[0])*(r[0]-t[0])+(e[1]-t[1])*(r[1]-t[1]))/i;return n=Math.max(0,Math.min(1,n)),ed(e,Wn(t,r,n))}function Wn(e,t,r){return[e[0]+(t[0]-e[0])*r,e[1]+(t[1]-e[1])*r]}function Cy(e,t,r,i){const n=i||[];if((function(u,h){const d=u[h+0],p=u[h+1],g=u[h+2],y=u[h+3];let x=3*p[0]-2*d[0]-y[0];x*=x;let v=3*p[1]-2*d[1]-y[1];v*=v;let _=3*g[0]-2*y[0]-d[0];_*=_;let S=3*g[1]-2*y[1]-d[1];return S*=S,x<_&&(x=_),v<S&&(v=S),x+v})(e,t)<r){const u=e[t+0];n.length?(l=n[n.length-1],o=u,Math.sqrt(ed(l,o))>1&&n.push(u)):n.push(u),n.push(e[t+3])}else{const h=e[t+0],d=e[t+1],p=e[t+2],g=e[t+3],y=Wn(h,d,.5),x=Wn(d,p,.5),v=Wn(p,g,.5),_=Wn(y,x,.5),S=Wn(x,v,.5),T=Wn(_,S,.5);Cy([h,y,_,T],0,r,n),Cy([T,S,v,g],0,r,n)}var l,o;return n}function YU(e,t){return Ud(e,0,e.length,t)}function Ud(e,t,r,i,n){const l=n||[],o=e[t],u=e[r-1];let h=0,d=1;for(let p=t+1;p<r-1;++p){const g=GU(e[p],o,u);g>h&&(h=g,d=p)}return Math.sqrt(h)>i?(Ud(e,t,d+1,i,l),Ud(e,d,r,i,l)):(l.length||l.push(o),l.push(u)),l}function bm(e,t=.15,r){const i=[],n=(e.length-1)/3;for(let l=0;l<n;l++)Cy(e,3*l,t,i);return r&&r>0?Ud(i,0,i.length,r):i}const qr="none";class Id{constructor(t){this.defaultOptions={maxRandomnessOffset:2,roughness:1,bowing:1,stroke:"#000",strokeWidth:1,curveTightness:0,curveFitting:.95,curveStepCount:9,fillStyle:"hachure",fillWeight:-1,hachureAngle:-41,hachureGap:-1,dashOffset:-1,dashGap:-1,zigzagOffset:-1,seed:0,disableMultiStroke:!1,disableMultiStrokeFill:!1,preserveVertices:!1,fillShapeRoughnessGain:.8},this.config=t||{},this.config.options&&(this.defaultOptions=this._o(this.config.options))}static newSeed(){return Math.floor(Math.random()*2**31)}_o(t){return t?Object.assign({},this.defaultOptions,t):this.defaultOptions}_d(t,r,i){return{shape:t,sets:r||[],options:i||this.defaultOptions}}line(t,r,i,n,l){const o=this._o(l);return this._d("line",[KT(t,r,i,n,o)],o)}rectangle(t,r,i,n,l){const o=this._o(l),u=[],h=HU(t,r,i,n,o);if(o.fill){const d=[[t,r],[t+i,r],[t+i,r+n],[t,r+n]];o.fillStyle==="solid"?u.push(ym([d],o)):u.push(sl([d],o))}return o.stroke!==qr&&u.push(h),this._d("rectangle",u,o)}ellipse(t,r,i,n,l){const o=this._o(l),u=[],h=QT(i,n,o),d=Sy(t,r,o,h);if(o.fill)if(o.fillStyle==="solid"){const p=Sy(t,r,o,h).opset;p.type="fillPath",u.push(p)}else u.push(sl([d.estimatedPoints],o));return o.stroke!==qr&&u.push(d.opset),this._d("ellipse",u,o)}circle(t,r,i,n){const l=this.ellipse(t,r,i,i,n);return l.shape="circle",l}linearPath(t,r){const i=this._o(r);return this._d("linearPath",[td(t,!1,i)],i)}arc(t,r,i,n,l,o,u=!1,h){const d=this._o(h),p=[],g=H1(t,r,i,n,l,o,u,!0,d);if(u&&d.fill)if(d.fillStyle==="solid"){const y=Object.assign({},d);y.disableMultiStroke=!0;const x=H1(t,r,i,n,l,o,!0,!1,y);x.type="fillPath",p.push(x)}else p.push((function(y,x,v,_,S,T,E){const O=y,M=x;let N=Math.abs(v/2),q=Math.abs(_/2);N+=jt(.01*N,E),q+=jt(.01*q,E);let z=S,Q=T;for(;z<0;)z+=2*Math.PI,Q+=2*Math.PI;Q-z>2*Math.PI&&(z=0,Q=2*Math.PI);const et=(Q-z)/E.curveStepCount,it=[];for(let J=z;J<=Q;J+=et)it.push([O+N*Math.cos(J),M+q*Math.sin(J)]);return it.push([O+N*Math.cos(Q),M+q*Math.sin(Q)]),it.push([O,M]),sl([it],E)})(t,r,i,n,l,o,d));return d.stroke!==qr&&p.push(g),this._d("arc",p,d)}curve(t,r){const i=this._o(r),n=[],l=q1(t,i);if(i.fill&&i.fill!==qr)if(i.fillStyle==="solid"){const o=q1(t,Object.assign(Object.assign({},i),{disableMultiStroke:!0,roughness:i.roughness?i.roughness+i.fillShapeRoughnessGain:0}));n.push({type:"fillPath",ops:this._mergedShape(o.ops)})}else{const o=[],u=t;if(u.length){const h=typeof u[0][0]=="number"?[u]:u;for(const d of h)d.length<3?o.push(...d):d.length===3?o.push(...bm(X1([d[0],d[0],d[1],d[2]]),10,(1+i.roughness)/2)):o.push(...bm(X1(d),10,(1+i.roughness)/2))}o.length&&n.push(sl([o],i))}return i.stroke!==qr&&n.push(l),this._d("curve",n,i)}polygon(t,r){const i=this._o(r),n=[],l=td(t,!0,i);return i.fill&&(i.fillStyle==="solid"?n.push(ym([t],i)):n.push(sl([t],i))),i.stroke!==qr&&n.push(l),this._d("polygon",n,i)}path(t,r){const i=this._o(r),n=[];if(!t)return this._d("path",n,i);t=(t||"").replace(/\n/g," ").replace(/(-\s)/g,"-").replace("/(ss)/g"," ");const l=i.fill&&i.fill!=="transparent"&&i.fill!==qr,o=i.stroke!==qr,u=!!(i.simplification&&i.simplification<1),h=(function(p,g,y){const x=VT(YT(W0(p))),v=[];let _=[],S=[0,0],T=[];const E=()=>{T.length>=4&&_.push(...bm(T,g)),T=[]},O=()=>{E(),_.length&&(v.push(_),_=[])};for(const{key:N,data:q}of x)switch(N){case"M":O(),S=[q[0],q[1]],_.push(S);break;case"L":E(),_.push([q[0],q[1]]);break;case"C":if(!T.length){const z=_.length?_[_.length-1]:S;T.push([z[0],z[1]])}T.push([q[0],q[1]]),T.push([q[2],q[3]]),T.push([q[4],q[5]]);break;case"Z":E(),_.push([S[0],S[1]])}if(O(),!y)return v;const M=[];for(const N of v){const q=YU(N,y);q.length&&M.push(q)}return M})(t,1,u?4-4*(i.simplification||1):(1+i.roughness)/2),d=W1(t,i);if(l)if(i.fillStyle==="solid")if(h.length===1){const p=W1(t,Object.assign(Object.assign({},i),{disableMultiStroke:!0,roughness:i.roughness?i.roughness+i.fillShapeRoughnessGain:0}));n.push({type:"fillPath",ops:this._mergedShape(p.ops)})}else n.push(ym(h,i));else n.push(sl(h,i));return o&&(u?h.forEach((p=>{n.push(td(p,!1,i))})):n.push(d)),this._d("path",n,i)}opsToPath(t,r){let i="";for(const n of t.ops){const l=typeof r=="number"&&r>=0?n.data.map((o=>+o.toFixed(r))):n.data;switch(n.op){case"move":i+=`M${l[0]} ${l[1]} `;break;case"bcurveTo":i+=`C${l[0]} ${l[1]}, ${l[2]} ${l[3]}, ${l[4]} ${l[5]} `;break;case"lineTo":i+=`L${l[0]} ${l[1]} `}}return i.trim()}toPaths(t){const r=t.sets||[],i=t.options||this.defaultOptions,n=[];for(const l of r){let o=null;switch(l.type){case"path":o={d:this.opsToPath(l),stroke:i.stroke,strokeWidth:i.strokeWidth,fill:qr};break;case"fillPath":o={d:this.opsToPath(l),stroke:qr,strokeWidth:0,fill:i.fill||qr};break;case"fillSketch":o=this.fillSketch(l,i)}o&&n.push(o)}return n}fillSketch(t,r){let i=r.fillWeight;return i<0&&(i=r.strokeWidth/2),{d:this.opsToPath(t),stroke:r.fill||qr,strokeWidth:i,fill:qr}}_mergedShape(t){return t.filter(((r,i)=>i===0||r.op!=="move"))}}class VU{constructor(t,r){this.canvas=t,this.ctx=this.canvas.getContext("2d"),this.gen=new Id(r)}draw(t){const r=t.sets||[],i=t.options||this.getDefaultOptions(),n=this.ctx,l=t.options.fixedDecimalPlaceDigits;for(const o of r)switch(o.type){case"path":n.save(),n.strokeStyle=i.stroke==="none"?"transparent":i.stroke,n.lineWidth=i.strokeWidth,i.strokeLineDash&&n.setLineDash(i.strokeLineDash),i.strokeLineDashOffset&&(n.lineDashOffset=i.strokeLineDashOffset),this._drawToContext(n,o,l),n.restore();break;case"fillPath":{n.save(),n.fillStyle=i.fill||"";const u=t.shape==="curve"||t.shape==="polygon"||t.shape==="path"?"evenodd":"nonzero";this._drawToContext(n,o,l,u),n.restore();break}case"fillSketch":this.fillSketch(n,o,i)}}fillSketch(t,r,i){let n=i.fillWeight;n<0&&(n=i.strokeWidth/2),t.save(),i.fillLineDash&&t.setLineDash(i.fillLineDash),i.fillLineDashOffset&&(t.lineDashOffset=i.fillLineDashOffset),t.strokeStyle=i.fill||"",t.lineWidth=n,this._drawToContext(t,r,i.fixedDecimalPlaceDigits),t.restore()}_drawToContext(t,r,i,n="nonzero"){t.beginPath();for(const l of r.ops){const o=typeof i=="number"&&i>=0?l.data.map((u=>+u.toFixed(i))):l.data;switch(l.op){case"move":t.moveTo(o[0],o[1]);break;case"bcurveTo":t.bezierCurveTo(o[0],o[1],o[2],o[3],o[4],o[5]);break;case"lineTo":t.lineTo(o[0],o[1])}}r.type==="fillPath"?t.fill(n):t.stroke()}get generator(){return this.gen}getDefaultOptions(){return this.gen.defaultOptions}line(t,r,i,n,l){const o=this.gen.line(t,r,i,n,l);return this.draw(o),o}rectangle(t,r,i,n,l){const o=this.gen.rectangle(t,r,i,n,l);return this.draw(o),o}ellipse(t,r,i,n,l){const o=this.gen.ellipse(t,r,i,n,l);return this.draw(o),o}circle(t,r,i,n){const l=this.gen.circle(t,r,i,n);return this.draw(l),l}linearPath(t,r){const i=this.gen.linearPath(t,r);return this.draw(i),i}polygon(t,r){const i=this.gen.polygon(t,r);return this.draw(i),i}arc(t,r,i,n,l,o,u=!1,h){const d=this.gen.arc(t,r,i,n,l,o,u,h);return this.draw(d),d}curve(t,r){const i=this.gen.curve(t,r);return this.draw(i),i}path(t,r){const i=this.gen.path(t,r);return this.draw(i),i}}const zh="http://www.w3.org/2000/svg";class XU{constructor(t,r){this.svg=t,this.gen=new Id(r)}draw(t){const r=t.sets||[],i=t.options||this.getDefaultOptions(),n=this.svg.ownerDocument||window.document,l=n.createElementNS(zh,"g"),o=t.options.fixedDecimalPlaceDigits;for(const u of r){let h=null;switch(u.type){case"path":h=n.createElementNS(zh,"path"),h.setAttribute("d",this.opsToPath(u,o)),h.setAttribute("stroke",i.stroke),h.setAttribute("stroke-width",i.strokeWidth+""),h.setAttribute("fill","none"),i.strokeLineDash&&h.setAttribute("stroke-dasharray",i.strokeLineDash.join(" ").trim()),i.strokeLineDashOffset&&h.setAttribute("stroke-dashoffset",`${i.strokeLineDashOffset}`);break;case"fillPath":h=n.createElementNS(zh,"path"),h.setAttribute("d",this.opsToPath(u,o)),h.setAttribute("stroke","none"),h.setAttribute("stroke-width","0"),h.setAttribute("fill",i.fill||""),t.shape!=="curve"&&t.shape!=="polygon"||h.setAttribute("fill-rule","evenodd");break;case"fillSketch":h=this.fillSketch(n,u,i)}h&&l.appendChild(h)}return l}fillSketch(t,r,i){let n=i.fillWeight;n<0&&(n=i.strokeWidth/2);const l=t.createElementNS(zh,"path");return l.setAttribute("d",this.opsToPath(r,i.fixedDecimalPlaceDigits)),l.setAttribute("stroke",i.fill||""),l.setAttribute("stroke-width",n+""),l.setAttribute("fill","none"),i.fillLineDash&&l.setAttribute("stroke-dasharray",i.fillLineDash.join(" ").trim()),i.fillLineDashOffset&&l.setAttribute("stroke-dashoffset",`${i.fillLineDashOffset}`),l}get generator(){return this.gen}getDefaultOptions(){return this.gen.defaultOptions}opsToPath(t,r){return this.gen.opsToPath(t,r)}line(t,r,i,n,l){const o=this.gen.line(t,r,i,n,l);return this.draw(o)}rectangle(t,r,i,n,l){const o=this.gen.rectangle(t,r,i,n,l);return this.draw(o)}ellipse(t,r,i,n,l){const o=this.gen.ellipse(t,r,i,n,l);return this.draw(o)}circle(t,r,i,n){const l=this.gen.circle(t,r,i,n);return this.draw(l)}linearPath(t,r){const i=this.gen.linearPath(t,r);return this.draw(i)}polygon(t,r){const i=this.gen.polygon(t,r);return this.draw(i)}arc(t,r,i,n,l,o,u=!1,h){const d=this.gen.arc(t,r,i,n,l,o,u,h);return this.draw(d)}curve(t,r){const i=this.gen.curve(t,r);return this.draw(i)}path(t,r){const i=this.gen.path(t,r);return this.draw(i)}}var xt={canvas:(e,t)=>new VU(e,t),svg:(e,t)=>new XU(e,t),generator:e=>new Id(e),newSeed:()=>Id.newSeed()},Bt=w(async(e,t,r)=>{let i;const n=t.useHtmlLabels||We(ie()?.htmlLabels);r?i=r:i="node default";const l=e.insert("g").attr("class",i).attr("id",t.domId||t.id),o=l.insert("g").attr("class","label").attr("style",hr(t.labelStyle));let u;t.label===void 0?u="":u=typeof t.label=="string"?t.label:t.label[0];const h=await yn(o,di(ps(u),ie()),{useHtmlLabels:n,width:t.width||ie().flowchart?.wrappingWidth,cssClasses:"markdown-node-label",style:t.labelStyle,addSvgBackground:!!t.icon||!!t.img});let d=h.getBBox();const p=(t?.padding??0)/2;if(n){const g=h.children[0],y=Xt(h),x=g.getElementsByTagName("img");if(x){const v=u.replace(/<img[^>]*>/g,"").trim()==="";await Promise.all([...x].map(_=>new Promise(S=>{function T(){if(_.style.display="flex",_.style.flexDirection="column",v){const E=ie().fontSize?ie().fontSize:window.getComputedStyle(document.body).fontSize,O=5,[M=d2.fontSize]=pf(E),N=M*O+"px";_.style.minWidth=N,_.style.maxWidth=N}else _.style.width="100%";S(_)}w(T,"setupImage"),setTimeout(()=>{_.complete&&T()}),_.addEventListener("error",T),_.addEventListener("load",T)})))}d=g.getBoundingClientRect(),y.attr("width",d.width),y.attr("height",d.height)}return n?o.attr("transform","translate("+-d.width/2+", "+-d.height/2+")"):o.attr("transform","translate(0, "+-d.height/2+")"),t.centerLabel&&o.attr("transform","translate("+-d.width/2+", "+-d.height/2+")"),o.insert("rect",":first-child"),{shapeSvg:l,bbox:d,halfPadding:p,label:o}},"labelHelper"),xm=w(async(e,t,r)=>{const i=r.useHtmlLabels||We(ie()?.flowchart?.htmlLabels),n=e.insert("g").attr("class","label").attr("style",r.labelStyle||""),l=await yn(n,di(ps(t),ie()),{useHtmlLabels:i,width:r.width||ie()?.flowchart?.wrappingWidth,style:r.labelStyle,addSvgBackground:!!r.icon||!!r.img});let o=l.getBBox();const u=r.padding/2;if(We(ie()?.flowchart?.htmlLabels)){const h=l.children[0],d=Xt(l);o=h.getBoundingClientRect(),d.attr("width",o.width),d.attr("height",o.height)}return i?n.attr("transform","translate("+-o.width/2+", "+-o.height/2+")"):n.attr("transform","translate(0, "+-o.height/2+")"),r.centerLabel&&n.attr("transform","translate("+-o.width/2+", "+-o.height/2+")"),n.insert("rect",":first-child"),{shapeSvg:e,bbox:o,halfPadding:u,label:n}},"insertLabel"),wt=w((e,t)=>{const r=t.node().getBBox();e.width=r.width,e.height=r.height},"updateNodeBounds"),Rt=w((e,t)=>(e.look==="handDrawn"?"rough-node":"node")+" "+e.cssClasses+" "+(t||""),"getNodeClasses");function Wt(e){const t=e.map((r,i)=>`${i===0?"M":"L"}${r.x},${r.y}`);return t.push("Z"),t.join(" ")}w(Wt,"createPathFromPoints");function gn(e,t,r,i,n,l){const o=[],h=r-e,d=i-t,p=h/l,g=2*Math.PI/p,y=t+d/2;for(let x=0;x<=50;x++){const v=x/50,_=e+v*h,S=y+n*Math.sin(g*(_-e));o.push({x:_,y:S})}return o}w(gn,"generateFullSineWavePoints");function qc(e,t,r,i,n,l){const o=[],u=n*Math.PI/180,p=(l*Math.PI/180-u)/(i-1);for(let g=0;g<i;g++){const y=u+g*p,x=e+r*Math.cos(y),v=t+r*Math.sin(y);o.push({x:-x,y:-v})}return o}w(qc,"generateCirclePoints");var KU=w((e,t)=>{var r=e.x,i=e.y,n=t.x-r,l=t.y-i,o=e.width/2,u=e.height/2,h,d;return Math.abs(l)*o>Math.abs(n)*u?(l<0&&(u=-u),h=l===0?0:u*n/l,d=u):(n<0&&(o=-o),h=o,d=n===0?0:o*l/n),{x:r+h,y:i+d}},"intersectRect"),ql=KU;function JT(e,t){t&&e.attr("style",t)}w(JT,"applyStyle");async function tE(e){const t=Xt(document.createElementNS("http://www.w3.org/2000/svg","foreignObject")),r=t.append("xhtml:div"),i=ie();let n=e.label;e.label&&Al(e.label)&&(n=await Zy(e.label.replace(Fl.lineBreakRegex,`
`),i));const o='<span class="'+(e.isNode?"nodeLabel":"edgeLabel")+'" '+(e.labelStyle?'style="'+e.labelStyle+'"':"")+">"+n+"</span>";return r.html(di(o,i)),JT(r,e.labelStyle),r.style("display","inline-block"),r.style("padding-right","1px"),r.style("white-space","nowrap"),r.attr("xmlns","http://www.w3.org/1999/xhtml"),t.node()}w(tE,"addHtmlLabel");var QU=w(async(e,t,r,i)=>{let n=e||"";if(typeof n=="object"&&(n=n[0]),We(ie().flowchart.htmlLabels)){n=n.replace(/\\n|\n/g,"<br />"),st.info("vertexText"+n);const l={isNode:i,label:ps(n).replace(/fa[blrs]?:fa-[\w-]+/g,u=>`<i class='${u.replace(":"," ")}'></i>`),labelStyle:t&&t.replace("fill:","color:")};return await tE(l)}else{const l=document.createElementNS("http://www.w3.org/2000/svg","text");l.setAttribute("style",t.replace("color:","fill:"));let o=[];typeof n=="string"?o=n.split(/\\n|\n|<br\s*\/?>/gi):Array.isArray(n)?o=n:o=[];for(const u of o){const h=document.createElementNS("http://www.w3.org/2000/svg","tspan");h.setAttributeNS("http://www.w3.org/XML/1998/namespace","xml:space","preserve"),h.setAttribute("dy","1em"),h.setAttribute("x","0"),r?h.setAttribute("class","title-row"):h.setAttribute("class","row"),h.textContent=u.trim(),l.appendChild(h)}return l}},"createLabel"),ts=QU,bn=w((e,t,r,i,n)=>["M",e+n,t,"H",e+r-n,"A",n,n,0,0,1,e+r,t+n,"V",t+i-n,"A",n,n,0,0,1,e+r-n,t+i,"H",e+n,"A",n,n,0,0,1,e,t+i-n,"V",t+n,"A",n,n,0,0,1,e+n,t,"Z"].join(" "),"createRoundedRectPathD"),eE=w(async(e,t)=>{st.info("Creating subgraph rect for ",t.id,t);const r=ie(),{themeVariables:i,handDrawnSeed:n}=r,{clusterBkg:l,clusterBorder:o}=i,{labelStyles:u,nodeStyles:h,borderStyles:d,backgroundStyles:p}=_t(t),g=e.insert("g").attr("class","cluster "+t.cssClasses).attr("id",t.id).attr("data-look",t.look),y=We(r.flowchart.htmlLabels),x=g.insert("g").attr("class","cluster-label "),v=await yn(x,t.label,{style:t.labelStyle,useHtmlLabels:y,isNode:!0});let _=v.getBBox();if(We(r.flowchart.htmlLabels)){const z=v.children[0],Q=Xt(v);_=z.getBoundingClientRect(),Q.attr("width",_.width),Q.attr("height",_.height)}const S=t.width<=_.width+t.padding?_.width+t.padding:t.width;t.width<=_.width+t.padding?t.diff=(S-t.width)/2-t.padding:t.diff=-t.padding;const T=t.height,E=t.x-S/2,O=t.y-T/2;st.trace("Data ",t,JSON.stringify(t));let M;if(t.look==="handDrawn"){const z=xt.svg(g),Q=vt(t,{roughness:.7,fill:l,stroke:o,fillWeight:3,seed:n}),et=z.path(bn(E,O,S,T,0),Q);M=g.insert(()=>(st.debug("Rough node insert CXC",et),et),":first-child"),M.select("path:nth-child(2)").attr("style",d.join(";")),M.select("path").attr("style",p.join(";").replace("fill","stroke"))}else M=g.insert("rect",":first-child"),M.attr("style",h).attr("rx",t.rx).attr("ry",t.ry).attr("x",E).attr("y",O).attr("width",S).attr("height",T);const{subGraphTitleTopMargin:N}=S0(r);if(x.attr("transform",`translate(${t.x-_.width/2}, ${t.y-t.height/2+N})`),u){const z=x.select("span");z&&z.attr("style",u)}const q=M.node().getBBox();return t.offsetX=0,t.width=q.width,t.height=q.height,t.offsetY=_.height-t.padding/2,t.intersect=function(z){return ql(t,z)},{cluster:g,labelBBox:_}},"rect"),ZU=w((e,t)=>{const r=e.insert("g").attr("class","note-cluster").attr("id",t.id),i=r.insert("rect",":first-child"),n=0*t.padding,l=n/2;i.attr("rx",t.rx).attr("ry",t.ry).attr("x",t.x-t.width/2-l).attr("y",t.y-t.height/2-l).attr("width",t.width+n).attr("height",t.height+n).attr("fill","none");const o=i.node().getBBox();return t.width=o.width,t.height=o.height,t.intersect=function(u){return ql(t,u)},{cluster:r,labelBBox:{width:0,height:0}}},"noteGroup"),JU=w(async(e,t)=>{const r=ie(),{themeVariables:i,handDrawnSeed:n}=r,{altBackground:l,compositeBackground:o,compositeTitleBackground:u,nodeBorder:h}=i,d=e.insert("g").attr("class",t.cssClasses).attr("id",t.id).attr("data-id",t.id).attr("data-look",t.look),p=d.insert("g",":first-child"),g=d.insert("g").attr("class","cluster-label");let y=d.append("rect");const x=g.node().appendChild(await ts(t.label,t.labelStyle,void 0,!0));let v=x.getBBox();if(We(r.flowchart.htmlLabels)){const et=x.children[0],it=Xt(x);v=et.getBoundingClientRect(),it.attr("width",v.width),it.attr("height",v.height)}const _=0*t.padding,S=_/2,T=(t.width<=v.width+t.padding?v.width+t.padding:t.width)+_;t.width<=v.width+t.padding?t.diff=(T-t.width)/2-t.padding:t.diff=-t.padding;const E=t.height+_,O=t.height+_-v.height-6,M=t.x-T/2,N=t.y-E/2;t.width=T;const q=t.y-t.height/2-S+v.height+2;let z;if(t.look==="handDrawn"){const et=t.cssClasses.includes("statediagram-cluster-alt"),it=xt.svg(d),J=t.rx||t.ry?it.path(bn(M,N,T,E,10),{roughness:.7,fill:u,fillStyle:"solid",stroke:h,seed:n}):it.rectangle(M,N,T,E,{seed:n});z=d.insert(()=>J,":first-child");const ot=it.rectangle(M,q,T,O,{fill:et?l:o,fillStyle:et?"hachure":"solid",stroke:h,seed:n});z=d.insert(()=>J,":first-child"),y=d.insert(()=>ot)}else z=p.insert("rect",":first-child"),z.attr("class","outer").attr("x",M).attr("y",N).attr("width",T).attr("height",E).attr("data-look",t.look),y.attr("class","inner").attr("x",M).attr("y",q).attr("width",T).attr("height",O);g.attr("transform",`translate(${t.x-v.width/2}, ${N+1-(We(r.flowchart.htmlLabels)?0:3)})`);const Q=z.node().getBBox();return t.height=Q.height,t.offsetX=0,t.offsetY=v.height-t.padding/2,t.labelBBox=v,t.intersect=function(et){return ql(t,et)},{cluster:d,labelBBox:v}},"roundedWithTitle"),tI=w(async(e,t)=>{st.info("Creating subgraph rect for ",t.id,t);const r=ie(),{themeVariables:i,handDrawnSeed:n}=r,{clusterBkg:l,clusterBorder:o}=i,{labelStyles:u,nodeStyles:h,borderStyles:d,backgroundStyles:p}=_t(t),g=e.insert("g").attr("class","cluster "+t.cssClasses).attr("id",t.id).attr("data-look",t.look),y=We(r.flowchart.htmlLabels),x=g.insert("g").attr("class","cluster-label "),v=await yn(x,t.label,{style:t.labelStyle,useHtmlLabels:y,isNode:!0,width:t.width});let _=v.getBBox();if(We(r.flowchart.htmlLabels)){const z=v.children[0],Q=Xt(v);_=z.getBoundingClientRect(),Q.attr("width",_.width),Q.attr("height",_.height)}const S=t.width<=_.width+t.padding?_.width+t.padding:t.width;t.width<=_.width+t.padding?t.diff=(S-t.width)/2-t.padding:t.diff=-t.padding;const T=t.height,E=t.x-S/2,O=t.y-T/2;st.trace("Data ",t,JSON.stringify(t));let M;if(t.look==="handDrawn"){const z=xt.svg(g),Q=vt(t,{roughness:.7,fill:l,stroke:o,fillWeight:4,seed:n}),et=z.path(bn(E,O,S,T,t.rx),Q);M=g.insert(()=>(st.debug("Rough node insert CXC",et),et),":first-child"),M.select("path:nth-child(2)").attr("style",d.join(";")),M.select("path").attr("style",p.join(";").replace("fill","stroke"))}else M=g.insert("rect",":first-child"),M.attr("style",h).attr("rx",t.rx).attr("ry",t.ry).attr("x",E).attr("y",O).attr("width",S).attr("height",T);const{subGraphTitleTopMargin:N}=S0(r);if(x.attr("transform",`translate(${t.x-_.width/2}, ${t.y-t.height/2+N})`),u){const z=x.select("span");z&&z.attr("style",u)}const q=M.node().getBBox();return t.offsetX=0,t.width=q.width,t.height=q.height,t.offsetY=_.height-t.padding/2,t.intersect=function(z){return ql(t,z)},{cluster:g,labelBBox:_}},"kanbanSection"),eI=w((e,t)=>{const r=ie(),{themeVariables:i,handDrawnSeed:n}=r,{nodeBorder:l}=i,o=e.insert("g").attr("class",t.cssClasses).attr("id",t.id).attr("data-look",t.look),u=o.insert("g",":first-child"),h=0*t.padding,d=t.width+h;t.diff=-t.padding;const p=t.height+h,g=t.x-d/2,y=t.y-p/2;t.width=d;let x;if(t.look==="handDrawn"){const S=xt.svg(o).rectangle(g,y,d,p,{fill:"lightgrey",roughness:.5,strokeLineDash:[5],stroke:l,seed:n});x=o.insert(()=>S,":first-child")}else x=u.insert("rect",":first-child"),x.attr("class","divider").attr("x",g).attr("y",y).attr("width",d).attr("height",p).attr("data-look",t.look);const v=x.node().getBBox();return t.height=v.height,t.offsetX=0,t.offsetY=0,t.intersect=function(_){return ql(t,_)},{cluster:o,labelBBox:{}}},"divider"),rI=eE,iI={rect:eE,squareRect:rI,roundedWithTitle:JU,noteGroup:ZU,divider:eI,kanbanSection:tI},rE=new Map,aI=w(async(e,t)=>{const r=t.shape||"rect",i=await iI[r](e,t);return rE.set(t.id,i),i},"insertCluster"),W7=w(()=>{rE=new Map},"clear");function iE(e,t){return e.intersect(t)}w(iE,"intersectNode");var nI=iE;function aE(e,t,r,i){var n=e.x,l=e.y,o=n-i.x,u=l-i.y,h=Math.sqrt(t*t*u*u+r*r*o*o),d=Math.abs(t*r*o/h);i.x<n&&(d=-d);var p=Math.abs(t*r*u/h);return i.y<l&&(p=-p),{x:n+d,y:l+p}}w(aE,"intersectEllipse");var nE=aE;function sE(e,t,r){return nE(e,t,t,r)}w(sE,"intersectCircle");var sI=sE;function lE(e,t,r,i){{const n=t.y-e.y,l=e.x-t.x,o=t.x*e.y-e.x*t.y,u=n*r.x+l*r.y+o,h=n*i.x+l*i.y+o,d=1e-6;if(u!==0&&h!==0&&Ty(u,h))return;const p=i.y-r.y,g=r.x-i.x,y=i.x*r.y-r.x*i.y,x=p*e.x+g*e.y+y,v=p*t.x+g*t.y+y;if(Math.abs(x)<d&&Math.abs(v)<d&&Ty(x,v))return;const _=n*g-p*l;if(_===0)return;const S=Math.abs(_/2);let T=l*y-g*o;const E=T<0?(T-S)/_:(T+S)/_;T=p*o-n*y;const O=T<0?(T-S)/_:(T+S)/_;return{x:E,y:O}}}w(lE,"intersectLine");function Ty(e,t){return e*t>0}w(Ty,"sameSign");var lI=lE;function oE(e,t,r){let i=e.x,n=e.y,l=[],o=Number.POSITIVE_INFINITY,u=Number.POSITIVE_INFINITY;typeof t.forEach=="function"?t.forEach(function(p){o=Math.min(o,p.x),u=Math.min(u,p.y)}):(o=Math.min(o,t.x),u=Math.min(u,t.y));let h=i-e.width/2-o,d=n-e.height/2-u;for(let p=0;p<t.length;p++){let g=t[p],y=t[p<t.length-1?p+1:0],x=lI(e,r,{x:h+g.x,y:d+g.y},{x:h+y.x,y:d+y.y});x&&l.push(x)}return l.length?(l.length>1&&l.sort(function(p,g){let y=p.x-r.x,x=p.y-r.y,v=Math.sqrt(y*y+x*x),_=g.x-r.x,S=g.y-r.y,T=Math.sqrt(_*_+S*S);return v<T?-1:v===T?0:1}),l[0]):e}w(oE,"intersectPolygon");var oI=oE,pt={node:nI,circle:sI,ellipse:nE,polygon:oI,rect:ql};function cE(e,t){const{labelStyles:r}=_t(t);t.labelStyle=r;const i=Rt(t);let n=i;i||(n="anchor");const l=e.insert("g").attr("class",n).attr("id",t.domId||t.id),o=1,{cssStyles:u}=t,h=xt.svg(l),d=vt(t,{fill:"black",stroke:"none",fillStyle:"solid"});t.look!=="handDrawn"&&(d.roughness=0);const p=h.circle(0,0,o*2,d),g=l.insert(()=>p,":first-child");return g.attr("class","anchor").attr("style",hr(u)),wt(t,g),t.intersect=function(y){return st.info("Circle intersect",t,o,y),pt.circle(t,o,y)},l}w(cE,"anchor");function Ey(e,t,r,i,n,l,o){const h=(e+r)/2,d=(t+i)/2,p=Math.atan2(i-t,r-e),g=(r-e)/2,y=(i-t)/2,x=g/n,v=y/l,_=Math.sqrt(x**2+v**2);if(_>1)throw new Error("The given radii are too small to create an arc between the points.");const S=Math.sqrt(1-_**2),T=h+S*l*Math.sin(p)*(o?-1:1),E=d-S*n*Math.cos(p)*(o?-1:1),O=Math.atan2((t-E)/l,(e-T)/n);let N=Math.atan2((i-E)/l,(r-T)/n)-O;o&&N<0&&(N+=2*Math.PI),!o&&N>0&&(N-=2*Math.PI);const q=[];for(let z=0;z<20;z++){const Q=z/19,et=O+Q*N,it=T+n*Math.cos(et),J=E+l*Math.sin(et);q.push({x:it,y:J})}return q}w(Ey,"generateArcPoints");async function uE(e,t){const{labelStyles:r,nodeStyles:i}=_t(t);t.labelStyle=r;const{shapeSvg:n,bbox:l}=await Bt(e,t,Rt(t)),o=l.width+t.padding+20,u=l.height+t.padding,h=u/2,d=h/(2.5+u/50),{cssStyles:p}=t,g=[{x:o/2,y:-u/2},{x:-o/2,y:-u/2},...Ey(-o/2,-u/2,-o/2,u/2,d,h,!1),{x:o/2,y:u/2},...Ey(o/2,u/2,o/2,-u/2,d,h,!0)],y=xt.svg(n),x=vt(t,{});t.look!=="handDrawn"&&(x.roughness=0,x.fillStyle="solid");const v=Wt(g),_=y.path(v,x),S=n.insert(()=>_,":first-child");return S.attr("class","basic label-container"),p&&t.look!=="handDrawn"&&S.selectAll("path").attr("style",p),i&&t.look!=="handDrawn"&&S.selectAll("path").attr("style",i),S.attr("transform",`translate(${d/2}, 0)`),wt(t,S),t.intersect=function(T){return pt.polygon(t,g,T)},n}w(uE,"bowTieRect");function xn(e,t,r,i){return e.insert("polygon",":first-child").attr("points",i.map(function(n){return n.x+","+n.y}).join(" ")).attr("class","label-container").attr("transform","translate("+-t/2+","+r/2+")")}w(xn,"insertPolygonShape");async function hE(e,t){const{labelStyles:r,nodeStyles:i}=_t(t);t.labelStyle=r;const{shapeSvg:n,bbox:l}=await Bt(e,t,Rt(t)),o=l.height+t.padding,u=12,h=l.width+t.padding+u,d=0,p=h,g=-o,y=0,x=[{x:d+u,y:g},{x:p,y:g},{x:p,y},{x:d,y},{x:d,y:g+u},{x:d+u,y:g}];let v;const{cssStyles:_}=t;if(t.look==="handDrawn"){const S=xt.svg(n),T=vt(t,{}),E=Wt(x),O=S.path(E,T);v=n.insert(()=>O,":first-child").attr("transform",`translate(${-h/2}, ${o/2})`),_&&v.attr("style",_)}else v=xn(n,h,o,x);return i&&v.attr("style",i),wt(t,v),t.intersect=function(S){return pt.polygon(t,x,S)},n}w(hE,"card");function dE(e,t){const{nodeStyles:r}=_t(t);t.label="";const i=e.insert("g").attr("class",Rt(t)).attr("id",t.domId??t.id),{cssStyles:n}=t,l=Math.max(28,t.width??0),o=[{x:0,y:l/2},{x:l/2,y:0},{x:0,y:-l/2},{x:-l/2,y:0}],u=xt.svg(i),h=vt(t,{});t.look!=="handDrawn"&&(h.roughness=0,h.fillStyle="solid");const d=Wt(o),p=u.path(d,h),g=i.insert(()=>p,":first-child");return n&&t.look!=="handDrawn"&&g.selectAll("path").attr("style",n),r&&t.look!=="handDrawn"&&g.selectAll("path").attr("style",r),t.width=28,t.height=28,t.intersect=function(y){return pt.polygon(t,o,y)},i}w(dE,"choice");async function G0(e,t,r){const{labelStyles:i,nodeStyles:n}=_t(t);t.labelStyle=i;const{shapeSvg:l,bbox:o,halfPadding:u}=await Bt(e,t,Rt(t)),h=r?.padding??u,d=o.width/2+h;let p;const{cssStyles:g}=t;if(t.look==="handDrawn"){const y=xt.svg(l),x=vt(t,{}),v=y.circle(0,0,d*2,x);p=l.insert(()=>v,":first-child"),p.attr("class","basic label-container").attr("style",hr(g))}else p=l.insert("circle",":first-child").attr("class","basic label-container").attr("style",n).attr("r",d).attr("cx",0).attr("cy",0);return wt(t,p),t.calcIntersect=function(y,x){const v=y.width/2;return pt.circle(y,v,x)},t.intersect=function(y){return st.info("Circle intersect",t,d,y),pt.circle(t,d,y)},l}w(G0,"circle");function fE(e){const t=Math.cos(Math.PI/4),r=Math.sin(Math.PI/4),i=e*2,n={x:i/2*t,y:i/2*r},l={x:-(i/2)*t,y:i/2*r},o={x:-(i/2)*t,y:-(i/2)*r},u={x:i/2*t,y:-(i/2)*r};return`M ${l.x},${l.y} L ${u.x},${u.y}
                   M ${n.x},${n.y} L ${o.x},${o.y}`}w(fE,"createLine");function pE(e,t){const{labelStyles:r,nodeStyles:i}=_t(t);t.labelStyle=r,t.label="";const n=e.insert("g").attr("class",Rt(t)).attr("id",t.domId??t.id),l=Math.max(30,t?.width??0),{cssStyles:o}=t,u=xt.svg(n),h=vt(t,{});t.look!=="handDrawn"&&(h.roughness=0,h.fillStyle="solid");const d=u.circle(0,0,l*2,h),p=fE(l),g=u.path(p,h),y=n.insert(()=>d,":first-child");return y.insert(()=>g),o&&t.look!=="handDrawn"&&y.selectAll("path").attr("style",o),i&&t.look!=="handDrawn"&&y.selectAll("path").attr("style",i),wt(t,y),t.intersect=function(x){return st.info("crossedCircle intersect",t,{radius:l,point:x}),pt.circle(t,l,x)},n}w(pE,"crossedCircle");function xa(e,t,r,i=100,n=0,l=180){const o=[],u=n*Math.PI/180,p=(l*Math.PI/180-u)/(i-1);for(let g=0;g<i;g++){const y=u+g*p,x=e+r*Math.cos(y),v=t+r*Math.sin(y);o.push({x:-x,y:-v})}return o}w(xa,"generateCirclePoints");async function gE(e,t){const{labelStyles:r,nodeStyles:i}=_t(t);t.labelStyle=r;const{shapeSvg:n,bbox:l,label:o}=await Bt(e,t,Rt(t)),u=l.width+(t.padding??0),h=l.height+(t.padding??0),d=Math.max(5,h*.1),{cssStyles:p}=t,g=[...xa(u/2,-h/2,d,30,-90,0),{x:-u/2-d,y:d},...xa(u/2+d*2,-d,d,20,-180,-270),...xa(u/2+d*2,d,d,20,-90,-180),{x:-u/2-d,y:-h/2},...xa(u/2,h/2,d,20,0,90)],y=[{x:u/2,y:-h/2-d},{x:-u/2,y:-h/2-d},...xa(u/2,-h/2,d,20,-90,0),{x:-u/2-d,y:-d},...xa(u/2+u*.1,-d,d,20,-180,-270),...xa(u/2+u*.1,d,d,20,-90,-180),{x:-u/2-d,y:h/2},...xa(u/2,h/2,d,20,0,90),{x:-u/2,y:h/2+d},{x:u/2,y:h/2+d}],x=xt.svg(n),v=vt(t,{fill:"none"});t.look!=="handDrawn"&&(v.roughness=0,v.fillStyle="solid");const S=Wt(g).replace("Z",""),T=x.path(S,v),E=Wt(y),O=x.path(E,{...v}),M=n.insert("g",":first-child");return M.insert(()=>O,":first-child").attr("stroke-opacity",0),M.insert(()=>T,":first-child"),M.attr("class","text"),p&&t.look!=="handDrawn"&&M.selectAll("path").attr("style",p),i&&t.look!=="handDrawn"&&M.selectAll("path").attr("style",i),M.attr("transform",`translate(${d}, 0)`),o.attr("transform",`translate(${-u/2+d-(l.x-(l.left??0))},${-h/2+(t.padding??0)/2-(l.y-(l.top??0))})`),wt(t,M),t.intersect=function(N){return pt.polygon(t,y,N)},n}w(gE,"curlyBraceLeft");function va(e,t,r,i=100,n=0,l=180){const o=[],u=n*Math.PI/180,p=(l*Math.PI/180-u)/(i-1);for(let g=0;g<i;g++){const y=u+g*p,x=e+r*Math.cos(y),v=t+r*Math.sin(y);o.push({x,y:v})}return o}w(va,"generateCirclePoints");async function mE(e,t){const{labelStyles:r,nodeStyles:i}=_t(t);t.labelStyle=r;const{shapeSvg:n,bbox:l,label:o}=await Bt(e,t,Rt(t)),u=l.width+(t.padding??0),h=l.height+(t.padding??0),d=Math.max(5,h*.1),{cssStyles:p}=t,g=[...va(u/2,-h/2,d,20,-90,0),{x:u/2+d,y:-d},...va(u/2+d*2,-d,d,20,-180,-270),...va(u/2+d*2,d,d,20,-90,-180),{x:u/2+d,y:h/2},...va(u/2,h/2,d,20,0,90)],y=[{x:-u/2,y:-h/2-d},{x:u/2,y:-h/2-d},...va(u/2,-h/2,d,20,-90,0),{x:u/2+d,y:-d},...va(u/2+d*2,-d,d,20,-180,-270),...va(u/2+d*2,d,d,20,-90,-180),{x:u/2+d,y:h/2},...va(u/2,h/2,d,20,0,90),{x:u/2,y:h/2+d},{x:-u/2,y:h/2+d}],x=xt.svg(n),v=vt(t,{fill:"none"});t.look!=="handDrawn"&&(v.roughness=0,v.fillStyle="solid");const S=Wt(g).replace("Z",""),T=x.path(S,v),E=Wt(y),O=x.path(E,{...v}),M=n.insert("g",":first-child");return M.insert(()=>O,":first-child").attr("stroke-opacity",0),M.insert(()=>T,":first-child"),M.attr("class","text"),p&&t.look!=="handDrawn"&&M.selectAll("path").attr("style",p),i&&t.look!=="handDrawn"&&M.selectAll("path").attr("style",i),M.attr("transform",`translate(${-d}, 0)`),o.attr("transform",`translate(${-u/2+(t.padding??0)/2-(l.x-(l.left??0))},${-h/2+(t.padding??0)/2-(l.y-(l.top??0))})`),wt(t,M),t.intersect=function(N){return pt.polygon(t,y,N)},n}w(mE,"curlyBraceRight");function rr(e,t,r,i=100,n=0,l=180){const o=[],u=n*Math.PI/180,p=(l*Math.PI/180-u)/(i-1);for(let g=0;g<i;g++){const y=u+g*p,x=e+r*Math.cos(y),v=t+r*Math.sin(y);o.push({x:-x,y:-v})}return o}w(rr,"generateCirclePoints");async function yE(e,t){const{labelStyles:r,nodeStyles:i}=_t(t);t.labelStyle=r;const{shapeSvg:n,bbox:l,label:o}=await Bt(e,t,Rt(t)),u=l.width+(t.padding??0),h=l.height+(t.padding??0),d=Math.max(5,h*.1),{cssStyles:p}=t,g=[...rr(u/2,-h/2,d,30,-90,0),{x:-u/2-d,y:d},...rr(u/2+d*2,-d,d,20,-180,-270),...rr(u/2+d*2,d,d,20,-90,-180),{x:-u/2-d,y:-h/2},...rr(u/2,h/2,d,20,0,90)],y=[...rr(-u/2+d+d/2,-h/2,d,20,-90,-180),{x:u/2-d/2,y:d},...rr(-u/2-d/2,-d,d,20,0,90),...rr(-u/2-d/2,d,d,20,-90,0),{x:u/2-d/2,y:-d},...rr(-u/2+d+d/2,h/2,d,30,-180,-270)],x=[{x:u/2,y:-h/2-d},{x:-u/2,y:-h/2-d},...rr(u/2,-h/2,d,20,-90,0),{x:-u/2-d,y:-d},...rr(u/2+d*2,-d,d,20,-180,-270),...rr(u/2+d*2,d,d,20,-90,-180),{x:-u/2-d,y:h/2},...rr(u/2,h/2,d,20,0,90),{x:-u/2,y:h/2+d},{x:u/2-d-d/2,y:h/2+d},...rr(-u/2+d+d/2,-h/2,d,20,-90,-180),{x:u/2-d/2,y:d},...rr(-u/2-d/2,-d,d,20,0,90),...rr(-u/2-d/2,d,d,20,-90,0),{x:u/2-d/2,y:-d},...rr(-u/2+d+d/2,h/2,d,30,-180,-270)],v=xt.svg(n),_=vt(t,{fill:"none"});t.look!=="handDrawn"&&(_.roughness=0,_.fillStyle="solid");const T=Wt(g).replace("Z",""),E=v.path(T,_),M=Wt(y).replace("Z",""),N=v.path(M,_),q=Wt(x),z=v.path(q,{..._}),Q=n.insert("g",":first-child");return Q.insert(()=>z,":first-child").attr("stroke-opacity",0),Q.insert(()=>E,":first-child"),Q.insert(()=>N,":first-child"),Q.attr("class","text"),p&&t.look!=="handDrawn"&&Q.selectAll("path").attr("style",p),i&&t.look!=="handDrawn"&&Q.selectAll("path").attr("style",i),Q.attr("transform",`translate(${d-d/4}, 0)`),o.attr("transform",`translate(${-u/2+(t.padding??0)/2-(l.x-(l.left??0))},${-h/2+(t.padding??0)/2-(l.y-(l.top??0))})`),wt(t,Q),t.intersect=function(et){return pt.polygon(t,x,et)},n}w(yE,"curlyBraces");async function bE(e,t){const{labelStyles:r,nodeStyles:i}=_t(t);t.labelStyle=r;const{shapeSvg:n,bbox:l}=await Bt(e,t,Rt(t)),o=80,u=20,h=Math.max(o,(l.width+(t.padding??0)*2)*1.25,t?.width??0),d=Math.max(u,l.height+(t.padding??0)*2,t?.height??0),p=d/2,{cssStyles:g}=t,y=xt.svg(n),x=vt(t,{});t.look!=="handDrawn"&&(x.roughness=0,x.fillStyle="solid");const v=h,_=d,S=v-p,T=_/4,E=[{x:S,y:0},{x:T,y:0},{x:0,y:_/2},{x:T,y:_},{x:S,y:_},...qc(-S,-_/2,p,50,270,90)],O=Wt(E),M=y.path(O,x),N=n.insert(()=>M,":first-child");return N.attr("class","basic label-container"),g&&t.look!=="handDrawn"&&N.selectChildren("path").attr("style",g),i&&t.look!=="handDrawn"&&N.selectChildren("path").attr("style",i),N.attr("transform",`translate(${-h/2}, ${-d/2})`),wt(t,N),t.intersect=function(q){return pt.polygon(t,E,q)},n}w(bE,"curvedTrapezoid");var cI=w((e,t,r,i,n,l)=>[`M${e},${t+l}`,`a${n},${l} 0,0,0 ${r},0`,`a${n},${l} 0,0,0 ${-r},0`,`l0,${i}`,`a${n},${l} 0,0,0 ${r},0`,`l0,${-i}`].join(" "),"createCylinderPathD"),uI=w((e,t,r,i,n,l)=>[`M${e},${t+l}`,`M${e+r},${t+l}`,`a${n},${l} 0,0,0 ${-r},0`,`l0,${i}`,`a${n},${l} 0,0,0 ${r},0`,`l0,${-i}`].join(" "),"createOuterCylinderPathD"),hI=w((e,t,r,i,n,l)=>[`M${e-r/2},${-i/2}`,`a${n},${l} 0,0,0 ${r},0`].join(" "),"createInnerCylinderPathD");async function xE(e,t){const{labelStyles:r,nodeStyles:i}=_t(t);t.labelStyle=r;const{shapeSvg:n,bbox:l,label:o}=await Bt(e,t,Rt(t)),u=Math.max(l.width+t.padding,t.width??0),h=u/2,d=h/(2.5+u/50),p=Math.max(l.height+d+t.padding,t.height??0);let g;const{cssStyles:y}=t;if(t.look==="handDrawn"){const x=xt.svg(n),v=uI(0,0,u,p,h,d),_=hI(0,d,u,p,h,d),S=x.path(v,vt(t,{})),T=x.path(_,vt(t,{fill:"none"}));g=n.insert(()=>T,":first-child"),g=n.insert(()=>S,":first-child"),g.attr("class","basic label-container"),y&&g.attr("style",y)}else{const x=cI(0,0,u,p,h,d);g=n.insert("path",":first-child").attr("d",x).attr("class","basic label-container").attr("style",hr(y)).attr("style",i)}return g.attr("label-offset-y",d),g.attr("transform",`translate(${-u/2}, ${-(p/2+d)})`),wt(t,g),o.attr("transform",`translate(${-(l.width/2)-(l.x-(l.left??0))}, ${-(l.height/2)+(t.padding??0)/1.5-(l.y-(l.top??0))})`),t.intersect=function(x){const v=pt.rect(t,x),_=v.x-(t.x??0);if(h!=0&&(Math.abs(_)<(t.width??0)/2||Math.abs(_)==(t.width??0)/2&&Math.abs(v.y-(t.y??0))>(t.height??0)/2-d)){let S=d*d*(1-_*_/(h*h));S>0&&(S=Math.sqrt(S)),S=d-S,x.y-(t.y??0)>0&&(S=-S),v.y+=S}return v},n}w(xE,"cylinder");async function vE(e,t){const{labelStyles:r,nodeStyles:i}=_t(t);t.labelStyle=r;const{shapeSvg:n,bbox:l,label:o}=await Bt(e,t,Rt(t)),u=l.width+t.padding,h=l.height+t.padding,d=h*.2,p=-u/2,g=-h/2-d/2,{cssStyles:y}=t,x=xt.svg(n),v=vt(t,{});t.look!=="handDrawn"&&(v.roughness=0,v.fillStyle="solid");const _=[{x:p,y:g+d},{x:-p,y:g+d},{x:-p,y:-g},{x:p,y:-g},{x:p,y:g},{x:-p,y:g},{x:-p,y:g+d}],S=x.polygon(_.map(E=>[E.x,E.y]),v),T=n.insert(()=>S,":first-child");return T.attr("class","basic label-container"),y&&t.look!=="handDrawn"&&T.selectAll("path").attr("style",y),i&&t.look!=="handDrawn"&&T.selectAll("path").attr("style",i),o.attr("transform",`translate(${p+(t.padding??0)/2-(l.x-(l.left??0))}, ${g+d+(t.padding??0)/2-(l.y-(l.top??0))})`),wt(t,T),t.intersect=function(E){return pt.rect(t,E)},n}w(vE,"dividedRectangle");async function _E(e,t){const{labelStyles:r,nodeStyles:i}=_t(t);t.labelStyle=r;const{shapeSvg:n,bbox:l,halfPadding:o}=await Bt(e,t,Rt(t)),h=l.width/2+o+5,d=l.width/2+o;let p;const{cssStyles:g}=t;if(t.look==="handDrawn"){const y=xt.svg(n),x=vt(t,{roughness:.2,strokeWidth:2.5}),v=vt(t,{roughness:.2,strokeWidth:1.5}),_=y.circle(0,0,h*2,x),S=y.circle(0,0,d*2,v);p=n.insert("g",":first-child"),p.attr("class",hr(t.cssClasses)).attr("style",hr(g)),p.node()?.appendChild(_),p.node()?.appendChild(S)}else{p=n.insert("g",":first-child");const y=p.insert("circle",":first-child"),x=p.insert("circle");p.attr("class","basic label-container").attr("style",i),y.attr("class","outer-circle").attr("style",i).attr("r",h).attr("cx",0).attr("cy",0),x.attr("class","inner-circle").attr("style",i).attr("r",d).attr("cx",0).attr("cy",0)}return wt(t,p),t.intersect=function(y){return st.info("DoubleCircle intersect",t,h,y),pt.circle(t,h,y)},n}w(_E,"doublecircle");function wE(e,t,{config:{themeVariables:r}}){const{labelStyles:i,nodeStyles:n}=_t(t);t.label="",t.labelStyle=i;const l=e.insert("g").attr("class",Rt(t)).attr("id",t.domId??t.id),o=7,{cssStyles:u}=t,h=xt.svg(l),{nodeBorder:d}=r,p=vt(t,{fillStyle:"solid"});t.look!=="handDrawn"&&(p.roughness=0);const g=h.circle(0,0,o*2,p),y=l.insert(()=>g,":first-child");return y.selectAll("path").attr("style",`fill: ${d} !important;`),u&&u.length>0&&t.look!=="handDrawn"&&y.selectAll("path").attr("style",u),n&&t.look!=="handDrawn"&&y.selectAll("path").attr("style",n),wt(t,y),t.intersect=function(x){return st.info("filledCircle intersect",t,{radius:o,point:x}),pt.circle(t,o,x)},l}w(wE,"filledCircle");async function SE(e,t){const{labelStyles:r,nodeStyles:i}=_t(t);t.labelStyle=r;const{shapeSvg:n,bbox:l,label:o}=await Bt(e,t,Rt(t)),u=l.width+(t.padding??0),h=u+l.height,d=u+l.height,p=[{x:0,y:-h},{x:d,y:-h},{x:d/2,y:0}],{cssStyles:g}=t,y=xt.svg(n),x=vt(t,{});t.look!=="handDrawn"&&(x.roughness=0,x.fillStyle="solid");const v=Wt(p),_=y.path(v,x),S=n.insert(()=>_,":first-child").attr("transform",`translate(${-h/2}, ${h/2})`);return g&&t.look!=="handDrawn"&&S.selectChildren("path").attr("style",g),i&&t.look!=="handDrawn"&&S.selectChildren("path").attr("style",i),t.width=u,t.height=h,wt(t,S),o.attr("transform",`translate(${-l.width/2-(l.x-(l.left??0))}, ${-h/2+(t.padding??0)/2+(l.y-(l.top??0))})`),t.intersect=function(T){return st.info("Triangle intersect",t,p,T),pt.polygon(t,p,T)},n}w(SE,"flippedTriangle");function kE(e,t,{dir:r,config:{state:i,themeVariables:n}}){const{nodeStyles:l}=_t(t);t.label="";const o=e.insert("g").attr("class",Rt(t)).attr("id",t.domId??t.id),{cssStyles:u}=t;let h=Math.max(70,t?.width??0),d=Math.max(10,t?.height??0);r==="LR"&&(h=Math.max(10,t?.width??0),d=Math.max(70,t?.height??0));const p=-1*h/2,g=-1*d/2,y=xt.svg(o),x=vt(t,{stroke:n.lineColor,fill:n.lineColor});t.look!=="handDrawn"&&(x.roughness=0,x.fillStyle="solid");const v=y.rectangle(p,g,h,d,x),_=o.insert(()=>v,":first-child");u&&t.look!=="handDrawn"&&_.selectAll("path").attr("style",u),l&&t.look!=="handDrawn"&&_.selectAll("path").attr("style",l),wt(t,_);const S=i?.padding??0;return t.width&&t.height&&(t.width+=S/2||0,t.height+=S/2||0),t.intersect=function(T){return pt.rect(t,T)},o}w(kE,"forkJoin");async function CE(e,t){const{labelStyles:r,nodeStyles:i}=_t(t);t.labelStyle=r;const n=80,l=50,{shapeSvg:o,bbox:u}=await Bt(e,t,Rt(t)),h=Math.max(n,u.width+(t.padding??0)*2,t?.width??0),d=Math.max(l,u.height+(t.padding??0)*2,t?.height??0),p=d/2,{cssStyles:g}=t,y=xt.svg(o),x=vt(t,{});t.look!=="handDrawn"&&(x.roughness=0,x.fillStyle="solid");const v=[{x:-h/2,y:-d/2},{x:h/2-p,y:-d/2},...qc(-h/2+p,0,p,50,90,270),{x:h/2-p,y:d/2},{x:-h/2,y:d/2}],_=Wt(v),S=y.path(_,x),T=o.insert(()=>S,":first-child");return T.attr("class","basic label-container"),g&&t.look!=="handDrawn"&&T.selectChildren("path").attr("style",g),i&&t.look!=="handDrawn"&&T.selectChildren("path").attr("style",i),wt(t,T),t.intersect=function(E){return st.info("Pill intersect",t,{radius:p,point:E}),pt.polygon(t,v,E)},o}w(CE,"halfRoundedRectangle");async function TE(e,t){const{labelStyles:r,nodeStyles:i}=_t(t);t.labelStyle=r;const{shapeSvg:n,bbox:l}=await Bt(e,t,Rt(t)),o=l.height+(t.padding??0),u=l.width+(t.padding??0)*2.5,{cssStyles:h}=t,d=xt.svg(n),p=vt(t,{});t.look!=="handDrawn"&&(p.roughness=0,p.fillStyle="solid");let g=u/2;const y=g/6;g=g+y;const x=o/2,v=x/2,_=g-v,S=[{x:-_,y:-x},{x:0,y:-x},{x:_,y:-x},{x:g,y:0},{x:_,y:x},{x:0,y:x},{x:-_,y:x},{x:-g,y:0}],T=Wt(S),E=d.path(T,p),O=n.insert(()=>E,":first-child");return O.attr("class","basic label-container"),h&&t.look!=="handDrawn"&&O.selectChildren("path").attr("style",h),i&&t.look!=="handDrawn"&&O.selectChildren("path").attr("style",i),t.width=u,t.height=o,wt(t,O),t.intersect=function(M){return pt.polygon(t,S,M)},n}w(TE,"hexagon");async function EE(e,t){const{labelStyles:r,nodeStyles:i}=_t(t);t.label="",t.labelStyle=r;const{shapeSvg:n}=await Bt(e,t,Rt(t)),l=Math.max(30,t?.width??0),o=Math.max(30,t?.height??0),{cssStyles:u}=t,h=xt.svg(n),d=vt(t,{});t.look!=="handDrawn"&&(d.roughness=0,d.fillStyle="solid");const p=[{x:0,y:0},{x:l,y:0},{x:0,y:o},{x:l,y:o}],g=Wt(p),y=h.path(g,d),x=n.insert(()=>y,":first-child");return x.attr("class","basic label-container"),u&&t.look!=="handDrawn"&&x.selectChildren("path").attr("style",u),i&&t.look!=="handDrawn"&&x.selectChildren("path").attr("style",i),x.attr("transform",`translate(${-l/2}, ${-o/2})`),wt(t,x),t.intersect=function(v){return st.info("Pill intersect",t,{points:p}),pt.polygon(t,p,v)},n}w(EE,"hourglass");async function AE(e,t,{config:{themeVariables:r,flowchart:i}}){const{labelStyles:n}=_t(t);t.labelStyle=n;const l=t.assetHeight??48,o=t.assetWidth??48,u=Math.max(l,o),h=i?.wrappingWidth;t.width=Math.max(u,h??0);const{shapeSvg:d,bbox:p,label:g}=await Bt(e,t,"icon-shape default"),y=t.pos==="t",x=u,v=u,{nodeBorder:_}=r,{stylesMap:S}=Pl(t),T=-v/2,E=-x/2,O=t.label?8:0,M=xt.svg(d),N=vt(t,{stroke:"none",fill:"none"});t.look!=="handDrawn"&&(N.roughness=0,N.fillStyle="solid");const q=M.rectangle(T,E,v,x,N),z=Math.max(v,p.width),Q=x+p.height+O,et=M.rectangle(-z/2,-Q/2,z,Q,{...N,fill:"transparent",stroke:"none"}),it=d.insert(()=>q,":first-child"),J=d.insert(()=>et);if(t.icon){const ot=d.append("g");ot.html(`<g>${await iu(t.icon,{height:u,width:u,fallbackPrefix:""})}</g>`);const L=ot.node().getBBox(),D=L.width,F=L.height,R=L.x,j=L.y;ot.attr("transform",`translate(${-D/2-R},${y?p.height/2+O/2-F/2-j:-p.height/2-O/2-F/2-j})`),ot.attr("style",`color: ${S.get("stroke")??_};`)}return g.attr("transform",`translate(${-p.width/2-(p.x-(p.left??0))},${y?-Q/2:Q/2-p.height})`),it.attr("transform",`translate(0,${y?p.height/2+O/2:-p.height/2-O/2})`),wt(t,J),t.intersect=function(ot){if(st.info("iconSquare intersect",t,ot),!t.label)return pt.rect(t,ot);const L=t.x??0,D=t.y??0,F=t.height??0;let R=[];return y?R=[{x:L-p.width/2,y:D-F/2},{x:L+p.width/2,y:D-F/2},{x:L+p.width/2,y:D-F/2+p.height+O},{x:L+v/2,y:D-F/2+p.height+O},{x:L+v/2,y:D+F/2},{x:L-v/2,y:D+F/2},{x:L-v/2,y:D-F/2+p.height+O},{x:L-p.width/2,y:D-F/2+p.height+O}]:R=[{x:L-v/2,y:D-F/2},{x:L+v/2,y:D-F/2},{x:L+v/2,y:D-F/2+x},{x:L+p.width/2,y:D-F/2+x},{x:L+p.width/2/2,y:D+F/2},{x:L-p.width/2,y:D+F/2},{x:L-p.width/2,y:D-F/2+x},{x:L-v/2,y:D-F/2+x}],pt.polygon(t,R,ot)},d}w(AE,"icon");async function OE(e,t,{config:{themeVariables:r,flowchart:i}}){const{labelStyles:n}=_t(t);t.labelStyle=n;const l=t.assetHeight??48,o=t.assetWidth??48,u=Math.max(l,o),h=i?.wrappingWidth;t.width=Math.max(u,h??0);const{shapeSvg:d,bbox:p,label:g}=await Bt(e,t,"icon-shape default"),y=20,x=t.label?8:0,v=t.pos==="t",{nodeBorder:_,mainBkg:S}=r,{stylesMap:T}=Pl(t),E=xt.svg(d),O=vt(t,{});t.look!=="handDrawn"&&(O.roughness=0,O.fillStyle="solid");const M=T.get("fill");O.stroke=M??S;const N=d.append("g");t.icon&&N.html(`<g>${await iu(t.icon,{height:u,width:u,fallbackPrefix:""})}</g>`);const q=N.node().getBBox(),z=q.width,Q=q.height,et=q.x,it=q.y,J=Math.max(z,Q)*Math.SQRT2+y*2,ot=E.circle(0,0,J,O),L=Math.max(J,p.width),D=J+p.height+x,F=E.rectangle(-L/2,-D/2,L,D,{...O,fill:"transparent",stroke:"none"}),R=d.insert(()=>ot,":first-child"),j=d.insert(()=>F);return N.attr("transform",`translate(${-z/2-et},${v?p.height/2+x/2-Q/2-it:-p.height/2-x/2-Q/2-it})`),N.attr("style",`color: ${T.get("stroke")??_};`),g.attr("transform",`translate(${-p.width/2-(p.x-(p.left??0))},${v?-D/2:D/2-p.height})`),R.attr("transform",`translate(0,${v?p.height/2+x/2:-p.height/2-x/2})`),wt(t,j),t.intersect=function(I){return st.info("iconSquare intersect",t,I),pt.rect(t,I)},d}w(OE,"iconCircle");async function RE(e,t,{config:{themeVariables:r,flowchart:i}}){const{labelStyles:n}=_t(t);t.labelStyle=n;const l=t.assetHeight??48,o=t.assetWidth??48,u=Math.max(l,o),h=i?.wrappingWidth;t.width=Math.max(u,h??0);const{shapeSvg:d,bbox:p,halfPadding:g,label:y}=await Bt(e,t,"icon-shape default"),x=t.pos==="t",v=u+g*2,_=u+g*2,{nodeBorder:S,mainBkg:T}=r,{stylesMap:E}=Pl(t),O=-_/2,M=-v/2,N=t.label?8:0,q=xt.svg(d),z=vt(t,{});t.look!=="handDrawn"&&(z.roughness=0,z.fillStyle="solid");const Q=E.get("fill");z.stroke=Q??T;const et=q.path(bn(O,M,_,v,5),z),it=Math.max(_,p.width),J=v+p.height+N,ot=q.rectangle(-it/2,-J/2,it,J,{...z,fill:"transparent",stroke:"none"}),L=d.insert(()=>et,":first-child").attr("class","icon-shape2"),D=d.insert(()=>ot);if(t.icon){const F=d.append("g");F.html(`<g>${await iu(t.icon,{height:u,width:u,fallbackPrefix:""})}</g>`);const R=F.node().getBBox(),j=R.width,I=R.height,lt=R.x,ht=R.y;F.attr("transform",`translate(${-j/2-lt},${x?p.height/2+N/2-I/2-ht:-p.height/2-N/2-I/2-ht})`),F.attr("style",`color: ${E.get("stroke")??S};`)}return y.attr("transform",`translate(${-p.width/2-(p.x-(p.left??0))},${x?-J/2:J/2-p.height})`),L.attr("transform",`translate(0,${x?p.height/2+N/2:-p.height/2-N/2})`),wt(t,D),t.intersect=function(F){if(st.info("iconSquare intersect",t,F),!t.label)return pt.rect(t,F);const R=t.x??0,j=t.y??0,I=t.height??0;let lt=[];return x?lt=[{x:R-p.width/2,y:j-I/2},{x:R+p.width/2,y:j-I/2},{x:R+p.width/2,y:j-I/2+p.height+N},{x:R+_/2,y:j-I/2+p.height+N},{x:R+_/2,y:j+I/2},{x:R-_/2,y:j+I/2},{x:R-_/2,y:j-I/2+p.height+N},{x:R-p.width/2,y:j-I/2+p.height+N}]:lt=[{x:R-_/2,y:j-I/2},{x:R+_/2,y:j-I/2},{x:R+_/2,y:j-I/2+v},{x:R+p.width/2,y:j-I/2+v},{x:R+p.width/2/2,y:j+I/2},{x:R-p.width/2,y:j+I/2},{x:R-p.width/2,y:j-I/2+v},{x:R-_/2,y:j-I/2+v}],pt.polygon(t,lt,F)},d}w(RE,"iconRounded");async function LE(e,t,{config:{themeVariables:r,flowchart:i}}){const{labelStyles:n}=_t(t);t.labelStyle=n;const l=t.assetHeight??48,o=t.assetWidth??48,u=Math.max(l,o),h=i?.wrappingWidth;t.width=Math.max(u,h??0);const{shapeSvg:d,bbox:p,halfPadding:g,label:y}=await Bt(e,t,"icon-shape default"),x=t.pos==="t",v=u+g*2,_=u+g*2,{nodeBorder:S,mainBkg:T}=r,{stylesMap:E}=Pl(t),O=-_/2,M=-v/2,N=t.label?8:0,q=xt.svg(d),z=vt(t,{});t.look!=="handDrawn"&&(z.roughness=0,z.fillStyle="solid");const Q=E.get("fill");z.stroke=Q??T;const et=q.path(bn(O,M,_,v,.1),z),it=Math.max(_,p.width),J=v+p.height+N,ot=q.rectangle(-it/2,-J/2,it,J,{...z,fill:"transparent",stroke:"none"}),L=d.insert(()=>et,":first-child"),D=d.insert(()=>ot);if(t.icon){const F=d.append("g");F.html(`<g>${await iu(t.icon,{height:u,width:u,fallbackPrefix:""})}</g>`);const R=F.node().getBBox(),j=R.width,I=R.height,lt=R.x,ht=R.y;F.attr("transform",`translate(${-j/2-lt},${x?p.height/2+N/2-I/2-ht:-p.height/2-N/2-I/2-ht})`),F.attr("style",`color: ${E.get("stroke")??S};`)}return y.attr("transform",`translate(${-p.width/2-(p.x-(p.left??0))},${x?-J/2:J/2-p.height})`),L.attr("transform",`translate(0,${x?p.height/2+N/2:-p.height/2-N/2})`),wt(t,D),t.intersect=function(F){if(st.info("iconSquare intersect",t,F),!t.label)return pt.rect(t,F);const R=t.x??0,j=t.y??0,I=t.height??0;let lt=[];return x?lt=[{x:R-p.width/2,y:j-I/2},{x:R+p.width/2,y:j-I/2},{x:R+p.width/2,y:j-I/2+p.height+N},{x:R+_/2,y:j-I/2+p.height+N},{x:R+_/2,y:j+I/2},{x:R-_/2,y:j+I/2},{x:R-_/2,y:j-I/2+p.height+N},{x:R-p.width/2,y:j-I/2+p.height+N}]:lt=[{x:R-_/2,y:j-I/2},{x:R+_/2,y:j-I/2},{x:R+_/2,y:j-I/2+v},{x:R+p.width/2,y:j-I/2+v},{x:R+p.width/2/2,y:j+I/2},{x:R-p.width/2,y:j+I/2},{x:R-p.width/2,y:j-I/2+v},{x:R-_/2,y:j-I/2+v}],pt.polygon(t,lt,F)},d}w(LE,"iconSquare");async function ME(e,t,{config:{flowchart:r}}){const i=new Image;i.src=t?.img??"",await i.decode();const n=Number(i.naturalWidth.toString().replace("px","")),l=Number(i.naturalHeight.toString().replace("px",""));t.imageAspectRatio=n/l;const{labelStyles:o}=_t(t);t.labelStyle=o;const u=r?.wrappingWidth;t.defaultWidth=r?.wrappingWidth;const h=Math.max(t.label?u??0:0,t?.assetWidth??n),d=t.constraint==="on"&&t?.assetHeight?t.assetHeight*t.imageAspectRatio:h,p=t.constraint==="on"?d/t.imageAspectRatio:t?.assetHeight??l;t.width=Math.max(d,u??0);const{shapeSvg:g,bbox:y,label:x}=await Bt(e,t,"image-shape default"),v=t.pos==="t",_=-d/2,S=-p/2,T=t.label?8:0,E=xt.svg(g),O=vt(t,{});t.look!=="handDrawn"&&(O.roughness=0,O.fillStyle="solid");const M=E.rectangle(_,S,d,p,O),N=Math.max(d,y.width),q=p+y.height+T,z=E.rectangle(-N/2,-q/2,N,q,{...O,fill:"none",stroke:"none"}),Q=g.insert(()=>M,":first-child"),et=g.insert(()=>z);if(t.img){const it=g.append("image");it.attr("href",t.img),it.attr("width",d),it.attr("height",p),it.attr("preserveAspectRatio","none"),it.attr("transform",`translate(${-d/2},${v?q/2-p:-q/2})`)}return x.attr("transform",`translate(${-y.width/2-(y.x-(y.left??0))},${v?-p/2-y.height/2-T/2:p/2-y.height/2+T/2})`),Q.attr("transform",`translate(0,${v?y.height/2+T/2:-y.height/2-T/2})`),wt(t,et),t.intersect=function(it){if(st.info("iconSquare intersect",t,it),!t.label)return pt.rect(t,it);const J=t.x??0,ot=t.y??0,L=t.height??0;let D=[];return v?D=[{x:J-y.width/2,y:ot-L/2},{x:J+y.width/2,y:ot-L/2},{x:J+y.width/2,y:ot-L/2+y.height+T},{x:J+d/2,y:ot-L/2+y.height+T},{x:J+d/2,y:ot+L/2},{x:J-d/2,y:ot+L/2},{x:J-d/2,y:ot-L/2+y.height+T},{x:J-y.width/2,y:ot-L/2+y.height+T}]:D=[{x:J-d/2,y:ot-L/2},{x:J+d/2,y:ot-L/2},{x:J+d/2,y:ot-L/2+p},{x:J+y.width/2,y:ot-L/2+p},{x:J+y.width/2/2,y:ot+L/2},{x:J-y.width/2,y:ot+L/2},{x:J-y.width/2,y:ot-L/2+p},{x:J-d/2,y:ot-L/2+p}],pt.polygon(t,D,it)},g}w(ME,"imageSquare");async function BE(e,t){const{labelStyles:r,nodeStyles:i}=_t(t);t.labelStyle=r;const{shapeSvg:n,bbox:l}=await Bt(e,t,Rt(t)),o=Math.max(l.width+(t.padding??0)*2,t?.width??0),u=Math.max(l.height+(t.padding??0)*2,t?.height??0),h=[{x:0,y:0},{x:o,y:0},{x:o+3*u/6,y:-u},{x:-3*u/6,y:-u}];let d;const{cssStyles:p}=t;if(t.look==="handDrawn"){const g=xt.svg(n),y=vt(t,{}),x=Wt(h),v=g.path(x,y);d=n.insert(()=>v,":first-child").attr("transform",`translate(${-o/2}, ${u/2})`),p&&d.attr("style",p)}else d=xn(n,o,u,h);return i&&d.attr("style",i),t.width=o,t.height=u,wt(t,d),t.intersect=function(g){return pt.polygon(t,h,g)},n}w(BE,"inv_trapezoid");async function vf(e,t,r){const{labelStyles:i,nodeStyles:n}=_t(t);t.labelStyle=i;const{shapeSvg:l,bbox:o}=await Bt(e,t,Rt(t)),u=Math.max(o.width+r.labelPaddingX*2,t?.width||0),h=Math.max(o.height+r.labelPaddingY*2,t?.height||0),d=-u/2,p=-h/2;let g,{rx:y,ry:x}=t;const{cssStyles:v}=t;if(r?.rx&&r.ry&&(y=r.rx,x=r.ry),t.look==="handDrawn"){const _=xt.svg(l),S=vt(t,{}),T=y||x?_.path(bn(d,p,u,h,y||0),S):_.rectangle(d,p,u,h,S);g=l.insert(()=>T,":first-child"),g.attr("class","basic label-container").attr("style",hr(v))}else g=l.insert("rect",":first-child"),g.attr("class","basic label-container").attr("style",n).attr("rx",hr(y)).attr("ry",hr(x)).attr("x",d).attr("y",p).attr("width",u).attr("height",h);return wt(t,g),t.calcIntersect=function(_,S){return pt.rect(_,S)},t.intersect=function(_){return pt.rect(t,_)},l}w(vf,"drawRect");async function NE(e,t){const{shapeSvg:r,bbox:i,label:n}=await Bt(e,t,"label"),l=r.insert("rect",":first-child");return l.attr("width",.1).attr("height",.1),r.attr("class","label edgeLabel"),n.attr("transform",`translate(${-(i.width/2)-(i.x-(i.left??0))}, ${-(i.height/2)-(i.y-(i.top??0))})`),wt(t,l),t.intersect=function(h){return pt.rect(t,h)},r}w(NE,"labelRect");async function DE(e,t){const{labelStyles:r,nodeStyles:i}=_t(t);t.labelStyle=r;const{shapeSvg:n,bbox:l}=await Bt(e,t,Rt(t)),o=Math.max(l.width+(t.padding??0),t?.width??0),u=Math.max(l.height+(t.padding??0),t?.height??0),h=[{x:0,y:0},{x:o+3*u/6,y:0},{x:o,y:-u},{x:-(3*u)/6,y:-u}];let d;const{cssStyles:p}=t;if(t.look==="handDrawn"){const g=xt.svg(n),y=vt(t,{}),x=Wt(h),v=g.path(x,y);d=n.insert(()=>v,":first-child").attr("transform",`translate(${-o/2}, ${u/2})`),p&&d.attr("style",p)}else d=xn(n,o,u,h);return i&&d.attr("style",i),t.width=o,t.height=u,wt(t,d),t.intersect=function(g){return pt.polygon(t,h,g)},n}w(DE,"lean_left");async function jE(e,t){const{labelStyles:r,nodeStyles:i}=_t(t);t.labelStyle=r;const{shapeSvg:n,bbox:l}=await Bt(e,t,Rt(t)),o=Math.max(l.width+(t.padding??0),t?.width??0),u=Math.max(l.height+(t.padding??0),t?.height??0),h=[{x:-3*u/6,y:0},{x:o,y:0},{x:o+3*u/6,y:-u},{x:0,y:-u}];let d;const{cssStyles:p}=t;if(t.look==="handDrawn"){const g=xt.svg(n),y=vt(t,{}),x=Wt(h),v=g.path(x,y);d=n.insert(()=>v,":first-child").attr("transform",`translate(${-o/2}, ${u/2})`),p&&d.attr("style",p)}else d=xn(n,o,u,h);return i&&d.attr("style",i),t.width=o,t.height=u,wt(t,d),t.intersect=function(g){return pt.polygon(t,h,g)},n}w(jE,"lean_right");function $E(e,t){const{labelStyles:r,nodeStyles:i}=_t(t);t.label="",t.labelStyle=r;const n=e.insert("g").attr("class",Rt(t)).attr("id",t.domId??t.id),{cssStyles:l}=t,o=Math.max(35,t?.width??0),u=Math.max(35,t?.height??0),h=7,d=[{x:o,y:0},{x:0,y:u+h/2},{x:o-2*h,y:u+h/2},{x:0,y:2*u},{x:o,y:u-h/2},{x:2*h,y:u-h/2}],p=xt.svg(n),g=vt(t,{});t.look!=="handDrawn"&&(g.roughness=0,g.fillStyle="solid");const y=Wt(d),x=p.path(y,g),v=n.insert(()=>x,":first-child");return l&&t.look!=="handDrawn"&&v.selectAll("path").attr("style",l),i&&t.look!=="handDrawn"&&v.selectAll("path").attr("style",i),v.attr("transform",`translate(-${o/2},${-u})`),wt(t,v),t.intersect=function(_){return st.info("lightningBolt intersect",t,_),pt.polygon(t,d,_)},n}w($E,"lightningBolt");var dI=w((e,t,r,i,n,l,o)=>[`M${e},${t+l}`,`a${n},${l} 0,0,0 ${r},0`,`a${n},${l} 0,0,0 ${-r},0`,`l0,${i}`,`a${n},${l} 0,0,0 ${r},0`,`l0,${-i}`,`M${e},${t+l+o}`,`a${n},${l} 0,0,0 ${r},0`].join(" "),"createCylinderPathD"),fI=w((e,t,r,i,n,l,o)=>[`M${e},${t+l}`,`M${e+r},${t+l}`,`a${n},${l} 0,0,0 ${-r},0`,`l0,${i}`,`a${n},${l} 0,0,0 ${r},0`,`l0,${-i}`,`M${e},${t+l+o}`,`a${n},${l} 0,0,0 ${r},0`].join(" "),"createOuterCylinderPathD"),pI=w((e,t,r,i,n,l)=>[`M${e-r/2},${-i/2}`,`a${n},${l} 0,0,0 ${r},0`].join(" "),"createInnerCylinderPathD");async function zE(e,t){const{labelStyles:r,nodeStyles:i}=_t(t);t.labelStyle=r;const{shapeSvg:n,bbox:l,label:o}=await Bt(e,t,Rt(t)),u=Math.max(l.width+(t.padding??0),t.width??0),h=u/2,d=h/(2.5+u/50),p=Math.max(l.height+d+(t.padding??0),t.height??0),g=p*.1;let y;const{cssStyles:x}=t;if(t.look==="handDrawn"){const v=xt.svg(n),_=fI(0,0,u,p,h,d,g),S=pI(0,d,u,p,h,d),T=vt(t,{}),E=v.path(_,T),O=v.path(S,T);n.insert(()=>O,":first-child").attr("class","line"),y=n.insert(()=>E,":first-child"),y.attr("class","basic label-container"),x&&y.attr("style",x)}else{const v=dI(0,0,u,p,h,d,g);y=n.insert("path",":first-child").attr("d",v).attr("class","basic label-container").attr("style",hr(x)).attr("style",i)}return y.attr("label-offset-y",d),y.attr("transform",`translate(${-u/2}, ${-(p/2+d)})`),wt(t,y),o.attr("transform",`translate(${-(l.width/2)-(l.x-(l.left??0))}, ${-(l.height/2)+d-(l.y-(l.top??0))})`),t.intersect=function(v){const _=pt.rect(t,v),S=_.x-(t.x??0);if(h!=0&&(Math.abs(S)<(t.width??0)/2||Math.abs(S)==(t.width??0)/2&&Math.abs(_.y-(t.y??0))>(t.height??0)/2-d)){let T=d*d*(1-S*S/(h*h));T>0&&(T=Math.sqrt(T)),T=d-T,v.y-(t.y??0)>0&&(T=-T),_.y+=T}return _},n}w(zE,"linedCylinder");async function FE(e,t){const{labelStyles:r,nodeStyles:i}=_t(t);t.labelStyle=r;const{shapeSvg:n,bbox:l,label:o}=await Bt(e,t,Rt(t)),u=Math.max(l.width+(t.padding??0)*2,t?.width??0),h=Math.max(l.height+(t.padding??0)*2,t?.height??0),d=h/4,p=h+d,{cssStyles:g}=t,y=xt.svg(n),x=vt(t,{});t.look!=="handDrawn"&&(x.roughness=0,x.fillStyle="solid");const v=[{x:-u/2-u/2*.1,y:-p/2},{x:-u/2-u/2*.1,y:p/2},...gn(-u/2-u/2*.1,p/2,u/2+u/2*.1,p/2,d,.8),{x:u/2+u/2*.1,y:-p/2},{x:-u/2-u/2*.1,y:-p/2},{x:-u/2,y:-p/2},{x:-u/2,y:p/2*1.1},{x:-u/2,y:-p/2}],_=y.polygon(v.map(T=>[T.x,T.y]),x),S=n.insert(()=>_,":first-child");return S.attr("class","basic label-container"),g&&t.look!=="handDrawn"&&S.selectAll("path").attr("style",g),i&&t.look!=="handDrawn"&&S.selectAll("path").attr("style",i),S.attr("transform",`translate(0,${-d/2})`),o.attr("transform",`translate(${-u/2+(t.padding??0)+u/2*.1/2-(l.x-(l.left??0))},${-h/2+(t.padding??0)-d/2-(l.y-(l.top??0))})`),wt(t,S),t.intersect=function(T){return pt.polygon(t,v,T)},n}w(FE,"linedWaveEdgedRect");async function PE(e,t){const{labelStyles:r,nodeStyles:i}=_t(t);t.labelStyle=r;const{shapeSvg:n,bbox:l,label:o}=await Bt(e,t,Rt(t)),u=Math.max(l.width+(t.padding??0)*2,t?.width??0),h=Math.max(l.height+(t.padding??0)*2,t?.height??0),d=5,p=-u/2,g=-h/2,{cssStyles:y}=t,x=xt.svg(n),v=vt(t,{}),_=[{x:p-d,y:g+d},{x:p-d,y:g+h+d},{x:p+u-d,y:g+h+d},{x:p+u-d,y:g+h},{x:p+u,y:g+h},{x:p+u,y:g+h-d},{x:p+u+d,y:g+h-d},{x:p+u+d,y:g-d},{x:p+d,y:g-d},{x:p+d,y:g},{x:p,y:g},{x:p,y:g+d}],S=[{x:p,y:g+d},{x:p+u-d,y:g+d},{x:p+u-d,y:g+h},{x:p+u,y:g+h},{x:p+u,y:g},{x:p,y:g}];t.look!=="handDrawn"&&(v.roughness=0,v.fillStyle="solid");const T=Wt(_),E=x.path(T,v),O=Wt(S),M=x.path(O,{...v,fill:"none"}),N=n.insert(()=>M,":first-child");return N.insert(()=>E,":first-child"),N.attr("class","basic label-container"),y&&t.look!=="handDrawn"&&N.selectAll("path").attr("style",y),i&&t.look!=="handDrawn"&&N.selectAll("path").attr("style",i),o.attr("transform",`translate(${-(l.width/2)-d-(l.x-(l.left??0))}, ${-(l.height/2)+d-(l.y-(l.top??0))})`),wt(t,N),t.intersect=function(q){return pt.polygon(t,_,q)},n}w(PE,"multiRect");async function UE(e,t){const{labelStyles:r,nodeStyles:i}=_t(t);t.labelStyle=r;const{shapeSvg:n,bbox:l,label:o}=await Bt(e,t,Rt(t)),u=Math.max(l.width+(t.padding??0)*2,t?.width??0),h=Math.max(l.height+(t.padding??0)*2,t?.height??0),d=h/4,p=h+d,g=-u/2,y=-p/2,x=5,{cssStyles:v}=t,_=gn(g-x,y+p+x,g+u-x,y+p+x,d,.8),S=_?.[_.length-1],T=[{x:g-x,y:y+x},{x:g-x,y:y+p+x},..._,{x:g+u-x,y:S.y-x},{x:g+u,y:S.y-x},{x:g+u,y:S.y-2*x},{x:g+u+x,y:S.y-2*x},{x:g+u+x,y:y-x},{x:g+x,y:y-x},{x:g+x,y},{x:g,y},{x:g,y:y+x}],E=[{x:g,y:y+x},{x:g+u-x,y:y+x},{x:g+u-x,y:S.y-x},{x:g+u,y:S.y-x},{x:g+u,y},{x:g,y}],O=xt.svg(n),M=vt(t,{});t.look!=="handDrawn"&&(M.roughness=0,M.fillStyle="solid");const N=Wt(T),q=O.path(N,M),z=Wt(E),Q=O.path(z,M),et=n.insert(()=>q,":first-child");return et.insert(()=>Q),et.attr("class","basic label-container"),v&&t.look!=="handDrawn"&&et.selectAll("path").attr("style",v),i&&t.look!=="handDrawn"&&et.selectAll("path").attr("style",i),et.attr("transform",`translate(0,${-d/2})`),o.attr("transform",`translate(${-(l.width/2)-x-(l.x-(l.left??0))}, ${-(l.height/2)+x-d/2-(l.y-(l.top??0))})`),wt(t,et),t.intersect=function(it){return pt.polygon(t,T,it)},n}w(UE,"multiWaveEdgedRectangle");async function IE(e,t,{config:{themeVariables:r}}){const{labelStyles:i,nodeStyles:n}=_t(t);t.labelStyle=i,t.useHtmlLabels||cr().flowchart?.htmlLabels!==!1||(t.centerLabel=!0);const{shapeSvg:o,bbox:u,label:h}=await Bt(e,t,Rt(t)),d=Math.max(u.width+(t.padding??0)*2,t?.width??0),p=Math.max(u.height+(t.padding??0)*2,t?.height??0),g=-d/2,y=-p/2,{cssStyles:x}=t,v=xt.svg(o),_=vt(t,{fill:r.noteBkgColor,stroke:r.noteBorderColor});t.look!=="handDrawn"&&(_.roughness=0,_.fillStyle="solid");const S=v.rectangle(g,y,d,p,_),T=o.insert(()=>S,":first-child");return T.attr("class","basic label-container"),x&&t.look!=="handDrawn"&&T.selectAll("path").attr("style",x),n&&t.look!=="handDrawn"&&T.selectAll("path").attr("style",n),h.attr("transform",`translate(${-u.width/2-(u.x-(u.left??0))}, ${-(u.height/2)-(u.y-(u.top??0))})`),wt(t,T),t.intersect=function(E){return pt.rect(t,E)},o}w(IE,"note");var gI=w((e,t,r)=>[`M${e+r/2},${t}`,`L${e+r},${t-r/2}`,`L${e+r/2},${t-r}`,`L${e},${t-r/2}`,"Z"].join(" "),"createDecisionBoxPathD");async function qE(e,t){const{labelStyles:r,nodeStyles:i}=_t(t);t.labelStyle=r;const{shapeSvg:n,bbox:l}=await Bt(e,t,Rt(t)),o=l.width+t.padding,u=l.height+t.padding,h=o+u,d=.5,p=[{x:h/2,y:0},{x:h,y:-h/2},{x:h/2,y:-h},{x:0,y:-h/2}];let g;const{cssStyles:y}=t;if(t.look==="handDrawn"){const x=xt.svg(n),v=vt(t,{}),_=gI(0,0,h),S=x.path(_,v);g=n.insert(()=>S,":first-child").attr("transform",`translate(${-h/2+d}, ${h/2})`),y&&g.attr("style",y)}else g=xn(n,h,h,p),g.attr("transform",`translate(${-h/2+d}, ${h/2})`);return i&&g.attr("style",i),wt(t,g),t.calcIntersect=function(x,v){const _=x.width,S=[{x:_/2,y:0},{x:_,y:-_/2},{x:_/2,y:-_},{x:0,y:-_/2}],T=pt.polygon(x,S,v);return{x:T.x-.5,y:T.y-.5}},t.intersect=function(x){return this.calcIntersect(t,x)},n}w(qE,"question");async function HE(e,t){const{labelStyles:r,nodeStyles:i}=_t(t);t.labelStyle=r;const{shapeSvg:n,bbox:l,label:o}=await Bt(e,t,Rt(t)),u=Math.max(l.width+(t.padding??0),t?.width??0),h=Math.max(l.height+(t.padding??0),t?.height??0),d=-u/2,p=-h/2,g=p/2,y=[{x:d+g,y:p},{x:d,y:0},{x:d+g,y:-p},{x:-d,y:-p},{x:-d,y:p}],{cssStyles:x}=t,v=xt.svg(n),_=vt(t,{});t.look!=="handDrawn"&&(_.roughness=0,_.fillStyle="solid");const S=Wt(y),T=v.path(S,_),E=n.insert(()=>T,":first-child");return E.attr("class","basic label-container"),x&&t.look!=="handDrawn"&&E.selectAll("path").attr("style",x),i&&t.look!=="handDrawn"&&E.selectAll("path").attr("style",i),E.attr("transform",`translate(${-g/2},0)`),o.attr("transform",`translate(${-g/2-l.width/2-(l.x-(l.left??0))}, ${-(l.height/2)-(l.y-(l.top??0))})`),wt(t,E),t.intersect=function(O){return pt.polygon(t,y,O)},n}w(HE,"rect_left_inv_arrow");async function WE(e,t){const{labelStyles:r,nodeStyles:i}=_t(t);t.labelStyle=r;let n;t.cssClasses?n="node "+t.cssClasses:n="node default";const l=e.insert("g").attr("class",n).attr("id",t.domId||t.id),o=l.insert("g"),u=l.insert("g").attr("class","label").attr("style",i),h=t.description,d=t.label,p=u.node().appendChild(await ts(d,t.labelStyle,!0,!0));let g={width:0,height:0};if(We(ie()?.flowchart?.htmlLabels)){const Q=p.children[0],et=Xt(p);g=Q.getBoundingClientRect(),et.attr("width",g.width),et.attr("height",g.height)}st.info("Text 2",h);const y=h||[],x=p.getBBox(),v=u.node().appendChild(await ts(y.join?y.join("<br/>"):y,t.labelStyle,!0,!0)),_=v.children[0],S=Xt(v);g=_.getBoundingClientRect(),S.attr("width",g.width),S.attr("height",g.height);const T=(t.padding||0)/2;Xt(v).attr("transform","translate( "+(g.width>x.width?0:(x.width-g.width)/2)+", "+(x.height+T+5)+")"),Xt(p).attr("transform","translate( "+(g.width<x.width?0:-(x.width-g.width)/2)+", 0)"),g=u.node().getBBox(),u.attr("transform","translate("+-g.width/2+", "+(-g.height/2-T+3)+")");const E=g.width+(t.padding||0),O=g.height+(t.padding||0),M=-g.width/2-T,N=-g.height/2-T;let q,z;if(t.look==="handDrawn"){const Q=xt.svg(l),et=vt(t,{}),it=Q.path(bn(M,N,E,O,t.rx||0),et),J=Q.line(-g.width/2-T,-g.height/2-T+x.height+T,g.width/2+T,-g.height/2-T+x.height+T,et);z=l.insert(()=>(st.debug("Rough node insert CXC",it),J),":first-child"),q=l.insert(()=>(st.debug("Rough node insert CXC",it),it),":first-child")}else q=o.insert("rect",":first-child"),z=o.insert("line"),q.attr("class","outer title-state").attr("style",i).attr("x",-g.width/2-T).attr("y",-g.height/2-T).attr("width",g.width+(t.padding||0)).attr("height",g.height+(t.padding||0)),z.attr("class","divider").attr("x1",-g.width/2-T).attr("x2",g.width/2+T).attr("y1",-g.height/2-T+x.height+T).attr("y2",-g.height/2-T+x.height+T);return wt(t,q),t.intersect=function(Q){return pt.rect(t,Q)},l}w(WE,"rectWithTitle");function gc(e,t,r,i,n,l,o){const h=(e+r)/2,d=(t+i)/2,p=Math.atan2(i-t,r-e),g=(r-e)/2,y=(i-t)/2,x=g/n,v=y/l,_=Math.sqrt(x**2+v**2);if(_>1)throw new Error("The given radii are too small to create an arc between the points.");const S=Math.sqrt(1-_**2),T=h+S*l*Math.sin(p)*(o?-1:1),E=d-S*n*Math.cos(p)*(o?-1:1),O=Math.atan2((t-E)/l,(e-T)/n);let N=Math.atan2((i-E)/l,(r-T)/n)-O;o&&N<0&&(N+=2*Math.PI),!o&&N>0&&(N-=2*Math.PI);const q=[];for(let z=0;z<20;z++){const Q=z/19,et=O+Q*N,it=T+n*Math.cos(et),J=E+l*Math.sin(et);q.push({x:it,y:J})}return q}w(gc,"generateArcPoints");async function GE(e,t){const{labelStyles:r,nodeStyles:i}=_t(t);t.labelStyle=r;const{shapeSvg:n,bbox:l}=await Bt(e,t,Rt(t)),o=t?.padding??0,u=t?.padding??0,h=(t?.width?t?.width:l.width)+o*2,d=(t?.height?t?.height:l.height)+u*2,p=t.radius||5,g=t.taper||5,{cssStyles:y}=t,x=xt.svg(n),v=vt(t,{});t.stroke&&(v.stroke=t.stroke),t.look!=="handDrawn"&&(v.roughness=0,v.fillStyle="solid");const _=[{x:-h/2+g,y:-d/2},{x:h/2-g,y:-d/2},...gc(h/2-g,-d/2,h/2,-d/2+g,p,p,!0),{x:h/2,y:-d/2+g},{x:h/2,y:d/2-g},...gc(h/2,d/2-g,h/2-g,d/2,p,p,!0),{x:h/2-g,y:d/2},{x:-h/2+g,y:d/2},...gc(-h/2+g,d/2,-h/2,d/2-g,p,p,!0),{x:-h/2,y:d/2-g},{x:-h/2,y:-d/2+g},...gc(-h/2,-d/2+g,-h/2+g,-d/2,p,p,!0)],S=Wt(_),T=x.path(S,v),E=n.insert(()=>T,":first-child");return E.attr("class","basic label-container outer-path"),y&&t.look!=="handDrawn"&&E.selectChildren("path").attr("style",y),i&&t.look!=="handDrawn"&&E.selectChildren("path").attr("style",i),wt(t,E),t.intersect=function(O){return pt.polygon(t,_,O)},n}w(GE,"roundedRect");async function YE(e,t){const{labelStyles:r,nodeStyles:i}=_t(t);t.labelStyle=r;const{shapeSvg:n,bbox:l,label:o}=await Bt(e,t,Rt(t)),u=t?.padding??0,h=Math.max(l.width+(t.padding??0)*2,t?.width??0),d=Math.max(l.height+(t.padding??0)*2,t?.height??0),p=-l.width/2-u,g=-l.height/2-u,{cssStyles:y}=t,x=xt.svg(n),v=vt(t,{});t.look!=="handDrawn"&&(v.roughness=0,v.fillStyle="solid");const _=[{x:p,y:g},{x:p+h+8,y:g},{x:p+h+8,y:g+d},{x:p-8,y:g+d},{x:p-8,y:g},{x:p,y:g},{x:p,y:g+d}],S=x.polygon(_.map(E=>[E.x,E.y]),v),T=n.insert(()=>S,":first-child");return T.attr("class","basic label-container").attr("style",hr(y)),i&&t.look!=="handDrawn"&&T.selectAll("path").attr("style",i),y&&t.look!=="handDrawn"&&T.selectAll("path").attr("style",i),o.attr("transform",`translate(${-h/2+4+(t.padding??0)-(l.x-(l.left??0))},${-d/2+(t.padding??0)-(l.y-(l.top??0))})`),wt(t,T),t.intersect=function(E){return pt.rect(t,E)},n}w(YE,"shadedProcess");async function VE(e,t){const{labelStyles:r,nodeStyles:i}=_t(t);t.labelStyle=r;const{shapeSvg:n,bbox:l,label:o}=await Bt(e,t,Rt(t)),u=Math.max(l.width+(t.padding??0)*2,t?.width??0),h=Math.max(l.height+(t.padding??0)*2,t?.height??0),d=-u/2,p=-h/2,{cssStyles:g}=t,y=xt.svg(n),x=vt(t,{});t.look!=="handDrawn"&&(x.roughness=0,x.fillStyle="solid");const v=[{x:d,y:p},{x:d,y:p+h},{x:d+u,y:p+h},{x:d+u,y:p-h/2}],_=Wt(v),S=y.path(_,x),T=n.insert(()=>S,":first-child");return T.attr("class","basic label-container"),g&&t.look!=="handDrawn"&&T.selectChildren("path").attr("style",g),i&&t.look!=="handDrawn"&&T.selectChildren("path").attr("style",i),T.attr("transform",`translate(0, ${h/4})`),o.attr("transform",`translate(${-u/2+(t.padding??0)-(l.x-(l.left??0))}, ${-h/4+(t.padding??0)-(l.y-(l.top??0))})`),wt(t,T),t.intersect=function(E){return pt.polygon(t,v,E)},n}w(VE,"slopedRect");async function XE(e,t){const r={rx:0,ry:0,labelPaddingX:t.labelPaddingX??(t?.padding||0)*2,labelPaddingY:(t?.padding||0)*1};return vf(e,t,r)}w(XE,"squareRect");async function KE(e,t){const{labelStyles:r,nodeStyles:i}=_t(t);t.labelStyle=r;const{shapeSvg:n,bbox:l}=await Bt(e,t,Rt(t)),o=l.height+t.padding,u=l.width+o/4+t.padding,h=o/2,{cssStyles:d}=t,p=xt.svg(n),g=vt(t,{});t.look!=="handDrawn"&&(g.roughness=0,g.fillStyle="solid");const y=[{x:-u/2+h,y:-o/2},{x:u/2-h,y:-o/2},...qc(-u/2+h,0,h,50,90,270),{x:u/2-h,y:o/2},...qc(u/2-h,0,h,50,270,450)],x=Wt(y),v=p.path(x,g),_=n.insert(()=>v,":first-child");return _.attr("class","basic label-container outer-path"),d&&t.look!=="handDrawn"&&_.selectChildren("path").attr("style",d),i&&t.look!=="handDrawn"&&_.selectChildren("path").attr("style",i),wt(t,_),t.intersect=function(S){return pt.polygon(t,y,S)},n}w(KE,"stadium");async function QE(e,t){return vf(e,t,{rx:5,ry:5})}w(QE,"state");function ZE(e,t,{config:{themeVariables:r}}){const{labelStyles:i,nodeStyles:n}=_t(t);t.labelStyle=i;const{cssStyles:l}=t,{lineColor:o,stateBorder:u,nodeBorder:h}=r,d=e.insert("g").attr("class","node default").attr("id",t.domId||t.id),p=xt.svg(d),g=vt(t,{});t.look!=="handDrawn"&&(g.roughness=0,g.fillStyle="solid");const y=p.circle(0,0,14,{...g,stroke:o,strokeWidth:2}),x=u??h,v=p.circle(0,0,5,{...g,fill:x,stroke:x,strokeWidth:2,fillStyle:"solid"}),_=d.insert(()=>y,":first-child");return _.insert(()=>v),l&&_.selectAll("path").attr("style",l),n&&_.selectAll("path").attr("style",n),wt(t,_),t.intersect=function(S){return pt.circle(t,7,S)},d}w(ZE,"stateEnd");function JE(e,t,{config:{themeVariables:r}}){const{lineColor:i}=r,n=e.insert("g").attr("class","node default").attr("id",t.domId||t.id);let l;if(t.look==="handDrawn"){const u=xt.svg(n).circle(0,0,14,R8(i));l=n.insert(()=>u),l.attr("class","state-start").attr("r",7).attr("width",14).attr("height",14)}else l=n.insert("circle",":first-child"),l.attr("class","state-start").attr("r",7).attr("width",14).attr("height",14);return wt(t,l),t.intersect=function(o){return pt.circle(t,7,o)},n}w(JE,"stateStart");async function tA(e,t){const{labelStyles:r,nodeStyles:i}=_t(t);t.labelStyle=r;const{shapeSvg:n,bbox:l}=await Bt(e,t,Rt(t)),o=(t?.padding||0)/2,u=l.width+t.padding,h=l.height+t.padding,d=-l.width/2-o,p=-l.height/2-o,g=[{x:0,y:0},{x:u,y:0},{x:u,y:-h},{x:0,y:-h},{x:0,y:0},{x:-8,y:0},{x:u+8,y:0},{x:u+8,y:-h},{x:-8,y:-h},{x:-8,y:0}];if(t.look==="handDrawn"){const y=xt.svg(n),x=vt(t,{}),v=y.rectangle(d-8,p,u+16,h,x),_=y.line(d,p,d,p+h,x),S=y.line(d+u,p,d+u,p+h,x);n.insert(()=>_,":first-child"),n.insert(()=>S,":first-child");const T=n.insert(()=>v,":first-child"),{cssStyles:E}=t;T.attr("class","basic label-container").attr("style",hr(E)),wt(t,T)}else{const y=xn(n,u,h,g);i&&y.attr("style",i),wt(t,y)}return t.intersect=function(y){return pt.polygon(t,g,y)},n}w(tA,"subroutine");async function eA(e,t){const{labelStyles:r,nodeStyles:i}=_t(t);t.labelStyle=r;const{shapeSvg:n,bbox:l}=await Bt(e,t,Rt(t)),o=Math.max(l.width+(t.padding??0)*2,t?.width??0),u=Math.max(l.height+(t.padding??0)*2,t?.height??0),h=-o/2,d=-u/2,p=.2*u,g=.2*u,{cssStyles:y}=t,x=xt.svg(n),v=vt(t,{}),_=[{x:h-p/2,y:d},{x:h+o+p/2,y:d},{x:h+o+p/2,y:d+u},{x:h-p/2,y:d+u}],S=[{x:h+o-p/2,y:d+u},{x:h+o+p/2,y:d+u},{x:h+o+p/2,y:d+u-g}];t.look!=="handDrawn"&&(v.roughness=0,v.fillStyle="solid");const T=Wt(_),E=x.path(T,v),O=Wt(S),M=x.path(O,{...v,fillStyle:"solid"}),N=n.insert(()=>M,":first-child");return N.insert(()=>E,":first-child"),N.attr("class","basic label-container"),y&&t.look!=="handDrawn"&&N.selectAll("path").attr("style",y),i&&t.look!=="handDrawn"&&N.selectAll("path").attr("style",i),wt(t,N),t.intersect=function(q){return pt.polygon(t,_,q)},n}w(eA,"taggedRect");async function rA(e,t){const{labelStyles:r,nodeStyles:i}=_t(t);t.labelStyle=r;const{shapeSvg:n,bbox:l,label:o}=await Bt(e,t,Rt(t)),u=Math.max(l.width+(t.padding??0)*2,t?.width??0),h=Math.max(l.height+(t.padding??0)*2,t?.height??0),d=h/4,p=.2*u,g=.2*h,y=h+d,{cssStyles:x}=t,v=xt.svg(n),_=vt(t,{});t.look!=="handDrawn"&&(_.roughness=0,_.fillStyle="solid");const S=[{x:-u/2-u/2*.1,y:y/2},...gn(-u/2-u/2*.1,y/2,u/2+u/2*.1,y/2,d,.8),{x:u/2+u/2*.1,y:-y/2},{x:-u/2-u/2*.1,y:-y/2}],T=-u/2+u/2*.1,E=-y/2-g*.4,O=[{x:T+u-p,y:(E+h)*1.4},{x:T+u,y:E+h-g},{x:T+u,y:(E+h)*.9},...gn(T+u,(E+h)*1.3,T+u-p,(E+h)*1.5,-h*.03,.5)],M=Wt(S),N=v.path(M,_),q=Wt(O),z=v.path(q,{..._,fillStyle:"solid"}),Q=n.insert(()=>z,":first-child");return Q.insert(()=>N,":first-child"),Q.attr("class","basic label-container"),x&&t.look!=="handDrawn"&&Q.selectAll("path").attr("style",x),i&&t.look!=="handDrawn"&&Q.selectAll("path").attr("style",i),Q.attr("transform",`translate(0,${-d/2})`),o.attr("transform",`translate(${-u/2+(t.padding??0)-(l.x-(l.left??0))},${-h/2+(t.padding??0)-d/2-(l.y-(l.top??0))})`),wt(t,Q),t.intersect=function(et){return pt.polygon(t,S,et)},n}w(rA,"taggedWaveEdgedRectangle");async function iA(e,t){const{labelStyles:r,nodeStyles:i}=_t(t);t.labelStyle=r;const{shapeSvg:n,bbox:l}=await Bt(e,t,Rt(t)),o=Math.max(l.width+t.padding,t?.width||0),u=Math.max(l.height+t.padding,t?.height||0),h=-o/2,d=-u/2,p=n.insert("rect",":first-child");return p.attr("class","text").attr("style",i).attr("rx",0).attr("ry",0).attr("x",h).attr("y",d).attr("width",o).attr("height",u),wt(t,p),t.intersect=function(g){return pt.rect(t,g)},n}w(iA,"text");var mI=w((e,t,r,i,n,l)=>`M${e},${t}
    a${n},${l} 0,0,1 0,${-i}
    l${r},0
    a${n},${l} 0,0,1 0,${i}
    M${r},${-i}
    a${n},${l} 0,0,0 0,${i}
    l${-r},0`,"createCylinderPathD"),yI=w((e,t,r,i,n,l)=>[`M${e},${t}`,`M${e+r},${t}`,`a${n},${l} 0,0,0 0,${-i}`,`l${-r},0`,`a${n},${l} 0,0,0 0,${i}`,`l${r},0`].join(" "),"createOuterCylinderPathD"),bI=w((e,t,r,i,n,l)=>[`M${e+r/2},${-i/2}`,`a${n},${l} 0,0,0 0,${i}`].join(" "),"createInnerCylinderPathD");async function aA(e,t){const{labelStyles:r,nodeStyles:i}=_t(t);t.labelStyle=r;const{shapeSvg:n,bbox:l,label:o,halfPadding:u}=await Bt(e,t,Rt(t)),h=t.look==="neo"?u*2:u,d=l.height+h,p=d/2,g=p/(2.5+d/50),y=l.width+g+h,{cssStyles:x}=t;let v;if(t.look==="handDrawn"){const _=xt.svg(n),S=yI(0,0,y,d,g,p),T=bI(0,0,y,d,g,p),E=_.path(S,vt(t,{})),O=_.path(T,vt(t,{fill:"none"}));v=n.insert(()=>O,":first-child"),v=n.insert(()=>E,":first-child"),v.attr("class","basic label-container"),x&&v.attr("style",x)}else{const _=mI(0,0,y,d,g,p);v=n.insert("path",":first-child").attr("d",_).attr("class","basic label-container").attr("style",hr(x)).attr("style",i),v.attr("class","basic label-container"),x&&v.selectAll("path").attr("style",x),i&&v.selectAll("path").attr("style",i)}return v.attr("label-offset-x",g),v.attr("transform",`translate(${-y/2}, ${d/2} )`),o.attr("transform",`translate(${-(l.width/2)-g-(l.x-(l.left??0))}, ${-(l.height/2)-(l.y-(l.top??0))})`),wt(t,v),t.intersect=function(_){const S=pt.rect(t,_),T=S.y-(t.y??0);if(p!=0&&(Math.abs(T)<(t.height??0)/2||Math.abs(T)==(t.height??0)/2&&Math.abs(S.x-(t.x??0))>(t.width??0)/2-g)){let E=g*g*(1-T*T/(p*p));E!=0&&(E=Math.sqrt(Math.abs(E))),E=g-E,_.x-(t.x??0)>0&&(E=-E),S.x+=E}return S},n}w(aA,"tiltedCylinder");async function nA(e,t){const{labelStyles:r,nodeStyles:i}=_t(t);t.labelStyle=r;const{shapeSvg:n,bbox:l}=await Bt(e,t,Rt(t)),o=l.width+t.padding,u=l.height+t.padding,h=[{x:-3*u/6,y:0},{x:o+3*u/6,y:0},{x:o,y:-u},{x:0,y:-u}];let d;const{cssStyles:p}=t;if(t.look==="handDrawn"){const g=xt.svg(n),y=vt(t,{}),x=Wt(h),v=g.path(x,y);d=n.insert(()=>v,":first-child").attr("transform",`translate(${-o/2}, ${u/2})`),p&&d.attr("style",p)}else d=xn(n,o,u,h);return i&&d.attr("style",i),t.width=o,t.height=u,wt(t,d),t.intersect=function(g){return pt.polygon(t,h,g)},n}w(nA,"trapezoid");async function sA(e,t){const{labelStyles:r,nodeStyles:i}=_t(t);t.labelStyle=r;const{shapeSvg:n,bbox:l}=await Bt(e,t,Rt(t)),o=60,u=20,h=Math.max(o,l.width+(t.padding??0)*2,t?.width??0),d=Math.max(u,l.height+(t.padding??0)*2,t?.height??0),{cssStyles:p}=t,g=xt.svg(n),y=vt(t,{});t.look!=="handDrawn"&&(y.roughness=0,y.fillStyle="solid");const x=[{x:-h/2*.8,y:-d/2},{x:h/2*.8,y:-d/2},{x:h/2,y:-d/2*.6},{x:h/2,y:d/2},{x:-h/2,y:d/2},{x:-h/2,y:-d/2*.6}],v=Wt(x),_=g.path(v,y),S=n.insert(()=>_,":first-child");return S.attr("class","basic label-container"),p&&t.look!=="handDrawn"&&S.selectChildren("path").attr("style",p),i&&t.look!=="handDrawn"&&S.selectChildren("path").attr("style",i),wt(t,S),t.intersect=function(T){return pt.polygon(t,x,T)},n}w(sA,"trapezoidalPentagon");async function lA(e,t){const{labelStyles:r,nodeStyles:i}=_t(t);t.labelStyle=r;const{shapeSvg:n,bbox:l,label:o}=await Bt(e,t,Rt(t)),u=We(ie().flowchart?.htmlLabels),h=l.width+(t.padding??0),d=h+l.height,p=h+l.height,g=[{x:0,y:0},{x:p,y:0},{x:p/2,y:-d}],{cssStyles:y}=t,x=xt.svg(n),v=vt(t,{});t.look!=="handDrawn"&&(v.roughness=0,v.fillStyle="solid");const _=Wt(g),S=x.path(_,v),T=n.insert(()=>S,":first-child").attr("transform",`translate(${-d/2}, ${d/2})`);return y&&t.look!=="handDrawn"&&T.selectChildren("path").attr("style",y),i&&t.look!=="handDrawn"&&T.selectChildren("path").attr("style",i),t.width=h,t.height=d,wt(t,T),o.attr("transform",`translate(${-l.width/2-(l.x-(l.left??0))}, ${d/2-(l.height+(t.padding??0)/(u?2:1)-(l.y-(l.top??0)))})`),t.intersect=function(E){return st.info("Triangle intersect",t,g,E),pt.polygon(t,g,E)},n}w(lA,"triangle");async function oA(e,t){const{labelStyles:r,nodeStyles:i}=_t(t);t.labelStyle=r;const{shapeSvg:n,bbox:l,label:o}=await Bt(e,t,Rt(t)),u=Math.max(l.width+(t.padding??0)*2,t?.width??0),h=Math.max(l.height+(t.padding??0)*2,t?.height??0),d=h/8,p=h+d,{cssStyles:g}=t,x=70-u,v=x>0?x/2:0,_=xt.svg(n),S=vt(t,{});t.look!=="handDrawn"&&(S.roughness=0,S.fillStyle="solid");const T=[{x:-u/2-v,y:p/2},...gn(-u/2-v,p/2,u/2+v,p/2,d,.8),{x:u/2+v,y:-p/2},{x:-u/2-v,y:-p/2}],E=Wt(T),O=_.path(E,S),M=n.insert(()=>O,":first-child");return M.attr("class","basic label-container"),g&&t.look!=="handDrawn"&&M.selectAll("path").attr("style",g),i&&t.look!=="handDrawn"&&M.selectAll("path").attr("style",i),M.attr("transform",`translate(0,${-d/2})`),o.attr("transform",`translate(${-u/2+(t.padding??0)-(l.x-(l.left??0))},${-h/2+(t.padding??0)-d-(l.y-(l.top??0))})`),wt(t,M),t.intersect=function(N){return pt.polygon(t,T,N)},n}w(oA,"waveEdgedRectangle");async function cA(e,t){const{labelStyles:r,nodeStyles:i}=_t(t);t.labelStyle=r;const{shapeSvg:n,bbox:l}=await Bt(e,t,Rt(t)),o=100,u=50,h=Math.max(l.width+(t.padding??0)*2,t?.width??0),d=Math.max(l.height+(t.padding??0)*2,t?.height??0),p=h/d;let g=h,y=d;g>y*p?y=g/p:g=y*p,g=Math.max(g,o),y=Math.max(y,u);const x=Math.min(y*.2,y/4),v=y+x*2,{cssStyles:_}=t,S=xt.svg(n),T=vt(t,{});t.look!=="handDrawn"&&(T.roughness=0,T.fillStyle="solid");const E=[{x:-g/2,y:v/2},...gn(-g/2,v/2,g/2,v/2,x,1),{x:g/2,y:-v/2},...gn(g/2,-v/2,-g/2,-v/2,x,-1)],O=Wt(E),M=S.path(O,T),N=n.insert(()=>M,":first-child");return N.attr("class","basic label-container"),_&&t.look!=="handDrawn"&&N.selectAll("path").attr("style",_),i&&t.look!=="handDrawn"&&N.selectAll("path").attr("style",i),wt(t,N),t.intersect=function(q){return pt.polygon(t,E,q)},n}w(cA,"waveRectangle");async function uA(e,t){const{labelStyles:r,nodeStyles:i}=_t(t);t.labelStyle=r;const{shapeSvg:n,bbox:l,label:o}=await Bt(e,t,Rt(t)),u=Math.max(l.width+(t.padding??0)*2,t?.width??0),h=Math.max(l.height+(t.padding??0)*2,t?.height??0),d=5,p=-u/2,g=-h/2,{cssStyles:y}=t,x=xt.svg(n),v=vt(t,{}),_=[{x:p-d,y:g-d},{x:p-d,y:g+h},{x:p+u,y:g+h},{x:p+u,y:g-d}],S=`M${p-d},${g-d} L${p+u},${g-d} L${p+u},${g+h} L${p-d},${g+h} L${p-d},${g-d}
                M${p-d},${g} L${p+u},${g}
                M${p},${g-d} L${p},${g+h}`;t.look!=="handDrawn"&&(v.roughness=0,v.fillStyle="solid");const T=x.path(S,v),E=n.insert(()=>T,":first-child");return E.attr("transform",`translate(${d/2}, ${d/2})`),E.attr("class","basic label-container"),y&&t.look!=="handDrawn"&&E.selectAll("path").attr("style",y),i&&t.look!=="handDrawn"&&E.selectAll("path").attr("style",i),o.attr("transform",`translate(${-(l.width/2)+d/2-(l.x-(l.left??0))}, ${-(l.height/2)+d/2-(l.y-(l.top??0))})`),wt(t,E),t.intersect=function(O){return pt.polygon(t,_,O)},n}w(uA,"windowPane");async function Y0(e,t){const r=t;if(r.alias&&(t.label=r.alias),t.look==="handDrawn"){const{themeVariables:Y}=cr(),{background:tt}=Y,ct={...t,id:t.id+"-background",look:"default",cssStyles:["stroke: none",`fill: ${tt}`]};await Y0(e,ct)}const i=cr();t.useHtmlLabels=i.htmlLabels;let n=i.er?.diagramPadding??10,l=i.er?.entityPadding??6;const{cssStyles:o}=t,{labelStyles:u,nodeStyles:h}=_t(t);if(r.attributes.length===0&&t.label){const Y={rx:0,ry:0,labelPaddingX:n,labelPaddingY:n*1.5};Ea(t.label,i)+Y.labelPaddingX*2<i.er.minEntityWidth&&(t.width=i.er.minEntityWidth);const tt=await vf(e,t,Y);if(!We(i.htmlLabels)){const ct=tt.select("text"),dt=ct.node()?.getBBox();ct.attr("transform",`translate(${-dt.width/2}, 0)`)}return tt}i.htmlLabels||(n*=1.25,l*=1.25);let d=Rt(t);d||(d="node default");const p=e.insert("g").attr("class",d).attr("id",t.domId||t.id),g=await hl(p,t.label??"",i,0,0,["name"],u);g.height+=l;let y=0;const x=[],v=[];let _=0,S=0,T=0,E=0,O=!0,M=!0;for(const Y of r.attributes){const tt=await hl(p,Y.type,i,0,y,["attribute-type"],u);_=Math.max(_,tt.width+n);const ct=await hl(p,Y.name,i,0,y,["attribute-name"],u);S=Math.max(S,ct.width+n);const dt=await hl(p,Y.keys.join(),i,0,y,["attribute-keys"],u);T=Math.max(T,dt.width+n);const Ct=await hl(p,Y.comment,i,0,y,["attribute-comment"],u);E=Math.max(E,Ct.width+n);const Lt=Math.max(tt.height,ct.height,dt.height,Ct.height)+l;v.push({yOffset:y,rowHeight:Lt}),y+=Lt}let N=4;T<=n&&(O=!1,T=0,N--),E<=n&&(M=!1,E=0,N--);const q=p.node().getBBox();if(g.width+n*2-(_+S+T+E)>0){const Y=g.width+n*2-(_+S+T+E);_+=Y/N,S+=Y/N,T>0&&(T+=Y/N),E>0&&(E+=Y/N)}const z=_+S+T+E,Q=xt.svg(p),et=vt(t,{});t.look!=="handDrawn"&&(et.roughness=0,et.fillStyle="solid");let it=0;v.length>0&&(it=v.reduce((Y,tt)=>Y+(tt?.rowHeight??0),0));const J=Math.max(q.width+n*2,t?.width||0,z),ot=Math.max((it??0)+g.height,t?.height||0),L=-J/2,D=-ot/2;p.selectAll("g:not(:first-child)").each((Y,tt,ct)=>{const dt=Xt(ct[tt]),Ct=dt.attr("transform");let Lt=0,te=0;if(Ct){const oe=RegExp(/translate\(([^,]+),([^)]+)\)/).exec(Ct);oe&&(Lt=parseFloat(oe[1]),te=parseFloat(oe[2]),dt.attr("class").includes("attribute-name")?Lt+=_:dt.attr("class").includes("attribute-keys")?Lt+=_+S:dt.attr("class").includes("attribute-comment")&&(Lt+=_+S+T))}dt.attr("transform",`translate(${L+n/2+Lt}, ${te+D+g.height+l/2})`)}),p.select(".name").attr("transform","translate("+-g.width/2+", "+(D+l/2)+")");const F=Q.rectangle(L,D,J,ot,et),R=p.insert(()=>F,":first-child").attr("style",o.join("")),{themeVariables:j}=cr(),{rowEven:I,rowOdd:lt,nodeBorder:ht}=j;x.push(0);for(const[Y,tt]of v.entries()){const dt=(Y+1)%2===0&&tt.yOffset!==0,Ct=Q.rectangle(L,g.height+D+tt?.yOffset,J,tt?.rowHeight,{...et,fill:dt?I:lt,stroke:ht});p.insert(()=>Ct,"g.label").attr("style",o.join("")).attr("class",`row-rect-${dt?"even":"odd"}`)}let B=Q.line(L,g.height+D,J+L,g.height+D,et);p.insert(()=>B).attr("class","divider"),B=Q.line(_+L,g.height+D,_+L,ot+D,et),p.insert(()=>B).attr("class","divider"),O&&(B=Q.line(_+S+L,g.height+D,_+S+L,ot+D,et),p.insert(()=>B).attr("class","divider")),M&&(B=Q.line(_+S+T+L,g.height+D,_+S+T+L,ot+D,et),p.insert(()=>B).attr("class","divider"));for(const Y of x)B=Q.line(L,g.height+D+Y,J+L,g.height+D+Y,et),p.insert(()=>B).attr("class","divider");if(wt(t,R),h&&t.look!=="handDrawn"){const tt=h.split(";")?.filter(ct=>ct.includes("stroke"))?.map(ct=>`${ct}`).join("; ");p.selectAll("path").attr("style",tt??""),p.selectAll(".row-rect-even path").attr("style",h)}return t.intersect=function(Y){return pt.rect(t,Y)},p}w(Y0,"erBox");async function hl(e,t,r,i=0,n=0,l=[],o=""){const u=e.insert("g").attr("class",`label ${l.join(" ")}`).attr("transform",`translate(${i}, ${n})`).attr("style",o);t!==Uw(t)&&(t=Uw(t),t=t.replaceAll("<","&lt;").replaceAll(">","&gt;"));const h=u.node().appendChild(await yn(u,t,{width:Ea(t,r)+100,style:o,useHtmlLabels:r.htmlLabels},r));if(t.includes("&lt;")||t.includes("&gt;")){let p=h.children[0];for(p.textContent=p.textContent.replaceAll("&lt;","<").replaceAll("&gt;",">");p.childNodes[0];)p=p.childNodes[0],p.textContent=p.textContent.replaceAll("&lt;","<").replaceAll("&gt;",">")}let d=h.getBBox();if(We(r.htmlLabels)){const p=h.children[0];p.style.textAlign="start";const g=Xt(h);d=p.getBoundingClientRect(),g.attr("width",d.width),g.attr("height",d.height)}return d}w(hl,"addText");async function hA(e,t,r,i,n=r.class.padding??12){const l=i?0:3,o=e.insert("g").attr("class",Rt(t)).attr("id",t.domId||t.id);let u=null,h=null,d=null,p=null,g=0,y=0,x=0;if(u=o.insert("g").attr("class","annotation-group text"),t.annotations.length>0){const E=t.annotations[0];await mc(u,{text:`${E}`},0),g=u.node().getBBox().height}h=o.insert("g").attr("class","label-group text"),await mc(h,t,0,["font-weight: bolder"]);const v=h.node().getBBox();y=v.height,d=o.insert("g").attr("class","members-group text");let _=0;for(const E of t.members){const O=await mc(d,E,_,[E.parseClassifier()]);_+=O+l}x=d.node().getBBox().height,x<=0&&(x=n/2),p=o.insert("g").attr("class","methods-group text");let S=0;for(const E of t.methods){const O=await mc(p,E,S,[E.parseClassifier()]);S+=O+l}let T=o.node().getBBox();if(u!==null){const E=u.node().getBBox();u.attr("transform",`translate(${-E.width/2})`)}return h.attr("transform",`translate(${-v.width/2}, ${g})`),T=o.node().getBBox(),d.attr("transform",`translate(0, ${g+y+n*2})`),T=o.node().getBBox(),p.attr("transform",`translate(0, ${g+y+(x?x+n*4:n*2)})`),T=o.node().getBBox(),{shapeSvg:o,bbox:T}}w(hA,"textHelper");async function mc(e,t,r,i=[]){const n=e.insert("g").attr("class","label").attr("style",i.join("; ")),l=cr();let o="useHtmlLabels"in t?t.useHtmlLabels:We(l.htmlLabels)??!0,u="";"text"in t?u=t.text:u=t.label,!o&&u.startsWith("\\")&&(u=u.substring(1)),Al(u)&&(o=!0);const h=await yn(n,i0(ps(u)),{width:Ea(u,l)+50,classes:"markdown-node-label",useHtmlLabels:o},l);let d,p=1;if(o){const g=h.children[0],y=Xt(h);p=g.innerHTML.split("<br>").length,g.innerHTML.includes("</math>")&&(p+=g.innerHTML.split("<mrow>").length-1);const x=g.getElementsByTagName("img");if(x){const v=u.replace(/<img[^>]*>/g,"").trim()==="";await Promise.all([...x].map(_=>new Promise(S=>{function T(){if(_.style.display="flex",_.style.flexDirection="column",v){const E=l.fontSize?.toString()??window.getComputedStyle(document.body).fontSize,M=parseInt(E,10)*5+"px";_.style.minWidth=M,_.style.maxWidth=M}else _.style.width="100%";S(_)}w(T,"setupImage"),setTimeout(()=>{_.complete&&T()}),_.addEventListener("error",T),_.addEventListener("load",T)})))}d=g.getBoundingClientRect(),y.attr("width",d.width),y.attr("height",d.height)}else{i.includes("font-weight: bolder")&&Xt(h).selectAll("tspan").attr("font-weight",""),p=h.children.length;const g=h.children[0];(h.textContent===""||h.textContent.includes("&gt"))&&(g.textContent=u[0]+u.substring(1).replaceAll("&gt;",">").replaceAll("&lt;","<").trim(),u[1]===" "&&(g.textContent=g.textContent[0]+" "+g.textContent.substring(1))),g.textContent==="undefined"&&(g.textContent=""),d=h.getBBox()}return n.attr("transform","translate(0,"+(-d.height/(2*p)+r)+")"),d.height}w(mc,"addText");async function dA(e,t){const r=ie(),i=r.class.padding??12,n=i,l=t.useHtmlLabels??We(r.htmlLabels)??!0,o=t;o.annotations=o.annotations??[],o.members=o.members??[],o.methods=o.methods??[];const{shapeSvg:u,bbox:h}=await hA(e,t,r,l,n),{labelStyles:d,nodeStyles:p}=_t(t);t.labelStyle=d,t.cssStyles=o.styles||"";const g=o.styles?.join(";")||p||"";t.cssStyles||(t.cssStyles=g.replaceAll("!important","").split(";"));const y=o.members.length===0&&o.methods.length===0&&!r.class?.hideEmptyMembersBox,x=xt.svg(u),v=vt(t,{});t.look!=="handDrawn"&&(v.roughness=0,v.fillStyle="solid");const _=h.width;let S=h.height;o.members.length===0&&o.methods.length===0?S+=n:o.members.length>0&&o.methods.length===0&&(S+=n*2);const T=-_/2,E=-S/2,O=x.rectangle(T-i,E-i-(y?i:o.members.length===0&&o.methods.length===0?-i/2:0),_+2*i,S+2*i+(y?i*2:o.members.length===0&&o.methods.length===0?-i:0),v),M=u.insert(()=>O,":first-child");M.attr("class","basic label-container");const N=M.node().getBBox();u.selectAll(".text").each((et,it,J)=>{const ot=Xt(J[it]),L=ot.attr("transform");let D=0;if(L){const I=RegExp(/translate\(([^,]+),([^)]+)\)/).exec(L);I&&(D=parseFloat(I[2]))}let F=D+E+i-(y?i:o.members.length===0&&o.methods.length===0?-i/2:0);l||(F-=4);let R=T;(ot.attr("class").includes("label-group")||ot.attr("class").includes("annotation-group"))&&(R=-ot.node()?.getBBox().width/2||0,u.selectAll("text").each(function(j,I,lt){window.getComputedStyle(lt[I]).textAnchor==="middle"&&(R=0)})),ot.attr("transform",`translate(${R}, ${F})`)});const q=u.select(".annotation-group").node().getBBox().height-(y?i/2:0)||0,z=u.select(".label-group").node().getBBox().height-(y?i/2:0)||0,Q=u.select(".members-group").node().getBBox().height-(y?i/2:0)||0;if(o.members.length>0||o.methods.length>0||y){const et=x.line(N.x,q+z+E+i,N.x+N.width,q+z+E+i,v);u.insert(()=>et).attr("class","divider").attr("style",g)}if(y||o.members.length>0||o.methods.length>0){const et=x.line(N.x,q+z+Q+E+n*2+i,N.x+N.width,q+z+Q+E+i+n*2,v);u.insert(()=>et).attr("class","divider").attr("style",g)}if(o.look!=="handDrawn"&&u.selectAll("path").attr("style",g),M.select(":nth-child(2)").attr("style",g),u.selectAll(".divider").select("path").attr("style",g),t.labelStyle?u.selectAll("span").attr("style",t.labelStyle):u.selectAll("span").attr("style",g),!l){const et=RegExp(/color\s*:\s*([^;]*)/),it=et.exec(g);if(it){const J=it[0].replace("color","fill");u.selectAll("tspan").attr("style",J)}else if(d){const J=et.exec(d);if(J){const ot=J[0].replace("color","fill");u.selectAll("tspan").attr("style",ot)}}}return wt(t,M),t.intersect=function(et){return pt.rect(t,et)},u}w(dA,"classBox");async function fA(e,t){const{labelStyles:r,nodeStyles:i}=_t(t);t.labelStyle=r;const n=t,l=t,o=20,u=20,h="verifyMethod"in t,d=Rt(t),p=e.insert("g").attr("class",d).attr("id",t.domId??t.id);let g;h?g=await Pi(p,`&lt;&lt;${n.type}&gt;&gt;`,0,t.labelStyle):g=await Pi(p,"&lt;&lt;Element&gt;&gt;",0,t.labelStyle);let y=g;const x=await Pi(p,n.name,y,t.labelStyle+"; font-weight: bold;");if(y+=x+u,h){const q=await Pi(p,`${n.requirementId?`ID: ${n.requirementId}`:""}`,y,t.labelStyle);y+=q;const z=await Pi(p,`${n.text?`Text: ${n.text}`:""}`,y,t.labelStyle);y+=z;const Q=await Pi(p,`${n.risk?`Risk: ${n.risk}`:""}`,y,t.labelStyle);y+=Q,await Pi(p,`${n.verifyMethod?`Verification: ${n.verifyMethod}`:""}`,y,t.labelStyle)}else{const q=await Pi(p,`${l.type?`Type: ${l.type}`:""}`,y,t.labelStyle);y+=q,await Pi(p,`${l.docRef?`Doc Ref: ${l.docRef}`:""}`,y,t.labelStyle)}const v=(p.node()?.getBBox().width??200)+o,_=(p.node()?.getBBox().height??200)+o,S=-v/2,T=-_/2,E=xt.svg(p),O=vt(t,{});t.look!=="handDrawn"&&(O.roughness=0,O.fillStyle="solid");const M=E.rectangle(S,T,v,_,O),N=p.insert(()=>M,":first-child");if(N.attr("class","basic label-container").attr("style",i),p.selectAll(".label").each((q,z,Q)=>{const et=Xt(Q[z]),it=et.attr("transform");let J=0,ot=0;if(it){const R=RegExp(/translate\(([^,]+),([^)]+)\)/).exec(it);R&&(J=parseFloat(R[1]),ot=parseFloat(R[2]))}const L=ot-_/2;let D=S+o/2;(z===0||z===1)&&(D=J),et.attr("transform",`translate(${D}, ${L+o})`)}),y>g+x+u){const q=E.line(S,T+g+x+u,S+v,T+g+x+u,O);p.insert(()=>q).attr("style",i)}return wt(t,N),t.intersect=function(q){return pt.rect(t,q)},p}w(fA,"requirementBox");async function Pi(e,t,r,i=""){if(t==="")return 0;const n=e.insert("g").attr("class","label").attr("style",i),l=ie(),o=l.htmlLabels??!0,u=await yn(n,i0(ps(t)),{width:Ea(t,l)+50,classes:"markdown-node-label",useHtmlLabels:o,style:i},l);let h;if(o){const d=u.children[0],p=Xt(u);h=d.getBoundingClientRect(),p.attr("width",h.width),p.attr("height",h.height)}else{const d=u.children[0];for(const p of d.children)p.textContent=p.textContent.replaceAll("&gt;",">").replaceAll("&lt;","<"),i&&p.setAttribute("style",i);h=u.getBBox(),h.height+=6}return n.attr("transform",`translate(${-h.width/2},${-h.height/2+r})`),h.height}w(Pi,"addText");var xI=w(e=>{switch(e){case"Very High":return"red";case"High":return"orange";case"Medium":return null;case"Low":return"blue";case"Very Low":return"lightblue"}},"colorFromPriority");async function pA(e,t,{config:r}){const{labelStyles:i,nodeStyles:n}=_t(t);t.labelStyle=i||"";const l=10,o=t.width;t.width=(t.width??200)-10;const{shapeSvg:u,bbox:h,label:d}=await Bt(e,t,Rt(t)),p=t.padding||10;let g="",y;"ticket"in t&&t.ticket&&r?.kanban?.ticketBaseUrl&&(g=r?.kanban?.ticketBaseUrl.replace("#TICKET#",t.ticket),y=u.insert("svg:a",":first-child").attr("class","kanban-ticket-link").attr("xlink:href",g).attr("target","_blank"));const x={useHtmlLabels:t.useHtmlLabels,labelStyle:t.labelStyle||"",width:t.width,img:t.img,padding:t.padding||8,centerLabel:!1};let v,_;y?{label:v,bbox:_}=await xm(y,"ticket"in t&&t.ticket||"",x):{label:v,bbox:_}=await xm(u,"ticket"in t&&t.ticket||"",x);const{label:S,bbox:T}=await xm(u,"assigned"in t&&t.assigned||"",x);t.width=o;const E=10,O=t?.width||0,M=Math.max(_.height,T.height)/2,N=Math.max(h.height+E*2,t?.height||0)+M,q=-O/2,z=-N/2;d.attr("transform","translate("+(p-O/2)+", "+(-M-h.height/2)+")"),v.attr("transform","translate("+(p-O/2)+", "+(-M+h.height/2)+")"),S.attr("transform","translate("+(p+O/2-T.width-2*l)+", "+(-M+h.height/2)+")");let Q;const{rx:et,ry:it}=t,{cssStyles:J}=t;if(t.look==="handDrawn"){const ot=xt.svg(u),L=vt(t,{}),D=et||it?ot.path(bn(q,z,O,N,et||0),L):ot.rectangle(q,z,O,N,L);Q=u.insert(()=>D,":first-child"),Q.attr("class","basic label-container").attr("style",J||null)}else{Q=u.insert("rect",":first-child"),Q.attr("class","basic label-container __APA__").attr("style",n).attr("rx",et??5).attr("ry",it??5).attr("x",q).attr("y",z).attr("width",O).attr("height",N);const ot="priority"in t&&t.priority;if(ot){const L=u.append("line"),D=q+2,F=z+Math.floor((et??0)/2),R=z+N-Math.floor((et??0)/2);L.attr("x1",D).attr("y1",F).attr("x2",D).attr("y2",R).attr("stroke-width","4").attr("stroke",xI(ot))}}return wt(t,Q),t.height=N,t.intersect=function(ot){return pt.rect(t,ot)},u}w(pA,"kanbanItem");async function gA(e,t){const{labelStyles:r,nodeStyles:i}=_t(t);t.labelStyle=r;const{shapeSvg:n,bbox:l,halfPadding:o,label:u}=await Bt(e,t,Rt(t)),h=l.width+10*o,d=l.height+8*o,p=.15*h,{cssStyles:g}=t,y=l.width+20,x=l.height+20,v=Math.max(h,y),_=Math.max(d,x);u.attr("transform",`translate(${-l.width/2}, ${-l.height/2})`);let S;const T=`M0 0 
    a${p},${p} 1 0,0 ${v*.25},${-1*_*.1}
    a${p},${p} 1 0,0 ${v*.25},0
    a${p},${p} 1 0,0 ${v*.25},0
    a${p},${p} 1 0,0 ${v*.25},${_*.1}

    a${p},${p} 1 0,0 ${v*.15},${_*.33}
    a${p*.8},${p*.8} 1 0,0 0,${_*.34}
    a${p},${p} 1 0,0 ${-1*v*.15},${_*.33}

    a${p},${p} 1 0,0 ${-1*v*.25},${_*.15}
    a${p},${p} 1 0,0 ${-1*v*.25},0
    a${p},${p} 1 0,0 ${-1*v*.25},0
    a${p},${p} 1 0,0 ${-1*v*.25},${-1*_*.15}

    a${p},${p} 1 0,0 ${-1*v*.1},${-1*_*.33}
    a${p*.8},${p*.8} 1 0,0 0,${-1*_*.34}
    a${p},${p} 1 0,0 ${v*.1},${-1*_*.33}
  H0 V0 Z`;if(t.look==="handDrawn"){const E=xt.svg(n),O=vt(t,{}),M=E.path(T,O);S=n.insert(()=>M,":first-child"),S.attr("class","basic label-container").attr("style",hr(g))}else S=n.insert("path",":first-child").attr("class","basic label-container").attr("style",i).attr("d",T);return S.attr("transform",`translate(${-v/2}, ${-_/2})`),wt(t,S),t.calcIntersect=function(E,O){return pt.rect(E,O)},t.intersect=function(E){return st.info("Bang intersect",t,E),pt.rect(t,E)},n}w(gA,"bang");async function mA(e,t){const{labelStyles:r,nodeStyles:i}=_t(t);t.labelStyle=r;const{shapeSvg:n,bbox:l,halfPadding:o,label:u}=await Bt(e,t,Rt(t)),h=l.width+2*o,d=l.height+2*o,p=.15*h,g=.25*h,y=.35*h,x=.2*h,{cssStyles:v}=t;let _;const S=`M0 0 
    a${p},${p} 0 0,1 ${h*.25},${-1*h*.1}
    a${y},${y} 1 0,1 ${h*.4},${-1*h*.1}
    a${g},${g} 1 0,1 ${h*.35},${h*.2}

    a${p},${p} 1 0,1 ${h*.15},${d*.35}
    a${x},${x} 1 0,1 ${-1*h*.15},${d*.65}

    a${g},${p} 1 0,1 ${-1*h*.25},${h*.15}
    a${y},${y} 1 0,1 ${-1*h*.5},0
    a${p},${p} 1 0,1 ${-1*h*.25},${-1*h*.15}

    a${p},${p} 1 0,1 ${-1*h*.1},${-1*d*.35}
    a${x},${x} 1 0,1 ${h*.1},${-1*d*.65}
  H0 V0 Z`;if(t.look==="handDrawn"){const T=xt.svg(n),E=vt(t,{}),O=T.path(S,E);_=n.insert(()=>O,":first-child"),_.attr("class","basic label-container").attr("style",hr(v))}else _=n.insert("path",":first-child").attr("class","basic label-container").attr("style",i).attr("d",S);return u.attr("transform",`translate(${-l.width/2}, ${-l.height/2})`),_.attr("transform",`translate(${-h/2}, ${-d/2})`),wt(t,_),t.calcIntersect=function(T,E){return pt.rect(T,E)},t.intersect=function(T){return st.info("Cloud intersect",t,T),pt.rect(t,T)},n}w(mA,"cloud");async function yA(e,t){const{labelStyles:r,nodeStyles:i}=_t(t);t.labelStyle=r;const{shapeSvg:n,bbox:l,halfPadding:o,label:u}=await Bt(e,t,Rt(t)),h=l.width+8*o,d=l.height+2*o,p=5,g=`
    M${-h/2} ${d/2-p}
    v${-d+2*p}
    q0,-${p} ${p},-${p}
    h${h-2*p}
    q${p},0 ${p},${p}
    v${d-2*p}
    q0,${p} -${p},${p}
    h${-h+2*p}
    q-${p},0 -${p},-${p}
    Z
  `,y=n.append("path").attr("id","node-"+t.id).attr("class","node-bkg node-"+t.type).attr("style",i).attr("d",g);return n.append("line").attr("class","node-line-").attr("x1",-h/2).attr("y1",d/2).attr("x2",h/2).attr("y2",d/2),u.attr("transform",`translate(${-l.width/2}, ${-l.height/2})`),n.append(()=>u.node()),wt(t,y),t.calcIntersect=function(x,v){return pt.rect(x,v)},t.intersect=function(x){return pt.rect(t,x)},n}w(yA,"defaultMindmapNode");async function bA(e,t){const r={padding:t.padding??0};return G0(e,t,r)}w(bA,"mindmapCircle");var vI=[{semanticName:"Process",name:"Rectangle",shortName:"rect",description:"Standard process shape",aliases:["proc","process","rectangle"],internalAliases:["squareRect"],handler:XE},{semanticName:"Event",name:"Rounded Rectangle",shortName:"rounded",description:"Represents an event",aliases:["event"],internalAliases:["roundedRect"],handler:GE},{semanticName:"Terminal Point",name:"Stadium",shortName:"stadium",description:"Terminal point",aliases:["terminal","pill"],handler:KE},{semanticName:"Subprocess",name:"Framed Rectangle",shortName:"fr-rect",description:"Subprocess",aliases:["subprocess","subproc","framed-rectangle","subroutine"],handler:tA},{semanticName:"Database",name:"Cylinder",shortName:"cyl",description:"Database storage",aliases:["db","database","cylinder"],handler:xE},{semanticName:"Start",name:"Circle",shortName:"circle",description:"Starting point",aliases:["circ"],handler:G0},{semanticName:"Bang",name:"Bang",shortName:"bang",description:"Bang",aliases:["bang"],handler:gA},{semanticName:"Cloud",name:"Cloud",shortName:"cloud",description:"cloud",aliases:["cloud"],handler:mA},{semanticName:"Decision",name:"Diamond",shortName:"diam",description:"Decision-making step",aliases:["decision","diamond","question"],handler:qE},{semanticName:"Prepare Conditional",name:"Hexagon",shortName:"hex",description:"Preparation or condition step",aliases:["hexagon","prepare"],handler:TE},{semanticName:"Data Input/Output",name:"Lean Right",shortName:"lean-r",description:"Represents input or output",aliases:["lean-right","in-out"],internalAliases:["lean_right"],handler:jE},{semanticName:"Data Input/Output",name:"Lean Left",shortName:"lean-l",description:"Represents output or input",aliases:["lean-left","out-in"],internalAliases:["lean_left"],handler:DE},{semanticName:"Priority Action",name:"Trapezoid Base Bottom",shortName:"trap-b",description:"Priority action",aliases:["priority","trapezoid-bottom","trapezoid"],handler:nA},{semanticName:"Manual Operation",name:"Trapezoid Base Top",shortName:"trap-t",description:"Represents a manual task",aliases:["manual","trapezoid-top","inv-trapezoid"],internalAliases:["inv_trapezoid"],handler:BE},{semanticName:"Stop",name:"Double Circle",shortName:"dbl-circ",description:"Represents a stop point",aliases:["double-circle"],internalAliases:["doublecircle"],handler:_E},{semanticName:"Text Block",name:"Text Block",shortName:"text",description:"Text block",handler:iA},{semanticName:"Card",name:"Notched Rectangle",shortName:"notch-rect",description:"Represents a card",aliases:["card","notched-rectangle"],handler:hE},{semanticName:"Lined/Shaded Process",name:"Lined Rectangle",shortName:"lin-rect",description:"Lined process shape",aliases:["lined-rectangle","lined-process","lin-proc","shaded-process"],handler:YE},{semanticName:"Start",name:"Small Circle",shortName:"sm-circ",description:"Small starting point",aliases:["start","small-circle"],internalAliases:["stateStart"],handler:JE},{semanticName:"Stop",name:"Framed Circle",shortName:"fr-circ",description:"Stop point",aliases:["stop","framed-circle"],internalAliases:["stateEnd"],handler:ZE},{semanticName:"Fork/Join",name:"Filled Rectangle",shortName:"fork",description:"Fork or join in process flow",aliases:["join"],internalAliases:["forkJoin"],handler:kE},{semanticName:"Collate",name:"Hourglass",shortName:"hourglass",description:"Represents a collate operation",aliases:["hourglass","collate"],handler:EE},{semanticName:"Comment",name:"Curly Brace",shortName:"brace",description:"Adds a comment",aliases:["comment","brace-l"],handler:gE},{semanticName:"Comment Right",name:"Curly Brace",shortName:"brace-r",description:"Adds a comment",handler:mE},{semanticName:"Comment with braces on both sides",name:"Curly Braces",shortName:"braces",description:"Adds a comment",handler:yE},{semanticName:"Com Link",name:"Lightning Bolt",shortName:"bolt",description:"Communication link",aliases:["com-link","lightning-bolt"],handler:$E},{semanticName:"Document",name:"Document",shortName:"doc",description:"Represents a document",aliases:["doc","document"],handler:oA},{semanticName:"Delay",name:"Half-Rounded Rectangle",shortName:"delay",description:"Represents a delay",aliases:["half-rounded-rectangle"],handler:CE},{semanticName:"Direct Access Storage",name:"Horizontal Cylinder",shortName:"h-cyl",description:"Direct access storage",aliases:["das","horizontal-cylinder"],handler:aA},{semanticName:"Disk Storage",name:"Lined Cylinder",shortName:"lin-cyl",description:"Disk storage",aliases:["disk","lined-cylinder"],handler:zE},{semanticName:"Display",name:"Curved Trapezoid",shortName:"curv-trap",description:"Represents a display",aliases:["curved-trapezoid","display"],handler:bE},{semanticName:"Divided Process",name:"Divided Rectangle",shortName:"div-rect",description:"Divided process shape",aliases:["div-proc","divided-rectangle","divided-process"],handler:vE},{semanticName:"Extract",name:"Triangle",shortName:"tri",description:"Extraction process",aliases:["extract","triangle"],handler:lA},{semanticName:"Internal Storage",name:"Window Pane",shortName:"win-pane",description:"Internal storage",aliases:["internal-storage","window-pane"],handler:uA},{semanticName:"Junction",name:"Filled Circle",shortName:"f-circ",description:"Junction point",aliases:["junction","filled-circle"],handler:wE},{semanticName:"Loop Limit",name:"Trapezoidal Pentagon",shortName:"notch-pent",description:"Loop limit step",aliases:["loop-limit","notched-pentagon"],handler:sA},{semanticName:"Manual File",name:"Flipped Triangle",shortName:"flip-tri",description:"Manual file operation",aliases:["manual-file","flipped-triangle"],handler:SE},{semanticName:"Manual Input",name:"Sloped Rectangle",shortName:"sl-rect",description:"Manual input step",aliases:["manual-input","sloped-rectangle"],handler:VE},{semanticName:"Multi-Document",name:"Stacked Document",shortName:"docs",description:"Multiple documents",aliases:["documents","st-doc","stacked-document"],handler:UE},{semanticName:"Multi-Process",name:"Stacked Rectangle",shortName:"st-rect",description:"Multiple processes",aliases:["procs","processes","stacked-rectangle"],handler:PE},{semanticName:"Stored Data",name:"Bow Tie Rectangle",shortName:"bow-rect",description:"Stored data",aliases:["stored-data","bow-tie-rectangle"],handler:uE},{semanticName:"Summary",name:"Crossed Circle",shortName:"cross-circ",description:"Summary",aliases:["summary","crossed-circle"],handler:pE},{semanticName:"Tagged Document",name:"Tagged Document",shortName:"tag-doc",description:"Tagged document",aliases:["tag-doc","tagged-document"],handler:rA},{semanticName:"Tagged Process",name:"Tagged Rectangle",shortName:"tag-rect",description:"Tagged process",aliases:["tagged-rectangle","tag-proc","tagged-process"],handler:eA},{semanticName:"Paper Tape",name:"Flag",shortName:"flag",description:"Paper tape",aliases:["paper-tape"],handler:cA},{semanticName:"Odd",name:"Odd",shortName:"odd",description:"Odd shape",internalAliases:["rect_left_inv_arrow"],handler:HE},{semanticName:"Lined Document",name:"Lined Document",shortName:"lin-doc",description:"Lined document",aliases:["lined-document"],handler:FE}],_I=w(()=>{const t=[...Object.entries({state:QE,choice:dE,note:IE,rectWithTitle:WE,labelRect:NE,iconSquare:LE,iconCircle:OE,icon:AE,iconRounded:RE,imageSquare:ME,anchor:cE,kanbanItem:pA,mindmapCircle:bA,defaultMindmapNode:yA,classBox:dA,erBox:Y0,requirementBox:fA}),...vI.flatMap(r=>[r.shortName,..."aliases"in r?r.aliases:[],..."internalAliases"in r?r.internalAliases:[]].map(n=>[n,r.handler]))];return Object.fromEntries(t)},"generateShapeMap"),xA=_I();function wI(e){return e in xA}w(wI,"isValidShape");var _f=new Map;async function vA(e,t,r){let i,n;t.shape==="rect"&&(t.rx&&t.ry?t.shape="roundedRect":t.shape="squareRect");const l=t.shape?xA[t.shape]:void 0;if(!l)throw new Error(`No such shape: ${t.shape}. Please check your syntax.`);if(t.link){let o;r.config.securityLevel==="sandbox"?o="_top":t.linkTarget&&(o=t.linkTarget||"_blank"),i=e.insert("svg:a").attr("xlink:href",t.link).attr("target",o??null),n=await l(i,t,r)}else n=await l(e,t,r),i=n;return t.tooltip&&n.attr("title",t.tooltip),_f.set(t.id,i),t.haveCallback&&i.attr("class",i.attr("class")+" clickable"),i}w(vA,"insertNode");var G7=w((e,t)=>{_f.set(t.id,e)},"setNodeElem"),Y7=w(()=>{_f.clear()},"clear"),V7=w(e=>{const t=_f.get(e.id);st.trace("Transforming node",e.diff,e,"translate("+(e.x-e.width/2-5)+", "+e.width/2+")");const r=8,i=e.diff||0;return e.clusterNode?t.attr("transform","translate("+(e.x+i-e.width/2)+", "+(e.y-e.height/2-r)+")"):t.attr("transform","translate("+e.x+", "+e.y+")"),i},"positionNode"),SI=w((e,t,r,i,n,l)=>{t.arrowTypeStart&&K1(e,"start",t.arrowTypeStart,r,i,n,l),t.arrowTypeEnd&&K1(e,"end",t.arrowTypeEnd,r,i,n,l)},"addEdgeMarkers"),kI={arrow_cross:{type:"cross",fill:!1},arrow_point:{type:"point",fill:!0},arrow_barb:{type:"barb",fill:!0},arrow_circle:{type:"circle",fill:!1},aggregation:{type:"aggregation",fill:!1},extension:{type:"extension",fill:!1},composition:{type:"composition",fill:!0},dependency:{type:"dependency",fill:!0},lollipop:{type:"lollipop",fill:!1},only_one:{type:"onlyOne",fill:!1},zero_or_one:{type:"zeroOrOne",fill:!1},one_or_more:{type:"oneOrMore",fill:!1},zero_or_more:{type:"zeroOrMore",fill:!1},requirement_arrow:{type:"requirement_arrow",fill:!1},requirement_contains:{type:"requirement_contains",fill:!1}},K1=w((e,t,r,i,n,l,o)=>{const u=kI[r];if(!u){st.warn(`Unknown arrow type: ${r}`);return}const h=u.type,p=`${n}_${l}-${h}${t==="start"?"Start":"End"}`;if(o&&o.trim()!==""){const g=o.replace(/[^\dA-Za-z]/g,"_"),y=`${p}_${g}`;if(!document.getElementById(y)){const x=document.getElementById(p);if(x){const v=x.cloneNode(!0);v.id=y,v.querySelectorAll("path, circle, line").forEach(S=>{S.setAttribute("stroke",o),u.fill&&S.setAttribute("fill",o)}),x.parentNode?.appendChild(v)}}e.attr(`marker-${t}`,`url(${i}#${y})`)}else e.attr(`marker-${t}`,`url(${i}#${p})`)},"addEdgeMarker"),qd=new Map,ar=new Map,X7=w(()=>{qd.clear(),ar.clear()},"clear"),Fh=w(e=>e?e.reduce((r,i)=>r+";"+i,""):"","getLabelStyles"),CI=w(async(e,t)=>{let r=We(ie().flowchart.htmlLabels);const{labelStyles:i}=_t(t);t.labelStyle=i;const n=await yn(e,t.label,{style:t.labelStyle,useHtmlLabels:r,addSvgBackground:!0,isNode:!1});st.info("abc82",t,t.labelType);const l=e.insert("g").attr("class","edgeLabel"),o=l.insert("g").attr("class","label").attr("data-id",t.id);o.node().appendChild(n);let u=n.getBBox();if(r){const d=n.children[0],p=Xt(n);u=d.getBoundingClientRect(),p.attr("width",u.width),p.attr("height",u.height)}o.attr("transform","translate("+-u.width/2+", "+-u.height/2+")"),qd.set(t.id,l),t.width=u.width,t.height=u.height;let h;if(t.startLabelLeft){const d=await ts(t.startLabelLeft,Fh(t.labelStyle)),p=e.insert("g").attr("class","edgeTerminals"),g=p.insert("g").attr("class","inner");h=g.node().appendChild(d);const y=d.getBBox();g.attr("transform","translate("+-y.width/2+", "+-y.height/2+")"),ar.get(t.id)||ar.set(t.id,{}),ar.get(t.id).startLeft=p,yc(h,t.startLabelLeft)}if(t.startLabelRight){const d=await ts(t.startLabelRight,Fh(t.labelStyle)),p=e.insert("g").attr("class","edgeTerminals"),g=p.insert("g").attr("class","inner");h=p.node().appendChild(d),g.node().appendChild(d);const y=d.getBBox();g.attr("transform","translate("+-y.width/2+", "+-y.height/2+")"),ar.get(t.id)||ar.set(t.id,{}),ar.get(t.id).startRight=p,yc(h,t.startLabelRight)}if(t.endLabelLeft){const d=await ts(t.endLabelLeft,Fh(t.labelStyle)),p=e.insert("g").attr("class","edgeTerminals"),g=p.insert("g").attr("class","inner");h=g.node().appendChild(d);const y=d.getBBox();g.attr("transform","translate("+-y.width/2+", "+-y.height/2+")"),p.node().appendChild(d),ar.get(t.id)||ar.set(t.id,{}),ar.get(t.id).endLeft=p,yc(h,t.endLabelLeft)}if(t.endLabelRight){const d=await ts(t.endLabelRight,Fh(t.labelStyle)),p=e.insert("g").attr("class","edgeTerminals"),g=p.insert("g").attr("class","inner");h=g.node().appendChild(d);const y=d.getBBox();g.attr("transform","translate("+-y.width/2+", "+-y.height/2+")"),p.node().appendChild(d),ar.get(t.id)||ar.set(t.id,{}),ar.get(t.id).endRight=p,yc(h,t.endLabelRight)}return n},"insertEdgeLabel");function yc(e,t){ie().flowchart.htmlLabels&&e&&(e.style.width=t.length*9+"px",e.style.height="12px")}w(yc,"setTerminalWidth");var TI=w((e,t)=>{st.debug("Moving label abc88 ",e.id,e.label,qd.get(e.id),t);let r=t.updatedPath?t.updatedPath:t.originalPath;const i=ie(),{subGraphTitleTotalMargin:n}=S0(i);if(e.label){const l=qd.get(e.id);let o=e.x,u=e.y;if(r){const h=Ti.calcLabelPosition(r);st.debug("Moving label "+e.label+" from (",o,",",u,") to (",h.x,",",h.y,") abc88"),t.updatedPath&&(o=h.x,u=h.y)}l.attr("transform",`translate(${o}, ${u+n/2})`)}if(e.startLabelLeft){const l=ar.get(e.id).startLeft;let o=e.x,u=e.y;if(r){const h=Ti.calcTerminalLabelPosition(e.arrowTypeStart?10:0,"start_left",r);o=h.x,u=h.y}l.attr("transform",`translate(${o}, ${u})`)}if(e.startLabelRight){const l=ar.get(e.id).startRight;let o=e.x,u=e.y;if(r){const h=Ti.calcTerminalLabelPosition(e.arrowTypeStart?10:0,"start_right",r);o=h.x,u=h.y}l.attr("transform",`translate(${o}, ${u})`)}if(e.endLabelLeft){const l=ar.get(e.id).endLeft;let o=e.x,u=e.y;if(r){const h=Ti.calcTerminalLabelPosition(e.arrowTypeEnd?10:0,"end_left",r);o=h.x,u=h.y}l.attr("transform",`translate(${o}, ${u})`)}if(e.endLabelRight){const l=ar.get(e.id).endRight;let o=e.x,u=e.y;if(r){const h=Ti.calcTerminalLabelPosition(e.arrowTypeEnd?10:0,"end_right",r);o=h.x,u=h.y}l.attr("transform",`translate(${o}, ${u})`)}},"positionEdgeLabel"),EI=w((e,t)=>{const r=e.x,i=e.y,n=Math.abs(t.x-r),l=Math.abs(t.y-i),o=e.width/2,u=e.height/2;return n>=o||l>=u},"outsideNode"),AI=w((e,t,r)=>{st.debug(`intersection calc abc89:
  outsidePoint: ${JSON.stringify(t)}
  insidePoint : ${JSON.stringify(r)}
  node        : x:${e.x} y:${e.y} w:${e.width} h:${e.height}`);const i=e.x,n=e.y,l=Math.abs(i-r.x),o=e.width/2;let u=r.x<t.x?o-l:o+l;const h=e.height/2,d=Math.abs(t.y-r.y),p=Math.abs(t.x-r.x);if(Math.abs(n-t.y)*o>Math.abs(i-t.x)*h){let g=r.y<t.y?t.y-h-n:n-h-t.y;u=p*g/d;const y={x:r.x<t.x?r.x+u:r.x-p+u,y:r.y<t.y?r.y+d-g:r.y-d+g};return u===0&&(y.x=t.x,y.y=t.y),p===0&&(y.x=t.x),d===0&&(y.y=t.y),st.debug(`abc89 top/bottom calc, Q ${d}, q ${g}, R ${p}, r ${u}`,y),y}else{r.x<t.x?u=t.x-o-i:u=i-o-t.x;let g=d*u/p,y=r.x<t.x?r.x+p-u:r.x-p+u,x=r.y<t.y?r.y+g:r.y-g;return st.debug(`sides calc abc89, Q ${d}, q ${g}, R ${p}, r ${u}`,{_x:y,_y:x}),u===0&&(y=t.x,x=t.y),p===0&&(y=t.x),d===0&&(x=t.y),{x:y,y:x}}},"intersection"),Q1=w((e,t)=>{st.warn("abc88 cutPathAtIntersect",e,t);let r=[],i=e[0],n=!1;return e.forEach(l=>{if(st.info("abc88 checking point",l,t),!EI(t,l)&&!n){const o=AI(t,i,l);st.debug("abc88 inside",l,i,o),st.debug("abc88 intersection",o,t);let u=!1;r.forEach(h=>{u=u||h.x===o.x&&h.y===o.y}),r.some(h=>h.x===o.x&&h.y===o.y)?st.warn("abc88 no intersect",o,r):r.push(o),n=!0}else st.warn("abc88 outside",l,i),i=l,n||r.push(l)}),st.debug("returning points",r),r},"cutPathAtIntersect");function _A(e){const t=[],r=[];for(let i=1;i<e.length-1;i++){const n=e[i-1],l=e[i],o=e[i+1];(n.x===l.x&&l.y===o.y&&Math.abs(l.x-o.x)>5&&Math.abs(l.y-n.y)>5||n.y===l.y&&l.x===o.x&&Math.abs(l.x-n.x)>5&&Math.abs(l.y-o.y)>5)&&(t.push(l),r.push(i))}return{cornerPoints:t,cornerPointPositions:r}}w(_A,"extractCornerPoints");var Z1=w(function(e,t,r){const i=t.x-e.x,n=t.y-e.y,l=Math.sqrt(i*i+n*n),o=r/l;return{x:t.x-o*i,y:t.y-o*n}},"findAdjacentPoint"),OI=w(function(e){const{cornerPointPositions:t}=_A(e),r=[];for(let i=0;i<e.length;i++)if(t.includes(i)){const n=e[i-1],l=e[i+1],o=e[i],u=Z1(n,o,5),h=Z1(l,o,5),d=h.x-u.x,p=h.y-u.y;r.push(u);const g=Math.sqrt(2)*2;let y={x:o.x,y:o.y};if(Math.abs(l.x-n.x)>10&&Math.abs(l.y-n.y)>=10){st.debug("Corner point fixing",Math.abs(l.x-n.x),Math.abs(l.y-n.y));const x=5;o.x===u.x?y={x:d<0?u.x-x+g:u.x+x-g,y:p<0?u.y-g:u.y+g}:y={x:d<0?u.x-g:u.x+g,y:p<0?u.y-x+g:u.y+x-g}}else st.debug("Corner point skipping fixing",Math.abs(l.x-n.x),Math.abs(l.y-n.y));r.push(y,h)}else r.push(e[i]);return r},"fixCorners"),RI=w((e,t,r)=>{const i=e-t-r,n=2,l=2,o=n+l,u=Math.floor(i/o),h=Array(u).fill(`${n} ${l}`).join(" ");return`0 ${t} ${h} ${r}`},"generateDashArray"),LI=w(function(e,t,r,i,n,l,o,u=!1){const{handDrawnSeed:h}=ie();let d=t.points,p=!1;const g=n;var y=l;const x=[];for(const D in t.cssCompiledStyles)ZC(D)||x.push(t.cssCompiledStyles[D]);st.debug("UIO intersect check",t.points,y.x,g.x),y.intersect&&g.intersect&&!u&&(d=d.slice(1,t.points.length-1),d.unshift(g.intersect(d[0])),st.debug("Last point UIO",t.start,"-->",t.end,d[d.length-1],y,y.intersect(d[d.length-1])),d.push(y.intersect(d[d.length-1])));const v=btoa(JSON.stringify(d));t.toCluster&&(st.info("to cluster abc88",r.get(t.toCluster)),d=Q1(t.points,r.get(t.toCluster).node),p=!0),t.fromCluster&&(st.debug("from cluster abc88",r.get(t.fromCluster),JSON.stringify(d,null,2)),d=Q1(d.reverse(),r.get(t.fromCluster).node).reverse(),p=!0);let _=d.filter(D=>!Number.isNaN(D.y));_=OI(_);let S=Qh;switch(S=vd,t.curve){case"linear":S=vd;break;case"basis":S=Qh;break;case"cardinal":S=rk;break;case"bumpX":S=Q2;break;case"bumpY":S=Z2;break;case"catmullRom":S=ak;break;case"monotoneX":S=uk;break;case"monotoneY":S=hk;break;case"natural":S=fk;break;case"step":S=pk;break;case"stepAfter":S=mk;break;case"stepBefore":S=gk;break;default:S=Qh}const{x:T,y:E}=O8(t),O=d6().x(T).y(E).curve(S);let M;switch(t.thickness){case"normal":M="edge-thickness-normal";break;case"thick":M="edge-thickness-thick";break;case"invisible":M="edge-thickness-invisible";break;default:M="edge-thickness-normal"}switch(t.pattern){case"solid":M+=" edge-pattern-solid";break;case"dotted":M+=" edge-pattern-dotted";break;case"dashed":M+=" edge-pattern-dashed";break;default:M+=" edge-pattern-solid"}let N,q=t.curve==="rounded"?wA(SA(_,t),5):O(_);const z=Array.isArray(t.style)?t.style:[t.style];let Q=z.find(D=>D?.startsWith("stroke:")),et=!1;if(t.look==="handDrawn"){const D=xt.svg(e);Object.assign([],_);const F=D.path(q,{roughness:.3,seed:h});M+=" transition",N=Xt(F).select("path").attr("id",t.id).attr("class"," "+M+(t.classes?" "+t.classes:"")).attr("style",z?z.reduce((j,I)=>j+";"+I,""):"");let R=N.attr("d");N.attr("d",R),e.node().appendChild(N.node())}else{const D=x.join(";"),F=z?z.reduce((Y,tt)=>Y+tt+";",""):"";let R="";t.animate&&(R=" edge-animation-fast"),t.animation&&(R=" edge-animation-"+t.animation);const j=(D?D+";"+F+";":F)+";"+(z?z.reduce((Y,tt)=>Y+";"+tt,""):"");N=e.append("path").attr("d",q).attr("id",t.id).attr("class"," "+M+(t.classes?" "+t.classes:"")+(R??"")).attr("style",j),Q=j.match(/stroke:([^;]+)/)?.[1],et=t.animate===!0||!!t.animation||D.includes("animation");const I=N.node(),lt=typeof I.getTotalLength=="function"?I.getTotalLength():0,ht=p1[t.arrowTypeStart]||0,B=p1[t.arrowTypeEnd]||0;if(t.look==="neo"&&!et){const tt=`stroke-dasharray: ${t.pattern==="dotted"||t.pattern==="dashed"?RI(lt,ht,B):`0 ${ht} ${lt-ht-B} ${B}`}; stroke-dashoffset: 0;`;N.attr("style",tt+N.attr("style"))}}N.attr("data-edge",!0),N.attr("data-et","edge"),N.attr("data-id",t.id),N.attr("data-points",v),t.showPoints&&_.forEach(D=>{e.append("circle").style("stroke","red").style("fill","red").attr("r",1).attr("cx",D.x).attr("cy",D.y)});let it="";(ie().flowchart.arrowMarkerAbsolute||ie().state.arrowMarkerAbsolute)&&(it=window.location.protocol+"//"+window.location.host+window.location.pathname+window.location.search,it=it.replace(/\(/g,"\\(").replace(/\)/g,"\\)")),st.info("arrowTypeStart",t.arrowTypeStart),st.info("arrowTypeEnd",t.arrowTypeEnd),SI(N,t,it,o,i,Q);const J=Math.floor(d.length/2),ot=d[J];Ti.isLabelCoordinateInPath(ot,N.attr("d"))||(p=!0);let L={};return p&&(L.updatedPath=d),L.originalPath=t.points,L},"insertEdge");function wA(e,t){if(e.length<2)return"";let r="";const i=e.length,n=1e-5;for(let l=0;l<i;l++){const o=e[l],u=e[l-1],h=e[l+1];if(l===0)r+=`M${o.x},${o.y}`;else if(l===i-1)r+=`L${o.x},${o.y}`;else{const d=o.x-u.x,p=o.y-u.y,g=h.x-o.x,y=h.y-o.y,x=Math.hypot(d,p),v=Math.hypot(g,y);if(x<n||v<n){r+=`L${o.x},${o.y}`;continue}const _=d/x,S=p/x,T=g/v,E=y/v,O=_*T+S*E,M=Math.max(-1,Math.min(1,O)),N=Math.acos(M);if(N<n||Math.abs(Math.PI-N)<n){r+=`L${o.x},${o.y}`;continue}const q=Math.min(t/Math.sin(N/2),x/2,v/2),z=o.x-_*q,Q=o.y-S*q,et=o.x+T*q,it=o.y+E*q;r+=`L${z},${Q}`,r+=`Q${o.x},${o.y} ${et},${it}`}}return r}w(wA,"generateRoundedPath");function Ay(e,t){if(!e||!t)return{angle:0,deltaX:0,deltaY:0};const r=t.x-e.x,i=t.y-e.y;return{angle:Math.atan2(i,r),deltaX:r,deltaY:i}}w(Ay,"calculateDeltaAndAngle");function SA(e,t){const r=e.map(n=>({...n}));if(e.length>=2&&or[t.arrowTypeStart]){const n=or[t.arrowTypeStart],l=e[0],o=e[1],{angle:u}=Ay(l,o),h=n*Math.cos(u),d=n*Math.sin(u);r[0].x=l.x+h,r[0].y=l.y+d}const i=e.length;if(i>=2&&or[t.arrowTypeEnd]){const n=or[t.arrowTypeEnd],l=e[i-1],o=e[i-2],{angle:u}=Ay(o,l),h=n*Math.cos(u),d=n*Math.sin(u);r[i-1].x=l.x-h,r[i-1].y=l.y-d}return r}w(SA,"applyMarkerOffsetsToPoints");var MI=w((e,t,r,i)=>{t.forEach(n=>{VI[n](e,r,i)})},"insertMarkers"),BI=w((e,t,r)=>{st.trace("Making markers for ",r),e.append("defs").append("marker").attr("id",r+"_"+t+"-extensionStart").attr("class","marker extension "+t).attr("refX",18).attr("refY",7).attr("markerWidth",190).attr("markerHeight",240).attr("orient","auto").append("path").attr("d","M 1,7 L18,13 V 1 Z"),e.append("defs").append("marker").attr("id",r+"_"+t+"-extensionEnd").attr("class","marker extension "+t).attr("refX",1).attr("refY",7).attr("markerWidth",20).attr("markerHeight",28).attr("orient","auto").append("path").attr("d","M 1,1 V 13 L18,7 Z")},"extension"),NI=w((e,t,r)=>{e.append("defs").append("marker").attr("id",r+"_"+t+"-compositionStart").attr("class","marker composition "+t).attr("refX",18).attr("refY",7).attr("markerWidth",190).attr("markerHeight",240).attr("orient","auto").append("path").attr("d","M 18,7 L9,13 L1,7 L9,1 Z"),e.append("defs").append("marker").attr("id",r+"_"+t+"-compositionEnd").attr("class","marker composition "+t).attr("refX",1).attr("refY",7).attr("markerWidth",20).attr("markerHeight",28).attr("orient","auto").append("path").attr("d","M 18,7 L9,13 L1,7 L9,1 Z")},"composition"),DI=w((e,t,r)=>{e.append("defs").append("marker").attr("id",r+"_"+t+"-aggregationStart").attr("class","marker aggregation "+t).attr("refX",18).attr("refY",7).attr("markerWidth",190).attr("markerHeight",240).attr("orient","auto").append("path").attr("d","M 18,7 L9,13 L1,7 L9,1 Z"),e.append("defs").append("marker").attr("id",r+"_"+t+"-aggregationEnd").attr("class","marker aggregation "+t).attr("refX",1).attr("refY",7).attr("markerWidth",20).attr("markerHeight",28).attr("orient","auto").append("path").attr("d","M 18,7 L9,13 L1,7 L9,1 Z")},"aggregation"),jI=w((e,t,r)=>{e.append("defs").append("marker").attr("id",r+"_"+t+"-dependencyStart").attr("class","marker dependency "+t).attr("refX",6).attr("refY",7).attr("markerWidth",190).attr("markerHeight",240).attr("orient","auto").append("path").attr("d","M 5,7 L9,13 L1,7 L9,1 Z"),e.append("defs").append("marker").attr("id",r+"_"+t+"-dependencyEnd").attr("class","marker dependency "+t).attr("refX",13).attr("refY",7).attr("markerWidth",20).attr("markerHeight",28).attr("orient","auto").append("path").attr("d","M 18,7 L9,13 L14,7 L9,1 Z")},"dependency"),$I=w((e,t,r)=>{e.append("defs").append("marker").attr("id",r+"_"+t+"-lollipopStart").attr("class","marker lollipop "+t).attr("refX",13).attr("refY",7).attr("markerWidth",190).attr("markerHeight",240).attr("orient","auto").append("circle").attr("stroke","black").attr("fill","transparent").attr("cx",7).attr("cy",7).attr("r",6),e.append("defs").append("marker").attr("id",r+"_"+t+"-lollipopEnd").attr("class","marker lollipop "+t).attr("refX",1).attr("refY",7).attr("markerWidth",190).attr("markerHeight",240).attr("orient","auto").append("circle").attr("stroke","black").attr("fill","transparent").attr("cx",7).attr("cy",7).attr("r",6)},"lollipop"),zI=w((e,t,r)=>{e.append("marker").attr("id",r+"_"+t+"-pointEnd").attr("class","marker "+t).attr("viewBox","0 0 10 10").attr("refX",5).attr("refY",5).attr("markerUnits","userSpaceOnUse").attr("markerWidth",8).attr("markerHeight",8).attr("orient","auto").append("path").attr("d","M 0 0 L 10 5 L 0 10 z").attr("class","arrowMarkerPath").style("stroke-width",1).style("stroke-dasharray","1,0"),e.append("marker").attr("id",r+"_"+t+"-pointStart").attr("class","marker "+t).attr("viewBox","0 0 10 10").attr("refX",4.5).attr("refY",5).attr("markerUnits","userSpaceOnUse").attr("markerWidth",8).attr("markerHeight",8).attr("orient","auto").append("path").attr("d","M 0 5 L 10 10 L 10 0 z").attr("class","arrowMarkerPath").style("stroke-width",1).style("stroke-dasharray","1,0")},"point"),FI=w((e,t,r)=>{e.append("marker").attr("id",r+"_"+t+"-circleEnd").attr("class","marker "+t).attr("viewBox","0 0 10 10").attr("refX",11).attr("refY",5).attr("markerUnits","userSpaceOnUse").attr("markerWidth",11).attr("markerHeight",11).attr("orient","auto").append("circle").attr("cx","5").attr("cy","5").attr("r","5").attr("class","arrowMarkerPath").style("stroke-width",1).style("stroke-dasharray","1,0"),e.append("marker").attr("id",r+"_"+t+"-circleStart").attr("class","marker "+t).attr("viewBox","0 0 10 10").attr("refX",-1).attr("refY",5).attr("markerUnits","userSpaceOnUse").attr("markerWidth",11).attr("markerHeight",11).attr("orient","auto").append("circle").attr("cx","5").attr("cy","5").attr("r","5").attr("class","arrowMarkerPath").style("stroke-width",1).style("stroke-dasharray","1,0")},"circle"),PI=w((e,t,r)=>{e.append("marker").attr("id",r+"_"+t+"-crossEnd").attr("class","marker cross "+t).attr("viewBox","0 0 11 11").attr("refX",12).attr("refY",5.2).attr("markerUnits","userSpaceOnUse").attr("markerWidth",11).attr("markerHeight",11).attr("orient","auto").append("path").attr("d","M 1,1 l 9,9 M 10,1 l -9,9").attr("class","arrowMarkerPath").style("stroke-width",2).style("stroke-dasharray","1,0"),e.append("marker").attr("id",r+"_"+t+"-crossStart").attr("class","marker cross "+t).attr("viewBox","0 0 11 11").attr("refX",-1).attr("refY",5.2).attr("markerUnits","userSpaceOnUse").attr("markerWidth",11).attr("markerHeight",11).attr("orient","auto").append("path").attr("d","M 1,1 l 9,9 M 10,1 l -9,9").attr("class","arrowMarkerPath").style("stroke-width",2).style("stroke-dasharray","1,0")},"cross"),UI=w((e,t,r)=>{e.append("defs").append("marker").attr("id",r+"_"+t+"-barbEnd").attr("refX",19).attr("refY",7).attr("markerWidth",20).attr("markerHeight",14).attr("markerUnits","userSpaceOnUse").attr("orient","auto").append("path").attr("d","M 19,7 L9,13 L14,7 L9,1 Z")},"barb"),II=w((e,t,r)=>{e.append("defs").append("marker").attr("id",r+"_"+t+"-onlyOneStart").attr("class","marker onlyOne "+t).attr("refX",0).attr("refY",9).attr("markerWidth",18).attr("markerHeight",18).attr("orient","auto").append("path").attr("d","M9,0 L9,18 M15,0 L15,18"),e.append("defs").append("marker").attr("id",r+"_"+t+"-onlyOneEnd").attr("class","marker onlyOne "+t).attr("refX",18).attr("refY",9).attr("markerWidth",18).attr("markerHeight",18).attr("orient","auto").append("path").attr("d","M3,0 L3,18 M9,0 L9,18")},"only_one"),qI=w((e,t,r)=>{const i=e.append("defs").append("marker").attr("id",r+"_"+t+"-zeroOrOneStart").attr("class","marker zeroOrOne "+t).attr("refX",0).attr("refY",9).attr("markerWidth",30).attr("markerHeight",18).attr("orient","auto");i.append("circle").attr("fill","white").attr("cx",21).attr("cy",9).attr("r",6),i.append("path").attr("d","M9,0 L9,18");const n=e.append("defs").append("marker").attr("id",r+"_"+t+"-zeroOrOneEnd").attr("class","marker zeroOrOne "+t).attr("refX",30).attr("refY",9).attr("markerWidth",30).attr("markerHeight",18).attr("orient","auto");n.append("circle").attr("fill","white").attr("cx",9).attr("cy",9).attr("r",6),n.append("path").attr("d","M21,0 L21,18")},"zero_or_one"),HI=w((e,t,r)=>{e.append("defs").append("marker").attr("id",r+"_"+t+"-oneOrMoreStart").attr("class","marker oneOrMore "+t).attr("refX",18).attr("refY",18).attr("markerWidth",45).attr("markerHeight",36).attr("orient","auto").append("path").attr("d","M0,18 Q 18,0 36,18 Q 18,36 0,18 M42,9 L42,27"),e.append("defs").append("marker").attr("id",r+"_"+t+"-oneOrMoreEnd").attr("class","marker oneOrMore "+t).attr("refX",27).attr("refY",18).attr("markerWidth",45).attr("markerHeight",36).attr("orient","auto").append("path").attr("d","M3,9 L3,27 M9,18 Q27,0 45,18 Q27,36 9,18")},"one_or_more"),WI=w((e,t,r)=>{const i=e.append("defs").append("marker").attr("id",r+"_"+t+"-zeroOrMoreStart").attr("class","marker zeroOrMore "+t).attr("refX",18).attr("refY",18).attr("markerWidth",57).attr("markerHeight",36).attr("orient","auto");i.append("circle").attr("fill","white").attr("cx",48).attr("cy",18).attr("r",6),i.append("path").attr("d","M0,18 Q18,0 36,18 Q18,36 0,18");const n=e.append("defs").append("marker").attr("id",r+"_"+t+"-zeroOrMoreEnd").attr("class","marker zeroOrMore "+t).attr("refX",39).attr("refY",18).attr("markerWidth",57).attr("markerHeight",36).attr("orient","auto");n.append("circle").attr("fill","white").attr("cx",9).attr("cy",18).attr("r",6),n.append("path").attr("d","M21,18 Q39,0 57,18 Q39,36 21,18")},"zero_or_more"),GI=w((e,t,r)=>{e.append("defs").append("marker").attr("id",r+"_"+t+"-requirement_arrowEnd").attr("refX",20).attr("refY",10).attr("markerWidth",20).attr("markerHeight",20).attr("orient","auto").append("path").attr("d",`M0,0
      L20,10
      M20,10
      L0,20`)},"requirement_arrow"),YI=w((e,t,r)=>{const i=e.append("defs").append("marker").attr("id",r+"_"+t+"-requirement_containsStart").attr("refX",0).attr("refY",10).attr("markerWidth",20).attr("markerHeight",20).attr("orient","auto").append("g");i.append("circle").attr("cx",10).attr("cy",10).attr("r",9).attr("fill","none"),i.append("line").attr("x1",1).attr("x2",19).attr("y1",10).attr("y2",10),i.append("line").attr("y1",1).attr("y2",19).attr("x1",10).attr("x2",10)},"requirement_contains"),VI={extension:BI,composition:NI,aggregation:DI,dependency:jI,lollipop:$I,point:zI,circle:FI,cross:PI,barb:UI,only_one:II,zero_or_one:qI,one_or_more:HI,zero_or_more:WI,requirement_arrow:GI,requirement_contains:YI},XI=MI,KI={common:Fl,getConfig:cr,insertCluster:aI,insertEdge:LI,insertEdgeLabel:CI,insertMarkers:XI,insertNode:vA,interpolateToCurve:A0,labelHelper:Bt,log:st,positionEdgeLabel:TI},Hc={},kA=w(e=>{for(const t of e)Hc[t.name]=t},"registerLayoutLoaders"),QI=w(()=>{kA([{name:"dagre",loader:w(async()=>await ne(()=>import("./dagre-6UL2VRFP-cxN61kpq.js"),__vite__mapDeps([0,1,2,3,4,5])),"loader")},{name:"cose-bilkent",loader:w(async()=>await ne(()=>import("./cose-bilkent-S5V4N54A-D2NyATJ9.js"),__vite__mapDeps([6,7])),"loader")}])},"registerDefaultLayoutLoaders");QI();var K7=w(async(e,t)=>{if(!(e.layoutAlgorithm in Hc))throw new Error(`Unknown layout algorithm: ${e.layoutAlgorithm}`);const r=Hc[e.layoutAlgorithm];return(await r.loader()).render(e,t,KI,{algorithm:r.algorithm})},"render"),Q7=w((e="",{fallback:t="dagre"}={})=>{if(e in Hc)return e;if(t in Hc)return st.warn(`Layout algorithm ${e} is not registered. Using ${t} as fallback.`),t;throw new Error(`Both layout algorithms ${e} and ${t} are not registered.`)},"getRegisteredLayoutAlgorithm"),CA="comm",TA="rule",EA="decl",ZI="@import",JI="@namespace",t9="@keyframes",e9="@layer",AA=Math.abs,V0=String.fromCharCode;function OA(e){return e.trim()}function rd(e,t,r){return e.replace(t,r)}function r9(e,t,r){return e.indexOf(t,r)}function yl(e,t){return e.charCodeAt(t)|0}function Bl(e,t,r){return e.slice(t,r)}function Ui(e){return e.length}function i9(e){return e.length}function Ph(e,t){return t.push(e),e}var wf=1,Nl=1,RA=0,fi=0,$e=0,Hl="";function X0(e,t,r,i,n,l,o,u){return{value:e,root:t,parent:r,type:i,props:n,children:l,line:wf,column:Nl,length:o,return:"",siblings:u}}function a9(){return $e}function n9(){return $e=fi>0?yl(Hl,--fi):0,Nl--,$e===10&&(Nl=1,wf--),$e}function Ai(){return $e=fi<RA?yl(Hl,fi++):0,Nl++,$e===10&&(Nl=1,wf++),$e}function un(){return yl(Hl,fi)}function id(){return fi}function Sf(e,t){return Bl(Hl,e,t)}function Wc(e){switch(e){case 0:case 9:case 10:case 13:case 32:return 5;case 33:case 43:case 44:case 47:case 62:case 64:case 126:case 59:case 123:case 125:return 4;case 58:return 3;case 34:case 39:case 40:case 91:return 2;case 41:case 93:return 1}return 0}function s9(e){return wf=Nl=1,RA=Ui(Hl=e),fi=0,[]}function l9(e){return Hl="",e}function vm(e){return OA(Sf(fi-1,Oy(e===91?e+2:e===40?e+1:e)))}function o9(e){for(;($e=un())&&$e<33;)Ai();return Wc(e)>2||Wc($e)>3?"":" "}function c9(e,t){for(;--t&&Ai()&&!($e<48||$e>102||$e>57&&$e<65||$e>70&&$e<97););return Sf(e,id()+(t<6&&un()==32&&Ai()==32))}function Oy(e){for(;Ai();)switch($e){case e:return fi;case 34:case 39:e!==34&&e!==39&&Oy($e);break;case 40:e===41&&Oy(e);break;case 92:Ai();break}return fi}function u9(e,t){for(;Ai()&&e+$e!==57;)if(e+$e===84&&un()===47)break;return"/*"+Sf(t,fi-1)+"*"+V0(e===47?e:Ai())}function h9(e){for(;!Wc(un());)Ai();return Sf(e,fi)}function d9(e){return l9(ad("",null,null,null,[""],e=s9(e),0,[0],e))}function ad(e,t,r,i,n,l,o,u,h){for(var d=0,p=0,g=o,y=0,x=0,v=0,_=1,S=1,T=1,E=0,O="",M=n,N=l,q=i,z=O;S;)switch(v=E,E=Ai()){case 40:if(v!=108&&yl(z,g-1)==58){r9(z+=rd(vm(E),"&","&\f"),"&\f",AA(d?u[d-1]:0))!=-1&&(T=-1);break}case 34:case 39:case 91:z+=vm(E);break;case 9:case 10:case 13:case 32:z+=o9(v);break;case 92:z+=c9(id()-1,7);continue;case 47:switch(un()){case 42:case 47:Ph(f9(u9(Ai(),id()),t,r,h),h),(Wc(v||1)==5||Wc(un()||1)==5)&&Ui(z)&&Bl(z,-1,void 0)!==" "&&(z+=" ");break;default:z+="/"}break;case 123*_:u[d++]=Ui(z)*T;case 125*_:case 59:case 0:switch(E){case 0:case 125:S=0;case 59+p:T==-1&&(z=rd(z,/\f/g,"")),x>0&&(Ui(z)-g||_===0&&v===47)&&Ph(x>32?tS(z+";",i,r,g-1,h):tS(rd(z," ","")+";",i,r,g-2,h),h);break;case 59:z+=";";default:if(Ph(q=J1(z,t,r,d,p,n,u,O,M=[],N=[],g,l),l),E===123)if(p===0)ad(z,t,q,q,M,l,g,u,N);else{switch(y){case 99:if(yl(z,3)===110)break;case 108:if(yl(z,2)===97)break;default:p=0;case 100:case 109:case 115:}p?ad(e,q,q,i&&Ph(J1(e,q,q,0,0,n,u,O,n,M=[],g,N),N),n,N,g,u,i?M:N):ad(z,q,q,q,[""],N,0,u,N)}}d=p=x=0,_=T=1,O=z="",g=o;break;case 58:g=1+Ui(z),x=v;default:if(_<1){if(E==123)--_;else if(E==125&&_++==0&&n9()==125)continue}switch(z+=V0(E),E*_){case 38:T=p>0?1:(z+="\f",-1);break;case 44:u[d++]=(Ui(z)-1)*T,T=1;break;case 64:un()===45&&(z+=vm(Ai())),y=un(),p=g=Ui(O=z+=h9(id())),E++;break;case 45:v===45&&Ui(z)==2&&(_=0)}}return l}function J1(e,t,r,i,n,l,o,u,h,d,p,g){for(var y=n-1,x=n===0?l:[""],v=i9(x),_=0,S=0,T=0;_<i;++_)for(var E=0,O=Bl(e,y+1,y=AA(S=o[_])),M=e;E<v;++E)(M=OA(S>0?x[E]+" "+O:rd(O,/&\f/g,x[E])))&&(h[T++]=M);return X0(e,t,r,n===0?TA:u,h,d,p,g)}function f9(e,t,r,i){return X0(e,t,r,CA,V0(a9()),Bl(e,2,-2),0,i)}function tS(e,t,r,i,n){return X0(e,t,r,EA,Bl(e,0,i),Bl(e,i+1,-1),i,n)}function Ry(e,t){for(var r="",i=0;i<e.length;i++)r+=t(e[i],i,e,t)||"";return r}function p9(e,t,r,i){switch(e.type){case e9:if(e.children.length)break;case ZI:case JI:case EA:return e.return=e.return||e.value;case CA:return"";case t9:return e.return=e.value+"{"+Ry(e.children,i)+"}";case TA:if(!Ui(e.value=e.props.join(",")))return""}return Ui(r=Ry(e.children,i))?e.return=e.value+"{"+r+"}":""}var g9=rT(Object.keys,Object),m9=Object.prototype,y9=m9.hasOwnProperty;function b9(e){if(!df(e))return g9(e);var t=[];for(var r in Object(e))y9.call(e,r)&&r!="constructor"&&t.push(r);return t}var Ly=fs(Gi,"DataView"),My=fs(Gi,"Promise"),By=fs(Gi,"Set"),Ny=fs(Gi,"WeakMap"),eS="[object Map]",x9="[object Object]",rS="[object Promise]",iS="[object Set]",aS="[object WeakMap]",nS="[object DataView]",v9=ds(Ly),_9=ds(Ic),w9=ds(My),S9=ds(By),k9=ds(Ny),Gn=Ul;(Ly&&Gn(new Ly(new ArrayBuffer(1)))!=nS||Ic&&Gn(new Ic)!=eS||My&&Gn(My.resolve())!=rS||By&&Gn(new By)!=iS||Ny&&Gn(new Ny)!=aS)&&(Gn=function(e){var t=Ul(e),r=t==x9?e.constructor:void 0,i=r?ds(r):"";if(i)switch(i){case v9:return nS;case _9:return eS;case w9:return rS;case S9:return iS;case k9:return aS}return t});var C9="[object Map]",T9="[object Set]",E9=Object.prototype,A9=E9.hasOwnProperty;function sS(e){if(e==null)return!0;if(ff(e)&&(Bd(e)||typeof e=="string"||typeof e.splice=="function"||T0(e)||E0(e)||Md(e)))return!e.length;var t=Gn(e);if(t==C9||t==T9)return!e.size;if(df(e))return!b9(e).length;for(var r in e)if(A9.call(e,r))return!1;return!0}var LA="c4",O9=w(e=>/^\s*C4Context|C4Container|C4Component|C4Dynamic|C4Deployment/.test(e),"detector"),R9=w(async()=>{const{diagram:e}=await ne(async()=>{const{diagram:t}=await import("./c4Diagram-YG6GDRKO-CIpcx9lU.js");return{diagram:t}},__vite__mapDeps([8,9]));return{id:LA,diagram:e}},"loader"),L9={id:LA,detector:O9,loader:R9},M9=L9,MA="flowchart",B9=w((e,t)=>t?.flowchart?.defaultRenderer==="dagre-wrapper"||t?.flowchart?.defaultRenderer==="elk"?!1:/^\s*graph/.test(e),"detector"),N9=w(async()=>{const{diagram:e}=await ne(async()=>{const{diagram:t}=await import("./flowDiagram-NV44I4VS-CDSzzTW7.js");return{diagram:t}},__vite__mapDeps([10,11,12,13,14]));return{id:MA,diagram:e}},"loader"),D9={id:MA,detector:B9,loader:N9},j9=D9,BA="flowchart-v2",$9=w((e,t)=>t?.flowchart?.defaultRenderer==="dagre-d3"?!1:(t?.flowchart?.defaultRenderer==="elk"&&(t.layout="elk"),/^\s*graph/.test(e)&&t?.flowchart?.defaultRenderer==="dagre-wrapper"?!0:/^\s*flowchart/.test(e)),"detector"),z9=w(async()=>{const{diagram:e}=await ne(async()=>{const{diagram:t}=await import("./flowDiagram-NV44I4VS-CDSzzTW7.js");return{diagram:t}},__vite__mapDeps([10,11,12,13,14]));return{id:BA,diagram:e}},"loader"),F9={id:BA,detector:$9,loader:z9},P9=F9,NA="er",U9=w(e=>/^\s*erDiagram/.test(e),"detector"),I9=w(async()=>{const{diagram:e}=await ne(async()=>{const{diagram:t}=await import("./erDiagram-Q2GNP2WA-DEMbkffO.js");return{diagram:t}},__vite__mapDeps([15,12,13,14]));return{id:NA,diagram:e}},"loader"),q9={id:NA,detector:U9,loader:I9},H9=q9,DA="gitGraph",W9=w(e=>/^\s*gitGraph/.test(e),"detector"),G9=w(async()=>{const{diagram:e}=await ne(async()=>{const{diagram:t}=await import("./gitGraphDiagram-NY62KEGX-D_IKDCCa.js");return{diagram:t}},__vite__mapDeps([16,17,18,19,4,2]));return{id:DA,diagram:e}},"loader"),Y9={id:DA,detector:W9,loader:G9},V9=Y9,jA="gantt",X9=w(e=>/^\s*gantt/.test(e),"detector"),K9=w(async()=>{const{diagram:e}=await ne(async()=>{const{diagram:t}=await import("./ganttDiagram-JELNMOA3-CvSplT0T.js");return{diagram:t}},__vite__mapDeps([20,21,22,23]));return{id:jA,diagram:e}},"loader"),Q9={id:jA,detector:X9,loader:K9},Z9=Q9,$A="info",J9=w(e=>/^\s*info/.test(e),"detector"),tq=w(async()=>{const{diagram:e}=await ne(async()=>{const{diagram:t}=await import("./infoDiagram-WHAUD3N6-C265x0uZ.js");return{diagram:t}},__vite__mapDeps([24,19,4,2]));return{id:$A,diagram:e}},"loader"),eq={id:$A,detector:J9,loader:tq},zA="pie",rq=w(e=>/^\s*pie/.test(e),"detector"),iq=w(async()=>{const{diagram:e}=await ne(async()=>{const{diagram:t}=await import("./pieDiagram-ADFJNKIX-DcTMU3Ru.js");return{diagram:t}},__vite__mapDeps([25,17,19,4,2,26,27,22]));return{id:zA,diagram:e}},"loader"),aq={id:zA,detector:rq,loader:iq},FA="quadrantChart",nq=w(e=>/^\s*quadrantChart/.test(e),"detector"),sq=w(async()=>{const{diagram:e}=await ne(async()=>{const{diagram:t}=await import("./quadrantDiagram-AYHSOK5B-lx_c2C2_.js");return{diagram:t}},__vite__mapDeps([28,21,22,23]));return{id:FA,diagram:e}},"loader"),lq={id:FA,detector:nq,loader:sq},oq=lq,PA="xychart",cq=w(e=>/^\s*xychart(-beta)?/.test(e),"detector"),uq=w(async()=>{const{diagram:e}=await ne(async()=>{const{diagram:t}=await import("./xychartDiagram-PRI3JC2R-BDYvwaQD.js");return{diagram:t}},__vite__mapDeps([29,22,27,21,23]));return{id:PA,diagram:e}},"loader"),hq={id:PA,detector:cq,loader:uq},dq=hq,UA="requirement",fq=w(e=>/^\s*requirement(Diagram)?/.test(e),"detector"),pq=w(async()=>{const{diagram:e}=await ne(async()=>{const{diagram:t}=await import("./requirementDiagram-UZGBJVZJ-_ut6jn4V.js");return{diagram:t}},__vite__mapDeps([30,12,13]));return{id:UA,diagram:e}},"loader"),gq={id:UA,detector:fq,loader:pq},mq=gq,IA="sequence",yq=w(e=>/^\s*sequenceDiagram/.test(e),"detector"),bq=w(async()=>{const{diagram:e}=await ne(async()=>{const{diagram:t}=await import("./sequenceDiagram-WL72ISMW-CPao9C7-.js");return{diagram:t}},__vite__mapDeps([31,9,18]));return{id:IA,diagram:e}},"loader"),xq={id:IA,detector:yq,loader:bq},vq=xq,qA="class",_q=w((e,t)=>t?.class?.defaultRenderer==="dagre-wrapper"?!1:/^\s*classDiagram/.test(e),"detector"),wq=w(async()=>{const{diagram:e}=await ne(async()=>{const{diagram:t}=await import("./classDiagram-2ON5EDUG-CRCVvVMO.js");return{diagram:t}},__vite__mapDeps([32,33,11,12,13]));return{id:qA,diagram:e}},"loader"),Sq={id:qA,detector:_q,loader:wq},kq=Sq,HA="classDiagram",Cq=w((e,t)=>/^\s*classDiagram/.test(e)&&t?.class?.defaultRenderer==="dagre-wrapper"?!0:/^\s*classDiagram-v2/.test(e),"detector"),Tq=w(async()=>{const{diagram:e}=await ne(async()=>{const{diagram:t}=await import("./classDiagram-v2-WZHVMYZB-CRCVvVMO.js");return{diagram:t}},__vite__mapDeps([34,33,11,12,13]));return{id:HA,diagram:e}},"loader"),Eq={id:HA,detector:Cq,loader:Tq},Aq=Eq,WA="state",Oq=w((e,t)=>t?.state?.defaultRenderer==="dagre-wrapper"?!1:/^\s*stateDiagram/.test(e),"detector"),Rq=w(async()=>{const{diagram:e}=await ne(async()=>{const{diagram:t}=await import("./stateDiagram-FKZM4ZOC-Bg4BFa7b.js");return{diagram:t}},__vite__mapDeps([35,36,12,13,1,2,3,4]));return{id:WA,diagram:e}},"loader"),Lq={id:WA,detector:Oq,loader:Rq},Mq=Lq,GA="stateDiagram",Bq=w((e,t)=>!!(/^\s*stateDiagram-v2/.test(e)||/^\s*stateDiagram/.test(e)&&t?.state?.defaultRenderer==="dagre-wrapper"),"detector"),Nq=w(async()=>{const{diagram:e}=await ne(async()=>{const{diagram:t}=await import("./stateDiagram-v2-4FDKWEC3-BRXiOCtu.js");return{diagram:t}},__vite__mapDeps([37,36,12,13]));return{id:GA,diagram:e}},"loader"),Dq={id:GA,detector:Bq,loader:Nq},jq=Dq,YA="journey",$q=w(e=>/^\s*journey/.test(e),"detector"),zq=w(async()=>{const{diagram:e}=await ne(async()=>{const{diagram:t}=await import("./journeyDiagram-XKPGCS4Q-kRE03D-d.js");return{diagram:t}},__vite__mapDeps([38,9,11,26]));return{id:YA,diagram:e}},"loader"),Fq={id:YA,detector:$q,loader:zq},Pq=Fq,Uq=w((e,t,r)=>{st.debug(`rendering svg for syntax error
`);const i=_6(t),n=i.append("g");i.attr("viewBox","0 0 2412 512"),v2(i,100,512,!0),n.append("path").attr("class","error-icon").attr("d","m411.313,123.313c6.25-6.25 6.25-16.375 0-22.625s-16.375-6.25-22.625,0l-32,32-9.375,9.375-20.688-20.688c-12.484-12.5-32.766-12.5-45.25,0l-16,16c-1.261,1.261-2.304,2.648-3.31,4.051-21.739-8.561-45.324-13.426-70.065-13.426-105.867,0-192,86.133-192,192s86.133,192 192,192 192-86.133 192-192c0-24.741-4.864-48.327-13.426-70.065 1.402-1.007 2.79-2.049 4.051-3.31l16-16c12.5-12.492 12.5-32.758 0-45.25l-20.688-20.688 9.375-9.375 32.001-31.999zm-219.313,100.687c-52.938,0-96,43.063-96,96 0,8.836-7.164,16-16,16s-16-7.164-16-16c0-70.578 57.422-128 128-128 8.836,0 16,7.164 16,16s-7.164,16-16,16z"),n.append("path").attr("class","error-icon").attr("d","m459.02,148.98c-6.25-6.25-16.375-6.25-22.625,0s-6.25,16.375 0,22.625l16,16c3.125,3.125 7.219,4.688 11.313,4.688 4.094,0 8.188-1.563 11.313-4.688 6.25-6.25 6.25-16.375 0-22.625l-16.001-16z"),n.append("path").attr("class","error-icon").attr("d","m340.395,75.605c3.125,3.125 7.219,4.688 11.313,4.688 4.094,0 8.188-1.563 11.313-4.688 6.25-6.25 6.25-16.375 0-22.625l-16-16c-6.25-6.25-16.375-6.25-22.625,0s-6.25,16.375 0,22.625l15.999,16z"),n.append("path").attr("class","error-icon").attr("d","m400,64c8.844,0 16-7.164 16-16v-32c0-8.836-7.156-16-16-16-8.844,0-16,7.164-16,16v32c0,8.836 7.156,16 16,16z"),n.append("path").attr("class","error-icon").attr("d","m496,96.586h-32c-8.844,0-16,7.164-16,16 0,8.836 7.156,16 16,16h32c8.844,0 16-7.164 16-16 0-8.836-7.156-16-16-16z"),n.append("path").attr("class","error-icon").attr("d","m436.98,75.605c3.125,3.125 7.219,4.688 11.313,4.688 4.094,0 8.188-1.563 11.313-4.688l32-32c6.25-6.25 6.25-16.375 0-22.625s-16.375-6.25-22.625,0l-32,32c-6.251,6.25-6.251,16.375-0.001,22.625z"),n.append("text").attr("class","error-text").attr("x",1440).attr("y",250).attr("font-size","150px").style("text-anchor","middle").text("Syntax error in text"),n.append("text").attr("class","error-text").attr("x",1250).attr("y",400).attr("font-size","100px").style("text-anchor","middle").text(`mermaid version ${r}`)},"draw"),VA={draw:Uq},Iq=VA,qq={db:{},renderer:VA,parser:{parse:w(()=>{},"parse")}},Hq=qq,XA="flowchart-elk",Wq=w((e,t={})=>/^\s*flowchart-elk/.test(e)||/^\s*(flowchart|graph)/.test(e)&&t?.flowchart?.defaultRenderer==="elk"?(t.layout="elk",!0):!1,"detector"),Gq=w(async()=>{const{diagram:e}=await ne(async()=>{const{diagram:t}=await import("./flowDiagram-NV44I4VS-CDSzzTW7.js");return{diagram:t}},__vite__mapDeps([10,11,12,13,14]));return{id:XA,diagram:e}},"loader"),Yq={id:XA,detector:Wq,loader:Gq},Vq=Yq,KA="timeline",Xq=w(e=>/^\s*timeline/.test(e),"detector"),Kq=w(async()=>{const{diagram:e}=await ne(async()=>{const{diagram:t}=await import("./timeline-definition-IT6M3QCI-BRVf1JfA.js");return{diagram:t}},__vite__mapDeps([39,26]));return{id:KA,diagram:e}},"loader"),Qq={id:KA,detector:Xq,loader:Kq},Zq=Qq,QA="mindmap",Jq=w(e=>/^\s*mindmap/.test(e),"detector"),tH=w(async()=>{const{diagram:e}=await ne(async()=>{const{diagram:t}=await import("./mindmap-definition-VGOIOE7T-8hte7BSX.js");return{diagram:t}},__vite__mapDeps([40,12,13]));return{id:QA,diagram:e}},"loader"),eH={id:QA,detector:Jq,loader:tH},rH=eH,ZA="kanban",iH=w(e=>/^\s*kanban/.test(e),"detector"),aH=w(async()=>{const{diagram:e}=await ne(async()=>{const{diagram:t}=await import("./kanban-definition-3W4ZIXB7-M7wH3g3l.js");return{diagram:t}},__vite__mapDeps([41,11]));return{id:ZA,diagram:e}},"loader"),nH={id:ZA,detector:iH,loader:aH},sH=nH,JA="sankey",lH=w(e=>/^\s*sankey(-beta)?/.test(e),"detector"),oH=w(async()=>{const{diagram:e}=await ne(async()=>{const{diagram:t}=await import("./sankeyDiagram-TZEHDZUN-UrlVpK1D.js");return{diagram:t}},__vite__mapDeps([42,27,22]));return{id:JA,diagram:e}},"loader"),cH={id:JA,detector:lH,loader:oH},uH=cH,tO="packet",hH=w(e=>/^\s*packet(-beta)?/.test(e),"detector"),dH=w(async()=>{const{diagram:e}=await ne(async()=>{const{diagram:t}=await import("./diagram-S2PKOQOG-lXfCW6Am.js");return{diagram:t}},__vite__mapDeps([43,17,19,4,2]));return{id:tO,diagram:e}},"loader"),fH={id:tO,detector:hH,loader:dH},eO="radar",pH=w(e=>/^\s*radar-beta/.test(e),"detector"),gH=w(async()=>{const{diagram:e}=await ne(async()=>{const{diagram:t}=await import("./diagram-QEK2KX5R-B_ETvIf0.js");return{diagram:t}},__vite__mapDeps([44,17,19,4,2]));return{id:eO,diagram:e}},"loader"),mH={id:eO,detector:pH,loader:gH},rO="block",yH=w(e=>/^\s*block(-beta)?/.test(e),"detector"),bH=w(async()=>{const{diagram:e}=await ne(async()=>{const{diagram:t}=await import("./blockDiagram-VD42YOAC-BZMwA5Ph.js");return{diagram:t}},__vite__mapDeps([45,11,5,1,2,14]));return{id:rO,diagram:e}},"loader"),xH={id:rO,detector:yH,loader:bH},vH=xH,iO="architecture",_H=w(e=>/^\s*architecture/.test(e),"detector"),wH=w(async()=>{const{diagram:e}=await ne(async()=>{const{diagram:t}=await import("./architectureDiagram-VXUJARFQ-BoO4pRNv.js");return{diagram:t}},__vite__mapDeps([46,17,19,4,2,7]));return{id:iO,diagram:e}},"loader"),SH={id:iO,detector:_H,loader:wH},kH=SH,aO="treemap",CH=w(e=>/^\s*treemap/.test(e),"detector"),TH=w(async()=>{const{diagram:e}=await ne(async()=>{const{diagram:t}=await import("./diagram-PSM6KHXK-C-PmyZ0z.js");return{diagram:t}},__vite__mapDeps([47,13,17,19,4,2,23,27,22]));return{id:aO,diagram:e}},"loader"),EH={id:aO,detector:CH,loader:TH},lS=!1,kf=w(()=>{lS||(lS=!0,fd("error",Hq,e=>e.toLowerCase().trim()==="error"),fd("---",{db:{clear:w(()=>{},"clear")},styles:{},renderer:{draw:w(()=>{},"draw")},parser:{parse:w(()=>{throw new Error("Diagrams beginning with --- are not valid. If you were trying to use a YAML front-matter, please ensure that you've correctly opened and closed the YAML front-matter with un-indented `---` blocks")},"parse")},init:w(()=>null,"init")},e=>e.toLowerCase().trimStart().startsWith("---")),Um(Vq,rH,kH),Um(M9,sH,Aq,kq,H9,Z9,eq,aq,mq,vq,P9,j9,Zq,V9,jq,Mq,Pq,oq,uH,fH,dq,vH,mH,EH))},"addDiagrams"),AH=w(async()=>{st.debug("Loading registered diagrams");const t=(await Promise.allSettled(Object.entries(as).map(async([r,{detector:i,loader:n}])=>{if(n)try{Wm(r)}catch{try{const{diagram:l,id:o}=await n();fd(o,l,i)}catch(l){throw st.error(`Failed to load external diagram with key ${r}. Removing from detectors.`),delete as[r],l}}}))).filter(r=>r.status==="rejected");if(t.length>0){st.error(`Failed to load ${t.length} external diagrams`);for(const r of t)st.error(r);throw new Error(`Failed to load ${t.length} external diagrams`)}},"loadRegisteredDiagrams"),OH="graphics-document document";function nO(e,t){e.attr("role",OH),t!==""&&e.attr("aria-roledescription",t)}w(nO,"setA11yDiagramInfo");function sO(e,t,r,i){if(e.insert!==void 0){if(r){const n=`chart-desc-${i}`;e.attr("aria-describedby",n),e.insert("desc",":first-child").attr("id",n).text(r)}if(t){const n=`chart-title-${i}`;e.attr("aria-labelledby",n),e.insert("title",":first-child").attr("id",n).text(t)}}}w(sO,"addSVGa11yTitleDescription");var is,Dy=(is=class{constructor(t,r,i,n,l){this.type=t,this.text=r,this.db=i,this.parser=n,this.renderer=l}static async fromText(t,r={}){const i=cr(),n=Qy(t,i);t=EP(t)+`
`;try{Wm(n)}catch{const d=QD(n);if(!d)throw new o2(`Diagram ${n} not found.`);const{id:p,diagram:g}=await d();fd(p,g)}const{db:l,parser:o,renderer:u,init:h}=Wm(n);return o.parser&&(o.parser.yy=l),l.clear?.(),h?.(i),r.title&&l.setDiagramTitle?.(r.title),await o.parse(t),new is(n,t,l,o,u)}async render(t,r){await this.renderer.draw(this.text,t,r,this)}getParser(){return this.parser}getType(){return this.type}},w(is,"Diagram"),is),oS=[],RH=w(()=>{oS.forEach(e=>{e()}),oS=[]},"attachFunctions"),LH=w(e=>e.replace(/^\s*%%(?!{)[^\n]+\n?/gm,"").trimStart(),"cleanupComments");function lO(e){const t=e.match(l2);if(!t)return{text:e,metadata:{}};let r=A8(t[1],{schema:E8})??{};r=typeof r=="object"&&!Array.isArray(r)?r:{};const i={};return r.displayMode&&(i.displayMode=r.displayMode.toString()),r.title&&(i.title=r.title.toString()),r.config&&(i.config=r.config),{text:e.slice(t[0].length),metadata:i}}w(lO,"extractFrontMatter");var MH=w(e=>e.replace(/\r\n?/g,`
`).replace(/<(\w+)([^>]*)>/g,(t,r,i)=>"<"+r+i.replace(/="([^"]*)"/g,"='$1'")+">"),"cleanupText"),BH=w(e=>{const{text:t,metadata:r}=lO(e),{displayMode:i,title:n,config:l={}}=r;return i&&(l.gantt||(l.gantt={}),l.gantt.displayMode=i),{title:n,config:l,text:t}},"processFrontmatter"),NH=w(e=>{const t=Ti.detectInit(e)??{},r=Ti.detectDirective(e,"wrap");return Array.isArray(r)?t.wrap=r.some(({type:i})=>i==="wrap"):r?.type==="wrap"&&(t.wrap=!0),{text:pP(e),directive:t}},"processDirectives");function K0(e){const t=MH(e),r=BH(t),i=NH(r.text),n=B0(r.config,i.directive);return e=LH(i.text),{code:e,title:r.title,config:n}}w(K0,"preprocessDiagram");function oO(e){const t=new TextEncoder().encode(e),r=Array.from(t,i=>String.fromCodePoint(i)).join("");return btoa(r)}w(oO,"toBase64");var DH=5e4,jH="graph TB;a[Maximum text size in diagram exceeded];style a fill:#faa",$H="sandbox",zH="loose",FH="http://www.w3.org/2000/svg",PH="http://www.w3.org/1999/xlink",UH="http://www.w3.org/1999/xhtml",IH="100%",qH="100%",HH="border:0;margin:0;",WH="margin:0",GH="allow-top-navigation-by-user-activation allow-popups",YH='The "iframe" tag is not supported by your browser.',VH=["foreignobject"],XH=["dominant-baseline"];function Q0(e){const t=K0(e);return hd(),fj(t.config??{}),t}w(Q0,"processAndSetConfigs");async function cO(e,t){kf();try{const{code:r,config:i}=Q0(e);return{diagramType:(await hO(r)).type,config:i}}catch(r){if(t?.suppressErrors)return!1;throw r}}w(cO,"parse");var cS=w((e,t,r=[])=>`
.${e} ${t} { ${r.join(" !important; ")} !important; }`,"cssImportantStyles"),KH=w((e,t=new Map)=>{let r="";if(e.themeCSS!==void 0&&(r+=`
${e.themeCSS}`),e.fontFamily!==void 0&&(r+=`
:root { --mermaid-font-family: ${e.fontFamily}}`),e.altFontFamily!==void 0&&(r+=`
:root { --mermaid-alt-font-family: ${e.altFontFamily}}`),t instanceof Map){const o=e.htmlLabels??e.flowchart?.htmlLabels?["> *","span"]:["rect","polygon","ellipse","circle","path"];t.forEach(u=>{sS(u.styles)||o.forEach(h=>{r+=cS(u.id,h,u.styles)}),sS(u.textStyles)||(r+=cS(u.id,"tspan",(u?.textStyles||[]).map(h=>h.replace("color","fill"))))})}return r},"createCssStyles"),QH=w((e,t,r,i)=>{const n=KH(e,r),l=Bj(t,n,e.themeVariables);return Ry(d9(`${i}{${l}}`),p9)},"createUserStyles"),ZH=w((e="",t,r)=>{let i=e;return!r&&!t&&(i=i.replace(/marker-end="url\([\d+./:=?A-Za-z-]*?#/g,'marker-end="url(#')),i=ps(i),i=i.replace(/<br>/g,"<br/>"),i},"cleanUpSvgCode"),JH=w((e="",t)=>{const r=t?.viewBox?.baseVal?.height?t.viewBox.baseVal.height+"px":qH,i=oO(`<body style="${WH}">${e}</body>`);return`<iframe style="width:${IH};height:${r};${HH}" src="data:text/html;charset=UTF-8;base64,${i}" sandbox="${GH}">
  ${YH}
</iframe>`},"putIntoIFrame"),uS=w((e,t,r,i,n)=>{const l=e.append("div");l.attr("id",r),i&&l.attr("style",i);const o=l.append("svg").attr("id",t).attr("width","100%").attr("xmlns",FH);return n&&o.attr("xmlns:xlink",n),o.append("g"),e},"appendDivSvgG");function jy(e,t){return e.append("iframe").attr("id",t).attr("style","width: 100%; height: 100%;").attr("sandbox","")}w(jy,"sandboxedIframe");var t7=w((e,t,r,i)=>{e.getElementById(t)?.remove(),e.getElementById(r)?.remove(),e.getElementById(i)?.remove()},"removeExistingElements"),e7=w(async function(e,t,r){kf();const i=Q0(t);t=i.code;const n=cr();st.debug(n),t.length>(n?.maxTextSize??DH)&&(t=jH);const l="#"+e,o="i"+e,u="#"+o,h="d"+e,d="#"+h,p=w(()=>{const L=Xt(y?u:d).node();L&&"remove"in L&&L.remove()},"removeTempElements");let g=Xt("body");const y=n.securityLevel===$H,x=n.securityLevel===zH,v=n.fontFamily;if(r!==void 0){if(r&&(r.innerHTML=""),y){const ot=jy(Xt(r),o);g=Xt(ot.nodes()[0].contentDocument.body),g.node().style.margin=0}else g=Xt(r);uS(g,e,h,`font-family: ${v}`,PH)}else{if(t7(document,e,h,o),y){const ot=jy(Xt("body"),o);g=Xt(ot.nodes()[0].contentDocument.body),g.node().style.margin=0}else g=Xt("body");uS(g,e,h)}let _,S;try{_=await Dy.fromText(t,{title:i.title})}catch(ot){if(n.suppressErrorRendering)throw p(),ot;_=await Dy.fromText("error"),S=ot}const T=g.select(d).node(),E=_.type,O=T.firstChild,M=O.firstChild,N=_.renderer.getClasses?.(t,_),q=QH(n,E,N,l),z=document.createElement("style");z.innerHTML=q,O.insertBefore(z,M);try{await _.renderer.draw(t,e,Ow.version,_)}catch(ot){throw n.suppressErrorRendering?p():Iq.draw(t,e,Ow.version),ot}const Q=g.select(`${d} svg`),et=_.db.getAccTitle?.(),it=_.db.getAccDescription?.();dO(E,Q,et,it),g.select(`[id="${e}"]`).selectAll("foreignobject > *").attr("xmlns",UH);let J=g.select(d).node().innerHTML;if(st.debug("config.arrowMarkerAbsolute",n.arrowMarkerAbsolute),J=ZH(J,y,We(n.arrowMarkerAbsolute)),y){const ot=g.select(d+" svg").node();J=JH(J,ot)}else x||(J=Tl.sanitize(J,{ADD_TAGS:VH,ADD_ATTR:XH,HTML_INTEGRATION_POINTS:{foreignobject:!0}}));if(RH(),S)throw S;return p(),{diagramType:E,svg:J,bindFunctions:_.db.bindFunctions}},"render");function uO(e={}){const t=qe({},e);t?.fontFamily&&!t.themeVariables?.fontFamily&&(t.themeVariables||(t.themeVariables={}),t.themeVariables.fontFamily=t.fontFamily),hj(t),t?.theme&&t.theme in Sa?t.themeVariables=Sa[t.theme].getThemeVariables(t.themeVariables):t&&(t.themeVariables=Sa.default.getThemeVariables(t.themeVariables));const r=typeof t=="object"?uj(t):f2();Ky(r.logLevel),kf()}w(uO,"initialize");var hO=w((e,t={})=>{const{code:r}=K0(e);return Dy.fromText(r,t)},"getDiagramFromText");function dO(e,t,r,i){nO(t,e),sO(t,r,i,t.attr("id"))}w(dO,"addA11yInfo");var us=Object.freeze({render:e7,parse:cO,getDiagramFromText:hO,initialize:uO,getConfig:cr,setConfig:p2,getSiteConfig:f2,updateSiteConfig:dj,reset:w(()=>{hd()},"reset"),globalReset:w(()=>{hd(El)},"globalReset"),defaultConfig:El});Ky(cr().logLevel);hd(cr());var r7=w((e,t,r)=>{st.warn(e),M0(e)?(r&&r(e.str,e.hash),t.push({...e,message:e.str,error:e})):(r&&r(e),e instanceof Error&&t.push({str:e.message,message:e.message,hash:e.name,error:e}))},"handleError"),fO=w(async function(e={querySelector:".mermaid"}){try{await i7(e)}catch(t){if(M0(t)&&st.error(t.str),Aa.parseError&&Aa.parseError(t),!e.suppressErrors)throw st.error("Use the suppressErrors option to suppress these errors"),t}},"run"),i7=w(async function({postRenderCallback:e,querySelector:t,nodes:r}={querySelector:".mermaid"}){const i=us.getConfig();st.debug(`${e?"":"No "}Callback function found`);let n;if(r)n=r;else if(t)n=document.querySelectorAll(t);else throw new Error("Nodes and querySelector are both undefined");st.debug(`Found ${n.length} diagrams`),i?.startOnLoad!==void 0&&(st.debug("Start On Load: "+i?.startOnLoad),us.updateSiteConfig({startOnLoad:i?.startOnLoad}));const l=new Ti.InitIDGenerator(i.deterministicIds,i.deterministicIDSeed);let o;const u=[];for(const h of Array.from(n)){if(st.info("Rendering diagram: "+h.id),h.getAttribute("data-processed"))continue;h.setAttribute("data-processed","true");const d=`mermaid-${l.next()}`;o=h.innerHTML,o=NT(Ti.entityDecode(o)).trim().replace(/<br\s*\/?>/gi,"<br/>");const p=Ti.detectInit(o);p&&st.debug("Detected early reinit: ",p);try{const{svg:g,bindFunctions:y}=await yO(d,o,h);h.innerHTML=g,e&&await e(d),y&&y(h)}catch(g){r7(g,u,Aa.parseError)}}if(u.length>0)throw u[0]},"runThrowsErrors"),pO=w(function(e){us.initialize(e)},"initialize"),a7=w(async function(e,t,r){st.warn("mermaid.init is deprecated. Please use run instead."),e&&pO(e);const i={postRenderCallback:r,querySelector:".mermaid"};typeof t=="string"?i.querySelector=t:t&&(t instanceof HTMLElement?i.nodes=[t]:i.nodes=t),await fO(i)},"init"),n7=w(async(e,{lazyLoad:t=!0}={})=>{kf(),Um(...e),t===!1&&await AH()},"registerExternalDiagrams"),gO=w(function(){if(Aa.startOnLoad){const{startOnLoad:e}=us.getConfig();e&&Aa.run().catch(t=>st.error("Mermaid failed to initialize",t))}},"contentLoaded");typeof document<"u"&&window.addEventListener("load",gO,!1);var s7=w(function(e){Aa.parseError=e},"setParseErrorHandler"),Hd=[],_m=!1,mO=w(async()=>{if(!_m){for(_m=!0;Hd.length>0;){const e=Hd.shift();if(e)try{await e()}catch(t){st.error("Error executing queue",t)}}_m=!1}},"executeQueue"),l7=w(async(e,t)=>new Promise((r,i)=>{const n=w(()=>new Promise((l,o)=>{us.parse(e,t).then(u=>{l(u),r(u)},u=>{st.error("Error parsing",u),Aa.parseError?.(u),o(u),i(u)})}),"performCall");Hd.push(n),mO().catch(i)}),"parse"),yO=w((e,t,r)=>new Promise((i,n)=>{const l=w(()=>new Promise((o,u)=>{us.render(e,t,r).then(h=>{o(h),i(h)},h=>{st.error("Error parsing",h),Aa.parseError?.(h),u(h),n(h)})}),"performCall");Hd.push(l),mO().catch(n)}),"render"),o7=w(()=>Object.keys(as).map(e=>({id:e})),"getRegisteredDiagramsMetadata"),Aa={startOnLoad:!0,mermaidAPI:us,parse:l7,render:yO,init:a7,run:fO,registerExternalDiagrams:n7,registerLayoutLoaders:kA,initialize:pO,parseError:void 0,contentLoaded:gO,setParseErrorHandler:s7,detectType:Qy,registerIconPacks:LU,getRegisteredDiagramsMetadata:o7},bO=Aa;bO.initialize({startOnLoad:!1,theme:"neutral",securityLevel:"loose",fontFamily:"Inter, sans-serif"});function c7({syntax:e,imageUrl:t,caption:r}){const i=H.useRef(null),[n,l]=H.useState(null),[o,u]=H.useState(!1);return H.useEffect(()=>{if(!e||!i.current)return;(async()=>{try{l(null),u(!0);const d=`mermaid-${Date.now()}`,{svg:p}=await bO.render(d,e);i.current&&(i.current.innerHTML=p)}catch(d){console.error("Mermaid rendering error:",d),l("Failed to render diagram")}finally{u(!1)}})()},[e]),t&&!e?k.jsxs("figure",{className:"flex flex-col gap-2",children:[k.jsx("div",{className:"bg-card-light dark:bg-card-dark rounded-lg border border-border-light dark:border-border-dark overflow-hidden",children:k.jsx("img",{src:t,alt:r||"Technical diagram",className:"w-full h-auto"})}),r&&k.jsx("figcaption",{className:"text-sm text-text-secondary-light dark:text-text-secondary-dark text-center",children:r})]}):e?k.jsxs("figure",{className:"flex flex-col gap-2",children:[k.jsxs("div",{className:"bg-card-light dark:bg-card-dark rounded-lg border border-border-light dark:border-border-dark p-4 overflow-x-auto",children:[n&&k.jsx("div",{className:"text-red-500 text-sm",children:n}),o&&k.jsx("div",{className:"flex justify-center py-8",children:k.jsx("div",{className:"animate-spin rounded-full h-8 w-8 border-b-2 border-primary"})}),k.jsx("div",{ref:i,className:`flex justify-center ${o?"hidden":""}`})]}),r&&k.jsx("figcaption",{className:"text-sm text-text-secondary-light dark:text-text-secondary-dark text-center",children:r})]}):null}function u7(){const{id:e}=TS(),{project:t,challenges:r,loading:i,error:n}=uD(e),[l,o]=H.useState(0),[u,h]=H.useState(!1);if(i)return k.jsxs("div",{className:"min-h-screen flex flex-col bg-background-light dark:bg-background-dark",children:[k.jsx(qh,{}),k.jsx("main",{className:"flex-grow flex items-center justify-center",children:k.jsx(gt,{name:"progress_activity",className:"text-primary animate-spin text-4xl"})}),k.jsx(es,{})]});if(n||!t)return k.jsxs("div",{className:"min-h-screen flex flex-col bg-background-light dark:bg-background-dark",children:[k.jsx(qh,{}),k.jsxs("main",{className:"flex-grow flex flex-col items-center justify-center gap-4",children:[k.jsx(gt,{name:"error",className:"text-red-500 text-4xl"}),k.jsx("p",{className:"text-text-secondary-light dark:text-text-secondary-dark",children:n||"Project not found"}),k.jsxs(br,{to:"/",className:"text-primary hover:underline flex items-center gap-1",children:[k.jsx(gt,{name:"arrow_back",className:"text-lg"}),"Back to Home"]})]}),k.jsx(es,{})]});const d=r[l],p=x=>x?new Date(x).toLocaleDateString("ko-KR",{year:"numeric",month:"long",day:"numeric"}):"",g=t.end_date?`${p(t.start_date)} - ${p(t.end_date)}`:`${p(t.start_date)} - Present`,y=[{label:"Home",href:"/"},{label:t.category||"Projects",href:"/"},{label:t.title}];return k.jsxs("div",{className:"min-h-screen flex flex-col bg-background-light dark:bg-background-dark",children:[k.jsx(qh,{}),k.jsxs("main",{className:"flex-grow w-full max-w-[960px] mx-auto px-4 py-8 md:py-12",children:[k.jsx("div",{className:"mb-8",children:k.jsx(hD,{items:y})}),k.jsxs("div",{className:"mb-12",children:[k.jsxs("div",{className:"flex items-center gap-3 mb-4",children:[k.jsx("span",{className:"px-3 py-1 rounded-full bg-primary/10 text-primary text-xs font-bold uppercase tracking-wider",children:t.category||"Project"}),k.jsx("span",{className:"text-sm text-text-secondary-light dark:text-text-secondary-dark",children:g})]}),k.jsx("h1",{className:"text-3xl md:text-4xl font-bold text-text-primary-light dark:text-text-primary-dark mb-4",children:t.title}),t.proj_cover_image_url&&k.jsxs("div",{className:"mb-6",children:[k.jsxs("button",{onClick:()=>h(!u),className:"inline-flex items-center gap-2 px-4 py-2 rounded-lg bg-neu-light dark:bg-neu-dark text-text-secondary-light dark:text-text-secondary-dark hover:text-primary transition-colors",children:[k.jsx(gt,{name:u?"visibility_off":"visibility",className:"text-lg"}),u?"  ":"  "]}),u&&k.jsx("div",{className:"mt-4 neumorphic-inset aspect-video max-w-2xl rounded-xl overflow-hidden",children:k.jsx("img",{src:t.proj_cover_image_url,alt:t.title,className:"w-full h-full object-contain"})})]}),t.proj_description&&k.jsx("p",{className:"text-lg text-text-secondary-light dark:text-text-secondary-dark leading-relaxed mb-6 whitespace-pre-line",children:t.proj_description}),t.proj_url&&k.jsxs("a",{href:t.proj_url,target:"_blank",rel:"noopener noreferrer",className:"inline-flex items-center gap-2 px-4 py-2 mb-6 bg-primary/10 text-primary rounded-lg hover:bg-primary/20 transition-colors",children:[k.jsx(gt,{name:"link",className:"text-lg"})," ",k.jsx(gt,{name:"open_in_new",className:"text-sm"})]}),t.tags&&t.tags.length>0&&k.jsx("div",{className:"flex flex-wrap gap-2",children:t.tags.map(x=>k.jsx(JS,{label:x,variant:"primary"},x))})]}),r.length>0&&k.jsxs("div",{className:"space-y-8",children:[r.length>1&&k.jsxs("div",{className:"flex items-center justify-between py-4 border-y border-border-light dark:border-border-dark",children:[k.jsxs("button",{onClick:()=>o(x=>Math.max(0,x-1)),disabled:l===0,className:`flex items-center gap-3 group ${l===0?"opacity-30 cursor-not-allowed":"hover:text-primary"}`,children:[k.jsx(gt,{name:"arrow_back",className:"text-xl"}),k.jsxs("div",{className:"text-left",children:[k.jsx("div",{className:"text-xs uppercase tracking-wider text-text-secondary-light dark:text-text-secondary-dark",children:"Previous"}),k.jsx("div",{className:"text-sm font-medium text-text-primary-light dark:text-text-primary-dark group-hover:text-primary transition-colors",children:l>0?r[l-1].core_challenge?.slice(0,30)+"...":""})]})]}),k.jsxs("button",{onClick:()=>o(x=>Math.min(r.length-1,x+1)),disabled:l===r.length-1,className:`flex items-center gap-3 group ${l===r.length-1?"opacity-30 cursor-not-allowed":"hover:text-primary"}`,children:[k.jsxs("div",{className:"text-right",children:[k.jsx("div",{className:"text-xs uppercase tracking-wider text-text-secondary-light dark:text-text-secondary-dark",children:"Next"}),k.jsx("div",{className:"text-sm font-medium text-text-primary-light dark:text-text-primary-dark group-hover:text-primary transition-colors",children:l<r.length-1?r[l+1].core_challenge?.slice(0,30)+"...":""})]}),k.jsx(gt,{name:"arrow_forward",className:"text-xl"})]})]}),d&&k.jsxs("div",{className:"space-y-8",children:[k.jsx(dD,{challenge:d}),(d.image_url||d.mermaid_syntax)&&k.jsxs("div",{children:[k.jsxs("h3",{className:"text-sm font-bold text-text-secondary-light dark:text-text-secondary-dark uppercase tracking-wider flex items-center gap-2 mb-4",children:[k.jsx(gt,{name:"schema",className:"text-primary"}),"Technical Diagram"]}),k.jsx(c7,{syntax:d.mermaid_syntax,imageUrl:d.image_url})]}),(d.problem_items?.length>0||d.solution_items?.length>0||d.result_items?.length>0)&&k.jsxs("div",{children:[k.jsxs("h3",{className:"text-sm font-bold text-text-secondary-light dark:text-text-secondary-dark uppercase tracking-wider flex items-center gap-2 mb-6",children:[k.jsx(gt,{name:"analytics",className:"text-primary"}),"Analysis"]}),k.jsx(pD,{problemItems:d.problem_items,solutionItems:d.solution_items,resultItems:d.result_items})]})]}),r.length>0&&k.jsxs("div",{className:"flex items-center justify-center gap-2 pt-8",children:[k.jsx("button",{onClick:()=>o(x=>Math.max(0,x-1)),disabled:l===0,className:`w-10 h-10 rounded-lg border flex items-center justify-center transition-all ${l===0?"border-border-light dark:border-border-dark text-border-light dark:text-border-dark cursor-not-allowed":"border-border-light dark:border-border-dark text-text-secondary-light dark:text-text-secondary-dark hover:border-primary hover:text-primary"}`,children:k.jsx(gt,{name:"chevron_left"})}),r.map((x,v)=>k.jsx("button",{onClick:()=>o(v),className:`w-10 h-10 rounded-lg border flex items-center justify-center transition-all font-medium ${v===l?"bg-primary text-white border-primary":"bg-card-light dark:bg-card-dark border-border-light dark:border-border-dark text-text-secondary-light dark:text-text-secondary-dark hover:border-primary hover:text-primary"}`,children:v+1},v)),k.jsx("button",{onClick:()=>o(x=>Math.min(r.length-1,x+1)),disabled:l===r.length-1,className:`w-10 h-10 rounded-lg border flex items-center justify-center transition-all ${l===r.length-1?"border-border-light dark:border-border-dark text-border-light dark:text-border-dark cursor-not-allowed":"border-border-light dark:border-border-dark text-text-secondary-light dark:text-text-secondary-dark hover:border-primary hover:text-primary"}`,children:k.jsx(gt,{name:"chevron_right"})})]})]}),r.length===0&&k.jsxs("div",{className:"text-center py-12",children:[k.jsx(gt,{name:"info",className:"text-text-secondary-light dark:text-text-secondary-dark text-4xl mb-4"}),k.jsx("p",{className:"text-text-secondary-light dark:text-text-secondary-dark",children:"No challenges documented for this project yet."})]}),k.jsx("div",{className:"mt-12 pt-8 border-t border-border-light dark:border-border-dark",children:k.jsxs(br,{to:"/",className:"inline-flex items-center gap-2 text-primary hover:underline",children:[k.jsx(gt,{name:"arrow_back"}),"Back to all projects"]})})]}),k.jsx(es,{})]})}function Z0(){const e=H.useContext(DS);if(!e)throw new Error("useAuth must be used within an AuthProvider");return e}function Wd({showLogout:e=!0}){const{user:t,signOut:r}=Z0(),i=async()=>{try{await r()}catch(n){console.error("Logout error:",n)}};return k.jsx("header",{className:"w-full bg-card-light dark:bg-card-dark border-b border-border-light dark:border-border-dark",children:k.jsxs("div",{className:"max-w-7xl mx-auto px-4 py-4 flex items-center justify-between",children:[k.jsxs("div",{className:"flex items-center gap-2",children:[k.jsx("div",{className:"w-8 h-8 bg-primary rounded-lg flex items-center justify-center",children:k.jsx(gt,{name:"shield",className:"text-white text-lg"})}),k.jsx("span",{className:"font-bold text-text-primary-light dark:text-text-primary-dark",children:"Admin Console"})]}),k.jsxs("div",{className:"flex items-center gap-4",children:[k.jsxs(br,{to:"/",className:"flex items-center gap-2 text-sm text-text-secondary-light dark:text-text-secondary-dark hover:text-primary transition-colors",children:[k.jsx(gt,{name:"home"}),""]}),e&&t&&k.jsxs(k.Fragment,{children:[k.jsx("span",{className:"text-sm text-text-secondary-light dark:text-text-secondary-dark",children:t.email}),k.jsxs("button",{onClick:i,className:"flex items-center gap-2 text-sm text-text-secondary-light dark:text-text-secondary-dark hover:text-primary transition-colors",children:[k.jsx(gt,{name:"logout"}),"Logout"]})]})]})]})})}function h7(){const[e,t]=H.useState(""),[r,i]=H.useState(""),[n,l]=H.useState(!1),[o,u]=H.useState(""),[h,d]=H.useState(!1),{signIn:p}=Z0(),g=zl(),y=async x=>{x.preventDefault(),u(""),d(!0);try{await p(e,r),g("/admin/projects")}catch(v){u(v.message||"Failed to sign in")}finally{d(!1)}};return k.jsxs("div",{className:"min-h-screen flex flex-col bg-background-light dark:bg-background-dark",children:[k.jsx(Wd,{showLogout:!1}),k.jsx("main",{className:"flex-grow flex items-center justify-center px-4 py-12",children:k.jsx("div",{className:"w-full max-w-md",children:k.jsxs("div",{className:"bg-card-light dark:bg-card-dark rounded-xl shadow-lg border border-border-light dark:border-border-dark p-8",children:[k.jsx("h1",{className:"text-2xl font-bold text-text-primary-light dark:text-text-primary-dark mb-2",children:" "}),k.jsx("br",{}),o&&k.jsx("div",{className:"mb-6 p-3 bg-red-50 dark:bg-red-900/20 border border-red-200 dark:border-red-800 rounded-lg text-red-600 dark:text-red-400 text-sm",children:o}),k.jsxs("form",{onSubmit:y,className:"space-y-6",children:[k.jsxs("div",{children:[k.jsx("label",{className:"block text-sm font-medium text-text-primary-light dark:text-text-primary-dark mb-2",children:"Email Address"}),k.jsxs("div",{className:"relative",children:[k.jsx("input",{type:"email",value:e,onChange:x=>t(x.target.value),placeholder:"admin@example.com",required:!0,className:"w-full px-4 py-3 pr-10 border border-border-light dark:border-border-dark rounded-lg bg-card-light dark:bg-card-dark text-text-primary-light dark:text-text-primary-dark placeholder-text-secondary-light focus:outline-none focus:ring-2 focus:ring-primary focus:border-primary"}),k.jsx(gt,{name:"mail",className:"absolute right-3 top-1/2 -translate-y-1/2 text-text-secondary-light dark:text-text-secondary-dark"})]})]}),k.jsxs("div",{children:[k.jsx("label",{className:"block text-sm font-medium text-text-primary-light dark:text-text-primary-dark mb-2",children:"Password"}),k.jsxs("div",{className:"relative",children:[k.jsx("input",{type:n?"text":"password",value:r,onChange:x=>i(x.target.value),placeholder:"",required:!0,className:"w-full px-4 py-3 pr-10 border border-border-light dark:border-border-dark rounded-lg bg-card-light dark:bg-card-dark text-text-primary-light dark:text-text-primary-dark placeholder-text-secondary-light focus:outline-none focus:ring-2 focus:ring-primary focus:border-primary"}),k.jsx("button",{type:"button",onClick:()=>l(!n),className:"absolute right-3 top-1/2 -translate-y-1/2 text-text-secondary-light dark:text-text-secondary-dark hover:text-primary transition-colors",children:k.jsx(gt,{name:n?"visibility":"visibility_off"})})]})]}),k.jsx("div",{className:"text-right",children:k.jsx("a",{href:"https://supabase.com/dashboard",target:"_blank",rel:"noopener noreferrer",className:"text-sm text-primary hover:underline",children:"Forgot Password?"})}),k.jsx("button",{type:"submit",disabled:h,className:"w-full py-3 bg-primary text-white font-medium rounded-lg hover:bg-primary/90 transition-colors disabled:opacity-50 disabled:cursor-not-allowed flex items-center justify-center gap-2",children:h?k.jsxs(k.Fragment,{children:[k.jsx(gt,{name:"progress_activity",className:"animate-spin"}),"Signing in..."]}):"Sign In"})]})]})})}),k.jsx(es,{})]})}const d7={published:"text-green-600 dark:text-green-400",draft:"text-gray-500 dark:text-gray-400",archived:"text-yellow-600 dark:text-yellow-400"},f7={published:"bg-green-500",draft:"bg-gray-400",archived:"bg-yellow-500"},hS={"UI/UX Design":"bg-blue-100 text-blue-700 dark:bg-blue-900/30 dark:text-blue-400","Mobile App":"bg-purple-100 text-purple-700 dark:bg-purple-900/30 dark:text-purple-400",Branding:"bg-orange-100 text-orange-700 dark:bg-orange-900/30 dark:text-orange-400","Web App":"bg-teal-100 text-teal-700 dark:bg-teal-900/30 dark:text-teal-400",default:"bg-gray-100 text-gray-700 dark:bg-gray-800 dark:text-gray-400"},lc=5,p7=[{value:"",label:"All Categories"},{value:"featured",label:"Featured"},{value:"projects",label:"Projects"},{value:"labs",label:"Labs"}],g7=[{value:"",label:"All Status"},{value:"published",label:"Published"},{value:"draft",label:"Draft"},{value:"archived",label:"Archived"}],m7=[{value:"",label:"All Visibility"},{value:"true",label:"Visible"},{value:"false",label:"Hidden"}],y7=[{value:"created_at-desc",label:"Newest First"},{value:"created_at-asc",label:"Oldest First"},{value:"title-asc",label:"Title A-Z"},{value:"title-desc",label:"Title Z-A"},{value:"start_date-desc",label:"Start Date (Latest)"},{value:"start_date-asc",label:"Start Date (Earliest)"}];function b7(){const[e,t]=H.useState([]),[r,i]=H.useState(!0),[n,l]=H.useState(""),[o,u]=H.useState(1),[h,d]=H.useState(0),[p,g]=H.useState(""),[y,x]=H.useState(""),[v,_]=H.useState(""),[S,T]=H.useState("created_at-desc"),[E,O]=H.useState(!1),[M,N]=H.useState(!1),q=zl(),z=H.useCallback(async()=>{i(!0);try{const[L,D]=S.split("-");let F=Ie.from("projects").select("*",{count:"exact"}).order(L,{ascending:D==="asc"});n&&(F=F.or(`title.ilike.%${n}%,tags.cs.{${n}}`)),p&&(F=F.eq("category",p)),y&&(F=F.eq("project_status",y)),v&&(F=F.eq("visibility",v==="true"));const R=(o-1)*lc,j=R+lc-1,{data:I,error:lt,count:ht}=await F.range(R,j);if(lt)throw lt;t(I||[]),d(ht||0)}catch(L){console.error("Error fetching projects:",L)}finally{i(!1)}},[o,n,p,y,v,S]);H.useEffect(()=>{z()},[z]),H.useEffect(()=>{const L=D=>{D.target.closest(".relative")||(O(!1),N(!1))};return document.addEventListener("click",L),()=>document.removeEventListener("click",L)},[]);const Q=async L=>{if(confirm("Are you sure you want to delete this project?"))try{const{error:D}=await Ie.from("projects").delete().eq("id",L);if(D)throw D;z()}catch(D){console.error("Error deleting project:",D),alert("Failed to delete project")}},et=async(L,D)=>{try{const{error:F}=await Ie.from("projects").update({visibility:!D}).eq("id",L);if(F)throw F;z()}catch(F){console.error("Error toggling visibility:",F),alert("Failed to update visibility")}},it=Math.ceil(h/lc),J=L=>L?new Date(L).toLocaleDateString("en-US",{month:"short",year:"numeric"}):"-",ot=L=>hS[L]||hS.default;return k.jsxs("div",{className:"min-h-screen flex flex-col bg-background-light dark:bg-background-dark",children:[k.jsx(Wd,{}),k.jsxs("main",{className:"flex-grow max-w-7xl w-full mx-auto px-4 py-8",children:[k.jsxs("div",{className:"flex items-start justify-between mb-8",children:[k.jsxs("div",{children:[k.jsx("h1",{className:"text-2xl font-bold text-text-primary-light dark:text-text-primary-dark mb-1",children:"Portfolio Projects"}),k.jsx("p",{className:"text-text-secondary-light dark:text-text-secondary-dark",children:"Manage your portfolio entries, track status, and update content."})]}),k.jsxs(br,{to:"/admin/projects/new",className:"flex items-center gap-2 px-4 py-2 bg-primary text-white rounded-lg hover:bg-primary/90 transition-colors",children:[k.jsx(gt,{name:"add"}),"New Project"]})]}),k.jsxs("div",{className:"flex items-center gap-4 mb-6",children:[k.jsxs("div",{className:"flex-grow relative",children:[k.jsx(gt,{name:"search",className:"absolute left-3 top-1/2 -translate-y-1/2 text-text-secondary-light dark:text-text-secondary-dark"}),k.jsx("input",{type:"text",value:n,onChange:L=>{l(L.target.value),u(1)},placeholder:"Search by project title, tech stack, or tags...",className:"w-full pl-10 pr-4 py-2 border border-border-light dark:border-border-dark rounded-lg bg-card-light dark:bg-card-dark text-text-primary-light dark:text-text-primary-dark placeholder-text-secondary-light focus:outline-none focus:ring-2 focus:ring-primary focus:border-primary"})]}),k.jsxs("div",{className:"relative",children:[k.jsxs("button",{onClick:()=>{O(!E),N(!1)},className:`flex items-center gap-2 px-4 py-2 border rounded-lg bg-card-light dark:bg-card-dark text-text-primary-light dark:text-text-primary-dark hover:border-primary transition-colors ${p||y||v?"border-primary":"border-border-light dark:border-border-dark"}`,children:[k.jsx(gt,{name:"filter_list"}),"Filter",(p||y||v)&&k.jsx("span",{className:"w-2 h-2 bg-primary rounded-full"})]}),E&&k.jsx("div",{className:"absolute top-full right-0 mt-2 w-64 bg-card-light dark:bg-card-dark border border-border-light dark:border-border-dark rounded-lg shadow-lg z-50 p-4",children:k.jsxs("div",{className:"space-y-4",children:[k.jsxs("div",{children:[k.jsx("label",{className:"block text-xs font-medium text-text-secondary-light dark:text-text-secondary-dark mb-1",children:"Category"}),k.jsx("select",{value:p,onChange:L=>{g(L.target.value),u(1)},className:"w-full px-3 py-2 border border-border-light dark:border-border-dark rounded-lg bg-background-light dark:bg-background-dark text-text-primary-light dark:text-text-primary-dark text-sm focus:outline-none focus:ring-2 focus:ring-primary",children:p7.map(L=>k.jsx("option",{value:L.value,children:L.label},L.value))})]}),k.jsxs("div",{children:[k.jsx("label",{className:"block text-xs font-medium text-text-secondary-light dark:text-text-secondary-dark mb-1",children:"Status"}),k.jsx("select",{value:y,onChange:L=>{x(L.target.value),u(1)},className:"w-full px-3 py-2 border border-border-light dark:border-border-dark rounded-lg bg-background-light dark:bg-background-dark text-text-primary-light dark:text-text-primary-dark text-sm focus:outline-none focus:ring-2 focus:ring-primary",children:g7.map(L=>k.jsx("option",{value:L.value,children:L.label},L.value))})]}),k.jsxs("div",{children:[k.jsx("label",{className:"block text-xs font-medium text-text-secondary-light dark:text-text-secondary-dark mb-1",children:"Visibility"}),k.jsx("select",{value:v,onChange:L=>{_(L.target.value),u(1)},className:"w-full px-3 py-2 border border-border-light dark:border-border-dark rounded-lg bg-background-light dark:bg-background-dark text-text-primary-light dark:text-text-primary-dark text-sm focus:outline-none focus:ring-2 focus:ring-primary",children:m7.map(L=>k.jsx("option",{value:L.value,children:L.label},L.value))})]}),(p||y||v)&&k.jsx("button",{onClick:()=>{g(""),x(""),_(""),u(1)},className:"w-full px-3 py-2 text-sm text-red-500 hover:text-red-600 hover:bg-red-50 dark:hover:bg-red-900/20 rounded-lg transition-colors",children:"Clear All Filters"})]})})]}),k.jsxs("div",{className:"relative",children:[k.jsxs("button",{onClick:()=>{N(!M),O(!1)},className:"flex items-center gap-2 px-4 py-2 border border-border-light dark:border-border-dark rounded-lg bg-card-light dark:bg-card-dark text-text-primary-light dark:text-text-primary-dark hover:border-primary transition-colors",children:[k.jsx(gt,{name:"sort"}),"Sort"]}),M&&k.jsx("div",{className:"absolute top-full right-0 mt-2 w-48 bg-card-light dark:bg-card-dark border border-border-light dark:border-border-dark rounded-lg shadow-lg z-50 py-2",children:y7.map(L=>k.jsx("button",{onClick:()=>{T(L.value),N(!1),u(1)},className:`w-full px-4 py-2 text-left text-sm transition-colors ${S===L.value?"bg-primary/10 text-primary":"text-text-primary-light dark:text-text-primary-dark hover:bg-background-light dark:hover:bg-background-dark"}`,children:L.label},L.value))})]})]}),k.jsx("div",{className:"bg-card-light dark:bg-card-dark rounded-xl border border-border-light dark:border-border-dark overflow-hidden",children:k.jsxs("table",{className:"w-full",children:[k.jsx("thead",{children:k.jsxs("tr",{className:"border-b border-border-light dark:border-border-dark",children:[k.jsx("th",{className:"px-4 py-3 text-left text-xs font-medium text-text-secondary-light dark:text-text-secondary-dark uppercase tracking-wider",children:"Preview"}),k.jsx("th",{className:"px-4 py-3 text-left text-xs font-medium text-text-secondary-light dark:text-text-secondary-dark uppercase tracking-wider",children:"Project Title"}),k.jsx("th",{className:"px-4 py-3 text-left text-xs font-medium text-text-secondary-light dark:text-text-secondary-dark uppercase tracking-wider",children:"Skill Tags"}),k.jsx("th",{className:"px-4 py-3 text-left text-xs font-medium text-text-secondary-light dark:text-text-secondary-dark uppercase tracking-wider",children:"Category"}),k.jsx("th",{className:"px-4 py-3 text-left text-xs font-medium text-text-secondary-light dark:text-text-secondary-dark uppercase tracking-wider",children:"Date"}),k.jsx("th",{className:"px-4 py-3 text-left text-xs font-medium text-text-secondary-light dark:text-text-secondary-dark uppercase tracking-wider",children:"Status"}),k.jsx("th",{className:"px-4 py-3 text-right text-xs font-medium text-text-secondary-light dark:text-text-secondary-dark uppercase tracking-wider",children:"Actions"})]})}),k.jsx("tbody",{className:"divide-y divide-border-light dark:divide-border-dark",children:r?k.jsx("tr",{children:k.jsx("td",{colSpan:"7",className:"px-4 py-12 text-center",children:k.jsx(gt,{name:"progress_activity",className:"text-primary animate-spin text-3xl"})})}):e.length===0?k.jsx("tr",{children:k.jsx("td",{colSpan:"7",className:"px-4 py-12 text-center text-text-secondary-light dark:text-text-secondary-dark",children:"No projects found"})}):e.map(L=>k.jsxs("tr",{className:"hover:bg-background-light dark:hover:bg-background-dark transition-colors",children:[k.jsx("td",{className:"px-4 py-4",children:L.proj_cover_image_url?k.jsx("img",{src:L.proj_cover_image_url,alt:L.title,className:"w-12 h-12 rounded-lg object-cover"}):k.jsx("div",{className:"w-12 h-12 bg-primary/10 rounded-lg flex items-center justify-center",children:k.jsx(gt,{name:"folder",className:"text-primary text-xl"})})}),k.jsxs("td",{className:"px-4 py-4",children:[k.jsx("p",{className:"font-medium text-text-primary-light dark:text-text-primary-dark",children:L.title}),k.jsxs("p",{className:"text-xs text-text-secondary-light dark:text-text-secondary-dark",children:["ID: #",L.id.slice(0,8)]})]}),k.jsx("td",{className:"px-4 py-4 text-sm text-text-secondary-light dark:text-text-secondary-dark",children:L.tags?.slice(0,3).join(", ")||"-"}),k.jsx("td",{className:"px-4 py-4",children:k.jsx("div",{className:"flex flex-wrap gap-1",children:L.category&&k.jsx("span",{className:`px-2 py-0.5 rounded text-xs font-medium ${ot(L.category)}`,children:L.category})})}),k.jsx("td",{className:"px-4 py-4 text-sm text-text-secondary-light dark:text-text-secondary-dark",children:J(L.start_date)}),k.jsx("td",{className:"px-4 py-4",children:k.jsxs("div",{className:"flex items-center gap-2",children:[k.jsx("span",{className:`w-2 h-2 rounded-full ${f7[L.project_status||"draft"]}`}),k.jsx("span",{className:`text-sm capitalize ${d7[L.project_status||"draft"]}`,children:L.project_status||"Draft"})]})}),k.jsx("td",{className:"px-4 py-4",children:k.jsxs("div",{className:"flex items-center justify-end gap-2",children:[k.jsx("button",{onClick:()=>et(L.id,L.visibility),className:`p-2 transition-colors ${L.visibility?"text-green-500 hover:text-green-600":"text-text-secondary-light dark:text-text-secondary-dark hover:text-primary"}`,title:L.visibility?" (  )":" (  )",children:k.jsx(gt,{name:L.visibility?"visibility":"visibility_off"})}),k.jsx("button",{onClick:()=>q(`/admin/projects/${L.id}`),className:"p-2 text-text-secondary-light dark:text-text-secondary-dark hover:text-primary transition-colors",title:"Edit",children:k.jsx(gt,{name:"edit"})}),k.jsx(br,{to:`/project/${L.id}`,target:"_blank",className:"p-2 text-text-secondary-light dark:text-text-secondary-dark hover:text-primary transition-colors",title:"View",children:k.jsx(gt,{name:"open_in_new"})}),k.jsx("button",{onClick:()=>Q(L.id),className:"p-2 text-text-secondary-light dark:text-text-secondary-dark hover:text-red-500 transition-colors",title:"Delete",children:k.jsx(gt,{name:"delete"})})]})})]},L.id))})]})}),h>0&&k.jsxs("div",{className:"flex items-center justify-between mt-6",children:[k.jsxs("p",{className:"text-sm text-text-secondary-light dark:text-text-secondary-dark",children:["Showing ",k.jsx("span",{className:"font-medium",children:(o-1)*lc+1})," to"," ",k.jsx("span",{className:"font-medium",children:Math.min(o*lc,h)})," of"," ",k.jsx("span",{className:"font-medium",children:h})," results"]}),k.jsxs("div",{className:"flex items-center gap-1",children:[k.jsx("button",{onClick:()=>u(L=>Math.max(1,L-1)),disabled:o===1,className:"p-2 border border-border-light dark:border-border-dark rounded-lg bg-card-light dark:bg-card-dark text-text-secondary-light dark:text-text-secondary-dark hover:border-primary disabled:opacity-50 disabled:cursor-not-allowed transition-colors",children:k.jsx(gt,{name:"chevron_left"})}),Array.from({length:Math.min(it,5)},(L,D)=>D+1).map(L=>k.jsx("button",{onClick:()=>u(L),className:`w-10 h-10 rounded-lg font-medium transition-colors ${L===o?"bg-primary text-white":"border border-border-light dark:border-border-dark bg-card-light dark:bg-card-dark text-text-primary-light dark:text-text-primary-dark hover:border-primary"}`,children:L},L)),it>5&&k.jsxs(k.Fragment,{children:[k.jsx("span",{className:"px-2 text-text-secondary-light dark:text-text-secondary-dark",children:"..."}),k.jsx("button",{onClick:()=>u(it),className:"w-10 h-10 rounded-lg font-medium border border-border-light dark:border-border-dark bg-card-light dark:bg-card-dark text-text-primary-light dark:text-text-primary-dark hover:border-primary transition-colors",children:it})]}),k.jsx("button",{onClick:()=>u(L=>Math.min(it,L+1)),disabled:o===it,className:"p-2 border border-border-light dark:border-border-dark rounded-lg bg-card-light dark:bg-card-dark text-text-secondary-light dark:text-text-secondary-dark hover:border-primary disabled:opacity-50 disabled:cursor-not-allowed transition-colors",children:k.jsx(gt,{name:"chevron_right"})})]})]})]}),k.jsx(es,{})]})}const x7=[{value:"featured",label:"Featured"},{value:"projects",label:"Projects"},{value:"labs",label:"Labs & Playground"}],v7=[{value:"draft",label:"Draft"},{value:"published",label:"Published"}],dS={id:null,core_challenge:"",image_url:"",mermaid_syntax:"",problem_items:[""],solution_items:[""],result_items:[""]};function fS(){const{id:e}=TS(),t=zl(),r=!!e,[i,n]=H.useState(!1),[l,o]=H.useState(!1),[u,h]=H.useState(""),[d,p]=H.useState({title:"",category:"projects",project_status:"draft",proj_cover_image_url:"",proj_description:"",proj_url:"",start_date:"",end_date:"",tags:[]}),[g,y]=H.useState(!1),[x,v]=H.useState([{...dS}]),_=H.useCallback(async()=>{n(!0);try{const{data:L,error:D}=await Ie.from("projects").select("*").eq("id",e).single();if(D)throw D;p({title:L.title||"",category:L.category||"projects",project_status:L.project_status||"draft",proj_cover_image_url:L.proj_cover_image_url||"",proj_description:L.proj_description||"",proj_url:L.proj_url||"",start_date:L.start_date||"",end_date:L.end_date||"",tags:L.tags||[]});const{data:F,error:R}=await Ie.from("project_challenges").select("*").eq("project_id",e).order("display_order",{ascending:!0});if(R)throw R;F&&F.length>0&&v(F.map(j=>({id:j.id,core_challenge:j.core_challenge||"",image_url:j.image_url||"",mermaid_syntax:j.mermaid_syntax||"",problem_items:j.problem_items?.length>0?j.problem_items:[""],solution_items:j.solution_items?.length>0?j.solution_items:[""],result_items:j.result_items?.length>0?j.result_items:[""]})))}catch(L){console.error("Error fetching project:",L),alert("Failed to load project")}finally{n(!1)}},[e]);H.useEffect(()=>{r&&_()},[r,_]);const S=(L,D)=>{p(F=>({...F,[L]:D}))},T=L=>{L.key==="Enter"&&u.trim()&&(L.preventDefault(),d.tags.includes(u.trim())||p(D=>({...D,tags:[...D.tags,u.trim()]})),h(""))},E=L=>{p(D=>({...D,tags:D.tags.filter(F=>F!==L)}))},O=async L=>{if(L){y(!0);try{const D=L.name.split(".").pop().toLowerCase(),R=`covers/${`cover-${Date.now()}-${Math.random().toString(36).substring(7)}.${D}`}`,j={jpg:"image/jpeg",jpeg:"image/jpeg",png:"image/png",gif:"image/gif",webp:"image/webp"},{error:I}=await Ie.storage.from("portfoilo_images").upload(R,L,{contentType:j[D]||L.type,upsert:!0});if(I)throw I;const{data:{publicUrl:lt}}=Ie.storage.from("portfoilo_images").getPublicUrl(R);S("proj_cover_image_url",lt)}catch(D){console.error("Error uploading cover image:",D),alert(`  : ${D.message}

Supabase Dashboard 'portfoilo_images'   , Storage Policies   .`)}finally{y(!1)}}},M=(L,D,F)=>{v(R=>{const j=[...R];return j[L]={...j[L],[D]:F},j})},N=(L,D,F,R)=>{v(j=>{const I=[...j],lt=[...I[L][D]];return lt[F]=R,I[L]={...I[L],[D]:lt},I})},q=(L,D)=>{v(F=>{const R=[...F];return R[L]={...R[L],[D]:[...R[L][D],""]},R})},z=(L,D,F)=>{v(R=>{const j=[...R],I=j[L][D].filter((lt,ht)=>ht!==F);return j[L]={...j[L],[D]:I.length>0?I:[""]},j})},Q=()=>{v(L=>[...L,{...dS}])},et=L=>{x.length<=1||v(D=>D.filter((F,R)=>R!==L))},it=(L,D)=>{const F=L+D;F<0||F>=x.length||v(R=>{const j=[...R],I=j[L];return j[L]=j[F],j[F]=I,j})},J=async(L,D)=>{if(D)try{const F=D.name.split(".").pop().toLowerCase(),j=`challenges/${`challenge-${Date.now()}-${Math.random().toString(36).substring(7)}.${F}`}`,I={jpg:"image/jpeg",jpeg:"image/jpeg",png:"image/png",gif:"image/gif",webp:"image/webp"},{error:lt}=await Ie.storage.from("portfoilo_images").upload(j,D,{contentType:I[F]||D.type,upsert:!0});if(lt)throw lt;const{data:{publicUrl:ht}}=Ie.storage.from("portfoilo_images").getPublicUrl(j);M(L,"image_url",ht)}catch(F){console.error("Error uploading image:",F),alert(`  : ${F.message}

Supabase Dashboard 'portfoilo_images'   , Storage Policies   .`)}},ot=async L=>{if(L.preventDefault(),!d.title.trim()){alert("Project title is required");return}if(!d.start_date){alert("Start date is required");return}o(!0);try{let D=e;if(r){const{error:R}=await Ie.from("projects").update({title:d.title,category:d.category,project_status:d.project_status,proj_cover_image_url:d.proj_cover_image_url||null,proj_description:d.proj_description||null,proj_url:d.proj_url||null,start_date:d.start_date,end_date:d.end_date||null,tags:d.tags,updated_at:new Date().toISOString()}).eq("id",e);if(R)throw R}else{const{data:R,error:j}=await Ie.from("projects").insert({title:d.title,category:d.category,project_status:d.project_status,proj_cover_image_url:d.proj_cover_image_url||null,proj_description:d.proj_description||null,proj_url:d.proj_url||null,start_date:d.start_date,end_date:d.end_date||null,tags:d.tags}).select().single();if(j)throw j;D=R.id}if(r){const{error:R}=await Ie.from("project_challenges").delete().eq("project_id",e);if(R)throw R}const F=x.filter(R=>R.core_challenge.trim()).map((R,j)=>({project_id:D,core_challenge:R.core_challenge,image_url:R.image_url||null,mermaid_syntax:R.mermaid_syntax||null,problem_items:R.problem_items.filter(I=>I.trim()),solution_items:R.solution_items.filter(I=>I.trim()),result_items:R.result_items.filter(I=>I.trim()),display_order:j}));if(F.length>0){const{error:R}=await Ie.from("project_challenges").insert(F);if(R)throw R}t("/admin/projects")}catch(D){console.error("Error saving project:",D),alert("Failed to save project")}finally{o(!1)}};return i?k.jsxs("div",{className:"min-h-screen flex flex-col bg-background-light dark:bg-background-dark",children:[k.jsx(Wd,{}),k.jsx("main",{className:"flex-grow flex items-center justify-center",children:k.jsx(gt,{name:"progress_activity",className:"text-primary animate-spin text-4xl"})})]}):k.jsxs("div",{className:"min-h-screen flex flex-col bg-background-light dark:bg-background-dark",children:[k.jsx(Wd,{}),k.jsxs("main",{className:"flex-grow max-w-4xl w-full mx-auto px-4 py-8",children:[k.jsxs("nav",{className:"flex items-center gap-2 text-sm mb-6",children:[k.jsx(br,{to:"/admin/projects",className:"text-primary hover:underline",children:"Admin"}),k.jsx("span",{className:"text-text-secondary-light dark:text-text-secondary-dark",children:"/"}),k.jsx(br,{to:"/admin/projects",className:"text-primary hover:underline",children:"Projects"}),k.jsx("span",{className:"text-text-secondary-light dark:text-text-secondary-dark",children:"/"}),k.jsx("span",{className:"text-text-secondary-light dark:text-text-secondary-dark",children:r?"Edit Project":"New Project"})]}),k.jsxs("div",{className:"flex items-start justify-between mb-8",children:[k.jsxs("div",{children:[k.jsx("h1",{className:"text-2xl font-bold text-text-primary-light dark:text-text-primary-dark mb-1",children:r?"Edit Project Details":"Create New Project"}),k.jsx("p",{className:"text-text-secondary-light dark:text-text-secondary-dark",children:"Update general project information, tech stack, and detailed problem analysis."})]}),k.jsxs("div",{className:"flex items-center gap-3",children:[k.jsx("button",{type:"button",onClick:()=>t("/admin/projects"),className:"px-4 py-2 text-text-secondary-light dark:text-text-secondary-dark hover:text-text-primary-light dark:hover:text-text-primary-dark transition-colors",children:"Cancel"}),k.jsx("button",{onClick:ot,disabled:l,className:"flex items-center gap-2 px-4 py-2 bg-primary text-white rounded-lg hover:bg-primary/90 transition-colors disabled:opacity-50 disabled:cursor-not-allowed",children:l?k.jsxs(k.Fragment,{children:[k.jsx(gt,{name:"progress_activity",className:"animate-spin"}),"Saving..."]}):k.jsxs(k.Fragment,{children:[k.jsx(gt,{name:"save"}),"Save Changes"]})})]})]}),k.jsxs("form",{onSubmit:ot,className:"space-y-8",children:[k.jsxs("section",{className:"bg-card-light dark:bg-card-dark rounded-xl border border-border-light dark:border-border-dark p-6",children:[k.jsxs("div",{className:"flex items-center gap-2 mb-6",children:[k.jsx(gt,{name:"info",className:"text-primary"}),k.jsx("h2",{className:"text-sm font-semibold uppercase tracking-wider text-primary",children:" "})]}),k.jsxs("div",{className:"space-y-6",children:[k.jsxs("div",{children:[k.jsx("label",{className:"block text-sm font-medium text-text-primary-light dark:text-text-primary-dark mb-2",children:"Project Title"}),k.jsx("input",{type:"text",value:d.title,onChange:L=>S("title",L.target.value),placeholder:"Enter project title",className:"w-full px-4 py-3 border border-border-light dark:border-border-dark rounded-lg bg-card-light dark:bg-card-dark text-text-primary-light dark:text-text-primary-dark placeholder-text-secondary-light focus:outline-none focus:ring-2 focus:ring-primary focus:border-primary"})]}),k.jsxs("div",{className:"grid grid-cols-2 gap-4",children:[k.jsxs("div",{children:[k.jsx("label",{className:"block text-sm font-medium text-text-primary-light dark:text-text-primary-dark mb-2",children:"Category"}),k.jsx("select",{value:d.category,onChange:L=>S("category",L.target.value),className:"w-full px-4 py-3 border border-border-light dark:border-border-dark rounded-lg bg-card-light dark:bg-card-dark text-text-primary-light dark:text-text-primary-dark focus:outline-none focus:ring-2 focus:ring-primary focus:border-primary",children:x7.map(L=>k.jsx("option",{value:L.value,children:L.label},L.value))})]}),k.jsxs("div",{children:[k.jsx("label",{className:"block text-sm font-medium text-text-primary-light dark:text-text-primary-dark mb-2",children:"Status"}),k.jsx("select",{value:d.project_status,onChange:L=>S("project_status",L.target.value),className:"w-full px-4 py-3 border border-border-light dark:border-border-dark rounded-lg bg-card-light dark:bg-card-dark text-text-primary-light dark:text-text-primary-dark focus:outline-none focus:ring-2 focus:ring-primary focus:border-primary",children:v7.map(L=>k.jsx("option",{value:L.value,children:L.label},L.value))})]})]}),k.jsxs("div",{className:"grid grid-cols-2 gap-4",children:[k.jsxs("div",{children:[k.jsx("label",{className:"block text-sm font-medium text-text-primary-light dark:text-text-primary-dark mb-2",children:"Start Date"}),k.jsx("input",{type:"date",value:d.start_date,onChange:L=>S("start_date",L.target.value),className:"w-full px-4 py-3 border border-border-light dark:border-border-dark rounded-lg bg-card-light dark:bg-card-dark text-text-primary-light dark:text-text-primary-dark focus:outline-none focus:ring-2 focus:ring-primary focus:border-primary"})]}),k.jsxs("div",{children:[k.jsx("label",{className:"block text-sm font-medium text-text-primary-light dark:text-text-primary-dark mb-2",children:"End Date"}),k.jsx("input",{type:"date",value:d.end_date,onChange:L=>S("end_date",L.target.value),className:"w-full px-4 py-3 border border-border-light dark:border-border-dark rounded-lg bg-card-light dark:bg-card-dark text-text-primary-light dark:text-text-primary-dark focus:outline-none focus:ring-2 focus:ring-primary focus:border-primary"}),k.jsx("p",{className:"text-xs text-text-secondary-light dark:text-text-secondary-dark mt-1",children:"  "})]})]}),k.jsxs("div",{children:[k.jsx("label",{className:"block text-sm font-medium text-text-primary-light dark:text-text-primary-dark mb-2",children:" "}),k.jsx("textarea",{value:d.proj_description,onChange:L=>S("proj_description",L.target.value),placeholder:"    ",rows:3,className:"w-full px-4 py-3 border border-border-light dark:border-border-dark rounded-lg bg-card-light dark:bg-card-dark text-text-primary-light dark:text-text-primary-dark placeholder-text-secondary-light focus:outline-none focus:ring-2 focus:ring-primary focus:border-primary"})]}),k.jsxs("div",{children:[k.jsx("label",{className:"block text-sm font-medium text-text-primary-light dark:text-text-primary-dark mb-2",children:" URL"}),k.jsx("input",{type:"url",value:d.proj_url,onChange:L=>S("proj_url",L.target.value),placeholder:"https://github.com/...",className:"w-full px-4 py-3 border border-border-light dark:border-border-dark rounded-lg bg-card-light dark:bg-card-dark text-text-primary-light dark:text-text-primary-dark placeholder-text-secondary-light focus:outline-none focus:ring-2 focus:ring-primary focus:border-primary"})]}),k.jsxs("div",{children:[k.jsx("label",{className:"block text-sm font-medium text-text-primary-light dark:text-text-primary-dark mb-2",children:"Tech Stack"}),k.jsx("div",{className:"flex flex-wrap gap-2 mb-2",children:d.tags.map(L=>k.jsxs("span",{className:"inline-flex items-center gap-1 px-3 py-1 bg-primary/10 text-primary rounded-full text-sm",children:[L,k.jsx("button",{type:"button",onClick:()=>E(L),className:"hover:text-red-500 transition-colors",children:k.jsx(gt,{name:"close",className:"text-sm"})})]},L))}),k.jsx("input",{type:"text",value:u,onChange:L=>h(L.target.value),onKeyDown:T,placeholder:"   (Press Enter)",className:"w-full px-4 py-3 border border-border-light dark:border-border-dark rounded-lg bg-card-light dark:bg-card-dark text-text-primary-light dark:text-text-primary-dark placeholder-text-secondary-light focus:outline-none focus:ring-2 focus:ring-primary focus:border-primary"})]}),k.jsxs("div",{children:[k.jsx("label",{className:"block text-sm font-medium text-text-primary-light dark:text-text-primary-dark mb-2",children:" "}),d.proj_cover_image_url?k.jsxs("div",{className:"relative rounded-lg overflow-hidden border border-border-light dark:border-border-dark",children:[k.jsx("img",{src:d.proj_cover_image_url,alt:"Cover",className:"w-full h-48 object-cover"}),k.jsx("button",{type:"button",onClick:()=>S("proj_cover_image_url",""),className:"absolute top-2 right-2 w-8 h-8 flex items-center justify-center bg-red-500 text-white rounded-full hover:bg-red-600 transition-colors",children:k.jsx(gt,{name:"close",className:"text-base"})})]}):k.jsxs("label",{className:"flex flex-col items-center justify-center w-full h-48 border-2 border-dashed border-border-light dark:border-border-dark rounded-lg cursor-pointer hover:border-primary transition-colors bg-background-light dark:bg-background-dark",children:[g?k.jsx(gt,{name:"progress_activity",className:"text-4xl text-primary animate-spin"}):k.jsxs(k.Fragment,{children:[k.jsx(gt,{name:"image",className:"text-4xl text-primary mb-2"}),k.jsx("span",{className:"text-sm text-text-secondary-light dark:text-text-secondary-dark",children:"   "}),k.jsx("span",{className:"text-xs text-primary mt-2",children:"SELECT FILE"})]}),k.jsx("input",{type:"file",accept:"image/*",onChange:L=>O(L.target.files[0]),className:"hidden",disabled:g})]})]})]})]}),x.map((L,D)=>k.jsxs("section",{className:"bg-card-light dark:bg-card-dark rounded-xl border border-border-light dark:border-border-dark p-6",children:[k.jsxs("div",{className:"flex items-center justify-between mb-6",children:[k.jsxs("div",{className:"flex items-center gap-2",children:[k.jsx(gt,{name:"build",className:"text-primary"}),k.jsxs("h2",{className:"text-sm font-semibold uppercase tracking-wider text-primary",children:["   ",x.length>1?`#${D+1}`:""]})]}),k.jsxs("div",{className:"flex items-center gap-2",children:[x.length>1&&k.jsxs("div",{className:"flex items-center gap-1 mr-2",children:[k.jsx("button",{type:"button",onClick:()=>it(D,-1),disabled:D===0,className:`p-1.5 rounded-lg border transition-colors ${D===0?"border-border-light dark:border-border-dark text-border-light dark:text-border-dark cursor-not-allowed":"border-border-light dark:border-border-dark text-text-secondary-light dark:text-text-secondary-dark hover:border-primary hover:text-primary"}`,title:" ",children:k.jsx(gt,{name:"keyboard_arrow_up",className:"text-lg"})}),k.jsx("button",{type:"button",onClick:()=>it(D,1),disabled:D===x.length-1,className:`p-1.5 rounded-lg border transition-colors ${D===x.length-1?"border-border-light dark:border-border-dark text-border-light dark:text-border-dark cursor-not-allowed":"border-border-light dark:border-border-dark text-text-secondary-light dark:text-text-secondary-dark hover:border-primary hover:text-primary"}`,title:" ",children:k.jsx(gt,{name:"keyboard_arrow_down",className:"text-lg"})})]}),x.length>1&&k.jsxs("button",{type:"button",onClick:()=>et(D),className:"flex items-center gap-1 text-sm text-red-500 hover:text-red-600 transition-colors",children:[k.jsx(gt,{name:"delete"}),"Delete"]})]})]}),k.jsxs("div",{className:"bg-blue-50 dark:bg-blue-900/20 border border-blue-200 dark:border-blue-800 rounded-lg p-4 mb-6",children:[k.jsxs("div",{className:"flex items-center gap-2 mb-3",children:[k.jsx(gt,{name:"flag",className:"text-primary"}),k.jsx("span",{className:"text-sm font-semibold uppercase tracking-wider text-primary",children:" "})]}),k.jsx("div",{className:"space-y-4",children:k.jsxs("div",{children:[k.jsx("label",{className:"block text-sm font-medium text-text-primary-light dark:text-text-primary-dark mb-2",children:"Problem Title"}),k.jsx("input",{type:"text",value:L.core_challenge,onChange:F=>M(D,"core_challenge",F.target.value),placeholder:"e.g., High Latency in Review Retrieval",className:"w-full px-4 py-3 border border-border-light dark:border-border-dark rounded-lg bg-white dark:bg-card-dark text-text-primary-light dark:text-text-primary-dark placeholder-text-secondary-light focus:outline-none focus:ring-2 focus:ring-primary focus:border-primary"})]})})]}),k.jsxs("div",{className:"mb-6",children:[k.jsxs("div",{className:"flex items-center gap-2 mb-3",children:[k.jsx(gt,{name:"auto_awesome",className:"text-text-primary-light dark:text-text-primary-dark"}),k.jsx("span",{className:"font-medium text-text-primary-light dark:text-text-primary-dark",children:""})]}),L.image_url?k.jsxs("div",{className:"relative rounded-lg overflow-hidden border border-border-light dark:border-border-dark",children:[k.jsx("img",{src:L.image_url,alt:"Technical diagram",className:"w-full h-48 object-cover"}),k.jsx("button",{type:"button",onClick:()=>M(D,"image_url",""),className:"absolute top-2 right-2 w-8 h-8 flex items-center justify-center bg-red-500 text-white rounded-full hover:bg-red-600 transition-colors",children:k.jsx(gt,{name:"close",className:"text-base"})})]}):k.jsxs("label",{className:"flex flex-col items-center justify-center w-full h-48 border-2 border-dashed border-border-light dark:border-border-dark rounded-lg cursor-pointer hover:border-primary transition-colors bg-background-light dark:bg-background-dark",children:[k.jsx(gt,{name:"cloud_upload",className:"text-4xl text-primary mb-2"}),k.jsx("span",{className:"text-sm text-text-secondary-light dark:text-text-secondary-dark",children:"Drag and drop or click to replace"}),k.jsx("span",{className:"text-xs text-primary mt-2",children:"SELECT FILE"}),k.jsx("input",{type:"file",accept:"image/*",onChange:F=>J(D,F.target.files[0]),className:"hidden"})]}),k.jsx("p",{className:"text-xs text-text-secondary-light dark:text-text-secondary-dark mt-2",children:"Recommended size: 19201080px. High contrast diagrams work best."})]}),k.jsxs("div",{className:"mb-6",children:[k.jsx("label",{className:"block text-sm font-medium text-text-primary-light dark:text-text-primary-dark mb-2",children:"Mermaid Diagram Syntax (Optional)"}),k.jsx("textarea",{value:L.mermaid_syntax,onChange:F=>M(D,"mermaid_syntax",F.target.value),placeholder:"Enter mermaid diagram syntax...",rows:4,className:"w-full px-4 py-3 border border-border-light dark:border-border-dark rounded-lg bg-card-light dark:bg-card-dark text-text-primary-light dark:text-text-primary-dark placeholder-text-secondary-light focus:outline-none focus:ring-2 focus:ring-primary focus:border-primary font-mono text-sm"})]}),k.jsx(wm,{title:" ",icon:"error",iconColor:"text-red-500",items:L.problem_items,onItemChange:(F,R)=>N(D,"problem_items",F,R),onAddItem:()=>q(D,"problem_items"),onRemoveItem:F=>z(D,"problem_items",F),addButtonText:"Add Another Cause"}),k.jsx(wm,{title:" ",icon:"build",iconColor:"text-yellow-500",items:L.solution_items,onItemChange:(F,R)=>N(D,"solution_items",F,R),onAddItem:()=>q(D,"solution_items"),onRemoveItem:F=>z(D,"solution_items",F),addButtonText:"Add Another Step"}),k.jsx(wm,{title:"",icon:"check_circle",iconColor:"text-green-500",items:L.result_items,onItemChange:(F,R)=>N(D,"result_items",F,R),onAddItem:()=>q(D,"result_items"),onRemoveItem:F=>z(D,"result_items",F),addButtonText:"Add Another Result"})]},D)),k.jsxs("button",{type:"button",onClick:Q,className:"w-full py-4 border-2 border-dashed border-border-light dark:border-border-dark rounded-xl text-primary hover:border-primary hover:bg-primary/5 transition-colors flex flex-col items-center gap-2",children:[k.jsx("div",{className:"w-10 h-10 bg-primary/10 rounded-full flex items-center justify-center",children:k.jsx(gt,{name:"add",className:"text-primary"})}),k.jsx("span",{className:"font-medium",children:"Add New Problem"})]}),k.jsxs("div",{className:"flex items-center justify-end gap-4 pt-4",children:[k.jsx("button",{type:"button",onClick:()=>t("/admin/projects"),className:"px-6 py-3 text-text-secondary-light dark:text-text-secondary-dark hover:text-text-primary-light dark:hover:text-text-primary-dark transition-colors",children:"Cancel"}),k.jsx("button",{type:"submit",disabled:l,className:"flex items-center gap-2 px-6 py-3 bg-primary text-white rounded-lg hover:bg-primary/90 transition-colors disabled:opacity-50 disabled:cursor-not-allowed",children:l?k.jsxs(k.Fragment,{children:[k.jsx(gt,{name:"progress_activity",className:"animate-spin"}),"Saving..."]}):k.jsxs(k.Fragment,{children:[k.jsx(gt,{name:"save"}),"Save All Changes"]})})]})]})]}),k.jsx(es,{})]})}function wm({title:e,icon:t,iconColor:r,items:i,onItemChange:n,onAddItem:l,onRemoveItem:o,addButtonText:u}){return k.jsxs("div",{className:"mb-6",children:[k.jsxs("div",{className:"flex items-center justify-between mb-3",children:[k.jsxs("div",{className:"flex items-center gap-2",children:[k.jsx(gt,{name:t,className:r}),k.jsx("span",{className:"font-medium text-text-primary-light dark:text-text-primary-dark",children:e})]}),k.jsx("span",{className:"text-xs text-text-secondary-light dark:text-text-secondary-dark",children:"List Items"})]}),k.jsx("div",{className:"space-y-2",children:i.map((h,d)=>k.jsxs("div",{className:"flex items-center gap-2",children:[k.jsx("input",{type:"text",value:h,onChange:p=>n(d,p.target.value),placeholder:`Enter ${e.toLowerCase()} item...`,className:"flex-grow px-4 py-2 border border-border-light dark:border-border-dark rounded-lg bg-card-light dark:bg-card-dark text-text-primary-light dark:text-text-primary-dark placeholder-text-secondary-light focus:outline-none focus:ring-2 focus:ring-primary focus:border-primary"}),k.jsx("button",{type:"button",onClick:()=>o(d),className:"p-2 text-text-secondary-light dark:text-text-secondary-dark hover:text-red-500 transition-colors",children:k.jsx(gt,{name:"delete"})})]},d))}),k.jsxs("button",{type:"button",onClick:l,className:"flex items-center gap-1 mt-2 text-sm text-primary hover:text-primary/80 transition-colors",children:[k.jsx(gt,{name:"add_circle",className:"text-sm"}),u]})]})}function Sm({children:e}){const{user:t,loading:r}=Z0();return r?k.jsx("div",{className:"min-h-screen flex items-center justify-center bg-background-light dark:bg-background-dark",children:k.jsx(gt,{name:"progress_activity",className:"text-primary animate-spin text-4xl"})}):t?e:k.jsx(BM,{to:"/admin",replace:!0})}function _7(){return k.jsxs(DM,{children:[k.jsx(In,{path:"/",element:k.jsx(cD,{})}),k.jsx(In,{path:"/project/:id",element:k.jsx(u7,{})}),k.jsx(In,{path:"/admin",element:k.jsx(h7,{})}),k.jsx(In,{path:"/admin/projects",element:k.jsx(Sm,{children:k.jsx(b7,{})})}),k.jsx(In,{path:"/admin/projects/new",element:k.jsx(Sm,{children:k.jsx(fS,{})})}),k.jsx(In,{path:"/admin/projects/:id",element:k.jsx(Sm,{children:k.jsx(fS,{})})})]})}const w7=new URLSearchParams(window.location.search),pS=w7.get("redirect");pS&&window.history.replaceState(null,"",pS);$L.createRoot(document.getElementById("root")).render(k.jsx(H.StrictMode,{children:k.jsx(sB,{children:k.jsx(yB,{children:k.jsx(Z3,{children:k.jsx(_7,{})})})})}));export{_2 as $,_c as A,_D as B,Ij as C,B0 as D,cr as E,d2 as F,xP as G,_6 as H,Ow as I,E8 as J,ij as K,Al as L,C7 as M,pf as N,wj as O,Zy as P,Uw as Q,d6 as R,Qh as S,bP as T,Kc as U,Rj as V,Xc as W,bt as X,Ot as Y,uP as Z,w as _,jj as a,T0 as a$,o6 as a0,l1 as a1,s1 as a2,j7 as a3,L7 as a4,N7 as a5,B7 as a6,O7 as a7,nl as a8,h0 as a9,BU as aA,c6 as aB,k7 as aC,ff as aD,Bd as aE,dT as aF,EL as aG,iu as aH,LU as aI,RU as aJ,l0 as aK,on as aL,t1 as aM,I5 as aN,Dc as aO,zF as aP,uT as aQ,iT as aR,Iz as aS,Rd as aT,qz as aU,eu as aV,Gn as aW,BF as aX,E1 as aY,hs as aZ,Hz as a_,D7 as aa,R7 as ab,z7 as ac,$7 as ad,M7 as ae,aI as af,vA as ag,V7 as ah,O8 as ai,We as aj,yn as ak,S0 as al,GT as am,ps as an,bT as ao,$t as ap,qi as aq,XI as ar,Y7 as as,X7 as at,W7 as au,wt as av,G7 as aw,LI as ax,TI as ay,CI as az,Dj as b,Uz as b0,Yz as b1,Il as b2,$F as b3,sP as b4,Zz as b5,JF as b6,k0 as b7,sS as b8,_t as b9,By as bA,ne as bB,ZC as ba,Br as bb,D5 as bc,s0 as bd,D2 as be,Zc as bf,z2 as bg,A7 as bh,vD as bi,nP as bj,ZF as bk,lP as bl,cf as bm,Fz as bn,C0 as bo,cT as bp,cP as bq,Ul as br,HF as bs,b9 as bt,tu as bu,Md as bv,mn as bw,w1 as bx,E0 as by,nT as bz,ie as c,Xt as d,v2 as e,qe as f,zj as g,Ea as h,di as i,D8 as j,Fl as k,st as l,vT as m,T7 as n,Q7 as o,Fj as p,Pj as q,K7 as r,$j as s,A8 as t,Ti as u,wI as v,wP as w,F7 as x,Nj as y,E7 as z};
